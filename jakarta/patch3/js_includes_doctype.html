<!DOCTYPE html>

<html>
<head>
  <title>js_includes_doctype.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="AJAXCompleter.html">
                  AJAXCompleter.js
                </a>
              
                
                <a class="source" href="AJAXEmailClientCompleter.html">
                  AJAXEmailClientCompleter.js
                </a>
              
                
                <a class="source" href="AJAXOtherCompleter.html">
                  AJAXOtherCompleter.js
                </a>
              
                
                <a class="source" href="AJAXReferenceChoice.html">
                  AJAXReferenceChoice.js
                </a>
              
                
                <a class="source" href="AJAXReferenceCompleter.html">
                  AJAXReferenceCompleter.js
                </a>
              
                
                <a class="source" href="AJAXReferenceCompleterMulti.html">
                  AJAXReferenceCompleterMulti.js
                </a>
              
                
                <a class="source" href="AJAXReferenceControls.html">
                  AJAXReferenceControls.js
                </a>
              
                
                <a class="source" href="AJAXTableCompleter.html">
                  AJAXTableCompleter.js
                </a>
              
                
                <a class="source" href="AngularBootstrapper.html">
                  AngularBootstrapper.js
                </a>
              
                
                <a class="source" href="AttachmentUploader.html">
                  AttachmentUploader.js
                </a>
              
                
                <a class="source" href="AutoComplete.html">
                  AutoComplete.js
                </a>
              
                
                <a class="source" href="BindWatch.html">
                  BindWatch.js
                </a>
              
                
                <a class="source" href="BoundsUtil2.html">
                  BoundsUtil2.js
                </a>
              
                
                <a class="source" href="CookieJar.html">
                  CookieJar.js
                </a>
              
                
                <a class="source" href="CustomEventManager.html">
                  CustomEventManager.js
                </a>
              
                
                <a class="source" href="DaysOfWeekElement.html">
                  DaysOfWeekElement.js
                </a>
              
                
                <a class="source" href="DerivedFields.html">
                  DerivedFields.js
                </a>
              
                
                <a class="source" href="Draggable2.html">
                  Draggable2.js
                </a>
              
                
                <a class="source" href="DropTarget2.html">
                  DropTarget2.js
                </a>
              
                
                <a class="source" href="FieldListElement.html">
                  FieldListElement.js
                </a>
              
                
                <a class="source" href="FormAdditionalOptionsMenu.html">
                  FormAdditionalOptionsMenu.js
                </a>
              
                
                <a class="source" href="GlideAPI1.html">
                  GlideAPI1.js
                </a>
              
                
                <a class="source" href="GlideAjax.html">
                  GlideAjax.js
                </a>
              
                
                <a class="source" href="GlideAjaxForm.html">
                  GlideAjaxForm.js
                </a>
              
                
                <a class="source" href="GlideBox.html">
                  GlideBox.js
                </a>
              
                
                <a class="source" href="GlideClientCache.html">
                  GlideClientCache.js
                </a>
              
                
                <a class="source" href="GlideDecoration.html">
                  GlideDecoration.js
                </a>
              
                
                <a class="source" href="GlideDialogForm.html">
                  GlideDialogForm.js
                </a>
              
                
                <a class="source" href="GlideDialogWindow.html">
                  GlideDialogWindow.js
                </a>
              
                
                <a class="source" href="GlideDraggable.html">
                  GlideDraggable.js
                </a>
              
                
                <a class="source" href="GlideDuration.html">
                  GlideDuration.js
                </a>
              
                
                <a class="source" href="GlideEvent.html">
                  GlideEvent.js
                </a>
              
                
                <a class="source" href="GlideEventHandler.html">
                  GlideEventHandler.js
                </a>
              
                
                <a class="source" href="GlideFilter14.html">
                  GlideFilter14.js
                </a>
              
                
                <a class="source" href="GlideFilterDate.html">
                  GlideFilterDate.js
                </a>
              
                
                <a class="source" href="GlideFilterDescription.html">
                  GlideFilterDescription.js
                </a>
              
                
                <a class="source" href="GlideFilterHandlers.html">
                  GlideFilterHandlers.js
                </a>
              
                
                <a class="source" href="GlideFilterItemVariables.html">
                  GlideFilterItemVariables.js
                </a>
              
                
                <a class="source" href="GlideFilterLabels.html">
                  GlideFilterLabels.js
                </a>
              
                
                <a class="source" href="GlideFilterQuestions.html">
                  GlideFilterQuestions.js
                </a>
              
                
                <a class="source" href="GlideFilterReference.html">
                  GlideFilterReference.js
                </a>
              
                
                <a class="source" href="GlideFilterReferenceMulti.html">
                  GlideFilterReferenceMulti.js
                </a>
              
                
                <a class="source" href="GlideFilterVariableMap.html">
                  GlideFilterVariableMap.js
                </a>
              
                
                <a class="source" href="GlideFilterVariables.html">
                  GlideFilterVariables.js
                </a>
              
                
                <a class="source" href="GlideForm14.html">
                  GlideForm14.js
                </a>
              
                
                <a class="source" href="GlideHeaderSearch.html">
                  GlideHeaderSearch.js
                </a>
              
                
                <a class="source" href="GlideList2.html">
                  GlideList2.js
                </a>
              
                
                <a class="source" href="GlideList2FilterUtil.html">
                  GlideList2FilterUtil.js
                </a>
              
                
                <a class="source" href="GlideList2Handlers.html">
                  GlideList2Handlers.js
                </a>
              
                
                <a class="source" href="GlideList2InitEvents.html">
                  GlideList2InitEvents.js
                </a>
              
                
                <a class="source" href="GlideList2Statics.html">
                  GlideList2Statics.js
                </a>
              
                
                <a class="source" href="GlideListAggregates.html">
                  GlideListAggregates.js
                </a>
              
                
                <a class="source" href="GlideListEditor.html">
                  GlideListEditor.js
                </a>
              
                
                <a class="source" href="GlideListEditorMessaging.html">
                  GlideListEditorMessaging.js
                </a>
              
                
                <a class="source" href="GlideListElement.html">
                  GlideListElement.js
                </a>
              
                
                <a class="source" href="GlideListWidget.html">
                  GlideListWidget.js
                </a>
              
                
                <a class="source" href="GlideListv3Compatibility.html">
                  GlideListv3Compatibility.js
                </a>
              
                
                <a class="source" href="GlideModal.html">
                  GlideModal.js
                </a>
              
                
                <a class="source" href="GlideModalForm.html">
                  GlideModalForm.js
                </a>
              
                
                <a class="source" href="GlideNavigation.html">
                  GlideNavigation.js
                </a>
              
                
                <a class="source" href="GlideOverlay.html">
                  GlideOverlay.js
                </a>
              
                
                <a class="source" href="GlidePane.html">
                  GlidePane.js
                </a>
              
                
                <a class="source" href="GlidePaneForm.html">
                  GlidePaneForm.js
                </a>
              
                
                <a class="source" href="GlideRecord.html">
                  GlideRecord.js
                </a>
              
                
                <a class="source" href="GlideTabs2.html">
                  GlideTabs2.js
                </a>
              
                
                <a class="source" href="GlideTabs2State.html">
                  GlideTabs2State.js
                </a>
              
                
                <a class="source" href="GlideTabs2Tab.html">
                  GlideTabs2Tab.js
                </a>
              
                
                <a class="source" href="GlideTimeElement.html">
                  GlideTimeElement.js
                </a>
              
                
                <a class="source" href="GlideTimerElement.html">
                  GlideTimerElement.js
                </a>
              
                
                <a class="source" href="GlideTransactionScope.html">
                  GlideTransactionScope.js
                </a>
              
                
                <a class="source" href="GlideUI.html">
                  GlideUI.js
                </a>
              
                
                <a class="source" href="GlideUIDefault.html">
                  GlideUIDefault.js
                </a>
              
                
                <a class="source" href="GlideUIElement.html">
                  GlideUIElement.js
                </a>
              
                
                <a class="source" href="GlideUINotification.html">
                  GlideUINotification.js
                </a>
              
                
                <a class="source" href="GlideURL.html">
                  GlideURL.js
                </a>
              
                
                <a class="source" href="GlideURLElement.html">
                  GlideURLElement.js
                </a>
              
                
                <a class="source" href="GlideUrlBuilder.html">
                  GlideUrlBuilder.js
                </a>
              
                
                <a class="source" href="GlideUser.html">
                  GlideUser.js
                </a>
              
                
                <a class="source" href="GlideUserImageElement.html">
                  GlideUserImageElement.js
                </a>
              
                
                <a class="source" href="GlideVideoPlayer.html">
                  GlideVideoPlayer.js
                </a>
              
                
                <a class="source" href="GlideWebAnalytics.html">
                  GlideWebAnalytics.js
                </a>
              
                
                <a class="source" href="GlideWidgetActions.html">
                  GlideWidgetActions.js
                </a>
              
                
                <a class="source" href="GlideWidgetFilter.html">
                  GlideWidgetFilter.js
                </a>
              
                
                <a class="source" href="GlideWidgetHideOnEmpty.html">
                  GlideWidgetHideOnEmpty.js
                </a>
              
                
                <a class="source" href="GlideWidgetSearch.html">
                  GlideWidgetSearch.js
                </a>
              
                
                <a class="source" href="GlideWidgetVCR.html">
                  GlideWidgetVCR.js
                </a>
              
                
                <a class="source" href="GlideWindow.html">
                  GlideWindow.js
                </a>
              
                
                <a class="source" href="GuidedTourElementTranslator.html">
                  GuidedTourElementTranslator.js
                </a>
              
                
                <a class="source" href="GwtCellEditor.html">
                  GwtCellEditor.js
                </a>
              
                
                <a class="source" href="GwtCellSelector.html">
                  GwtCellSelector.js
                </a>
              
                
                <a class="source" href="GwtContextMenu.html">
                  GwtContextMenu.js
                </a>
              
                
                <a class="source" href="GwtCursor.html">
                  GwtCursor.js
                </a>
              
                
                <a class="source" href="GwtDate.html">
                  GwtDate.js
                </a>
              
                
                <a class="source" href="GwtDraggable.html">
                  GwtDraggable.js
                </a>
              
                
                <a class="source" href="GwtDraggableSnap.html">
                  GwtDraggableSnap.js
                </a>
              
                
                <a class="source" href="GwtExportScheduleDialog.html">
                  GwtExportScheduleDialog.js
                </a>
              
                
                <a class="source" href="GwtGridEdit.html">
                  GwtGridEdit.js
                </a>
              
                
                <a class="source" href="GwtListEditAjaxChangeSaver.html">
                  GwtListEditAjaxChangeSaver.js
                </a>
              
                
                <a class="source" href="GwtListEditAjaxValueLoader.html">
                  GwtListEditAjaxValueLoader.js
                </a>
              
                
                <a class="source" href="GwtListEditBoolean.html">
                  GwtListEditBoolean.js
                </a>
              
                
                <a class="source" href="GwtListEditCalendar.html">
                  GwtListEditCalendar.js
                </a>
              
                
                <a class="source" href="GwtListEditDependent.html">
                  GwtListEditDependent.js
                </a>
              
                
                <a class="source" href="GwtListEditDuration.html">
                  GwtListEditDuration.js
                </a>
              
                
                <a class="source" href="GwtListEditEncryptedText.html">
                  GwtListEditEncryptedText.js
                </a>
              
                
                <a class="source" href="GwtListEditError.html">
                  GwtListEditError.js
                </a>
              
                
                <a class="source" href="GwtListEditGList.html">
                  GwtListEditGList.js
                </a>
              
                
                <a class="source" href="GwtListEditGlideRecord.html">
                  GwtListEditGlideRecord.js
                </a>
              
                
                <a class="source" href="GwtListEditGridSelector.html">
                  GwtListEditGridSelector.js
                </a>
              
                
                <a class="source" href="GwtListEditInternalType.html">
                  GwtListEditInternalType.js
                </a>
              
                
                <a class="source" href="GwtListEditJournal.html">
                  GwtListEditJournal.js
                </a>
              
                
                <a class="source" href="GwtListEditMultiText.html">
                  GwtListEditMultiText.js
                </a>
              
                
                <a class="source" href="GwtListEditPassword.html">
                  GwtListEditPassword.js
                </a>
              
                
                <a class="source" href="GwtListEditRecord.html">
                  GwtListEditRecord.js
                </a>
              
                
                <a class="source" href="GwtListEditRecordDecorations.html">
                  GwtListEditRecordDecorations.js
                </a>
              
                
                <a class="source" href="GwtListEditReference.html">
                  GwtListEditReference.js
                </a>
              
                
                <a class="source" href="GwtListEditRelatedTags.html">
                  GwtListEditRelatedTags.js
                </a>
              
                
                <a class="source" href="GwtListEditSavePolicy.html">
                  GwtListEditSavePolicy.js
                </a>
              
                
                <a class="source" href="GwtListEditSelect.html">
                  GwtListEditSelect.js
                </a>
              
                
                <a class="source" href="GwtListEditTableController.html">
                  GwtListEditTableController.js
                </a>
              
                
                <a class="source" href="GwtListEditTablename.html">
                  GwtListEditTablename.js
                </a>
              
                
                <a class="source" href="GwtListEditText.html">
                  GwtListEditText.js
                </a>
              
                
                <a class="source" href="GwtListEditTranslatedField.html">
                  GwtListEditTranslatedField.js
                </a>
              
                
                <a class="source" href="GwtListEditUpdateTablename.html">
                  GwtListEditUpdateTablename.js
                </a>
              
                
                <a class="source" href="GwtListEditValueRenderer.html">
                  GwtListEditValueRenderer.js
                </a>
              
                
                <a class="source" href="GwtListEditWindow.html">
                  GwtListEditWindow.js
                </a>
              
                
                <a class="source" href="GwtListEditor.html">
                  GwtListEditor.js
                </a>
              
                
                <a class="source" href="GwtListEditorPendingChanges.html">
                  GwtListEditorPendingChanges.js
                </a>
              
                
                <a class="source" href="GwtMessage14.html">
                  GwtMessage14.js
                </a>
              
                
                <a class="source" href="GwtObservable.html">
                  GwtObservable.js
                </a>
              
                
                <a class="source" href="GwtPollDialog.html">
                  GwtPollDialog.js
                </a>
              
                
                <a class="source" href="InPlaceEdit.html">
                  InPlaceEdit.js
                </a>
              
                
                <a class="source" href="KeyboardRegistry.html">
                  KeyboardRegistry.js
                </a>
              
                
                <a class="source" href="LAB.min.html">
                  LAB.min.js
                </a>
              
                
                <a class="source" href="ListDraggableRow2.html">
                  ListDraggableRow2.js
                </a>
              
                
                <a class="source" href="ListSelectManager2.html">
                  ListSelectManager2.js
                </a>
              
                
                <a class="source" href="ListSortDual2.html">
                  ListSortDual2.js
                </a>
              
                
                <a class="source" href="ListSortWindow2.html">
                  ListSortWindow2.js
                </a>
              
                
                <a class="source" href="NOW.messaging.html">
                  NOW.messaging.js
                </a>
              
                
                <a class="source" href="NOW.messaging.record.html">
                  NOW.messaging.record.js
                </a>
              
                
                <a class="source" href="NameMapEntry.html">
                  NameMapEntry.js
                </a>
              
                
                <a class="source" href="Notification.html">
                  Notification.js
                </a>
              
                
                <a class="source" href="NotificationMessage.html">
                  NotificationMessage.js
                </a>
              
                
                <a class="source" href="PageTiming14.html">
                  PageTiming14.js
                </a>
              
                
                <a class="source" href="PageTimingService.html">
                  PageTimingService.js
                </a>
              
                
                <a class="source" href="PersonalizeForm.html">
                  PersonalizeForm.js
                </a>
              
                
                <a class="source" href="Point.html">
                  Point.js
                </a>
              
                
                <a class="source" href="SLARepairClient.html">
                  SLARepairClient.js
                </a>
              
                
                <a class="source" href="ScriptLoader.html">
                  ScriptLoader.js
                </a>
              
                
                <a class="source" href="Select.html">
                  Select.js
                </a>
              
                
                <a class="source" href="SingletonKeyboardRegistry.html">
                  SingletonKeyboardRegistry.js
                </a>
              
                
                <a class="source" href="SlushBucket.html">
                  SlushBucket.js
                </a>
              
                
                <a class="source" href="SortDraggable2.html">
                  SortDraggable2.js
                </a>
              
                
                <a class="source" href="SortDropTarget2.html">
                  SortDropTarget2.js
                </a>
              
                
                <a class="source" href="SortListManager2.html">
                  SortListManager2.js
                </a>
              
                
                <a class="source" href="SortUtil2.html">
                  SortUtil2.js
                </a>
              
                
                <a class="source" href="StopWatch.html">
                  StopWatch.js
                </a>
              
                
                <a class="source" href="Table.html">
                  Table.js
                </a>
              
                
                <a class="source" href="TableElement.html">
                  TableElement.js
                </a>
              
                
                <a class="source" href="TableExtension.html">
                  TableExtension.js
                </a>
              
                
                <a class="source" href="TemplateRecord.html">
                  TemplateRecord.js
                </a>
              
                
                <a class="source" href="TextAreaElement.html">
                  TextAreaElement.js
                </a>
              
                
                <a class="source" href="UserRolesElement.html">
                  UserRolesElement.js
                </a>
              
                
                <a class="source" href="UtilityAndOverrides2.html">
                  UtilityAndOverrides2.js
                </a>
              
                
                <a class="source" href="_dragdrop.html">
                  _dragdrop.js
                </a>
              
                
                <a class="source" href="_module.heisenberg.html">
                  _module.heisenberg.js
                </a>
              
                
                <a class="source" href="_module.html">
                  _module.js
                </a>
              
                
                <a class="source" href="_ng_chat.html">
                  _ng_chat.js
                </a>
              
                
                <a class="source" href="_sn.dragdrop.html">
                  _sn.dragdrop.js
                </a>
              
                
                <a class="source" href="_util_includes.html">
                  _util_includes.js
                </a>
              
                
                <a class="source" href="ac.html">
                  ac.js
                </a>
              
                
                <a class="source" href="ac_derived_field_support.html">
                  ac_derived_field_support.js
                </a>
              
                
                <a class="source" href="accessibility.html">
                  accessibility.js
                </a>
              
                
                <a class="source" href="accessibility_readonly.html">
                  accessibility_readonly.js
                </a>
              
                
                <a class="source" href="accessibility_tabindex.html">
                  accessibility_tabindex.js
                </a>
              
                
                <a class="source" href="affix.html">
                  affix.js
                </a>
              
                
                <a class="source" href="alert.html">
                  alert.js
                </a>
              
                
                <a class="source" href="amb.Channel.html">
                  amb.Channel.js
                </a>
              
                
                <a class="source" href="amb.ChannelListener.html">
                  amb.ChannelListener.js
                </a>
              
                
                <a class="source" href="amb.ChannelRedirect.html">
                  amb.ChannelRedirect.js
                </a>
              
                
                <a class="source" href="amb.EventManager.html">
                  amb.EventManager.js
                </a>
              
                
                <a class="source" href="amb.Logger.html">
                  amb.Logger.js
                </a>
              
                
                <a class="source" href="amb.MessageClient.html">
                  amb.MessageClient.js
                </a>
              
                
                <a class="source" href="amb.MessageClientBuilder.html">
                  amb.MessageClientBuilder.js
                </a>
              
                
                <a class="source" href="amb.ServerConnection.html">
                  amb.ServerConnection.js
                </a>
              
                
                <a class="source" href="amb_properties.html">
                  amb_properties.js
                </a>
              
                
                <a class="source" href="angular-animate.html">
                  angular-animate.js
                </a>
              
                
                <a class="source" href="angular-animate.min.html">
                  angular-animate.min.js
                </a>
              
                
                <a class="source" href="angular-aria.html">
                  angular-aria.js
                </a>
              
                
                <a class="source" href="angular-aria.min.html">
                  angular-aria.min.js
                </a>
              
                
                <a class="source" href="angular-cookies.html">
                  angular-cookies.js
                </a>
              
                
                <a class="source" href="angular-cookies.min.html">
                  angular-cookies.min.js
                </a>
              
                
                <a class="source" href="angular-dragdrop.html">
                  angular-dragdrop.js
                </a>
              
                
                <a class="source" href="angular-file-upload-all.html">
                  angular-file-upload-all.js
                </a>
              
                
                <a class="source" href="angular-placeholder.min.html">
                  angular-placeholder.min.js
                </a>
              
                
                <a class="source" href="angular-resource.html">
                  angular-resource.js
                </a>
              
                
                <a class="source" href="angular-resource.min.html">
                  angular-resource.min.js
                </a>
              
                
                <a class="source" href="angular-route.html">
                  angular-route.js
                </a>
              
                
                <a class="source" href="angular-route.min.html">
                  angular-route.min.js
                </a>
              
                
                <a class="source" href="angular-sanitize.html">
                  angular-sanitize.js
                </a>
              
                
                <a class="source" href="angular-sanitize.min.html">
                  angular-sanitize.min.js
                </a>
              
                
                <a class="source" href="angular-tooltips.html">
                  angular-tooltips.js
                </a>
              
                
                <a class="source" href="angular-touch.html">
                  angular-touch.js
                </a>
              
                
                <a class="source" href="angular-touch.min.html">
                  angular-touch.min.js
                </a>
              
                
                <a class="source" href="angular-ui-tinymce.html">
                  angular-ui-tinymce.js
                </a>
              
                
                <a class="source" href="angular.html">
                  angular.js
                </a>
              
                
                <a class="source" href="angular.min.html">
                  angular.min.js
                </a>
              
                
                <a class="source" href="angular_includes_1.5.11.html">
                  angular_includes_1.5.11.js
                </a>
              
                
                <a class="source" href="angular_includes_no_min.1.5.11.html">
                  angular_includes_no_min.1.5.11.js
                </a>
              
                
                <a class="source" href="annotations_toggle.html">
                  annotations_toggle.js
                </a>
              
                
                <a class="source" href="app.$sp.html">
                  app.$sp.js
                </a>
              
                
                <a class="source" href="app.config.html">
                  app.config.js
                </a>
              
                
                <a class="source" href="app.form_presence.html">
                  app.form_presence.js
                </a>
              
                
                <a class="source" href="app.html">
                  app.js
                </a>
              
                
                <a class="source" href="app.ng.amb.html">
                  app.ng.amb.js
                </a>
              
                
                <a class="source" href="app.overviewhelp.html">
                  app.overviewhelp.js
                </a>
              
                
                <a class="source" href="appResourcesProvider.html">
                  appResourcesProvider.js
                </a>
              
                
                <a class="source" href="app_embedded_help.html">
                  app_embedded_help.js
                </a>
              
                
                <a class="source" href="aside.html">
                  aside.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="auth.html">
                  auth.js
                </a>
              
                
                <a class="source" href="autosize-3.0.17.min.html">
                  autosize-3.0.17.min.js
                </a>
              
                
                <a class="source" href="batchedGlideAjax.html">
                  batchedGlideAjax.js
                </a>
              
                
                <a class="source" href="bootstrap-datetimepicker.html">
                  bootstrap-datetimepicker.js
                </a>
              
                
                <a class="source" href="bootstrap-iconpicker.html">
                  bootstrap-iconpicker.js
                </a>
              
                
                <a class="source" href="bootstrap_336.html">
                  bootstrap_336.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="cabrillo.factory.html">
                  cabrillo.factory.js
                </a>
              
                
                <a class="source" href="calendar.html">
                  calendar.js
                </a>
              
                
                <a class="source" href="camera.html">
                  camera.js
                </a>
              
                
                <a class="source" href="carousel.html">
                  carousel.js
                </a>
              
                
                <a class="source" href="catalogDataLookup.html">
                  catalogDataLookup.js
                </a>
              
                
                <a class="source" href="catalogGlideFormFactory.html">
                  catalogGlideFormFactory.js
                </a>
              
                
                <a class="source" href="catalogItemFactory.html">
                  catalogItemFactory.js
                </a>
              
                
                <a class="source" href="clientScript_components.html">
                  clientScript_components.js
                </a>
              
                
                <a class="source" href="collapse.html">
                  collapse.js
                </a>
              
                
                <a class="source" href="cometd.html">
                  cometd.js
                </a>
              
                
                <a class="source" href="concourseNavigatorService.html">
                  concourseNavigatorService.js
                </a>
              
                
                <a class="source" href="concourse_framebuster.html">
                  concourse_framebuster.js
                </a>
              
                
                <a class="source" href="concourse_gjsv.html">
                  concourse_gjsv.js
                </a>
              
                
                <a class="source" href="condition14_new.html">
                  condition14_new.js
                </a>
              
                
                <a class="source" href="condition14_reporting.html">
                  condition14_reporting.js
                </a>
              
                
                <a class="source" href="condition14_templates.html">
                  condition14_templates.js
                </a>
              
                
                <a class="source" href="condition_global_variables14.html">
                  condition_global_variables14.js
                </a>
              
                
                <a class="source" href="config.bindWatch.html">
                  config.bindWatch.js
                </a>
              
                
                <a class="source" href="constant.spConf.html">
                  constant.spConf.js
                </a>
              
                
                <a class="source" href="constants_embedded_help.html">
                  constants_embedded_help.js
                </a>
              
                
                <a class="source" href="context_actions.html">
                  context_actions.js
                </a>
              
                
                <a class="source" href="controller.AMBRecordWatcher.html">
                  controller.AMBRecordWatcher.js
                </a>
              
                
                <a class="source" href="controller.MagellanCtrl.html">
                  controller.MagellanCtrl.js
                </a>
              
                
                <a class="source" href="controller.Stream.html">
                  controller.Stream.js
                </a>
              
                
                <a class="source" href="controller.chat.html">
                  controller.chat.js
                </a>
              
                
                <a class="source" href="controller.chatFloating.html">
                  controller.chatFloating.js
                </a>
              
                
                <a class="source" href="controller.elevateRoles.html">
                  controller.elevateRoles.js
                </a>
              
                
                <a class="source" href="controller.embeddedHelp.html">
                  controller.embeddedHelp.js
                </a>
              
                
                <a class="source" href="controller.formStream.html">
                  controller.formStream.js
                </a>
              
                
                <a class="source" href="controller.guidedTours.html">
                  controller.guidedTours.js
                </a>
              
                
                <a class="source" href="controller.impersonate.html">
                  controller.impersonate.js
                </a>
              
                
                <a class="source" href="controller.settings.html">
                  controller.settings.js
                </a>
              
                
                <a class="source" href="controller.snStream.html">
                  controller.snStream.js
                </a>
              
                
                <a class="source" href="controller.spLogin.html">
                  controller.spLogin.js
                </a>
              
                
                <a class="source" href="controller.spPage.html">
                  controller.spPage.js
                </a>
              
                
                <a class="source" href="controller.spWidgetDebug.html">
                  controller.spWidgetDebug.js
                </a>
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="dateTimeFormat.html">
                  dateTimeFormat.js
                </a>
              
                
                <a class="source" href="debug.html">
                  debug.js
                </a>
              
                
                <a class="source" href="debuggerTools.html">
                  debuggerTools.js
                </a>
              
                
                <a class="source" href="decorator.uiTinymce.html">
                  decorator.uiTinymce.js
                </a>
              
                
                <a class="source" href="deferred_related_lists.html">
                  deferred_related_lists.js
                </a>
              
                
                <a class="source" href="depends.html">
                  depends.js
                </a>
              
                
                <a class="source" href="deprecated.html">
                  deprecated.js
                </a>
              
                
                <a class="source" href="dimensions.html">
                  dimensions.js
                </a>
              
                
                <a class="source" href="directive.applicationPicker.html">
                  directive.applicationPicker.js
                </a>
              
                
                <a class="source" href="directive.concourseApplicationTree.html">
                  directive.concourseApplicationTree.js
                </a>
              
                
                <a class="source" href="directive.concourseMainPane.html">
                  directive.concourseMainPane.js
                </a>
              
                
                <a class="source" href="directive.connectConversationBarToggle.html">
                  directive.connectConversationBarToggle.js
                </a>
              
                
                <a class="source" href="directive.contenteditable.html">
                  directive.contenteditable.js
                </a>
              
                
                <a class="source" href="directive.domainPicker.html">
                  directive.domainPicker.js
                </a>
              
                
                <a class="source" href="directive.domainReferencePicker.html">
                  directive.domainReferencePicker.js
                </a>
              
                
                <a class="source" href="directive.elevateRoleIndicator.html">
                  directive.elevateRoleIndicator.js
                </a>
              
                
                <a class="source" href="directive.embeddedHelpBarToggle.html">
                  directive.embeddedHelpBarToggle.js
                </a>
              
                
                <a class="source" href="directive.enableAccessibility.html">
                  directive.enableAccessibility.js
                </a>
              
                
                <a class="source" href="directive.encryptionPicker.html">
                  directive.encryptionPicker.js
                </a>
              
                
                <a class="source" href="directive.formStreamEntry.html">
                  directive.formStreamEntry.js
                </a>
              
                
                <a class="source" href="directive.glideFormField.html">
                  directive.glideFormField.js
                </a>
              
                
                <a class="source" href="directive.glyph.html">
                  directive.glyph.js
                </a>
              
                
                <a class="source" href="directive.javascriptDebugger.html">
                  directive.javascriptDebugger.js
                </a>
              
                
                <a class="source" href="directive.liveIntroduction.html">
                  directive.liveIntroduction.js
                </a>
              
                
                <a class="source" href="directive.liveSearch.html">
                  directive.liveSearch.js
                </a>
              
                
                <a class="source" href="directive.liveSearchControl.html">
                  directive.liveSearchControl.js
                </a>
              
                
                <a class="source" href="directive.liveSearchPopover.html">
                  directive.liveSearchPopover.js
                </a>
              
                
                <a class="source" href="directive.magellanColorPicker.html">
                  directive.magellanColorPicker.js
                </a>
              
                
                <a class="source" href="directive.magellanEditFavorites.html">
                  directive.magellanEditFavorites.js
                </a>
              
                
                <a class="source" href="directive.magellanFavoritesList.html">
                  directive.magellanFavoritesList.js
                </a>
              
                
                <a class="source" href="directive.magellanHistoryCompact.html">
                  directive.magellanHistoryCompact.js
                </a>
              
                
                <a class="source" href="directive.magellanIconPicker.html">
                  directive.magellanIconPicker.js
                </a>
              
                
                <a class="source" href="directive.magellanNavigationFilter.html">
                  directive.magellanNavigationFilter.js
                </a>
              
                
                <a class="source" href="directive.mainPane.html">
                  directive.mainPane.js
                </a>
              
                
                <a class="source" href="directive.message.html">
                  directive.message.js
                </a>
              
                
                <a class="source" href="directive.navBannerLogo.html">
                  directive.navBannerLogo.js
                </a>
              
                
                <a class="source" href="directive.ngModelUpdateOnEnter.html">
                  directive.ngModelUpdateOnEnter.js
                </a>
              
                
                <a class="source" href="directive.nowAttachmentsList.html">
                  directive.nowAttachmentsList.js
                </a>
              
                
                <a class="source" href="directive.preferenceChanger.html">
                  directive.preferenceChanger.js
                </a>
              
                
                <a class="source" href="directive.preferencePicker.html">
                  directive.preferencePicker.js
                </a>
              
                
                <a class="source" href="directive.printerFriendly.html">
                  directive.printerFriendly.js
                </a>
              
                
                <a class="source" href="directive.recursiveHelper.html">
                  directive.recursiveHelper.js
                </a>
              
                
                <a class="source" href="directive.requestManager.html">
                  directive.requestManager.js
                </a>
              
                
                <a class="source" href="directive.scroll_form.html">
                  directive.scroll_form.js
                </a>
              
                
                <a class="source" href="directive.sn-draggable.html">
                  directive.sn-draggable.js
                </a>
              
                
                <a class="source" href="directive.sn-droptarget.html">
                  directive.sn-droptarget.js
                </a>
              
                
                <a class="source" href="directive.sn-sortable.html">
                  directive.sn-sortable.js
                </a>
              
                
                <a class="source" href="directive.snActions.html">
                  directive.snActions.js
                </a>
              
                
                <a class="source" href="directive.snActionsMenu.html">
                  directive.snActionsMenu.js
                </a>
              
                
                <a class="source" href="directive.snAriaChatMessage.html">
                  directive.snAriaChatMessage.js
                </a>
              
                
                <a class="source" href="directive.snAriaUnreadNotifications.html">
                  directive.snAriaUnreadNotifications.js
                </a>
              
                
                <a class="source" href="directive.snAside.html">
                  directive.snAside.js
                </a>
              
                
                <a class="source" href="directive.snAsideAttachments.html">
                  directive.snAsideAttachments.js
                </a>
              
                
                <a class="source" href="directive.snAsideContent.html">
                  directive.snAsideContent.js
                </a>
              
                
                <a class="source" href="directive.snAsideFrame.html">
                  directive.snAsideFrame.js
                </a>
              
                
                <a class="source" href="directive.snAsideInfo.html">
                  directive.snAsideInfo.js
                </a>
              
                
                <a class="source" href="directive.snAsideInfoItem.html">
                  directive.snAsideInfoItem.js
                </a>
              
                
                <a class="source" href="directive.snAsideInfoViewAllItem.html">
                  directive.snAsideInfoViewAllItem.js
                </a>
              
                
                <a class="source" href="directive.snAsideMemberList.html">
                  directive.snAsideMemberList.js
                </a>
              
                
                <a class="source" href="directive.snAsideNotificationItem.html">
                  directive.snAsideNotificationItem.js
                </a>
              
                
                <a class="source" href="directive.snAsideNotifications.html">
                  directive.snAsideNotifications.js
                </a>
              
                
                <a class="source" href="directive.snAttachmentList.html">
                  directive.snAttachmentList.js
                </a>
              
                
                <a class="source" href="directive.snAttachmentPreview.html">
                  directive.snAttachmentPreview.js
                </a>
              
                
                <a class="source" href="directive.snAutoScroll.html">
                  directive.snAutoScroll.js
                </a>
              
                
                <a class="source" href="directive.snAvatar.html">
                  directive.snAvatar.js
                </a>
              
                
                <a class="source" href="directive.snAvatarPopover.html">
                  directive.snAvatarPopover.js
                </a>
              
                
                <a class="source" href="directive.snBindI18n.html">
                  directive.snBindI18n.js
                </a>
              
                
                <a class="source" href="directive.snBindOnce.html">
                  directive.snBindOnce.js
                </a>
              
                
                <a class="source" href="directive.snBindPopoverSelection.html">
                  directive.snBindPopoverSelection.js
                </a>
              
                
                <a class="source" href="directive.snBlurOnEnter.html">
                  directive.snBlurOnEnter.js
                </a>
              
                
                <a class="source" href="directive.snBootstrapPopover.html">
                  directive.snBootstrapPopover.js
                </a>
              
                
                <a class="source" href="directive.snChatActionOptionsPopup.html">
                  directive.snChatActionOptionsPopup.js
                </a>
              
                
                <a class="source" href="directive.snChatTab.html">
                  directive.snChatTab.js
                </a>
              
                
                <a class="source" href="directive.snChoiceList.html">
                  directive.snChoiceList.js
                </a>
              
                
                <a class="source" href="directive.snClickToEdit.html">
                  directive.snClickToEdit.js
                </a>
              
                
                <a class="source" href="directive.snCloak.html">
                  directive.snCloak.js
                </a>
              
                
                <a class="source" href="directive.snComplexPopover.html">
                  directive.snComplexPopover.js
                </a>
              
                
                <a class="source" href="directive.snComposing.html">
                  directive.snComposing.js
                </a>
              
                
                <a class="source" href="directive.snConfirmModal.html">
                  directive.snConfirmModal.js
                </a>
              
                
                <a class="source" href="directive.snConnectContent.html">
                  directive.snConnectContent.js
                </a>
              
                
                <a class="source" href="directive.snConnectDuration.html">
                  directive.snConnectDuration.js
                </a>
              
                
                <a class="source" href="directive.snConnectHeader.html">
                  directive.snConnectHeader.js
                </a>
              
                
                <a class="source" href="directive.snContextMenu.html">
                  directive.snContextMenu.js
                </a>
              
                
                <a class="source" href="directive.snConversation.html">
                  directive.snConversation.js
                </a>
              
                
                <a class="source" href="directive.snConversationAddUserButton.html">
                  directive.snConversationAddUserButton.js
                </a>
              
                
                <a class="source" href="directive.snConversationContainer.html">
                  directive.snConversationContainer.js
                </a>
              
                
                <a class="source" href="directive.snConversationFooter.html">
                  directive.snConversationFooter.js
                </a>
              
                
                <a class="source" href="directive.snConversationHeader.html">
                  directive.snConversationHeader.js
                </a>
              
                
                <a class="source" href="directive.snConversationHeaderControls.html">
                  directive.snConversationHeaderControls.js
                </a>
              
                
                <a class="source" href="directive.snConversationItem.html">
                  directive.snConversationItem.js
                </a>
              
                
                <a class="source" href="directive.snConversationList.html">
                  directive.snConversationList.js
                </a>
              
                
                <a class="source" href="directive.snConversationListContainer.html">
                  directive.snConversationListContainer.js
                </a>
              
                
                <a class="source" href="directive.snConversationSearch.html">
                  directive.snConversationSearch.js
                </a>
              
                
                <a class="source" href="directive.snCreateMessage.html">
                  directive.snCreateMessage.js
                </a>
              
                
                <a class="source" href="directive.snCreateNewConversationHeader.html">
                  directive.snCreateNewConversationHeader.js
                </a>
              
                
                <a class="source" href="directive.snDayAgo.html">
                  directive.snDayAgo.js
                </a>
              
                
                <a class="source" href="directive.snDialog.html">
                  directive.snDialog.js
                </a>
              
                
                <a class="source" href="directive.snDragEventBlocker.html">
                  directive.snDragEventBlocker.js
                </a>
              
                
                <a class="source" href="directive.snDropTargetPopup.html">
                  directive.snDropTargetPopup.js
                </a>
              
                
                <a class="source" href="directive.snEmbeddedHelpActionList.html">
                  directive.snEmbeddedHelpActionList.js
                </a>
              
                
                <a class="source" href="directive.snEmbeddedHelpContent.html">
                  directive.snEmbeddedHelpContent.js
                </a>
              
                
                <a class="source" href="directive.snEmbeddedHelpMenu.html">
                  directive.snEmbeddedHelpMenu.js
                </a>
              
                
                <a class="source" href="directive.snEmbeddedHelpPane.html">
                  directive.snEmbeddedHelpPane.js
                </a>
              
                
                <a class="source" href="directive.snEscape.html">
                  directive.snEscape.js
                </a>
              
                
                <a class="source" href="directive.snExpandedEmail.html">
                  directive.snExpandedEmail.js
                </a>
              
                
                <a class="source" href="directive.snFieldReference.html">
                  directive.snFieldReference.js
                </a>
              
                
                <a class="source" href="directive.snFileUploadInput.html">
                  directive.snFileUploadInput.js
                </a>
              
                
                <a class="source" href="directive.snFloatingConversation.html">
                  directive.snFloatingConversation.js
                </a>
              
                
                <a class="source" href="directive.snFloatingConversationCompressed.html">
                  directive.snFloatingConversationCompressed.js
                </a>
              
                
                <a class="source" href="directive.snFloatingConversationContainer.html">
                  directive.snFloatingConversationContainer.js
                </a>
              
                
                <a class="source" href="directive.snFlyout.html">
                  directive.snFlyout.js
                </a>
              
                
                <a class="source" href="directive.snFocus.html">
                  directive.snFocus.js
                </a>
              
                
                <a class="source" href="directive.snFocusEsc.html">
                  directive.snFocusEsc.js
                </a>
              
                
                <a class="source" href="directive.snFocusOnConversation.html">
                  directive.snFocusOnConversation.js
                </a>
              
                
                <a class="source" href="directive.snGlyph.html">
                  directive.snGlyph.js
                </a>
              
                
                <a class="source" href="directive.snGroupAvatar.html">
                  directive.snGroupAvatar.js
                </a>
              
                
                <a class="source" href="directive.snImageUploader.html">
                  directive.snImageUploader.js
                </a>
              
                
                <a class="source" href="directive.snLinkCardList.html">
                  directive.snLinkCardList.js
                </a>
              
                
                <a class="source" href="directive.snLinkContent.html">
                  directive.snLinkContent.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentArticle.html">
                  directive.snLinkContentArticle.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentAttachment.html">
                  directive.snLinkContentAttachment.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentError.html">
                  directive.snLinkContentError.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentImage.html">
                  directive.snLinkContentImage.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentRecord.html">
                  directive.snLinkContentRecord.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentSoundcloud.html">
                  directive.snLinkContentSoundcloud.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentYoutube.html">
                  directive.snLinkContentYoutube.js
                </a>
              
                
                <a class="source" href="directive.snLoadingBar.html">
                  directive.snLoadingBar.js
                </a>
              
                
                <a class="source" href="directive.snLoadingIndicator.html">
                  directive.snLoadingIndicator.js
                </a>
              
                
                <a class="source" href="directive.snMentionPopover.html">
                  directive.snMentionPopover.js
                </a>
              
                
                <a class="source" href="directive.snMessageBatch.html">
                  directive.snMessageBatch.js
                </a>
              
                
                <a class="source" href="directive.snModal.html">
                  directive.snModal.js
                </a>
              
                
                <a class="source" href="directive.snModalShow.html">
                  directive.snModalShow.js
                </a>
              
                
                <a class="source" href="directive.snNonAgentClose.html">
                  directive.snNonAgentClose.js
                </a>
              
                
                <a class="source" href="directive.snNotification.html">
                  directive.snNotification.js
                </a>
              
                
                <a class="source" href="directive.snOnload.html">
                  directive.snOnload.js
                </a>
              
                
                <a class="source" href="directive.snOptions.html">
                  directive.snOptions.js
                </a>
              
                
                <a class="source" href="directive.snPane.html">
                  directive.snPane.js
                </a>
              
                
                <a class="source" href="directive.snPaneManager.html">
                  directive.snPaneManager.js
                </a>
              
                
                <a class="source" href="directive.snPasteFileHandler.html">
                  directive.snPasteFileHandler.js
                </a>
              
                
                <a class="source" href="directive.snPod.html">
                  directive.snPod.js
                </a>
              
                
                <a class="source" href="directive.snPopOver.html">
                  directive.snPopOver.js
                </a>
              
                
                <a class="source" href="directive.snPopoverBasic.html">
                  directive.snPopoverBasic.js
                </a>
              
                
                <a class="source" href="directive.snPresence.html">
                  directive.snPresence.js
                </a>
              
                
                <a class="source" href="directive.snPulse.html">
                  directive.snPulse.js
                </a>
              
                
                <a class="source" href="directive.snQueueEntryClose.html">
                  directive.snQueueEntryClose.js
                </a>
              
                
                <a class="source" href="directive.snQueueEntryTransfer.html">
                  directive.snQueueEntryTransfer.js
                </a>
              
                
                <a class="source" href="directive.snQueueEntryTransferAccepted.html">
                  directive.snQueueEntryTransferAccepted.js
                </a>
              
                
                <a class="source" href="directive.snQueueItem.html">
                  directive.snQueueItem.js
                </a>
              
                
                <a class="source" href="directive.snQueueList.html">
                  directive.snQueueList.js
                </a>
              
                
                <a class="source" href="directive.snRecordPicker.html">
                  directive.snRecordPicker.js
                </a>
              
                
                <a class="source" href="directive.snReferencePicker.html">
                  directive.snReferencePicker.js
                </a>
              
                
                <a class="source" href="directive.snRepeatEventEmitter.html">
                  directive.snRepeatEventEmitter.js
                </a>
              
                
                <a class="source" href="directive.snResizeHeight.html">
                  directive.snResizeHeight.js
                </a>
              
                
                <a class="source" href="directive.snSearchButton.html">
                  directive.snSearchButton.js
                </a>
              
                
                <a class="source" href="directive.snSelectBasic.html">
                  directive.snSelectBasic.js
                </a>
              
                
                <a class="source" href="directive.snStickyHeaders.html">
                  directive.snStickyHeaders.js
                </a>
              
                
                <a class="source" href="directive.snStream.html">
                  directive.snStream.js
                </a>
              
                
                <a class="source" href="directive.snSupportConversationItem.html">
                  directive.snSupportConversationItem.js
                </a>
              
                
                <a class="source" href="directive.snSupportTab.html">
                  directive.snSupportTab.js
                </a>
              
                
                <a class="source" href="directive.snSyncWith.html">
                  directive.snSyncWith.js
                </a>
              
                
                <a class="source" href="directive.snTableReference.html">
                  directive.snTableReference.js
                </a>
              
                
                <a class="source" href="directive.snTabs.html">
                  directive.snTabs.js
                </a>
              
                
                <a class="source" href="directive.snTabsBasic.html">
                  directive.snTabsBasic.js
                </a>
              
                
                <a class="source" href="directive.snTextExpander.html">
                  directive.snTextExpander.js
                </a>
              
                
                <a class="source" href="directive.snTimeAgo.html">
                  directive.snTimeAgo.js
                </a>
              
                
                <a class="source" href="directive.snTooltipBasic.html">
                  directive.snTooltipBasic.js
                </a>
              
                
                <a class="source" href="directive.snTriggerOverviewHelp.html">
                  directive.snTriggerOverviewHelp.js
                </a>
              
                
                <a class="source" href="directive.snUploadAttachmentList.html">
                  directive.snUploadAttachmentList.js
                </a>
              
                
                <a class="source" href="directive.snUserAvatar.html">
                  directive.snUserAvatar.js
                </a>
              
                
                <a class="source" href="directive.snUserProfile.html">
                  directive.snUserProfile.js
                </a>
              
                
                <a class="source" href="directive.snVideoPlayer.html">
                  directive.snVideoPlayer.js
                </a>
              
                
                <a class="source" href="directive.spAriaPageTitle.html">
                  directive.spAriaPageTitle.js
                </a>
              
                
                <a class="source" href="directive.spAttachmentButton.html">
                  directive.spAttachmentButton.js
                </a>
              
                
                <a class="source" href="directive.spCLink.html">
                  directive.spCLink.js
                </a>
              
                
                <a class="source" href="directive.spCatItem.html">
                  directive.spCatItem.js
                </a>
              
                
                <a class="source" href="directive.spChoiceList.html">
                  directive.spChoiceList.js
                </a>
              
                
                <a class="source" href="directive.spCodeMirror.html">
                  directive.spCodeMirror.js
                </a>
              
                
                <a class="source" href="directive.spColorPicker.html">
                  directive.spColorPicker.js
                </a>
              
                
                <a class="source" href="directive.spContextMenu.html">
                  directive.spContextMenu.js
                </a>
              
                
                <a class="source" href="directive.spCssEditor.html">
                  directive.spCssEditor.js
                </a>
              
                
                <a class="source" href="directive.spCurrencyElement.html">
                  directive.spCurrencyElement.js
                </a>
              
                
                <a class="source" href="directive.spDatePicker.html">
                  directive.spDatePicker.js
                </a>
              
                
                <a class="source" href="directive.spDropdownTree.html">
                  directive.spDropdownTree.js
                </a>
              
                
                <a class="source" href="directive.spDurationElement.html">
                  directive.spDurationElement.js
                </a>
              
                
                <a class="source" href="directive.spEditableField.html">
                  directive.spEditableField.js
                </a>
              
                
                <a class="source" href="directive.spEmailElement.html">
                  directive.spEmailElement.js
                </a>
              
                
                <a class="source" href="directive.spFieldListElement.html">
                  directive.spFieldListElement.js
                </a>
              
                
                <a class="source" href="directive.spFormField.html">
                  directive.spFormField.js
                </a>
              
                
                <a class="source" href="directive.spGlyphPicker.html">
                  directive.spGlyphPicker.js
                </a>
              
                
                <a class="source" href="directive.spHTMLEditor.html">
                  directive.spHTMLEditor.js
                </a>
              
                
                <a class="source" href="directive.spHtmlContent.html">
                  directive.spHtmlContent.js
                </a>
              
                
                <a class="source" href="directive.spMessageDialog.html">
                  directive.spMessageDialog.js
                </a>
              
                
                <a class="source" href="directive.spModel.html">
                  directive.spModel.js
                </a>
              
                
                <a class="source" href="directive.spNavbarToggle.html">
                  directive.spNavbarToggle.js
                </a>
              
                
                <a class="source" href="directive.spNotifications.html">
                  directive.spNotifications.js
                </a>
              
                
                <a class="source" href="directive.spOnTransition.html">
                  directive.spOnTransition.js
                </a>
              
                
                <a class="source" href="directive.spPageRow.html">
                  directive.spPageRow.js
                </a>
              
                
                <a class="source" href="directive.spPanel.html">
                  directive.spPanel.js
                </a>
              
                
                <a class="source" href="directive.spReferenceElement.html">
                  directive.spReferenceElement.js
                </a>
              
                
                <a class="source" href="directive.spReferenceField.html">
                  directive.spReferenceField.js
                </a>
              
                
                <a class="source" href="directive.spScriptEditor.html">
                  directive.spScriptEditor.js
                </a>
              
                
                <a class="source" href="directive.spScroll.html">
                  directive.spScroll.js
                </a>
              
                
                <a class="source" href="directive.spTextarea.html">
                  directive.spTextarea.js
                </a>
              
                
                <a class="source" href="directive.spTinymceEditor.html">
                  directive.spTinymceEditor.js
                </a>
              
                
                <a class="source" href="directive.spWidget.html">
                  directive.spWidget.js
                </a>
              
                
                <a class="source" href="directive.themePicker.html">
                  directive.themePicker.js
                </a>
              
                
                <a class="source" href="directive.updateSetPicker.html">
                  directive.updateSetPicker.js
                </a>
              
                
                <a class="source" href="dropdown.html">
                  dropdown.js
                </a>
              
                
                <a class="source" href="dropdowns.html">
                  dropdowns.js
                </a>
              
                
                <a class="source" href="email_activity.html">
                  email_activity.js
                </a>
              
                
                <a class="source" href="event_initialize.html">
                  event_initialize.js
                </a>
              
                
                <a class="source" href="export-csv.html">
                  export-csv.js
                </a>
              
                
                <a class="source" href="exporting.html">
                  exporting.js
                </a>
              
                
                <a class="source" href="factory.AMBOverlay.html">
                  factory.AMBOverlay.js
                </a>
              
                
                <a class="source" href="factory.ArraySynchronizer.html">
                  factory.ArraySynchronizer.js
                </a>
              
                
                <a class="source" href="factory.Conversation.html">
                  factory.Conversation.js
                </a>
              
                
                <a class="source" href="factory.Document.html">
                  factory.Document.js
                </a>
              
                
                <a class="source" href="factory.LiveLink.html">
                  factory.LiveLink.js
                </a>
              
                
                <a class="source" href="factory.Message.html">
                  factory.Message.js
                </a>
              
                
                <a class="source" href="factory.attachment.html">
                  factory.attachment.js
                </a>
              
                
                <a class="source" href="factory.commandFactory.html">
                  factory.commandFactory.js
                </a>
              
                
                <a class="source" href="factory.glideUrlBuilder.html">
                  factory.glideUrlBuilder.js
                </a>
              
                
                <a class="source" href="factory.keyboardRegistry.html">
                  factory.keyboardRegistry.js
                </a>
              
                
                <a class="source" href="factory.magellan_Endpoint.html">
                  factory.magellan_Endpoint.js
                </a>
              
                
                <a class="source" href="factory.magellan_FavoritesList.html">
                  factory.magellan_FavoritesList.js
                </a>
              
                
                <a class="source" href="factory.magellan_HistoryList.html">
                  factory.magellan_HistoryList.js
                </a>
              
                
                <a class="source" href="factory.magellan_Permalink.html">
                  factory.magellan_Permalink.js
                </a>
              
                
                <a class="source" href="factory.notificationWrapper.html">
                  factory.notificationWrapper.js
                </a>
              
                
                <a class="source" href="factory.nowAttachmentHandler.html">
                  factory.nowAttachmentHandler.js
                </a>
              
                
                <a class="source" href="factory.paneManager.html">
                  factory.paneManager.js
                </a>
              
                
                <a class="source" href="factory.queue.html">
                  factory.queue.js
                </a>
              
                
                <a class="source" href="factory.queueEntry.html">
                  factory.queueEntry.js
                </a>
              
                
                <a class="source" href="factory.snAttachmentHandler.html">
                  factory.snAttachmentHandler.js
                </a>
              
                
                <a class="source" href="factory.snChatAction.html">
                  factory.snChatAction.js
                </a>
              
                
                <a class="source" href="factory.snHotKey.html">
                  factory.snHotKey.js
                </a>
              
                
                <a class="source" href="factory.snPresence.html">
                  factory.snPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordPresence.html">
                  factory.snRecordPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordWatcher.html">
                  factory.snRecordWatcher.js
                </a>
              
                
                <a class="source" href="factory.spInterceptor.html">
                  factory.spInterceptor.js
                </a>
              
                
                <a class="source" href="factory.spMacro.html">
                  factory.spMacro.js
                </a>
              
                
                <a class="source" href="factory.spPage.html">
                  factory.spPage.js
                </a>
              
                
                <a class="source" href="factory.spServer.html">
                  factory.spServer.js
                </a>
              
                
                <a class="source" href="factory.spUIActionFactory.html">
                  factory.spUIActionFactory.js
                </a>
              
                
                <a class="source" href="factory.spWidget.html">
                  factory.spWidget.js
                </a>
              
                
                <a class="source" href="factory.unwrappedHTTPPromise.html">
                  factory.unwrappedHTTPPromise.js
                </a>
              
                
                <a class="source" href="filter.conversation.html">
                  filter.conversation.js
                </a>
              
                
                <a class="source" href="filter.frameSet.html">
                  filter.frameSet.js
                </a>
              
                
                <a class="source" href="filter.searchTerm.html">
                  filter.searchTerm.js
                </a>
              
                
                <a class="source" href="filter.transferAccepted.html">
                  filter.transferAccepted.js
                </a>
              
                
                <a class="source" href="filter.truncate.html">
                  filter.truncate.js
                </a>
              
                
                <a class="source" href="fixedHeaders.html">
                  fixedHeaders.js
                </a>
              
                
                <a class="source" href="floating_scrollbar.min.html">
                  floating_scrollbar.min.js
                </a>
              
                
                <a class="source" href="focus-trap.html">
                  focus-trap.js
                </a>
              
                
                <a class="source" href="form.html">
                  form.js
                </a>
              
                
                <a class="source" href="form_submitted_mask.html">
                  form_submitted_mask.js
                </a>
              
                
                <a class="source" href="form_tags.html">
                  form_tags.js
                </a>
              
                
                <a class="source" href="formatting.html">
                  formatting.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="functions_attachments.html">
                  functions_attachments.js
                </a>
              
                
                <a class="source" href="functions_bootstrap14.html">
                  functions_bootstrap14.js
                </a>
              
                
                <a class="source" href="functions_calendar.html">
                  functions_calendar.js
                </a>
              
                
                <a class="source" href="functions_clipboard.html">
                  functions_clipboard.js
                </a>
              
                
                <a class="source" href="functions_email.html">
                  functions_email.js
                </a>
              
                
                <a class="source" href="functions_fontsizer.html">
                  functions_fontsizer.js
                </a>
              
                
                <a class="source" href="functions_onchange.html">
                  functions_onchange.js
                </a>
              
                
                <a class="source" href="functions_reference.html">
                  functions_reference.js
                </a>
              
                
                <a class="source" href="functions_showloading.html">
                  functions_showloading.js
                </a>
              
                
                <a class="source" href="functions_user_image.html">
                  functions_user_image.js
                </a>
              
                
                <a class="source" href="funnel.html">
                  funnel.js
                </a>
              
                
                <a class="source" href="geolocation.html">
                  geolocation.js
                </a>
              
                
                <a class="source" href="glide-highcharts-v5.html">
                  glide-highcharts-v5.js
                </a>
              
                
                <a class="source" href="glideAjaxBatchQueue.html">
                  glideAjaxBatchQueue.js
                </a>
              
                
                <a class="source" href="glideAjaxFactory.html">
                  glideAjaxFactory.js
                </a>
              
                
                <a class="source" href="glideFormEnvironmentFactory.html">
                  glideFormEnvironmentFactory.js
                </a>
              
                
                <a class="source" href="glideFormFactory.html">
                  glideFormFactory.js
                </a>
              
                
                <a class="source" href="glideFormFieldFactory.html">
                  glideFormFieldFactory.js
                </a>
              
                
                <a class="source" href="glideFormMessageHandler.html">
                  glideFormMessageHandler.js
                </a>
              
                
                <a class="source" href="glideListFactory.html">
                  glideListFactory.js
                </a>
              
                
                <a class="source" href="glideModalFactory.html">
                  glideModalFactory.js
                </a>
              
                
                <a class="source" href="glideRecordData.html">
                  glideRecordData.js
                </a>
              
                
                <a class="source" href="glideRecordFactory.html">
                  glideRecordFactory.js
                </a>
              
                
                <a class="source" href="glideRequest.html">
                  glideRequest.js
                </a>
              
                
                <a class="source" href="glideUIActionsApi.html">
                  glideUIActionsApi.js
                </a>
              
                
                <a class="source" href="glideUIActionsFactory.html">
                  glideUIActionsFactory.js
                </a>
              
                
                <a class="source" href="glideUserFactory.html">
                  glideUserFactory.js
                </a>
              
                
                <a class="source" href="glideUserSession.html">
                  glideUserSession.js
                </a>
              
                
                <a class="source" href="guided_tours_template.html">
                  guided_tours_template.js
                </a>
              
                
                <a class="source" href="heatmap.html">
                  heatmap.js
                </a>
              
                
                <a class="source" href="heisenberg_all.html">
                  heisenberg_all.js
                </a>
              
                
                <a class="source" href="highcharts-more.src.html">
                  highcharts-more.src.js
                </a>
              
                
                <a class="source" href="highstock.src.html">
                  highstock.src.js
                </a>
              
                
                <a class="source" href="hopscotch.min.html">
                  hopscotch.min.js
                </a>
              
                
                <a class="source" href="html_class_setter.html">
                  html_class_setter.js
                </a>
              
                
                <a class="source" href="i18n.html">
                  i18n.js
                </a>
              
                
                <a class="source" href="iconset-fontawesome-4.2.0.html">
                  iconset-fontawesome-4.2.0.js
                </a>
              
                
                <a class="source" href="jQueryRequestShim.html">
                  jQueryRequestShim.js
                </a>
              
                
                <a class="source" href="jquery-2.1.html">
                  jquery-2.1.js
                </a>
              
                
                <a class="source" href="jquery-2.2.3.min.html">
                  jquery-2.2.3.min.js
                </a>
              
                
                <a class="source" href="jquery-ui-1.9.2.custom.html">
                  jquery-ui-1.9.2.custom.js
                </a>
              
                
                <a class="source" href="jquery-ui-dragdrop.min.html">
                  jquery-ui-dragdrop.min.js
                </a>
              
                
                <a class="source" href="jquery.ui.touch-punch.min.html">
                  jquery.ui.touch-punch.min.js
                </a>
              
                
                <a class="source" href="jquery2_includes.html">
                  jquery2_includes.js
                </a>
              
                
                <a class="source" href="jquery_clean.html">
                  jquery_clean.js
                </a>
              
                
                <a class="source" href="jquery_csrf.html">
                  jquery_csrf.js
                </a>
              
                
                <a class="source" href="jquery_no_conflict.html">
                  jquery_no_conflict.js
                </a>
              
                
                <a class="source" href="js_embedded_help_includes.html">
                  js_embedded_help_includes.js
                </a>
              
                
                <a class="source" href="js_guided_tours_includes.html">
                  js_guided_tours_includes.js
                </a>
              
                
                <a class="source" href="js_hopscotch_includes.html">
                  js_hopscotch_includes.js
                </a>
              
                
                <a class="source" href="js_includes_amb.html">
                  js_includes_amb.js
                </a>
              
                
                <a class="source" href="js_includes_angular.html">
                  js_includes_angular.js
                </a>
              
                
                <a class="source" href="js_includes_angular_strap_aside.html">
                  js_includes_angular_strap_aside.js
                </a>
              
                
                <a class="source" href="js_includes_angular_strap_components.html">
                  js_includes_angular_strap_components.js
                </a>
              
                
                <a class="source" href="js_includes_attachments.html">
                  js_includes_attachments.js
                </a>
              
                
                <a class="source" href="js_includes_avatar.html">
                  js_includes_avatar.js
                </a>
              
                
                <a class="source" href="js_includes_batchedga.html">
                  js_includes_batchedga.js
                </a>
              
                
                <a class="source" href="js_includes_bind_watch.html">
                  js_includes_bind_watch.js
                </a>
              
                
                <a class="source" href="js_includes_cabrillo.html">
                  js_includes_cabrillo.js
                </a>
              
                
                <a class="source" href="js_includes_clientScript.html">
                  js_includes_clientScript.js
                </a>
              
                
                <a class="source" href="js_includes_common.html">
                  js_includes_common.js
                </a>
              
                
                <a class="source" href="js_includes_common_accessibility.html">
                  js_includes_common_accessibility.js
                </a>
              
                
                <a class="source" href="js_includes_concourse.html">
                  js_includes_concourse.js
                </a>
              
                
                <a class="source" href="js_includes_concourse_pane_extension.html">
                  js_includes_concourse_pane_extension.js
                </a>
              
                
                <a class="source" href="js_includes_concourse_view_stack.html">
                  js_includes_concourse_view_stack.js
                </a>
              
                
                <a class="source" href="js_includes_connect_conversation.html">
                  js_includes_connect_conversation.js
                </a>
              
                
                <a class="source" href="js_includes_connect_document.html">
                  js_includes_connect_document.js
                </a>
              
                
                <a class="source" href="js_includes_connect_message.html">
                  js_includes_connect_message.js
                </a>
              
                
                <a class="source" href="js_includes_connect_presence.html">
                  js_includes_connect_presence.js
                </a>
              
                
                <a class="source" href="js_includes_connect_profile.html">
                  js_includes_connect_profile.js
                </a>
              
                
                <a class="source" href="js_includes_connect_queue.html">
                  js_includes_connect_queue.js
                </a>
              
                
                <a class="source" href="js_includes_connect_resource.html">
                  js_includes_connect_resource.js
                </a>
              
                
                <a class="source" href="js_includes_connect_util.html">
                  js_includes_connect_util.js
                </a>
              
                
                <a class="source" href="js_includes_controls.html">
                  js_includes_controls.js
                </a>
              
                
                <a class="source" href="js_includes_customer.html">
                  js_includes_customer.js
                </a>
              
                
                <a class="source" href="js_includes_data.html">
                  js_includes_data.js
                </a>
              
                
                <a class="source" href="js_includes_datetime.html">
                  js_includes_datetime.js
                </a>
              
                
                <a class="source" href="js_includes_doctype.html">
                  js_includes_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_fast.html">
                  js_includes_fast.js
                </a>
              
                
                <a class="source" href="js_includes_form.html">
                  js_includes_form.js
                </a>
              
                
                <a class="source" href="js_includes_form_presence.html">
                  js_includes_form_presence.js
                </a>
              
                
                <a class="source" href="js_includes_glide.html">
                  js_includes_glide.js
                </a>
              
                
                <a class="source" href="js_includes_i18n.html">
                  js_includes_i18n.js
                </a>
              
                
                <a class="source" href="js_includes_last_doctype.html">
                  js_includes_last_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_link.html">
                  js_includes_link.js
                </a>
              
                
                <a class="source" href="js_includes_list_edit_doctype.html">
                  js_includes_list_edit_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_listv2_doctype.html">
                  js_includes_listv2_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_magellan.html">
                  js_includes_magellan.js
                </a>
              
                
                <a class="source" href="js_includes_mention.html">
                  js_includes_mention.js
                </a>
              
                
                <a class="source" href="js_includes_messaging.html">
                  js_includes_messaging.js
                </a>
              
                
                <a class="source" href="js_includes_navpage15.html">
                  js_includes_navpage15.js
                </a>
              
                
                <a class="source" href="js_includes_ngCommon.html">
                  js_includes_ngCommon.js
                </a>
              
                
                <a class="source" href="js_includes_ng_amb.html">
                  js_includes_ng_amb.js
                </a>
              
                
                <a class="source" href="js_includes_ng_chat.html">
                  js_includes_ng_chat.js
                </a>
              
                
                <a class="source" href="js_includes_notification.html">
                  js_includes_notification.js
                </a>
              
                
                <a class="source" href="js_includes_overviewhelp.html">
                  js_includes_overviewhelp.js
                </a>
              
                
                <a class="source" href="js_includes_presence.html">
                  js_includes_presence.js
                </a>
              
                
                <a class="source" href="js_includes_resources.html">
                  js_includes_resources.js
                </a>
              
                
                <a class="source" href="js_includes_session_notification.html">
                  js_includes_session_notification.js
                </a>
              
                
                <a class="source" href="js_includes_sorting_new.html">
                  js_includes_sorting_new.js
                </a>
              
                
                <a class="source" href="js_includes_sp.html">
                  js_includes_sp.js
                </a>
              
                
                <a class="source" href="js_includes_sp_core.html">
                  js_includes_sp_core.js
                </a>
              
                
                <a class="source" href="js_includes_sp_deps.html">
                  js_includes_sp_deps.js
                </a>
              
                
                <a class="source" href="js_includes_sp_tinymce.html">
                  js_includes_sp_tinymce.js
                </a>
              
                
                <a class="source" href="js_includes_stream.html">
                  js_includes_stream.js
                </a>
              
                
                <a class="source" href="js_includes_ui.html">
                  js_includes_ui.js
                </a>
              
                
                <a class="source" href="js_includes_ui16_form.html">
                  js_includes_ui16_form.js
                </a>
              
                
                <a class="source" href="js_includes_ui_popover.html">
                  js_includes_ui_popover.js
                </a>
              
                
                <a class="source" href="js_includes_user_profile.html">
                  js_includes_user_profile.js
                </a>
              
                
                <a class="source" href="js_includes_util.html">
                  js_includes_util.js
                </a>
              
                
                <a class="source" href="js_includes_video.html">
                  js_includes_video.js
                </a>
              
                
                <a class="source" href="js_includes_weba.html">
                  js_includes_weba.js
                </a>
              
                
                <a class="source" href="keyboard.0.2.2.min.html">
                  keyboard.0.2.2.min.js
                </a>
              
                
                <a class="source" href="keyboardShortcuts.html">
                  keyboardShortcuts.js
                </a>
              
                
                <a class="source" href="list.html">
                  list.js
                </a>
              
                
                <a class="source" href="list_filter.html">
                  list_filter.js
                </a>
              
                
                <a class="source" href="lodash.min.html">
                  lodash.min.js
                </a>
              
                
                <a class="source" href="magellan.CreateFavoriteModal.html">
                  magellan.CreateFavoriteModal.js
                </a>
              
                
                <a class="source" href="magellan.html">
                  magellan.js
                </a>
              
                
                <a class="source" href="map.html">
                  map.js
                </a>
              
                
                <a class="source" href="mentio.html">
                  mentio.js
                </a>
              
                
                <a class="source" href="modal.html">
                  modal.js
                </a>
              
                
                <a class="source" href="modals.html">
                  modals.js
                </a>
              
                
                <a class="source" href="modernizr.custom.min.html">
                  modernizr.custom.min.js
                </a>
              
                
                <a class="source" href="moment-2.14.1.min.html">
                  moment-2.14.1.min.js
                </a>
              
                
                <a class="source" href="moment-timezone-with-data-0.5.13.html">
                  moment-timezone-with-data-0.5.13.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="newtag-it.html">
                  newtag-it.js
                </a>
              
                
                <a class="source" href="ng-sortable.html">
                  ng-sortable.js
                </a>
              
                
                <a class="source" href="ng_jqdnd_includes.html">
                  ng_jqdnd_includes.js
                </a>
              
                
                <a class="source" href="no-data-to-display.html">
                  no-data-to-display.js
                </a>
              
                
                <a class="source" href="nowapi.html">
                  nowapi.js
                </a>
              
                
                <a class="source" href="ocLazyLoad.html">
                  ocLazyLoad.js
                </a>
              
                
                <a class="source" href="ocLazyLoad.min.html">
                  ocLazyLoad.min.js
                </a>
              
                
                <a class="source" href="offline-exporting.html">
                  offline-exporting.js
                </a>
              
                
                <a class="source" href="page_title.html">
                  page_title.js
                </a>
              
                
                <a class="source" href="pattern-fill-v2.html">
                  pattern-fill-v2.js
                </a>
              
                
                <a class="source" href="popover.html">
                  popover.js
                </a>
              
                
                <a class="source" href="popovers.html">
                  popovers.js
                </a>
              
                
                <a class="source" href="popupdivs14.html">
                  popupdivs14.js
                </a>
              
                
                <a class="source" href="popups.html">
                  popups.js
                </a>
              
                
                <a class="source" href="prism.html">
                  prism.js
                </a>
              
                
                <a class="source" href="proj4.html">
                  proj4.js
                </a>
              
                
                <a class="source" href="prototype.effects.html">
                  prototype.effects.js
                </a>
              
                
                <a class="source" href="prototype.hidefix.html">
                  prototype.hidefix.js
                </a>
              
                
                <a class="source" href="prototype.html">
                  prototype.js
                </a>
              
                
                <a class="source" href="prototype.min.html">
                  prototype.min.js
                </a>
              
                
                <a class="source" href="prototype.plugin.html">
                  prototype.plugin.js
                </a>
              
                
                <a class="source" href="prototype.template.html">
                  prototype.template.js
                </a>
              
                
                <a class="source" href="provider.defaultJSAutocomplete.html">
                  provider.defaultJSAutocomplete.js
                </a>
              
                
                <a class="source" href="provider.lazyloader.html">
                  provider.lazyloader.js
                </a>
              
                
                <a class="source" href="provider.linkContentTypes.html">
                  provider.linkContentTypes.js
                </a>
              
                
                <a class="source" href="responsive_form_header.html">
                  responsive_form_header.js
                </a>
              
                
                <a class="source" href="scoped_object_bridge.html">
                  scoped_object_bridge.js
                </a>
              
                
                <a class="source" href="scoped_object_generators.html">
                  scoped_object_generators.js
                </a>
              
                
                <a class="source" href="scrollable.html">
                  scrollable.js
                </a>
              
                
                <a class="source" href="scrollspy.html">
                  scrollspy.js
                </a>
              
                
                <a class="source" href="searchFocus.html">
                  searchFocus.js
                </a>
              
                
                <a class="source" href="section.html">
                  section.js
                </a>
              
                
                <a class="source" href="select2.html">
                  select2.js
                </a>
              
                
                <a class="source" href="select2.min.html">
                  select2.min.js
                </a>
              
                
                <a class="source" href="selects.html">
                  selects.js
                </a>
              
                
                <a class="source" href="service.AMB.html">
                  service.AMB.js
                </a>
              
                
                <a class="source" href="service.ChatActionHandler.html">
                  service.ChatActionHandler.js
                </a>
              
                
                <a class="source" href="service.activeConversation.html">
                  service.activeConversation.js
                </a>
              
                
                <a class="source" href="service.audioNotifier.html">
                  service.audioNotifier.js
                </a>
              
                
                <a class="source" href="service.authInterceptor.html">
                  service.authInterceptor.js
                </a>
              
                
                <a class="source" href="service.avatarProfilePersister.html">
                  service.avatarProfilePersister.js
                </a>
              
                
                <a class="source" href="service.concoursePaneExtensionRegistry.html">
                  service.concoursePaneExtensionRegistry.js
                </a>
              
                
                <a class="source" href="service.connectDropTarget.html">
                  service.connectDropTarget.js
                </a>
              
                
                <a class="source" href="service.conversationPersister.html">
                  service.conversationPersister.js
                </a>
              
                
                <a class="source" href="service.conversations.html">
                  service.conversations.js
                </a>
              
                
                <a class="source" href="service.dateUtils.html">
                  service.dateUtils.js
                </a>
              
                
                <a class="source" href="service.debounceFn.html">
                  service.debounceFn.js
                </a>
              
                
                <a class="source" href="service.documentLinkMatcher.html">
                  service.documentLinkMatcher.js
                </a>
              
                
                <a class="source" href="service.documents.html">
                  service.documents.js
                </a>
              
                
                <a class="source" href="service.durationFormatter.html">
                  service.durationFormatter.js
                </a>
              
                
                <a class="source" href="service.embeddedHelpService.html">
                  service.embeddedHelpService.js
                </a>
              
                
                <a class="source" href="service.fileSizeConverter.html">
                  service.fileSizeConverter.js
                </a>
              
                
                <a class="source" href="service.filterExpressionParser.html">
                  service.filterExpressionParser.js
                </a>
              
                
                <a class="source" href="service.getTemplateUrl.html">
                  service.getTemplateUrl.js
                </a>
              
                
                <a class="source" href="service.guidedToursService.html">
                  service.guidedToursService.js
                </a>
              
                
                <a class="source" href="service.hotKeyHandler.html">
                  service.hotKeyHandler.js
                </a>
              
                
                <a class="source" href="service.i18n.html">
                  service.i18n.js
                </a>
              
                
                <a class="source" href="service.legacySessionNotificationHandler.html">
                  service.legacySessionNotificationHandler.js
                </a>
              
                
                <a class="source" href="service.md5.html">
                  service.md5.js
                </a>
              
                
                <a class="source" href="service.messageBatcher.html">
                  service.messageBatcher.js
                </a>
              
                
                <a class="source" href="service.messageNotifier.html">
                  service.messageNotifier.js
                </a>
              
                
                <a class="source" href="service.messages.html">
                  service.messages.js
                </a>
              
                
                <a class="source" href="service.notificationPreferences.html">
                  service.notificationPreferences.js
                </a>
              
                
                <a class="source" href="service.nowServer.html">
                  service.nowServer.js
                </a>
              
                
                <a class="source" href="service.nowStream.html">
                  service.nowStream.js
                </a>
              
                
                <a class="source" href="service.priorityQueue.html">
                  service.priorityQueue.js
                </a>
              
                
                <a class="source" href="service.profiles.html">
                  service.profiles.js
                </a>
              
                
                <a class="source" href="service.progressDialog.html">
                  service.progressDialog.js
                </a>
              
                
                <a class="source" href="service.queryFilter.html">
                  service.queryFilter.js
                </a>
              
                
                <a class="source" href="service.queueEntries.html">
                  service.queueEntries.js
                </a>
              
                
                <a class="source" href="service.queueEntryNotifier.html">
                  service.queueEntryNotifier.js
                </a>
              
                
                <a class="source" href="service.queueNotifier.html">
                  service.queueNotifier.js
                </a>
              
                
                <a class="source" href="service.queues.html">
                  service.queues.js
                </a>
              
                
                <a class="source" href="service.resourcePersister.html">
                  service.resourcePersister.js
                </a>
              
                
                <a class="source" href="service.screenReaderStatus.html">
                  service.screenReaderStatus.js
                </a>
              
                
                <a class="source" href="service.screenWidth.html">
                  service.screenWidth.js
                </a>
              
                
                <a class="source" href="service.sessionNotificationInterceptor.html">
                  service.sessionNotificationInterceptor.js
                </a>
              
                
                <a class="source" href="service.snComplexPopoverService.html">
                  service.snComplexPopoverService.js
                </a>
              
                
                <a class="source" href="service.snComposingPresence.html">
                  service.snComposingPresence.js
                </a>
              
                
                <a class="source" href="service.snConnect.html">
                  service.snConnect.js
                </a>
              
                
                <a class="source" href="service.snConnectAsideManager.html">
                  service.snConnectAsideManager.js
                </a>
              
                
                <a class="source" href="service.snConnectMention.html">
                  service.snConnectMention.js
                </a>
              
                
                <a class="source" href="service.snConversationAsideHistory.html">
                  service.snConversationAsideHistory.js
                </a>
              
                
                <a class="source" href="service.snCustomEvent.html">
                  service.snCustomEvent.js
                </a>
              
                
                <a class="source" href="service.snHttp.html">
                  service.snHttp.js
                </a>
              
                
                <a class="source" href="service.snMention.html">
                  service.snMention.js
                </a>
              
                
                <a class="source" href="service.snNotification.html">
                  service.snNotification.js
                </a>
              
                
                <a class="source" href="service.snNotifier.html">
                  service.snNotifier.js
                </a>
              
                
                <a class="source" href="service.snResource.html">
                  service.snResource.js
                </a>
              
                
                <a class="source" href="service.snTabActivity.html">
                  service.snTabActivity.js
                </a>
              
                
                <a class="source" href="service.snTypingTracker.html">
                  service.snTypingTracker.js
                </a>
              
                
                <a class="source" href="service.spAria.html">
                  service.spAria.js
                </a>
              
                
                <a class="source" href="service.spAriaFocusManager.html">
                  service.spAriaFocusManager.js
                </a>
              
                
                <a class="source" href="service.spCodeEditorAutocomplete.html">
                  service.spCodeEditorAutocomplete.js
                </a>
              
                
                <a class="source" href="service.spIs.html">
                  service.spIs.js
                </a>
              
                
                <a class="source" href="service.spModal.html">
                  service.spModal.js
                </a>
              
                
                <a class="source" href="service.spPreference.html">
                  service.spPreference.js
                </a>
              
                
                <a class="source" href="service.spThrottle.html">
                  service.spThrottle.js
                </a>
              
                
                <a class="source" href="service.spUtil.html">
                  service.spUtil.js
                </a>
              
                
                <a class="source" href="service.supportTabHandler.html">
                  service.supportTabHandler.js
                </a>
              
                
                <a class="source" href="service.sysNumberData.html">
                  service.sysNumberData.js
                </a>
              
                
                <a class="source" href="service.titleFlasher.html">
                  service.titleFlasher.js
                </a>
              
                
                <a class="source" href="service.uiNotificationHandler.html">
                  service.uiNotificationHandler.js
                </a>
              
                
                <a class="source" href="service.unreadCount.html">
                  service.unreadCount.js
                </a>
              
                
                <a class="source" href="service.uploadAttachment.html">
                  service.uploadAttachment.js
                </a>
              
                
                <a class="source" href="service.urlTools.html">
                  service.urlTools.js
                </a>
              
                
                <a class="source" href="service.userData.html">
                  service.userData.js
                </a>
              
                
                <a class="source" href="service.userPreferences.html">
                  service.userPreferences.js
                </a>
              
                
                <a class="source" href="service.viewStack.html">
                  service.viewStack.js
                </a>
              
                
                <a class="source" href="simpleStorage.html">
                  simpleStorage.js
                </a>
              
                
                <a class="source" href="snPolyfill.html">
                  snPolyfill.js
                </a>
              
                
                <a class="source" href="snPopover.html">
                  snPopover.js
                </a>
              
                
                <a class="source" href="snPresenceLite.html">
                  snPresenceLite.js
                </a>
              
                
                <a class="source" href="snTimeAgoSettings.html">
                  snTimeAgoSettings.js
                </a>
              
                
                <a class="source" href="snm.auth.data.module.html">
                  snm.auth.data.module.js
                </a>
              
                
                <a class="source" href="snm.serviceCatalog.data.shim.html">
                  snm.serviceCatalog.data.shim.js
                </a>
              
                
                <a class="source" href="snm.serviceCatalog.form.module.html">
                  snm.serviceCatalog.form.module.js
                </a>
              
                
                <a class="source" href="solid-gauge.html">
                  solid-gauge.js
                </a>
              
                
                <a class="source" href="sortable.min.html">
                  sortable.min.js
                </a>
              
                
                <a class="source" href="sp.geo.html">
                  sp.geo.js
                </a>
              
                
                <a class="source" href="streamButton.html">
                  streamButton.js
                </a>
              
                
                <a class="source" href="tabbable.html">
                  tabbable.js
                </a>
              
                
                <a class="source" href="tables.html">
                  tables.js
                </a>
              
                
                <a class="source" href="tabs.html">
                  tabs.js
                </a>
              
                
                <a class="source" href="tabs2_14.html">
                  tabs2_14.js
                </a>
              
                
                <a class="source" href="templates.html">
                  templates.js
                </a>
              
                
                <a class="source" href="textutil.html">
                  textutil.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="timeAgo.html">
                  timeAgo.js
                </a>
              
                
                <a class="source" href="tinymce.min.html">
                  tinymce.min.js
                </a>
              
                
                <a class="source" href="tooltip.html">
                  tooltip.js
                </a>
              
                
                <a class="source" href="tooltips.html">
                  tooltips.js
                </a>
              
                
                <a class="source" href="transaction_scope_includes.html">
                  transaction_scope_includes.js
                </a>
              
                
                <a class="source" href="transition.html">
                  transition.js
                </a>
              
                
                <a class="source" href="treemap.html">
                  treemap.js
                </a>
              
                
                <a class="source" href="typeahead.jquery.html">
                  typeahead.jquery.js
                </a>
              
                
                <a class="source" href="ui-bootstrap-tpls-0.12.1.html">
                  ui-bootstrap-tpls-0.12.1.js
                </a>
              
                
                <a class="source" href="ui-bootstrap-tpls-1.1.2.html">
                  ui-bootstrap-tpls-1.1.2.js
                </a>
              
                
                <a class="source" href="ui-sortable.html">
                  ui-sortable.js
                </a>
              
                
                <a class="source" href="uiPolicyFactory.html">
                  uiPolicyFactory.js
                </a>
              
                
                <a class="source" href="uiPolicyTypes.html">
                  uiPolicyTypes.js
                </a>
              
                
                <a class="source" href="ui_policy.html">
                  ui_policy.js
                </a>
              
                
                <a class="source" href="utils14.html">
                  utils14.js
                </a>
              
                
                <a class="source" href="vanilla.cometd.html">
                  vanilla.cometd.js
                </a>
              
                
                <a class="source" href="velocity.min.html">
                  velocity.min.js
                </a>
              
                
                <a class="source" href="velocity.ui.html">
                  velocity.ui.js
                </a>
              
                
                <a class="source" href="viewLayout.html">
                  viewLayout.js
                </a>
              
                
                <a class="source" href="xmlUtil.html">
                  xmlUtil.js
                </a>
              
                
                <a class="source" href="xmlhttp.html">
                  xmlhttp.js
                </a>
              
                
                <a class="source" href="z_last_include.html">
                  z_last_include.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>js_includes_doctype.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*! RESOURCE: /scripts/doctype/js_includes_doctype.js */</span>
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/prototype.min.js */</span>
<span class="hljs-keyword">var</span> Prototype = {
    <span class="hljs-attr">Version</span>: <span class="hljs-string">"1.7.3"</span>,
    <span class="hljs-attr">Browser</span>: (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> b = navigator.userAgent;
        <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">Object</span>.prototype.toString.call(<span class="hljs-built_in">window</span>.opera) == <span class="hljs-string">"[object Opera]"</span>;
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">IE</span>: !!<span class="hljs-built_in">window</span>.attachEvent &amp;&amp; !a,
            <span class="hljs-attr">Opera</span>: a,
            <span class="hljs-attr">WebKit</span>: b.indexOf(<span class="hljs-string">"AppleWebKit/"</span>) &gt; <span class="hljs-number">-1</span>,
            <span class="hljs-attr">Gecko</span>: b.indexOf(<span class="hljs-string">"Gecko"</span>) &gt; <span class="hljs-number">-1</span> &amp;&amp; b.indexOf(<span class="hljs-string">"KHTML"</span>) === <span class="hljs-number">-1</span>,
            <span class="hljs-attr">MobileSafari</span>: <span class="hljs-regexp">/Apple.*Mobile/</span>.test(b)
        }
    })(),
    <span class="hljs-attr">BrowserFeatures</span>: {
        <span class="hljs-attr">XPath</span>: !!<span class="hljs-built_in">document</span>.evaluate,
        <span class="hljs-attr">SelectorsAPI</span>: !!<span class="hljs-built_in">document</span>.querySelector,
        <span class="hljs-attr">ElementExtensions</span>: (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">window</span>.Element || <span class="hljs-built_in">window</span>.HTMLElement;
            <span class="hljs-keyword">return</span> !!(a &amp;&amp; a.prototype)
        })(),
        <span class="hljs-attr">SpecificElementExtensions</span>: (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.HTMLDivElement !== <span class="hljs-string">"undefined"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            }
            <span class="hljs-keyword">var</span> c = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>),
                b = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"form"</span>),
                a = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (c.__proto__ &amp;&amp; (c.__proto__ !== b.__proto__)) {
                a = <span class="hljs-literal">true</span>
            }
            c = b = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span> a
        })()
    },
    <span class="hljs-attr">ScriptFragment</span>: <span class="hljs-string">"&lt;script[^&gt;]*&gt;([\\S\\s]*?)&lt;\/script\\s*&gt;"</span>,
    <span class="hljs-attr">JSONFilter</span>: <span class="hljs-regexp">/^\/\*-secure-([\s\S]*)\*\/\s*$/</span>,
    <span class="hljs-attr">emptyFunction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">K</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> a
    }
};
<span class="hljs-keyword">if</span> (Prototype.Browser.MobileSafari) {
    Prototype.BrowserFeatures.SpecificElementExtensions = <span class="hljs-literal">false</span>
}
<span class="hljs-keyword">var</span> Class = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> d = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> e <span class="hljs-keyword">in</span> {
                <span class="hljs-attr">toString</span>: <span class="hljs-number">1</span>
            }) {
            <span class="hljs-keyword">if</span> (e === <span class="hljs-string">"toString"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    })();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{}

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> h = <span class="hljs-literal">null</span>,
            g = $A(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(g[<span class="hljs-number">0</span>])) {
            h = g.shift()
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.initialize.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
        }
        <span class="hljs-built_in">Object</span>.extend(e, Class.Methods);
        e.superclass = h;
        e.subclasses = [];
        <span class="hljs-keyword">if</span> (h) {
            a.prototype = h.prototype;
            e.prototype = <span class="hljs-keyword">new</span> a;
            h.subclasses.push(e)
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f = <span class="hljs-number">0</span>, j = g.length; f &lt; j; f++) {
            e.addMethods(g[f])
        }
        <span class="hljs-keyword">if</span> (!e.prototype.initialize) {
            e.prototype.initialize = Prototype.emptyFunction
        }
        e.prototype.constructor = e;
        <span class="hljs-keyword">return</span> e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">l</span>) </span>{
        <span class="hljs-keyword">var</span> g = <span class="hljs-keyword">this</span>.superclass &amp;&amp; <span class="hljs-keyword">this</span>.superclass.prototype,
            f = <span class="hljs-built_in">Object</span>.keys(l);
        <span class="hljs-keyword">if</span> (d) {
            <span class="hljs-keyword">if</span> (l.toString != <span class="hljs-built_in">Object</span>.prototype.toString) {
                f.push(<span class="hljs-string">"toString"</span>)
            }
            <span class="hljs-keyword">if</span> (l.valueOf != <span class="hljs-built_in">Object</span>.prototype.valueOf) {
                f.push(<span class="hljs-string">"valueOf"</span>)
            }
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> e = <span class="hljs-number">0</span>, h = f.length; e &lt; h; e++) {
            <span class="hljs-keyword">var</span> k = f[e],
                j = l[k];
            <span class="hljs-keyword">if</span> (g &amp;&amp; <span class="hljs-built_in">Object</span>.isFunction(j) &amp;&amp; j.argumentNames()[<span class="hljs-number">0</span>] == <span class="hljs-string">"$super"</span>) {
                <span class="hljs-keyword">var</span> m = j;
                j = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> g[i].apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
                    }
                })(k).wrap(m);
                j.valueOf = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> i.valueOf.call(i)
                    }
                })(m);
                j.toString = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> i.toString.call(i)
                    }
                })(m)
            }
            <span class="hljs-keyword">this</span>.prototype[k] = j
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">create</span>: b,
        <span class="hljs-attr">Methods</span>: {
            <span class="hljs-attr">addMethods</span>: c
        }
    }
})();
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> y = <span class="hljs-built_in">Object</span>.prototype.toString,
        k = <span class="hljs-built_in">Object</span>.prototype.hasOwnProperty,
        z = <span class="hljs-string">"Null"</span>,
        B = <span class="hljs-string">"Undefined"</span>,
        K = <span class="hljs-string">"Boolean"</span>,
        w = <span class="hljs-string">"Number"</span>,
        v = <span class="hljs-string">"String"</span>,
        I = <span class="hljs-string">"Object"</span>,
        i = <span class="hljs-string">"[object Function]"</span>,
        d = <span class="hljs-string">"[object Boolean]"</span>,
        j = <span class="hljs-string">"[object Number]"</span>,
        f = <span class="hljs-string">"[object String]"</span>,
        b = <span class="hljs-string">"[object Array]"</span>,
        H = <span class="hljs-string">"[object Date]"</span>,
        e = <span class="hljs-built_in">window</span>.JSON &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">JSON</span>.stringify === <span class="hljs-string">"function"</span> &amp;&amp; <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-number">0</span>) === <span class="hljs-string">"0"</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">JSON</span>.stringify(Prototype.K) === <span class="hljs-string">"undefined"</span>;
    <span class="hljs-keyword">var</span> q = [<span class="hljs-string">"toString"</span>, <span class="hljs-string">"toLocaleString"</span>, <span class="hljs-string">"valueOf"</span>, <span class="hljs-string">"hasOwnProperty"</span>, <span class="hljs-string">"isPrototypeOf"</span>, <span class="hljs-string">"propertyIsEnumerable"</span>, <span class="hljs-string">"constructor"</span>];
    <span class="hljs-keyword">var</span> a = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> L <span class="hljs-keyword">in</span> {
                <span class="hljs-attr">toString</span>: <span class="hljs-number">1</span>
            }) {
            <span class="hljs-keyword">if</span> (L === <span class="hljs-string">"toString"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    })();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">D</span>(<span class="hljs-params">M</span>) </span>{
        <span class="hljs-keyword">switch</span> (M) {
            <span class="hljs-keyword">case</span> <span class="hljs-literal">null</span>:
                <span class="hljs-keyword">return</span> z;
            <span class="hljs-keyword">case</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>):
                <span class="hljs-keyword">return</span> B
        }
        <span class="hljs-keyword">var</span> L = <span class="hljs-keyword">typeof</span> M;
        <span class="hljs-keyword">switch</span> (L) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"boolean"</span>:
                <span class="hljs-keyword">return</span> K;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"number"</span>:
                <span class="hljs-keyword">return</span> w;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"string"</span>:
                <span class="hljs-keyword">return</span> v
        }
        <span class="hljs-keyword">return</span> I
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">L, N</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> M <span class="hljs-keyword">in</span> N) {
            L[M] = N[M]
        }
        <span class="hljs-keyword">return</span> L
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (o(L)) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"undefined"</span>
            }
            <span class="hljs-keyword">if</span> (L === <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"null"</span>
            }
            <span class="hljs-keyword">return</span> L.inspect ? L.inspect() : <span class="hljs-built_in">String</span>(L)
        } <span class="hljs-keyword">catch</span> (M) {
            <span class="hljs-keyword">if</span> (M <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">RangeError</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"..."</span>
            }
            <span class="hljs-keyword">throw</span> M
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">A</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> m(<span class="hljs-string">""</span>, {
            <span class="hljs-string">""</span>: L
        }, [])
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">U, R, S</span>) </span>{
        <span class="hljs-keyword">var</span> T = R[U];
        <span class="hljs-keyword">if</span> (D(T) === I &amp;&amp; <span class="hljs-keyword">typeof</span> T.toJSON === <span class="hljs-string">"function"</span>) {
            T = T.toJSON(U)
        }
        <span class="hljs-keyword">var</span> N = y.call(T);
        <span class="hljs-keyword">switch</span> (N) {
            <span class="hljs-keyword">case</span> j:
            <span class="hljs-keyword">case</span> d:
            <span class="hljs-keyword">case</span> f:
                T = T.valueOf()
        }
        <span class="hljs-keyword">switch</span> (T) {
            <span class="hljs-keyword">case</span> <span class="hljs-literal">null</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"null"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-literal">true</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"true"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-literal">false</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"false"</span>
        }
        <span class="hljs-keyword">var</span> Q = <span class="hljs-keyword">typeof</span> T;
        <span class="hljs-keyword">switch</span> (Q) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"string"</span>:
                <span class="hljs-keyword">return</span> T.inspect(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"number"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">isFinite</span>(T) ? <span class="hljs-built_in">String</span>(T) : <span class="hljs-string">"null"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"object"</span>:
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> M = <span class="hljs-number">0</span>, L = S.length; M &lt; L; M++) {
                    <span class="hljs-keyword">if</span> (S[M] === T) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"Cyclic reference to '"</span> + T + <span class="hljs-string">"' in object"</span>)
                    }
                }
                S.push(T);
                <span class="hljs-keyword">var</span> P = [];
                <span class="hljs-keyword">if</span> (N === b) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> M = <span class="hljs-number">0</span>, L = T.length; M &lt; L; M++) {
                        <span class="hljs-keyword">var</span> O = m(M, T, S);
                        P.push(<span class="hljs-keyword">typeof</span> O === <span class="hljs-string">"undefined"</span> ? <span class="hljs-string">"null"</span> : O)
                    }
                    P = <span class="hljs-string">"["</span> + P.join(<span class="hljs-string">","</span>) + <span class="hljs-string">"]"</span>
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> V = <span class="hljs-built_in">Object</span>.keys(T);
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> M = <span class="hljs-number">0</span>, L = V.length; M &lt; L; M++) {
                        <span class="hljs-keyword">var</span> U = V[M],
                            O = m(U, T, S);
                        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> O !== <span class="hljs-string">"undefined"</span>) {
                            P.push(U.inspect(<span class="hljs-literal">true</span>) + <span class="hljs-string">":"</span> + O)
                        }
                    }
                    P = <span class="hljs-string">"{"</span> + P.join(<span class="hljs-string">","</span>) + <span class="hljs-string">"}"</span>
                }
                S.pop();
                <span class="hljs-keyword">return</span> P
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify(L)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> $H(L).toQueryString()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> L &amp;&amp; L.toHTML ? L.toHTML() : <span class="hljs-built_in">String</span>.interpret(L)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">if</span> (D(L) !== I) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        <span class="hljs-keyword">var</span> N = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> O <span class="hljs-keyword">in</span> L) {
            <span class="hljs-keyword">if</span> (k.call(L, O)) {
                N.push(O)
            }
        }
        <span class="hljs-keyword">if</span> (a) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> M = <span class="hljs-number">0</span>; O = q[M]; M++) {
                <span class="hljs-keyword">if</span> (k.call(L, O)) {
                    N.push(O)
                }
            }
        }
        <span class="hljs-keyword">return</span> N
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">G</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">var</span> M = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> N <span class="hljs-keyword">in</span> L) {
            M.push(L[N])
        }
        <span class="hljs-keyword">return</span> M
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> h({}, L)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> !!(L &amp;&amp; L.nodeType == <span class="hljs-number">1</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> y.call(L) === b
    }
    <span class="hljs-keyword">var</span> c = (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Array</span>.isArray == <span class="hljs-string">"function"</span>) &amp;&amp; <span class="hljs-built_in">Array</span>.isArray([]) &amp;&amp; !<span class="hljs-built_in">Array</span>.isArray({});
    <span class="hljs-keyword">if</span> (c) {
        u = <span class="hljs-built_in">Array</span>.isArray
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> L <span class="hljs-keyword">instanceof</span> Hash
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> y.call(L) === i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> y.call(L) === f
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> y.call(L) === j
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> y.call(L) === H
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">L</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> L === <span class="hljs-string">"undefined"</span>
    }
    h(<span class="hljs-built_in">Object</span>, {
        <span class="hljs-attr">extend</span>: h,
        <span class="hljs-attr">inspect</span>: l,
        <span class="hljs-attr">toJSON</span>: e ? J : A,
        <span class="hljs-attr">toQueryString</span>: C,
        <span class="hljs-attr">toHTML</span>: p,
        <span class="hljs-attr">keys</span>: <span class="hljs-built_in">Object</span>.keys || x,
        <span class="hljs-attr">values</span>: G,
        <span class="hljs-attr">clone</span>: s,
        <span class="hljs-attr">isElement</span>: E,
        <span class="hljs-attr">isArray</span>: u,
        <span class="hljs-attr">isHash</span>: r,
        <span class="hljs-attr">isFunction</span>: n,
        <span class="hljs-attr">isString</span>: g,
        <span class="hljs-attr">isNumber</span>: F,
        <span class="hljs-attr">isDate</span>: t,
        <span class="hljs-attr">isUndefined</span>: o
    })
})();
<span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">Function</span>.prototype, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> l = <span class="hljs-built_in">Array</span>.prototype.slice;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">p, m</span>) </span>{
        <span class="hljs-keyword">var</span> o = p.length,
            n = m.length;
        <span class="hljs-keyword">while</span> (n--) {
            p[o + n] = m[n]
        }
        <span class="hljs-keyword">return</span> p
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">n, m</span>) </span>{
        n = l.call(n, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> d(n, m)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.toString().match(<span class="hljs-regexp">/^[\s\(]*function[^(]*\(([^)]*)\)/</span>)[<span class="hljs-number">1</span>].replace(<span class="hljs-regexp">/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g</span>, <span class="hljs-string">""</span>).replace(<span class="hljs-regexp">/\s+/g</span>, <span class="hljs-string">""</span>).split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">return</span> m.length == <span class="hljs-number">1</span> &amp;&amp; !m[<span class="hljs-number">0</span>] ? [] : m
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &lt; <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-built_in">Object</span>.isUndefined(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>])) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isFunction(<span class="hljs-keyword">this</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">"The object is not callable."</span>)
        }
        <span class="hljs-keyword">var</span> q = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>,
            n = l.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">var</span> p = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> r = j(n, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> p ? <span class="hljs-keyword">this</span> : o;
            <span class="hljs-keyword">return</span> m.apply(s, r)
        };
        q.prototype = <span class="hljs-keyword">this</span>.prototype;
        p.prototype = <span class="hljs-keyword">new</span> q();
        <span class="hljs-keyword">return</span> p
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>,
            n = l.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">q</span>) </span>{
            <span class="hljs-keyword">var</span> p = d([q || <span class="hljs-built_in">window</span>.event], n);
            <span class="hljs-keyword">return</span> m.apply(o, p)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">arguments</span>.length) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        }
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>,
            n = l.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> o = j(n, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> m.apply(<span class="hljs-keyword">this</span>, o)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>,
            n = l.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
        o = o * <span class="hljs-number">1000</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> m.apply(m, n)
        }, o)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = d([<span class="hljs-number">0.01</span>], <span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.delay.apply(<span class="hljs-keyword">this</span>, m)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> o = d([m.bind(<span class="hljs-keyword">this</span>)], <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> n.apply(<span class="hljs-keyword">this</span>, o)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._methodized) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._methodized
        }
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._methodized = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> n = d([<span class="hljs-keyword">this</span>], <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> m.apply(<span class="hljs-literal">null</span>, n)
        }
    }
    <span class="hljs-keyword">var</span> i = {
        <span class="hljs-attr">argumentNames</span>: g,
        <span class="hljs-attr">bindAsEventListener</span>: f,
        <span class="hljs-attr">curry</span>: k,
        <span class="hljs-attr">delay</span>: e,
        <span class="hljs-attr">defer</span>: a,
        <span class="hljs-attr">wrap</span>: c,
        <span class="hljs-attr">methodize</span>: b
    };
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Function</span>.prototype.bind) {
        i.bind = h
    }
    <span class="hljs-keyword">return</span> i
})());
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getUTCFullYear() + <span class="hljs-string">"-"</span> + (<span class="hljs-keyword">this</span>.getUTCMonth() + <span class="hljs-number">1</span>).toPaddedString(<span class="hljs-number">2</span>) + <span class="hljs-string">"-"</span> + <span class="hljs-keyword">this</span>.getUTCDate().toPaddedString(<span class="hljs-number">2</span>) + <span class="hljs-string">"T"</span> + <span class="hljs-keyword">this</span>.getUTCHours().toPaddedString(<span class="hljs-number">2</span>) + <span class="hljs-string">":"</span> + <span class="hljs-keyword">this</span>.getUTCMinutes().toPaddedString(<span class="hljs-number">2</span>) + <span class="hljs-string">":"</span> + <span class="hljs-keyword">this</span>.getUTCSeconds().toPaddedString(<span class="hljs-number">2</span>) + <span class="hljs-string">"Z"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toISOString()
    }
    <span class="hljs-keyword">if</span> (!c.toISOString) {
        c.toISOString = b
    }
    <span class="hljs-keyword">if</span> (!c.toJSON) {
        c.toJSON = a
    }
})(<span class="hljs-built_in">Date</span>.prototype);
<span class="hljs-built_in">RegExp</span>.prototype.match = <span class="hljs-built_in">RegExp</span>.prototype.test;
<span class="hljs-built_in">RegExp</span>.escape = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(a).replace(<span class="hljs-regexp">/([.*+?^=!:()|[\]\/\\])/g</span>, <span class="hljs-string">"\\$1"</span>)
};
<span class="hljs-keyword">var</span> PeriodicalExecuter = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        <span class="hljs-keyword">this</span>.callback = b;
        <span class="hljs-keyword">this</span>.frequency = a;
        <span class="hljs-keyword">this</span>.currentlyExecuting = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.registerCallback()
    },
    <span class="hljs-attr">registerCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.timer = setInterval(<span class="hljs-keyword">this</span>.onTimerEvent.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.frequency * <span class="hljs-number">1000</span>)
    },
    <span class="hljs-attr">execute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.callback(<span class="hljs-keyword">this</span>)
    },
    <span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.timer) {
            <span class="hljs-keyword">return</span>
        }
        clearInterval(<span class="hljs-keyword">this</span>.timer);
        <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>
    },
    <span class="hljs-attr">onTimerEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.currentlyExecuting) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">this</span>.currentlyExecuting = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>.execute();
                <span class="hljs-keyword">this</span>.currentlyExecuting = <span class="hljs-literal">false</span>
            } <span class="hljs-keyword">catch</span> (a) {
                <span class="hljs-keyword">this</span>.currentlyExecuting = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">throw</span> a
            }
        }
    }
});
<span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">String</span>, {
    <span class="hljs-attr">interpret</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> a == <span class="hljs-literal">null</span> ? <span class="hljs-string">""</span> : <span class="hljs-built_in">String</span>(a)
    },
    <span class="hljs-attr">specialChar</span>: {
        <span class="hljs-string">"\b"</span>: <span class="hljs-string">"\\b"</span>,
        <span class="hljs-string">"\t"</span>: <span class="hljs-string">"\\t"</span>,
        <span class="hljs-string">"\n"</span>: <span class="hljs-string">"\\n"</span>,
        <span class="hljs-string">"\f"</span>: <span class="hljs-string">"\\f"</span>,
        <span class="hljs-string">"\r"</span>: <span class="hljs-string">"\\r"</span>,
        <span class="hljs-string">"\\"</span>: <span class="hljs-string">"\\\\"</span>
    }
});
<span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">String</span>.prototype, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> NATIVE_JSON_PARSE_SUPPORT = <span class="hljs-built_in">window</span>.JSON &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">JSON</span>.parse === <span class="hljs-string">"function"</span> &amp;&amp; <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-string">'{"test": true}'</span>).test;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareReplacement</span>(<span class="hljs-params">replacement</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(replacement)) {
            <span class="hljs-keyword">return</span> replacement
        }
        <span class="hljs-keyword">var</span> template = <span class="hljs-keyword">new</span> Template(replacement);
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) </span>{
            <span class="hljs-keyword">return</span> template.evaluate(match)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNonEmptyRegExp</span>(<span class="hljs-params">regexp</span>) </span>{
        <span class="hljs-keyword">return</span> regexp.source &amp;&amp; regexp.source !== <span class="hljs-string">"(?:)"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gsub</span>(<span class="hljs-params">pattern, replacement</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-string">""</span>,
            source = <span class="hljs-keyword">this</span>,
            match;
        replacement = prepareReplacement(replacement);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(pattern)) {
            pattern = <span class="hljs-built_in">RegExp</span>.escape(pattern)
        }
        <span class="hljs-keyword">if</span> (!(pattern.length || isNonEmptyRegExp(pattern))) {
            replacement = replacement(<span class="hljs-string">""</span>);
            <span class="hljs-keyword">return</span> replacement + source.split(<span class="hljs-string">""</span>).join(replacement) + replacement
        }
        <span class="hljs-keyword">while</span> (source.length &gt; <span class="hljs-number">0</span>) {
            match = source.match(pattern);
            <span class="hljs-keyword">if</span> (match &amp;&amp; match[<span class="hljs-number">0</span>].length &gt; <span class="hljs-number">0</span>) {
                result += source.slice(<span class="hljs-number">0</span>, match.index);
                result += <span class="hljs-built_in">String</span>.interpret(replacement(match));
                source = source.slice(match.index + match[<span class="hljs-number">0</span>].length)
            } <span class="hljs-keyword">else</span> {
                result += source, source = <span class="hljs-string">""</span>
            }
        }
        <span class="hljs-keyword">return</span> result
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sub</span>(<span class="hljs-params">pattern, replacement, count</span>) </span>{
        replacement = prepareReplacement(replacement);
        count = <span class="hljs-built_in">Object</span>.isUndefined(count) ? <span class="hljs-number">1</span> : count;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.gsub(pattern, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) </span>{
            <span class="hljs-keyword">if</span> (--count &lt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> match[<span class="hljs-number">0</span>]
            }
            <span class="hljs-keyword">return</span> replacement(match)
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scan</span>(<span class="hljs-params">pattern, iterator</span>) </span>{
        <span class="hljs-keyword">this</span>.gsub(pattern, iterator);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">truncate</span>(<span class="hljs-params">length, truncation</span>) </span>{
        length = length || <span class="hljs-number">30</span>;
        truncation = <span class="hljs-built_in">Object</span>.isUndefined(truncation) ? <span class="hljs-string">"..."</span> : truncation;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length &gt; length ? <span class="hljs-keyword">this</span>.slice(<span class="hljs-number">0</span>, length - truncation.length) + truncation : <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">strip</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/^\s+/</span>, <span class="hljs-string">""</span>).replace(<span class="hljs-regexp">/\s+$/</span>, <span class="hljs-string">""</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stripTags</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/&lt;\w+(\s+("[^"]*"|'[^']*'|[^&gt;])+)?(\/)?&gt;|&lt;\/\w+&gt;/gi</span>, <span class="hljs-string">""</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stripScripts</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(Prototype.ScriptFragment, <span class="hljs-string">"img"</span>), <span class="hljs-string">""</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractScripts</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> matchAll = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(Prototype.ScriptFragment, <span class="hljs-string">"img"</span>),
            matchOne = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(Prototype.ScriptFragment, <span class="hljs-string">"im"</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.match(matchAll) || []).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scriptTag</span>) </span>{
            <span class="hljs-keyword">return</span> (scriptTag.match(matchOne) || [<span class="hljs-string">""</span>, <span class="hljs-string">""</span>])[<span class="hljs-number">1</span>]
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evalScripts</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.extractScripts().map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">script</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>(script)
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeHTML</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">"&amp;amp;"</span>).replace(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">"&amp;lt;"</span>).replace(<span class="hljs-regexp">/&gt;/g</span>, <span class="hljs-string">"&amp;gt;"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unescapeHTML</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.stripTags().replace(<span class="hljs-regexp">/&amp;lt;/g</span>, <span class="hljs-string">"&lt;"</span>).replace(<span class="hljs-regexp">/&amp;gt;/g</span>, <span class="hljs-string">"&gt;"</span>).replace(<span class="hljs-regexp">/&amp;amp;/g</span>, <span class="hljs-string">"&amp;"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toQueryParams</span>(<span class="hljs-params">separator</span>) </span>{
        <span class="hljs-keyword">var</span> match = <span class="hljs-keyword">this</span>.strip().match(<span class="hljs-regexp">/([^?#]*)(#.*)?$/</span>);
        <span class="hljs-keyword">if</span> (!match) {
            <span class="hljs-keyword">return</span> {}
        }
        <span class="hljs-keyword">return</span> match[<span class="hljs-number">1</span>].split(separator || <span class="hljs-string">"&amp;"</span>).inject({}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hash, pair</span>) </span>{
            <span class="hljs-keyword">if</span> ((pair = pair.split(<span class="hljs-string">"="</span>))[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">var</span> key = <span class="hljs-built_in">decodeURIComponent</span>(pair.shift()),
                    value = pair.length &gt; <span class="hljs-number">1</span> ? pair.join(<span class="hljs-string">"="</span>) : pair[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (value != <span class="hljs-literal">undefined</span>) {
                    value = value.gsub(<span class="hljs-string">"+"</span>, <span class="hljs-string">" "</span>);
                    value = <span class="hljs-built_in">decodeURIComponent</span>(value)
                }
                <span class="hljs-keyword">if</span> (key <span class="hljs-keyword">in</span> hash) {
                    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isArray(hash[key])) {
                        hash[key] = [hash[key]]
                    }
                    hash[key].push(value)
                } <span class="hljs-keyword">else</span> {
                    hash[key] = value
                }
            }
            <span class="hljs-keyword">return</span> hash
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toArray</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.split(<span class="hljs-string">""</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">succ</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.slice(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.length - <span class="hljs-number">1</span>) + <span class="hljs-built_in">String</span>.fromCharCode(<span class="hljs-keyword">this</span>.charCodeAt(<span class="hljs-keyword">this</span>.length - <span class="hljs-number">1</span>) + <span class="hljs-number">1</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">times</span>(<span class="hljs-params">count</span>) </span>{
        <span class="hljs-keyword">return</span> count &lt; <span class="hljs-number">1</span> ? <span class="hljs-string">""</span> : <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(count + <span class="hljs-number">1</span>).join(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">camelize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/-+(.)?/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match, chr</span>) </span>{
            <span class="hljs-keyword">return</span> chr ? chr.toUpperCase() : <span class="hljs-string">""</span>
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">capitalize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.charAt(<span class="hljs-number">0</span>).toUpperCase() + <span class="hljs-keyword">this</span>.substring(<span class="hljs-number">1</span>).toLowerCase()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">underscore</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/::/g</span>, <span class="hljs-string">"/"</span>).replace(<span class="hljs-regexp">/([A-Z]+)([A-Z][a-z])/g</span>, <span class="hljs-string">"$1_$2"</span>).replace(<span class="hljs-regexp">/([a-z\d])([A-Z])/g</span>, <span class="hljs-string">"$1_$2"</span>).replace(<span class="hljs-regexp">/-/g</span>, <span class="hljs-string">"_"</span>).toLowerCase()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dasherize</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/_/g</span>, <span class="hljs-string">"-"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inspect</span>(<span class="hljs-params">useDoubleQuotes</span>) </span>{
        <span class="hljs-keyword">var</span> escapedString = <span class="hljs-keyword">this</span>.replace(<span class="hljs-regexp">/[\x00-\x1f\\]/g</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">character</span>) </span>{
            <span class="hljs-keyword">if</span> (character <span class="hljs-keyword">in</span> <span class="hljs-built_in">String</span>.specialChar) {
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>.specialChar[character]
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"\\u00"</span> + character.charCodeAt().toPaddedString(<span class="hljs-number">2</span>, <span class="hljs-number">16</span>)
        });
        <span class="hljs-keyword">if</span> (useDoubleQuotes) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'"'</span> + escapedString.replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">'\\"'</span>) + <span class="hljs-string">'"'</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"'"</span> + escapedString.replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">"\\'"</span>) + <span class="hljs-string">"'"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unfilterJSON</span>(<span class="hljs-params">filter</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.replace(filter || Prototype.JSONFilter, <span class="hljs-string">"$1"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isJSON</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> str = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">if</span> (str.blank()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        str = str.replace(<span class="hljs-regexp">/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g</span>, <span class="hljs-string">"@"</span>);
        str = str.replace(<span class="hljs-regexp">/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>, <span class="hljs-string">"]"</span>);
        str = str.replace(<span class="hljs-regexp">/(?:^|:|,)(?:\s*\[)+/g</span>, <span class="hljs-string">""</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/^[\],:{}\s]*$/</span>).test(str)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evalJSON</span>(<span class="hljs-params">sanitize</span>) </span>{
        <span class="hljs-keyword">var</span> json = <span class="hljs-keyword">this</span>.unfilterJSON(),
            cx = <span class="hljs-regexp">/[\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff\u0000]/g</span>;
        <span class="hljs-keyword">if</span> (cx.test(json)) {
            json = json.replace(cx, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-string">"\\u"</span> + (<span class="hljs-string">"0000"</span> + a.charCodeAt(<span class="hljs-number">0</span>).toString(<span class="hljs-number">16</span>)).slice(<span class="hljs-number">-4</span>)
            })
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!sanitize || json.isJSON()) {
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>(<span class="hljs-string">"("</span> + json + <span class="hljs-string">")"</span>)
            }
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">SyntaxError</span>(<span class="hljs-string">"Badly formed JSON string: "</span> + <span class="hljs-keyword">this</span>.inspect())
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseJSON</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> json = <span class="hljs-keyword">this</span>.unfilterJSON();
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(json)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">include</span>(<span class="hljs-params">pattern</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.indexOf(pattern) &gt; <span class="hljs-number">-1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startsWith</span>(<span class="hljs-params">pattern, position</span>) </span>{
        position = <span class="hljs-built_in">Object</span>.isNumber(position) ? position : <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.lastIndexOf(pattern, position) === position
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endsWith</span>(<span class="hljs-params">pattern, position</span>) </span>{
        pattern = <span class="hljs-built_in">String</span>(pattern);
        position = <span class="hljs-built_in">Object</span>.isNumber(position) ? position : <span class="hljs-keyword">this</span>.length;
        <span class="hljs-keyword">if</span> (position &lt; <span class="hljs-number">0</span>) {
            position = <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (position &gt; <span class="hljs-keyword">this</span>.length) {
            position = <span class="hljs-keyword">this</span>.length
        }
        <span class="hljs-keyword">var</span> d = position - pattern.length;
        <span class="hljs-keyword">return</span> d &gt;= <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.indexOf(pattern, d) === d
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">empty</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> == <span class="hljs-string">""</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">blank</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^\s*$/</span>.test(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">interpolate</span>(<span class="hljs-params">object, pattern</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Template(<span class="hljs-keyword">this</span>, pattern).evaluate(object)
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">gsub</span>: gsub,
        <span class="hljs-attr">sub</span>: sub,
        <span class="hljs-attr">scan</span>: scan,
        <span class="hljs-attr">truncate</span>: truncate,
        <span class="hljs-attr">strip</span>: <span class="hljs-built_in">String</span>.prototype.trim || strip,
        <span class="hljs-attr">stripTags</span>: stripTags,
        <span class="hljs-attr">stripScripts</span>: stripScripts,
        <span class="hljs-attr">extractScripts</span>: extractScripts,
        <span class="hljs-attr">evalScripts</span>: evalScripts,
        <span class="hljs-attr">escapeHTML</span>: escapeHTML,
        <span class="hljs-attr">unescapeHTML</span>: unescapeHTML,
        <span class="hljs-attr">toQueryParams</span>: toQueryParams,
        <span class="hljs-attr">parseQuery</span>: toQueryParams,
        <span class="hljs-attr">toArray</span>: toArray,
        <span class="hljs-attr">succ</span>: succ,
        <span class="hljs-attr">times</span>: times,
        <span class="hljs-attr">camelize</span>: camelize,
        <span class="hljs-attr">capitalize</span>: capitalize,
        <span class="hljs-attr">underscore</span>: underscore,
        <span class="hljs-attr">dasherize</span>: dasherize,
        <span class="hljs-attr">inspect</span>: inspect,
        <span class="hljs-attr">unfilterJSON</span>: unfilterJSON,
        <span class="hljs-attr">isJSON</span>: isJSON,
        <span class="hljs-attr">evalJSON</span>: NATIVE_JSON_PARSE_SUPPORT ? parseJSON : evalJSON,
        <span class="hljs-attr">include</span>: include,
        <span class="hljs-attr">startsWith</span>: <span class="hljs-built_in">String</span>.prototype.startsWith || startsWith,
        <span class="hljs-attr">endsWith</span>: <span class="hljs-built_in">String</span>.prototype.endsWith || endsWith,
        <span class="hljs-attr">empty</span>: empty,
        <span class="hljs-attr">blank</span>: blank,
        <span class="hljs-attr">interpolate</span>: interpolate
    }
})());
<span class="hljs-keyword">var</span> Template = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">this</span>.template = a.toString();
        <span class="hljs-keyword">this</span>.pattern = b || Template.Pattern
    },
    <span class="hljs-attr">evaluate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (a &amp;&amp; <span class="hljs-built_in">Object</span>.isFunction(a.toTemplateReplacements)) {
            a = a.toTemplateReplacements()
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.template.gsub(<span class="hljs-keyword">this</span>.pattern, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">if</span> (a == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> (d[<span class="hljs-number">1</span>] + <span class="hljs-string">""</span>)
            }
            <span class="hljs-keyword">var</span> f = d[<span class="hljs-number">1</span>] || <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span> (f == <span class="hljs-string">"\\"</span>) {
                <span class="hljs-keyword">return</span> d[<span class="hljs-number">2</span>]
            }
            <span class="hljs-keyword">var</span> b = a,
                g = d[<span class="hljs-number">3</span>],
                e = <span class="hljs-regexp">/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/</span>;
            d = e.exec(g);
            <span class="hljs-keyword">if</span> (d == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> f
            }
            <span class="hljs-keyword">while</span> (d != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">var</span> c = d[<span class="hljs-number">1</span>].startsWith(<span class="hljs-string">"["</span>) ? d[<span class="hljs-number">2</span>].replace(<span class="hljs-regexp">/\\\\]/g</span>, <span class="hljs-string">"]"</span>) : d[<span class="hljs-number">1</span>];
                b = b[c];
                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == b || <span class="hljs-string">""</span> == d[<span class="hljs-number">3</span>]) {
                    <span class="hljs-keyword">break</span>
                }
                g = g.substring(<span class="hljs-string">"["</span> == d[<span class="hljs-number">3</span>] ? d[<span class="hljs-number">1</span>].length : d[<span class="hljs-number">0</span>].length);
                d = e.exec(g)
            }
            <span class="hljs-keyword">return</span> f + <span class="hljs-built_in">String</span>.interpret(b)
        })
    }
});
Template.Pattern = <span class="hljs-regexp">/(^|.|\r|\n)(#\{(.*?)\})/</span>;
<span class="hljs-keyword">var</span> $<span class="hljs-keyword">break</span> = {};
<span class="hljs-keyword">var</span> Enumerable = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">x, w</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>._each(x, w)
        } <span class="hljs-keyword">catch</span> (y) {
            <span class="hljs-keyword">if</span> (y != $<span class="hljs-keyword">break</span>) {
                <span class="hljs-keyword">throw</span> y
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">z, y, x</span>) </span>{
        <span class="hljs-keyword">var</span> w = -z,
            A = [],
            B = <span class="hljs-keyword">this</span>.toArray();
        <span class="hljs-keyword">if</span> (z &lt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> B
        }
        <span class="hljs-keyword">while</span> ((w += z) &lt; B.length) {
            A.push(B.slice(w, w + z))
        }
        <span class="hljs-keyword">return</span> A.collect(y, x)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            w = w &amp;&amp; !!y.call(x, A, z, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (!w) {
                <span class="hljs-keyword">throw</span> $<span class="hljs-keyword">break</span>
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">if</span> (w = !!y.call(x, A, z, <span class="hljs-keyword">this</span>)) {
                <span class="hljs-keyword">throw</span> $<span class="hljs-keyword">break</span>
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w = [];
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            w.push(y.call(x, A, z, <span class="hljs-keyword">this</span>))
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">y, x</span>) </span>{
        <span class="hljs-keyword">var</span> w;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">if</span> (y.call(x, A, z, <span class="hljs-keyword">this</span>)) {
                w = A;
                <span class="hljs-keyword">throw</span> $<span class="hljs-keyword">break</span>
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">y, x</span>) </span>{
        <span class="hljs-keyword">var</span> w = [];
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">if</span> (y.call(x, A, z, <span class="hljs-keyword">this</span>)) {
                w.push(A)
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">z, y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w = [];
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(z)) {
            z = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-built_in">RegExp</span>.escape(z))
        }
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">B, A</span>) </span>{
            <span class="hljs-keyword">if</span> (z.match(B)) {
                w.push(y.call(x, B, A, <span class="hljs-keyword">this</span>))
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">w</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(<span class="hljs-keyword">this</span>.indexOf) &amp;&amp; <span class="hljs-keyword">this</span>.indexOf(w) != <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">var</span> x = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) </span>{
            <span class="hljs-keyword">if</span> (y == w) {
                x = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">throw</span> $<span class="hljs-keyword">break</span>
            }
        });
        <span class="hljs-keyword">return</span> x
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params">x, w</span>) </span>{
        w = <span class="hljs-built_in">Object</span>.isUndefined(w) ? <span class="hljs-literal">null</span> : w;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.eachSlice(x, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) </span>{
            <span class="hljs-keyword">while</span> (y.length &lt; x) {
                y.push(w)
            }
            <span class="hljs-keyword">return</span> y
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">w, y, x</span>) </span>{
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            w = y.call(x, w, A, z, <span class="hljs-keyword">this</span>)
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params">x</span>) </span>{
        <span class="hljs-keyword">var</span> w = $A(<span class="hljs-built_in">arguments</span>).slice(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) </span>{
            <span class="hljs-keyword">return</span> y[x].apply(y, w)
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            A = y.call(x, A, z, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (w == <span class="hljs-literal">null</span> || A &gt;= w) {
                w = A
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">y, x</span>) </span>{
        y = y || Prototype.K;
        <span class="hljs-keyword">var</span> w;
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            A = y.call(x, A, z, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (w == <span class="hljs-literal">null</span> || A &lt; w) {
                w = A
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">z, x</span>) </span>{
        z = z || Prototype.K;
        <span class="hljs-keyword">var</span> y = [],
            w = [];
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">B, A</span>) </span>{
            (z.call(x, B, A, <span class="hljs-keyword">this</span>) ? y : w).push(B)
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> [y, w]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">x</span>) </span>{
        <span class="hljs-keyword">var</span> w = [];
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) </span>{
            w.push(y[x])
        });
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">y, x</span>) </span>{
        <span class="hljs-keyword">var</span> w = [];
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">if</span> (!y.call(x, A, z, <span class="hljs-keyword">this</span>)) {
                w.push(A)
            }
        }, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> w
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">x, w</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">z, y</span>) </span>{
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">value</span>: z,
                <span class="hljs-attr">criteria</span>: x.call(w, z, y, <span class="hljs-keyword">this</span>)
            }
        }, <span class="hljs-keyword">this</span>).sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">B, A</span>) </span>{
            <span class="hljs-keyword">var</span> z = B.criteria,
                y = A.criteria;
            <span class="hljs-keyword">return</span> z &lt; y ? <span class="hljs-number">-1</span> : z &gt; y ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>
        }).pluck(<span class="hljs-string">"value"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> x = Prototype.K,
            w = $A(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(w.last())) {
            x = w.pop()
        }
        <span class="hljs-keyword">var</span> y = [<span class="hljs-keyword">this</span>].concat(w).map($A);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">return</span> x(y.pluck(z))
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toArray().length
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#&lt;Enumerable:"</span> + <span class="hljs-keyword">this</span>.toArray().inspect() + <span class="hljs-string">"&gt;"</span>
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">each</span>: c,
        <span class="hljs-attr">eachSlice</span>: r,
        <span class="hljs-attr">all</span>: b,
        <span class="hljs-attr">every</span>: b,
        <span class="hljs-attr">any</span>: i,
        <span class="hljs-attr">some</span>: i,
        <span class="hljs-attr">collect</span>: j,
        <span class="hljs-attr">map</span>: j,
        <span class="hljs-attr">detect</span>: t,
        <span class="hljs-attr">findAll</span>: h,
        <span class="hljs-attr">select</span>: h,
        <span class="hljs-attr">filter</span>: h,
        <span class="hljs-attr">grep</span>: g,
        <span class="hljs-attr">include</span>: a,
        <span class="hljs-attr">member</span>: a,
        <span class="hljs-attr">inGroupsOf</span>: q,
        <span class="hljs-attr">inject</span>: l,
        <span class="hljs-attr">invoke</span>: v,
        <span class="hljs-attr">max</span>: p,
        <span class="hljs-attr">min</span>: n,
        <span class="hljs-attr">partition</span>: e,
        <span class="hljs-attr">pluck</span>: f,
        <span class="hljs-attr">reject</span>: d,
        <span class="hljs-attr">sortBy</span>: m,
        <span class="hljs-attr">toArray</span>: o,
        <span class="hljs-attr">entries</span>: o,
        <span class="hljs-attr">zip</span>: s,
        <span class="hljs-attr">size</span>: k,
        <span class="hljs-attr">inspect</span>: u,
        <span class="hljs-attr">find</span>: t
    }
})();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$A</span>(<span class="hljs-params">c</span>) </span>{
    <span class="hljs-keyword">if</span> (!c) {
        <span class="hljs-keyword">return</span> []
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"toArray"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">Object</span>(c)) {
        <span class="hljs-keyword">return</span> c.toArray()
    }
    <span class="hljs-keyword">var</span> b = c.length || <span class="hljs-number">0</span>,
        a = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(b);
    <span class="hljs-keyword">while</span> (b--) {
        a[b] = c[b]
    }
    <span class="hljs-keyword">return</span> a
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$w</span>(<span class="hljs-params">a</span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isString(a)) {
        <span class="hljs-keyword">return</span> []
    }
    a = a.strip();
    <span class="hljs-keyword">return</span> a ? a.split(<span class="hljs-regexp">/\s+/</span>) : []
}
<span class="hljs-built_in">Array</span>.from = $A;
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> v = <span class="hljs-built_in">Array</span>.prototype,
        o = v.slice,
        q = v.forEach;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">B, A</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>, C = <span class="hljs-keyword">this</span>.length &gt;&gt;&gt; <span class="hljs-number">0</span>; z &lt; C; z++) {
            <span class="hljs-keyword">if</span> (z <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
                B.call(A, <span class="hljs-keyword">this</span>[z], z, <span class="hljs-keyword">this</span>)
            }
        }
    }
    <span class="hljs-keyword">if</span> (!q) {
        q = b
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[<span class="hljs-keyword">this</span>.length - <span class="hljs-number">1</span>]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.select(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">z</span>) </span>{
            <span class="hljs-keyword">return</span> z != <span class="hljs-literal">null</span>
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.inject([], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A, z</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isArray(z)) {
                <span class="hljs-keyword">return</span> A.concat(z.flatten())
            }
            A.push(z);
            <span class="hljs-keyword">return</span> A
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> z = o.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.select(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A</span>) </span>{
            <span class="hljs-keyword">return</span> !z.include(A)
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">z</span>) </span>{
        <span class="hljs-keyword">return</span> (z === <span class="hljs-literal">false</span> ? <span class="hljs-keyword">this</span>.toArray() : <span class="hljs-keyword">this</span>)._reverse()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">z</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.inject([], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">C, B, A</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == A || (z ? C.last() != B : !C.include(B))) {
                C.push(B)
            }
            <span class="hljs-keyword">return</span> C
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">z</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.uniq().findAll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">A</span>) </span>{
            <span class="hljs-keyword">return</span> z.indexOf(A) !== <span class="hljs-number">-1</span>
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> o.call(<span class="hljs-keyword">this</span>, <span class="hljs-number">0</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"["</span> + <span class="hljs-keyword">this</span>.map(<span class="hljs-built_in">Object</span>.inspect).join(<span class="hljs-string">", "</span>) + <span class="hljs-string">"]"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">C, A</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        <span class="hljs-keyword">var</span> D = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>),
            B = D.length &gt;&gt;&gt; <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (B === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
        }
        A = <span class="hljs-built_in">Number</span>(A);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(A)) {
            A = <span class="hljs-number">0</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (A !== <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(A)) {
                A = (A &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>) * <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.abs(A))
            }
        }
        <span class="hljs-keyword">if</span> (A &gt; B) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
        }
        <span class="hljs-keyword">var</span> z = A &gt;= <span class="hljs-number">0</span> ? A : <span class="hljs-built_in">Math</span>.max(B - <span class="hljs-built_in">Math</span>.abs(A), <span class="hljs-number">0</span>);
        <span class="hljs-keyword">for</span> (; z &lt; B; z++) {
            <span class="hljs-keyword">if</span> (z <span class="hljs-keyword">in</span> D &amp;&amp; D[z] === C) {
                <span class="hljs-keyword">return</span> z
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">C, A</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        <span class="hljs-keyword">var</span> D = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>),
            B = D.length &gt;&gt;&gt; <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (B === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isUndefined(A)) {
            A = <span class="hljs-built_in">Number</span>(A);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(A)) {
                A = <span class="hljs-number">0</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (A !== <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-built_in">isFinite</span>(A)) {
                    A = (A &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>) * <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.abs(A))
                }
            }
        } <span class="hljs-keyword">else</span> {
            A = B
        }
        <span class="hljs-keyword">var</span> z = A &gt;= <span class="hljs-number">0</span> ? <span class="hljs-built_in">Math</span>.min(A, B - <span class="hljs-number">1</span>) : B - <span class="hljs-built_in">Math</span>.abs(A);
        <span class="hljs-keyword">for</span> (; z &gt;= <span class="hljs-number">0</span>; z--) {
            <span class="hljs-keyword">if</span> (z <span class="hljs-keyword">in</span> D &amp;&amp; D[z] === C) {
                <span class="hljs-keyword">return</span> z
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">G</span>) </span>{
        <span class="hljs-keyword">var</span> E = [],
            F = o.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>),
            H, A = <span class="hljs-number">0</span>;
        F.unshift(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> D = <span class="hljs-number">0</span>, z = F.length; D &lt; z; D++) {
            H = F[D];
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isArray(H) &amp;&amp; !(<span class="hljs-string">"callee"</span> <span class="hljs-keyword">in</span> H)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> C = <span class="hljs-number">0</span>, B = H.length; C &lt; B; C++) {
                    <span class="hljs-keyword">if</span> (C <span class="hljs-keyword">in</span> H) {
                        E[A] = H[C]
                    }
                    A++
                }
            } <span class="hljs-keyword">else</span> {
                E[A++] = H
            }
        }
        E.length = A;
        <span class="hljs-keyword">return</span> E
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">z</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> z.call(<span class="hljs-keyword">this</span>, Prototype.K)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] === <span class="hljs-literal">undefined</span>) {
                    <span class="hljs-keyword">var</span> A = o.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);
                    A.unshift(Prototype.K);
                    <span class="hljs-keyword">return</span> z.apply(<span class="hljs-keyword">this</span>, A)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> z.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
                }
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params">D</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        D = D || Prototype.K;
        <span class="hljs-keyword">var</span> z = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> C = [],
            B = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>],
            F = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> A = <span class="hljs-number">0</span>, E = z.length &gt;&gt;&gt; <span class="hljs-number">0</span>; A &lt; E; A++) {
            <span class="hljs-keyword">if</span> (A <span class="hljs-keyword">in</span> z) {
                C[F] = D.call(B, z[A], A, z)
            }
            F++
        }
        C.length = F;
        <span class="hljs-keyword">return</span> C
    }
    <span class="hljs-keyword">if</span> (v.map) {
        u = s(<span class="hljs-built_in">Array</span>.prototype.map)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">D</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span> || !<span class="hljs-built_in">Object</span>.isFunction(D)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        <span class="hljs-keyword">var</span> z = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> C = [],
            B = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>],
            F;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> A = <span class="hljs-number">0</span>, E = z.length &gt;&gt;&gt; <span class="hljs-number">0</span>; A &lt; E; A++) {
            <span class="hljs-keyword">if</span> (A <span class="hljs-keyword">in</span> z) {
                F = z[A];
                <span class="hljs-keyword">if</span> (D.call(B, F, A, z)) {
                    C.push(F)
                }
            }
        }
        <span class="hljs-keyword">return</span> C
    }
    <span class="hljs-keyword">if</span> (v.filter) {
        h = <span class="hljs-built_in">Array</span>.prototype.filter
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">C</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        C = C || Prototype.K;
        <span class="hljs-keyword">var</span> B = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">var</span> z = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> A = <span class="hljs-number">0</span>, D = z.length &gt;&gt;&gt; <span class="hljs-number">0</span>; A &lt; D; A++) {
            <span class="hljs-keyword">if</span> (A <span class="hljs-keyword">in</span> z &amp;&amp; C.call(B, z[A], A, z)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
    <span class="hljs-keyword">if</span> (v.some) {
        i = s(<span class="hljs-built_in">Array</span>.prototype.some)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params">C</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>()
        }
        C = C || Prototype.K;
        <span class="hljs-keyword">var</span> B = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">var</span> z = <span class="hljs-built_in">Object</span>(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> A = <span class="hljs-number">0</span>, D = z.length &gt;&gt;&gt; <span class="hljs-number">0</span>; A &lt; D; A++) {
            <span class="hljs-keyword">if</span> (A <span class="hljs-keyword">in</span> z &amp;&amp; !C.call(B, z[A], A, z)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-keyword">if</span> (v.every) {
        x = s(<span class="hljs-built_in">Array</span>.prototype.every)
    }
    <span class="hljs-built_in">Object</span>.extend(v, Enumerable);
    <span class="hljs-keyword">if</span> (v.entries === Enumerable.entries) {
        <span class="hljs-keyword">delete</span> v.entries
    }
    <span class="hljs-keyword">if</span> (!v._reverse) {
        v._reverse = v.reverse
    }
    <span class="hljs-built_in">Object</span>.extend(v, {
        <span class="hljs-attr">_each</span>: q,
        <span class="hljs-attr">map</span>: u,
        <span class="hljs-attr">collect</span>: u,
        <span class="hljs-attr">select</span>: h,
        <span class="hljs-attr">filter</span>: h,
        <span class="hljs-attr">findAll</span>: h,
        <span class="hljs-attr">some</span>: i,
        <span class="hljs-attr">any</span>: i,
        <span class="hljs-attr">every</span>: x,
        <span class="hljs-attr">all</span>: x,
        <span class="hljs-attr">clear</span>: n,
        <span class="hljs-attr">first</span>: d,
        <span class="hljs-attr">last</span>: g,
        <span class="hljs-attr">compact</span>: k,
        <span class="hljs-attr">flatten</span>: y,
        <span class="hljs-attr">without</span>: j,
        <span class="hljs-attr">reverse</span>: f,
        <span class="hljs-attr">uniq</span>: m,
        <span class="hljs-attr">intersect</span>: r,
        <span class="hljs-attr">clone</span>: t,
        <span class="hljs-attr">toArray</span>: t,
        <span class="hljs-attr">size</span>: l,
        <span class="hljs-attr">inspect</span>: w
    });
    <span class="hljs-keyword">var</span> e = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> [].concat(<span class="hljs-built_in">arguments</span>)[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] !== <span class="hljs-number">1</span>
    })(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">if</span> (e) {
        v.concat = c
    }
    <span class="hljs-keyword">if</span> (!v.indexOf) {
        v.indexOf = a
    }
    <span class="hljs-keyword">if</span> (!v.lastIndexOf) {
        v.lastIndexOf = p
    }
})();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$H</span>(<span class="hljs-params">a</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Hash(a)
}
<span class="hljs-keyword">var</span> Hash = Class.create(Enumerable, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">this</span>._object = <span class="hljs-built_in">Object</span>.isHash(p) ? p.toObject() : <span class="hljs-built_in">Object</span>.clone(p)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">s, r</span>) </span>{
        <span class="hljs-keyword">var</span> q = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._object) {
            <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">this</span>._object[p],
                u = [p, t];
            u.key = p;
            u.value = t;
            s.call(r, u, q);
            q++
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">p, q</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._object[p] = q
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._object[p] !== <span class="hljs-built_in">Object</span>.prototype[p]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._object[p]
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">var</span> q = <span class="hljs-keyword">this</span>._object[p];
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._object[p];
        <span class="hljs-keyword">return</span> q
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.clone(<span class="hljs-keyword">this</span>._object)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pluck(<span class="hljs-string">"key"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pluck(<span class="hljs-string">"value"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">q</span>) </span>{
        <span class="hljs-keyword">var</span> p = <span class="hljs-keyword">this</span>.detect(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
            <span class="hljs-keyword">return</span> r.value === q
        });
        <span class="hljs-keyword">return</span> p &amp;&amp; p.key
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clone().update(p)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Hash(p).inject(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">q, r</span>) </span>{
            q.set(r.key, r.value);
            <span class="hljs-keyword">return</span> q
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">p, q</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(q)) {
            <span class="hljs-keyword">return</span> p
        }
        q = <span class="hljs-built_in">String</span>.interpret(q);
        q = q.gsub(<span class="hljs-regexp">/(\r)?\n/</span>, <span class="hljs-string">"\r\n"</span>);
        q = <span class="hljs-built_in">encodeURIComponent</span>(q);
        q = q.gsub(<span class="hljs-regexp">/%20/</span>, <span class="hljs-string">"+"</span>);
        <span class="hljs-keyword">return</span> p + <span class="hljs-string">"="</span> + q
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.inject([], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t, w</span>) </span>{
            <span class="hljs-keyword">var</span> s = <span class="hljs-built_in">encodeURIComponent</span>(w.key),
                q = w.value;
            <span class="hljs-keyword">if</span> (q &amp;&amp; <span class="hljs-keyword">typeof</span> q == <span class="hljs-string">"object"</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isArray(q)) {
                    <span class="hljs-keyword">var</span> v = [];
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> r = <span class="hljs-number">0</span>, p = q.length, u; r &lt; p; r++) {
                        u = q[r];
                        v.push(b(s, u))
                    }
                    <span class="hljs-keyword">return</span> t.concat(v)
                }
            } <span class="hljs-keyword">else</span> {
                t.push(b(s, q))
            }
            <span class="hljs-keyword">return</span> t
        }).join(<span class="hljs-string">"&amp;"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"#&lt;Hash:{"</span> + <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) </span>{
            <span class="hljs-keyword">return</span> p.map(<span class="hljs-built_in">Object</span>.inspect).join(<span class="hljs-string">": "</span>)
        }).join(<span class="hljs-string">", "</span>) + <span class="hljs-string">"}&gt;"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Hash(<span class="hljs-keyword">this</span>)
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">initialize</span>: e,
        <span class="hljs-attr">_each</span>: f,
        <span class="hljs-attr">set</span>: j,
        <span class="hljs-attr">get</span>: c,
        <span class="hljs-attr">unset</span>: m,
        <span class="hljs-attr">toObject</span>: o,
        <span class="hljs-attr">toTemplateReplacements</span>: o,
        <span class="hljs-attr">keys</span>: n,
        <span class="hljs-attr">values</span>: l,
        <span class="hljs-attr">index</span>: g,
        <span class="hljs-attr">merge</span>: i,
        <span class="hljs-attr">update</span>: d,
        <span class="hljs-attr">toQueryString</span>: a,
        <span class="hljs-attr">inspect</span>: k,
        <span class="hljs-attr">toJSON</span>: o,
        <span class="hljs-attr">clone</span>: h
    }
})());
Hash.from = $H;
<span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">Number</span>.prototype, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toPaddedString(<span class="hljs-number">2</span>, <span class="hljs-number">16</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> + <span class="hljs-number">1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">j, i</span>) </span>{
        $R(<span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>).each(j, i);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">k, j</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.toString(j || <span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"0"</span>.times(k - i.length) + i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.abs(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.ceil(<span class="hljs-keyword">this</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">this</span>)
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">toColorPart</span>: d,
        <span class="hljs-attr">succ</span>: b,
        <span class="hljs-attr">times</span>: h,
        <span class="hljs-attr">toPaddedString</span>: g,
        <span class="hljs-attr">abs</span>: a,
        <span class="hljs-attr">round</span>: c,
        <span class="hljs-attr">ceil</span>: e,
        <span class="hljs-attr">floor</span>: f
    }
})());

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$R</span>(<span class="hljs-params">c, a, b</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ObjectRange(c, a, b)
}
<span class="hljs-keyword">var</span> ObjectRange = Class.create(Enumerable, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">f, d, e</span>) </span>{
        <span class="hljs-keyword">this</span>.start = f;
        <span class="hljs-keyword">this</span>.end = d;
        <span class="hljs-keyword">this</span>.exclusive = e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">f, e</span>) </span>{
        <span class="hljs-keyword">var</span> g = <span class="hljs-keyword">this</span>.start,
            d;
        <span class="hljs-keyword">for</span> (d = <span class="hljs-number">0</span>; <span class="hljs-keyword">this</span>.include(g); d++) {
            f.call(e, g, d);
            g = g.succ()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">d</span>) </span>{
        <span class="hljs-keyword">if</span> (d &lt; <span class="hljs-keyword">this</span>.start) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.exclusive) {
            <span class="hljs-keyword">return</span> d &lt; <span class="hljs-keyword">this</span>.end
        }
        <span class="hljs-keyword">return</span> d &lt;= <span class="hljs-keyword">this</span>.end
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">initialize</span>: b,
        <span class="hljs-attr">_each</span>: c,
        <span class="hljs-attr">include</span>: a
    }
})());
<span class="hljs-keyword">var</span> Abstract = {};
<span class="hljs-keyword">var</span> Try = {
    <span class="hljs-attr">these</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> c;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>, d = <span class="hljs-built_in">arguments</span>.length; b &lt; d; b++) {
            <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">arguments</span>[b];
            <span class="hljs-keyword">try</span> {
                c = a();
                <span class="hljs-keyword">break</span>
            } <span class="hljs-keyword">catch</span> (f) {}
        }
        <span class="hljs-keyword">return</span> c
    }
};
<span class="hljs-keyword">var</span> Ajax = {
    <span class="hljs-attr">getTransport</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> Try.these(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> XMLHttpRequest()
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Msxml2.XMLHTTP"</span>)
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Microsoft.XMLHTTP"</span>)
        }) || <span class="hljs-literal">false</span>
    },
    <span class="hljs-attr">activeRequestCount</span>: <span class="hljs-number">0</span>
};
Ajax.Responders = {
    <span class="hljs-attr">responders</span>: [],
    <span class="hljs-attr">_each</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        <span class="hljs-keyword">this</span>.responders._each(b, a)
    },
    <span class="hljs-attr">register</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.include(a)) {
            <span class="hljs-keyword">this</span>.responders.push(a)
        }
    },
    <span class="hljs-attr">unregister</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">this</span>.responders = <span class="hljs-keyword">this</span>.responders.without(a)
    },
    <span class="hljs-attr">dispatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d, b, c, a</span>) </span>{
        <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(f[d])) {
                <span class="hljs-keyword">try</span> {
                    f[d].apply(f, [b, c, a])
                } <span class="hljs-keyword">catch</span> (g) {}
            }
        })
    }
};
<span class="hljs-built_in">Object</span>.extend(Ajax.Responders, Enumerable);
Ajax.Responders.register({
    <span class="hljs-attr">onCreate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        Ajax.activeRequestCount++
    },
    <span class="hljs-attr">onComplete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        Ajax.activeRequestCount--
    }
});
Ajax.Base = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">this</span>.options = {
            <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
            <span class="hljs-attr">asynchronous</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">contentType</span>: <span class="hljs-string">"application/x-www-form-urlencoded"</span>,
            <span class="hljs-attr">encoding</span>: <span class="hljs-string">"UTF-8"</span>,
            <span class="hljs-attr">parameters</span>: <span class="hljs-string">""</span>,
            <span class="hljs-attr">evalJSON</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">evalJS</span>: <span class="hljs-literal">true</span>
        };
        <span class="hljs-built_in">Object</span>.extend(<span class="hljs-keyword">this</span>.options, a || {});
        <span class="hljs-keyword">this</span>.options.method = <span class="hljs-keyword">this</span>.options.method.toLowerCase();
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isHash(<span class="hljs-keyword">this</span>.options.parameters)) {
            <span class="hljs-keyword">this</span>.options.parameters = <span class="hljs-keyword">this</span>.options.parameters.toObject()
        }
    }
});
Ajax.Request = Class.create(Ajax.Base, {
    <span class="hljs-attr">_complete</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, b, a</span>) </span>{
        $<span class="hljs-keyword">super</span>(a);
        <span class="hljs-keyword">this</span>.transport = Ajax.getTransport();
        <span class="hljs-keyword">this</span>.request(b)
    },
    <span class="hljs-attr">request</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">this</span>.url = b;
        <span class="hljs-keyword">this</span>.method = <span class="hljs-keyword">this</span>.options.method;
        <span class="hljs-keyword">var</span> d = <span class="hljs-built_in">Object</span>.isString(<span class="hljs-keyword">this</span>.options.parameters) ? <span class="hljs-keyword">this</span>.options.parameters : <span class="hljs-built_in">Object</span>.toQueryString(<span class="hljs-keyword">this</span>.options.parameters);
        <span class="hljs-keyword">if</span> (![<span class="hljs-string">"get"</span>, <span class="hljs-string">"post"</span>].include(<span class="hljs-keyword">this</span>.method)) {
            d += (d ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">""</span>) + <span class="hljs-string">"_method="</span> + <span class="hljs-keyword">this</span>.method;
            <span class="hljs-keyword">this</span>.method = <span class="hljs-string">"post"</span>
        }
        <span class="hljs-keyword">if</span> (d &amp;&amp; <span class="hljs-keyword">this</span>.method === <span class="hljs-string">"get"</span>) {
            <span class="hljs-keyword">this</span>.url += (<span class="hljs-keyword">this</span>.url.include(<span class="hljs-string">"?"</span>) ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">"?"</span>) + d
        }
        <span class="hljs-keyword">this</span>.parameters = d.toQueryParams();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> Ajax.Response(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.onCreate) {
                <span class="hljs-keyword">this</span>.options.onCreate(a)
            }
            Ajax.Responders.dispatch(<span class="hljs-string">"onCreate"</span>, <span class="hljs-keyword">this</span>, a);
            <span class="hljs-keyword">this</span>.transport.open(<span class="hljs-keyword">this</span>.method.toUpperCase(), <span class="hljs-keyword">this</span>.url, <span class="hljs-keyword">this</span>.options.asynchronous);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.asynchronous) {
                <span class="hljs-keyword">this</span>.respondToReadyState.bind(<span class="hljs-keyword">this</span>).defer(<span class="hljs-number">1</span>)
            }
            <span class="hljs-keyword">this</span>.transport.onreadystatechange = <span class="hljs-keyword">this</span>.onStateChange.bind(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.setRequestHeaders();
            <span class="hljs-keyword">this</span>.body = <span class="hljs-keyword">this</span>.method == <span class="hljs-string">"post"</span> ? (<span class="hljs-keyword">this</span>.options.postBody || d) : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.transport.send(<span class="hljs-keyword">this</span>.body);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.asynchronous &amp;&amp; <span class="hljs-keyword">this</span>.transport.overrideMimeType) {
                <span class="hljs-keyword">this</span>.onStateChange()
            }
        } <span class="hljs-keyword">catch</span> (c) {
            <span class="hljs-keyword">this</span>.dispatchException(c)
        }
    },
    <span class="hljs-attr">onStateChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.transport.readyState;
        <span class="hljs-keyword">if</span> (a &gt; <span class="hljs-number">1</span> &amp;&amp; !((a == <span class="hljs-number">4</span>) &amp;&amp; <span class="hljs-keyword">this</span>._complete)) {
            <span class="hljs-keyword">this</span>.respondToReadyState(<span class="hljs-keyword">this</span>.transport.readyState)
        }
    },
    <span class="hljs-attr">setRequestHeaders</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = {
            <span class="hljs-string">"X-Requested-With"</span>: <span class="hljs-string">"XMLHttpRequest"</span>,
            <span class="hljs-string">"X-Prototype-Version"</span>: Prototype.Version,
            <span class="hljs-attr">Accept</span>: <span class="hljs-string">"text/javascript, text/html, application/xml, text/xml, */*"</span>
        };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.method == <span class="hljs-string">"post"</span>) {
            e[<span class="hljs-string">"Content-type"</span>] = <span class="hljs-keyword">this</span>.options.contentType + (<span class="hljs-keyword">this</span>.options.encoding ? <span class="hljs-string">"; charset="</span> + <span class="hljs-keyword">this</span>.options.encoding : <span class="hljs-string">""</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.transport.overrideMimeType &amp;&amp; (navigator.userAgent.match(<span class="hljs-regexp">/Gecko\/(\d{4})/</span>) || [<span class="hljs-number">0</span>, <span class="hljs-number">2005</span>])[<span class="hljs-number">1</span>] &lt; <span class="hljs-number">2005</span>) {
                e.Connection = <span class="hljs-string">"close"</span>
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.requestHeaders == <span class="hljs-string">"object"</span>) {
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>.options.requestHeaders;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(c.push)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>, d = c.length; b &lt; d; b += <span class="hljs-number">2</span>) {
                    e[c[b]] = c[b + <span class="hljs-number">1</span>]
                }
            } <span class="hljs-keyword">else</span> {
                $H(c).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
                    e[f.key] = f.value
                })
            }
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a <span class="hljs-keyword">in</span> e) {
            <span class="hljs-keyword">if</span> (e[a] != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">this</span>.transport.setRequestHeader(a, e[a])
            }
        }
    },
    <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.getStatus();
        <span class="hljs-keyword">return</span> !a || (a &gt;= <span class="hljs-number">200</span> &amp;&amp; a &lt; <span class="hljs-number">300</span>) || a == <span class="hljs-number">304</span>
    },
    <span class="hljs-attr">getStatus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.transport.status === <span class="hljs-number">1223</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">204</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.transport.status || <span class="hljs-number">0</span>
        } <span class="hljs-keyword">catch</span> (a) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
    },
    <span class="hljs-attr">respondToReadyState</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> c = Ajax.Request.Events[a],
            b = <span class="hljs-keyword">new</span> Ajax.Response(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">"Complete"</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">this</span>._complete = <span class="hljs-literal">true</span>;
                (<span class="hljs-keyword">this</span>.options[<span class="hljs-string">"on"</span> + b.status] || <span class="hljs-keyword">this</span>.options[<span class="hljs-string">"on"</span> + (<span class="hljs-keyword">this</span>.success() ? <span class="hljs-string">"Success"</span> : <span class="hljs-string">"Failure"</span>)] || Prototype.emptyFunction)(b, b.headerJSON)
            } <span class="hljs-keyword">catch</span> (d) {
                <span class="hljs-keyword">this</span>.dispatchException(d)
            }
            <span class="hljs-keyword">var</span> f = b.getHeader(<span class="hljs-string">"Content-type"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.evalJS == <span class="hljs-string">"force"</span> || (<span class="hljs-keyword">this</span>.options.evalJS &amp;&amp; <span class="hljs-keyword">this</span>.isSameOrigin() &amp;&amp; f &amp;&amp; f.match(<span class="hljs-regexp">/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i</span>))) {
                <span class="hljs-keyword">this</span>.evalResponse()
            }
        }
        <span class="hljs-keyword">try</span> {
            (<span class="hljs-keyword">this</span>.options[<span class="hljs-string">"on"</span> + c] || Prototype.emptyFunction)(b, b.headerJSON);
            Ajax.Responders.dispatch(<span class="hljs-string">"on"</span> + c, <span class="hljs-keyword">this</span>, b, b.headerJSON)
        } <span class="hljs-keyword">catch</span> (d) {
            <span class="hljs-keyword">this</span>.dispatchException(d)
        }
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">"Complete"</span>) {
            <span class="hljs-keyword">this</span>.transport.onreadystatechange = Prototype.emptyFunction
        }
    },
    <span class="hljs-attr">isSameOrigin</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.url.match(<span class="hljs-regexp">/^\s*https?:\/\/[^\/]*/</span>);
        <span class="hljs-keyword">return</span> !a || (a[<span class="hljs-number">0</span>] == <span class="hljs-string">"#{protocol}//#{domain}#{port}"</span>.interpolate({
            <span class="hljs-attr">protocol</span>: location.protocol,
            <span class="hljs-attr">domain</span>: <span class="hljs-built_in">document</span>.domain,
            <span class="hljs-attr">port</span>: location.port ? <span class="hljs-string">":"</span> + location.port : <span class="hljs-string">""</span>
        }))
    },
    <span class="hljs-attr">getHeader</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.transport.getResponseHeader(a) || <span class="hljs-literal">null</span>
        } <span class="hljs-keyword">catch</span> (b) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
    },
    <span class="hljs-attr">evalResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>((<span class="hljs-keyword">this</span>.transport.responseText || <span class="hljs-string">""</span>).unfilterJSON())
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">this</span>.dispatchException(e)
        }
    },
    <span class="hljs-attr">dispatchException</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        (<span class="hljs-keyword">this</span>.options.onException || Prototype.emptyFunction)(<span class="hljs-keyword">this</span>, a);
        Ajax.Responders.dispatch(<span class="hljs-string">"onException"</span>, <span class="hljs-keyword">this</span>, a)
    }
});
Ajax.Request.Events = [<span class="hljs-string">"Uninitialized"</span>, <span class="hljs-string">"Loading"</span>, <span class="hljs-string">"Loaded"</span>, <span class="hljs-string">"Interactive"</span>, <span class="hljs-string">"Complete"</span>];
Ajax.Response = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">this</span>.request = c;
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.transport = c.transport,
            a = <span class="hljs-keyword">this</span>.readyState = d.readyState;
        <span class="hljs-keyword">if</span> ((a &gt; <span class="hljs-number">2</span> &amp;&amp; !Prototype.Browser.IE) || a == <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">this</span>.status = <span class="hljs-keyword">this</span>.getStatus();
            <span class="hljs-keyword">this</span>.statusText = <span class="hljs-keyword">this</span>.getStatusText();
            <span class="hljs-keyword">this</span>.responseText = <span class="hljs-built_in">String</span>.interpret(d.responseText);
            <span class="hljs-keyword">this</span>.headerJSON = <span class="hljs-keyword">this</span>._getHeaderJSON()
        }
        <span class="hljs-keyword">if</span> (a == <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">var</span> b = d.responseXML;
            <span class="hljs-keyword">this</span>.responseXML = <span class="hljs-built_in">Object</span>.isUndefined(b) ? <span class="hljs-literal">null</span> : b;
            <span class="hljs-keyword">this</span>.responseJSON = <span class="hljs-keyword">this</span>._getResponseJSON()
        }
    },
    <span class="hljs-attr">status</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">statusText</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">getStatus</span>: Ajax.Request.prototype.getStatus,
    <span class="hljs-attr">getStatusText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.transport.statusText || <span class="hljs-string">""</span>
        } <span class="hljs-keyword">catch</span> (a) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
        }
    },
    <span class="hljs-attr">getHeader</span>: Ajax.Request.prototype.getHeader,
    <span class="hljs-attr">getAllHeaders</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getAllResponseHeaders()
        } <span class="hljs-keyword">catch</span> (a) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
    },
    <span class="hljs-attr">getResponseHeader</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.transport.getResponseHeader(a)
    },
    <span class="hljs-attr">getAllResponseHeaders</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.transport.getAllResponseHeaders()
    },
    <span class="hljs-attr">_getHeaderJSON</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.getHeader(<span class="hljs-string">"X-JSON"</span>);
        <span class="hljs-keyword">if</span> (!a) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">try</span> {
            a = <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-built_in">escape</span>(a))
        } <span class="hljs-keyword">catch</span> (b) {}
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> a.evalJSON(<span class="hljs-keyword">this</span>.request.options.sanitizeJSON || !<span class="hljs-keyword">this</span>.request.isSameOrigin())
        } <span class="hljs-keyword">catch</span> (b) {
            <span class="hljs-keyword">this</span>.request.dispatchException(b)
        }
    },
    <span class="hljs-attr">_getResponseJSON</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.request.options;
        <span class="hljs-keyword">if</span> (!a.evalJSON || (a.evalJSON != <span class="hljs-string">"force"</span> &amp;&amp; !(<span class="hljs-keyword">this</span>.getHeader(<span class="hljs-string">"Content-type"</span>) || <span class="hljs-string">""</span>).include(<span class="hljs-string">"application/json"</span>)) || <span class="hljs-keyword">this</span>.responseText.blank()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.responseText.evalJSON(a.sanitizeJSON || !<span class="hljs-keyword">this</span>.request.isSameOrigin())
        } <span class="hljs-keyword">catch</span> (b) {
            <span class="hljs-keyword">this</span>.request.dispatchException(b)
        }
    }
});
Ajax.Updater = Class.create(Ajax.Request, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, a, c, b</span>) </span>{
        <span class="hljs-keyword">this</span>.container = {
            <span class="hljs-attr">success</span>: (a.success || a),
            <span class="hljs-attr">failure</span>: (a.failure || (a.success ? <span class="hljs-literal">null</span> : a))
        };
        b = <span class="hljs-built_in">Object</span>.clone(b);
        <span class="hljs-keyword">var</span> d = b.onComplete;
        b.onComplete = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, f</span>) </span>{
            <span class="hljs-keyword">this</span>.updateContent(e.responseText);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(d)) {
                d(e, f)
            }
        }).bind(<span class="hljs-keyword">this</span>);
        $<span class="hljs-keyword">super</span>(c, b)
    },
    <span class="hljs-attr">updateContent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
        <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>.container[<span class="hljs-keyword">this</span>.success() ? <span class="hljs-string">"success"</span> : <span class="hljs-string">"failure"</span>],
            a = <span class="hljs-keyword">this</span>.options;
        <span class="hljs-keyword">if</span> (!a.evalScripts) {
            d = d.stripScripts()
        }
        <span class="hljs-keyword">if</span> (c = $(c)) {
            <span class="hljs-keyword">if</span> (a.insertion) {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(a.insertion)) {
                    <span class="hljs-keyword">var</span> b = {};
                    b[a.insertion] = d;
                    c.insert(b)
                } <span class="hljs-keyword">else</span> {
                    a.insertion(c, d)
                }
            } <span class="hljs-keyword">else</span> {
                c.update(d)
            }
        }
    }
});
Ajax.PeriodicalUpdater = Class.create(Ajax.Base, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, a, c, b</span>) </span>{
        $<span class="hljs-keyword">super</span>(b);
        <span class="hljs-keyword">this</span>.onComplete = <span class="hljs-keyword">this</span>.options.onComplete;
        <span class="hljs-keyword">this</span>.frequency = (<span class="hljs-keyword">this</span>.options.frequency || <span class="hljs-number">2</span>);
        <span class="hljs-keyword">this</span>.decay = (<span class="hljs-keyword">this</span>.options.decay || <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.updater = {};
        <span class="hljs-keyword">this</span>.container = a;
        <span class="hljs-keyword">this</span>.url = c;
        <span class="hljs-keyword">this</span>.start()
    },
    <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.options.onComplete = <span class="hljs-keyword">this</span>.updateComplete.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.onTimerEvent()
    },
    <span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.updater.options.onComplete = <span class="hljs-literal">undefined</span>;
        clearTimeout(<span class="hljs-keyword">this</span>.timer);
        (<span class="hljs-keyword">this</span>.onComplete || Prototype.emptyFunction).apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
    },
    <span class="hljs-attr">updateComplete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.decay) {
            <span class="hljs-keyword">this</span>.decay = (a.responseText == <span class="hljs-keyword">this</span>.lastText ? <span class="hljs-keyword">this</span>.decay * <span class="hljs-keyword">this</span>.options.decay : <span class="hljs-number">1</span>);
            <span class="hljs-keyword">this</span>.lastText = a.responseText
        }
        <span class="hljs-keyword">this</span>.timer = <span class="hljs-keyword">this</span>.onTimerEvent.bind(<span class="hljs-keyword">this</span>).delay(<span class="hljs-keyword">this</span>.decay * <span class="hljs-keyword">this</span>.frequency)
    },
    <span class="hljs-attr">onTimerEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.updater = <span class="hljs-keyword">new</span> Ajax.Updater(<span class="hljs-keyword">this</span>.container, <span class="hljs-keyword">this</span>.url, <span class="hljs-keyword">this</span>.options)
    }
});
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a8</span>) </span>{
    <span class="hljs-keyword">var</span> aE;
    <span class="hljs-keyword">var</span> a1 = <span class="hljs-built_in">Array</span>.prototype.slice;
    <span class="hljs-keyword">var</span> av = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aZ</span>(<span class="hljs-params">bp</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>, br = [], bq = <span class="hljs-built_in">arguments</span>.length; F &lt; bq; F++) {
                br.push(aZ(<span class="hljs-built_in">arguments</span>[F]))
            }
            <span class="hljs-keyword">return</span> br
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(bp)) {
            bp = <span class="hljs-built_in">document</span>.getElementById(bp)
        }
        <span class="hljs-keyword">return</span> aF.extend(bp)
    }
    a8.$ = aZ;
    <span class="hljs-keyword">if</span> (!a8.Node) {
        a8.Node = {}
    }
    <span class="hljs-keyword">if</span> (!a8.Node.ELEMENT_NODE) {
        <span class="hljs-built_in">Object</span>.extend(a8.Node, {
            <span class="hljs-attr">ELEMENT_NODE</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">ATTRIBUTE_NODE</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">TEXT_NODE</span>: <span class="hljs-number">3</span>,
            <span class="hljs-attr">CDATA_SECTION_NODE</span>: <span class="hljs-number">4</span>,
            <span class="hljs-attr">ENTITY_REFERENCE_NODE</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">ENTITY_NODE</span>: <span class="hljs-number">6</span>,
            <span class="hljs-attr">PROCESSING_INSTRUCTION_NODE</span>: <span class="hljs-number">7</span>,
            <span class="hljs-attr">COMMENT_NODE</span>: <span class="hljs-number">8</span>,
            <span class="hljs-attr">DOCUMENT_NODE</span>: <span class="hljs-number">9</span>,
            <span class="hljs-attr">DOCUMENT_TYPE_NODE</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">DOCUMENT_FRAGMENT_NODE</span>: <span class="hljs-number">11</span>,
            <span class="hljs-attr">NOTATION_NODE</span>: <span class="hljs-number">12</span>
        })
    }
    <span class="hljs-keyword">var</span> r = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aQ</span>(<span class="hljs-params">F, i</span>) </span>{
        <span class="hljs-keyword">if</span> (F === <span class="hljs-string">"select"</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"type"</span> <span class="hljs-keyword">in</span> i) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-keyword">var</span> d = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'&lt;input name="x"&gt;'</span>);
            <span class="hljs-keyword">return</span> i.tagName.toLowerCase() === <span class="hljs-string">"input"</span> &amp;&amp; i.name === <span class="hljs-string">"x"</span>
        } <span class="hljs-keyword">catch</span> (F) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
    })();
    <span class="hljs-keyword">var</span> aI = a8.Element;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aF</span>(<span class="hljs-params">F, i</span>) </span>{
        i = i || {};
        F = F.toLowerCase();
        <span class="hljs-keyword">if</span> (d &amp;&amp; i.name) {
            F = <span class="hljs-string">"&lt;"</span> + F + <span class="hljs-string">' name="'</span> + i.name + <span class="hljs-string">'"&gt;'</span>;
            <span class="hljs-keyword">delete</span> i.name;
            <span class="hljs-keyword">return</span> aF.writeAttribute(<span class="hljs-built_in">document</span>.createElement(F), i)
        }
        <span class="hljs-keyword">if</span> (!r[F]) {
            r[F] = aF.extend(<span class="hljs-built_in">document</span>.createElement(F))
        }
        <span class="hljs-keyword">var</span> bp = aQ(F, i) ? r[F].cloneNode(<span class="hljs-literal">false</span>) : <span class="hljs-built_in">document</span>.createElement(F);
        <span class="hljs-keyword">return</span> aF.writeAttribute(bp, i)
    }
    a8.Element = aF;
    <span class="hljs-built_in">Object</span>.extend(a8.Element, aI || {});
    <span class="hljs-keyword">if</span> (aI) {
        a8.Element.prototype = aI.prototype
    }
    aF.Methods = {
        <span class="hljs-attr">ByTag</span>: {},
        <span class="hljs-attr">Simulated</span>: {}
    };
    <span class="hljs-keyword">var</span> a3 = {};
    <span class="hljs-keyword">var</span> H = {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"id"</span>,
        <span class="hljs-attr">className</span>: <span class="hljs-string">"class"</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ba</span>(<span class="hljs-params">F</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">var</span> i = <span class="hljs-string">"&lt;"</span> + F.tagName.toLowerCase();
        <span class="hljs-keyword">var</span> bp, br;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bq <span class="hljs-keyword">in</span> H) {
            bp = H[bq];
            br = (F[bq] || <span class="hljs-string">""</span>).toString();
            <span class="hljs-keyword">if</span> (br) {
                i += <span class="hljs-string">" "</span> + bp + <span class="hljs-string">"="</span> + br.inspect(<span class="hljs-literal">true</span>)
            }
        }
        <span class="hljs-keyword">return</span> i + <span class="hljs-string">"&gt;"</span>
    }
    a3.inspect = ba;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> aZ(i).getStyle(<span class="hljs-string">"display"</span>) !== <span class="hljs-string">"none"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ax</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> i !== <span class="hljs-string">"boolean"</span>) {
            i = !aF.visible(F)
        }
        aF[i ? <span class="hljs-string">"show"</span> : <span class="hljs-string">"hide"</span>](F);
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aH</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        i.style.display = <span class="hljs-string">"none"</span>;
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        i.style.display = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">return</span> i
    }
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">visible</span>: v,
        <span class="hljs-attr">toggle</span>: ax,
        <span class="hljs-attr">hide</span>: aH,
        <span class="hljs-attr">show</span>: j
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ad</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        i.parentNode.removeChild(i);
        <span class="hljs-keyword">return</span> i
    }
    <span class="hljs-keyword">var</span> aT = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"select"</span>),
            F = <span class="hljs-literal">true</span>;
        i.innerHTML = <span class="hljs-string">'&lt;option value="test"&gt;test&lt;/option&gt;'</span>;
        <span class="hljs-keyword">if</span> (i.options &amp;&amp; i.options[<span class="hljs-number">0</span>]) {
            F = i.options[<span class="hljs-number">0</span>].nodeName.toUpperCase() !== <span class="hljs-string">"OPTION"</span>
        }
        i = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> F
    })();
    <span class="hljs-keyword">var</span> I = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"table"</span>);
            <span class="hljs-keyword">if</span> (i &amp;&amp; i.tBodies) {
                i.innerHTML = <span class="hljs-string">"&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;test&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;"</span>;
                <span class="hljs-keyword">var</span> bp = <span class="hljs-keyword">typeof</span> i.tBodies[<span class="hljs-number">0</span>] == <span class="hljs-string">"undefined"</span>;
                i = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">return</span> bp
            }
        } <span class="hljs-keyword">catch</span> (F) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
    })();
    <span class="hljs-keyword">var</span> a2 = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
            i.innerHTML = <span class="hljs-string">"&lt;link /&gt;"</span>;
            <span class="hljs-keyword">var</span> bp = (i.childNodes.length === <span class="hljs-number">0</span>);
            i = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span> bp
        } <span class="hljs-keyword">catch</span> (F) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
    })();
    <span class="hljs-keyword">var</span> x = aT || I || a2;
    <span class="hljs-keyword">var</span> aq = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>),
            bp = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">try</span> {
            i.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">""</span>));
            bp = !i.firstChild || i.firstChild &amp;&amp; i.firstChild.nodeType !== <span class="hljs-number">3</span>
        } <span class="hljs-keyword">catch</span> (F) {
            bp = <span class="hljs-literal">true</span>
        }
        i = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> bp
    })();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">O</span>(<span class="hljs-params">br, bt</span>) </span>{
        br = aZ(br);
        <span class="hljs-keyword">var</span> bu = br.getElementsByTagName(<span class="hljs-string">"*"</span>),
            bq = bu.length;
        <span class="hljs-keyword">while</span> (bq--) {
            Z(bu[bq])
        }
        <span class="hljs-keyword">if</span> (bt &amp;&amp; bt.toElement) {
            bt = bt.toElement()
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(bt)) {
            <span class="hljs-keyword">return</span> br.update().insert(bt)
        }
        bt = <span class="hljs-built_in">Object</span>.toHTML(bt);
        <span class="hljs-keyword">var</span> bp = br.tagName.toUpperCase();
        <span class="hljs-keyword">if</span> (bp === <span class="hljs-string">"SCRIPT"</span> &amp;&amp; aq) {
            br.text = bt;
            <span class="hljs-keyword">return</span> br
        }
        <span class="hljs-keyword">if</span> (x) {
            <span class="hljs-keyword">if</span> (bp <span class="hljs-keyword">in</span> L.tags) {
                <span class="hljs-keyword">while</span> (br.firstChild) {
                    br.removeChild(br.firstChild)
                }
                <span class="hljs-keyword">var</span> F = t(bp, bt.stripScripts());
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bq = <span class="hljs-number">0</span>, bs; bs = F[bq]; bq++) {
                    br.appendChild(bs)
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (a2 &amp;&amp; <span class="hljs-built_in">Object</span>.isString(bt) &amp;&amp; bt.indexOf(<span class="hljs-string">"&lt;link"</span>) &gt; <span class="hljs-number">-1</span>) {
                    <span class="hljs-keyword">while</span> (br.firstChild) {
                        br.removeChild(br.firstChild)
                    }
                    <span class="hljs-keyword">var</span> F = t(bp, bt.stripScripts(), <span class="hljs-literal">true</span>);
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bq = <span class="hljs-number">0</span>, bs; bs = F[bq]; bq++) {
                        br.appendChild(bs)
                    }
                } <span class="hljs-keyword">else</span> {
                    br.innerHTML = bt.stripScripts()
                }
            }
        } <span class="hljs-keyword">else</span> {
            br.innerHTML = bt.stripScripts()
        }
        bt.evalScripts.bind(bt).defer();
        <span class="hljs-keyword">return</span> br
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ah</span>(<span class="hljs-params">F, bp</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (bp &amp;&amp; bp.toElement) {
            bp = bp.toElement()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isElement(bp)) {
                bp = <span class="hljs-built_in">Object</span>.toHTML(bp);
                <span class="hljs-keyword">var</span> i = F.ownerDocument.createRange();
                i.selectNode(F);
                bp.evalScripts.bind(bp).defer();
                bp = i.createContextualFragment(bp.stripScripts())
            }
        }
        F.parentNode.replaceChild(bp, F);
        <span class="hljs-keyword">return</span> F
    }
    <span class="hljs-keyword">var</span> L = {
        <span class="hljs-attr">before</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
            i.parentNode.insertBefore(F, i)
        },
        <span class="hljs-attr">top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
            i.insertBefore(F, i.firstChild)
        },
        <span class="hljs-attr">bottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
            i.appendChild(F)
        },
        <span class="hljs-attr">after</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
            i.parentNode.insertBefore(F, i.nextSibling)
        },
        <span class="hljs-attr">tags</span>: {
            <span class="hljs-attr">TABLE</span>: [<span class="hljs-string">"&lt;table&gt;"</span>, <span class="hljs-string">"&lt;/table&gt;"</span>, <span class="hljs-number">1</span>],
            <span class="hljs-attr">TBODY</span>: [<span class="hljs-string">"&lt;table&gt;&lt;tbody&gt;"</span>, <span class="hljs-string">"&lt;/tbody&gt;&lt;/table&gt;"</span>, <span class="hljs-number">2</span>],
            <span class="hljs-attr">TR</span>: [<span class="hljs-string">"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;"</span>, <span class="hljs-string">"&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"</span>, <span class="hljs-number">3</span>],
            <span class="hljs-attr">TD</span>: [<span class="hljs-string">"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;"</span>, <span class="hljs-string">"&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"</span>, <span class="hljs-number">4</span>],
            <span class="hljs-attr">SELECT</span>: [<span class="hljs-string">"&lt;select&gt;"</span>, <span class="hljs-string">"&lt;/select&gt;"</span>, <span class="hljs-number">1</span>]
        }
    };
    <span class="hljs-keyword">var</span> aJ = L.tags;
    <span class="hljs-built_in">Object</span>.extend(aJ, {
        <span class="hljs-attr">THEAD</span>: aJ.TBODY,
        <span class="hljs-attr">TFOOT</span>: aJ.TBODY,
        <span class="hljs-attr">TH</span>: aJ.TD
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ao</span>(<span class="hljs-params">bp, bs</span>) </span>{
        bp = aZ(bp);
        <span class="hljs-keyword">if</span> (bs &amp;&amp; bs.toElement) {
            bs = bs.toElement()
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(bs)) {
            bp.parentNode.replaceChild(bs, bp);
            <span class="hljs-keyword">return</span> bp
        }
        bs = <span class="hljs-built_in">Object</span>.toHTML(bs);
        <span class="hljs-keyword">var</span> br = bp.parentNode,
            F = br.tagName.toUpperCase();
        <span class="hljs-keyword">if</span> (F <span class="hljs-keyword">in</span> L.tags) {
            <span class="hljs-keyword">var</span> bt = aF.next(bp);
            <span class="hljs-keyword">var</span> i = t(F, bs.stripScripts());
            br.removeChild(bp);
            <span class="hljs-keyword">var</span> bq;
            <span class="hljs-keyword">if</span> (bt) {
                bq = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">bu</span>) </span>{
                    br.insertBefore(bu, bt)
                }
            } <span class="hljs-keyword">else</span> {
                bq = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">bu</span>) </span>{
                    br.appendChild(bu)
                }
            }
            i.each(bq)
        } <span class="hljs-keyword">else</span> {
            bp.outerHTML = bs.stripScripts()
        }
        bs.evalScripts.bind(bs).defer();
        <span class="hljs-keyword">return</span> bp
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"outerHTML"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">document</span>.documentElement) {
        ah = ao
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a7</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(i) || i === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(i) || <span class="hljs-built_in">Object</span>.isNumber(i)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(i)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">if</span> (i.toElement || i.toHTML) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bn</span>(<span class="hljs-params">br, bt, F</span>) </span>{
        F = F.toLowerCase();
        <span class="hljs-keyword">var</span> bv = L[F];
        <span class="hljs-keyword">if</span> (bt &amp;&amp; bt.toElement) {
            bt = bt.toElement()
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(bt)) {
            bv(br, bt);
            <span class="hljs-keyword">return</span> br
        }
        bt = <span class="hljs-built_in">Object</span>.toHTML(bt);
        <span class="hljs-keyword">var</span> bq = ((F === <span class="hljs-string">"before"</span> || F === <span class="hljs-string">"after"</span>) ? br.parentNode : br).tagName.toUpperCase();
        <span class="hljs-keyword">var</span> bu = t(bq, bt.stripScripts());
        <span class="hljs-keyword">if</span> (F === <span class="hljs-string">"top"</span> || F === <span class="hljs-string">"after"</span>) {
            bu.reverse()
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bp = <span class="hljs-number">0</span>, bs; bs = bu[bp]; bp++) {
            bv(br, bs)
        }
        bt.evalScripts.bind(bt).defer()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Q</span>(<span class="hljs-params">F, bp</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (a7(bp)) {
            bp = {
                <span class="hljs-attr">bottom</span>: bp
            }
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> bp) {
            bn(F, bp[i], i)
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(bp)) {
            aZ(bp).writeAttribute(i || {})
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(bp)) {
                bp = <span class="hljs-keyword">new</span> aF(bp, i)
            } <span class="hljs-keyword">else</span> {
                bp = <span class="hljs-keyword">new</span> aF(<span class="hljs-string">"div"</span>, bp)
            }
        }
        <span class="hljs-keyword">if</span> (F.parentNode) {
            F.parentNode.replaceChild(bp, F)
        }
        bp.appendChild(F);
        <span class="hljs-keyword">return</span> bp
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params">F</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">var</span> bp = F.firstChild;
        <span class="hljs-keyword">while</span> (bp) {
            <span class="hljs-keyword">var</span> i = bp.nextSibling;
            <span class="hljs-keyword">if</span> (bp.nodeType === Node.TEXT_NODE &amp;&amp; !<span class="hljs-regexp">/\S/</span>.test(bp.nodeValue)) {
                F.removeChild(bp)
            }
            bp = i
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a4</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> aZ(i).innerHTML.blank()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">bs, br, bt</span>) </span>{
        <span class="hljs-keyword">var</span> bq = L.tags[bs],
            bu = av;
        <span class="hljs-keyword">var</span> F = !!bq;
        <span class="hljs-keyword">if</span> (!F &amp;&amp; bt) {
            F = <span class="hljs-literal">true</span>;
            bq = [<span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-number">0</span>]
        }
        <span class="hljs-keyword">if</span> (F) {
            bu.innerHTML = <span class="hljs-string">"&amp;#160;"</span> + bq[<span class="hljs-number">0</span>] + br + bq[<span class="hljs-number">1</span>];
            bu.removeChild(bu.firstChild);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bp = bq[<span class="hljs-number">2</span>]; bp--;) {
                bu = bu.firstChild
            }
        } <span class="hljs-keyword">else</span> {
            bu.innerHTML = br
        }
        <span class="hljs-keyword">return</span> $A(bu.childNodes)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">bq, F</span>) </span>{
        <span class="hljs-keyword">if</span> (!(bq = aZ(bq))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">var</span> bs = bq.cloneNode(F);
        <span class="hljs-keyword">if</span> (!aY) {
            bs._prototypeUID = aE;
            <span class="hljs-keyword">if</span> (F) {
                <span class="hljs-keyword">var</span> br = aF.select(bs, <span class="hljs-string">"*"</span>),
                    bp = br.length;
                <span class="hljs-keyword">while</span> (bp--) {
                    br[bp]._prototypeUID = aE
                }
            }
        }
        <span class="hljs-keyword">return</span> aF.extend(bs)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Z</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">var</span> i = M(F);
        <span class="hljs-keyword">if</span> (i) {
            aF.stopObserving(F);
            <span class="hljs-keyword">if</span> (!aY) {
                F._prototypeUID = aE
            }
            <span class="hljs-keyword">delete</span> aF.Storage[i]
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bl</span>(<span class="hljs-params">bp</span>) </span>{
        <span class="hljs-keyword">var</span> F = bp.length;
        <span class="hljs-keyword">while</span> (F--) {
            Z(bp[F])
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">at</span>(<span class="hljs-params">br</span>) </span>{
        <span class="hljs-keyword">var</span> bq = br.length,
            bp, F;
        <span class="hljs-keyword">while</span> (bq--) {
            bp = br[bq];
            F = M(bp);
            <span class="hljs-keyword">delete</span> aF.Storage[F];
            <span class="hljs-keyword">delete</span> Event.cache[F]
        }
    }
    <span class="hljs-keyword">if</span> (aY) {
        bl = at
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">bp</span>) </span>{
        <span class="hljs-keyword">if</span> (!(bp = aZ(bp))) {
            <span class="hljs-keyword">return</span>
        }
        Z(bp);
        <span class="hljs-keyword">var</span> bq = bp.getElementsByTagName(<span class="hljs-string">"*"</span>),
            F = bq.length;
        <span class="hljs-keyword">while</span> (F--) {
            Z(bq[F])
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">remove</span>: ad,
        <span class="hljs-attr">update</span>: O,
        <span class="hljs-attr">replace</span>: ah,
        <span class="hljs-attr">insert</span>: Q,
        <span class="hljs-attr">wrap</span>: u,
        <span class="hljs-attr">cleanWhitespace</span>: w,
        <span class="hljs-attr">empty</span>: a4,
        <span class="hljs-attr">clone</span>: E,
        <span class="hljs-attr">purge</span>: m
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">am</span>(<span class="hljs-params">i, bp, bq</span>) </span>{
        i = aZ(i);
        bq = bq || <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">var</span> F = [];
        <span class="hljs-keyword">while</span> (i = i[bp]) {
            <span class="hljs-keyword">if</span> (i.nodeType === Node.ELEMENT_NODE) {
                F.push(aF.extend(i))
            }
            <span class="hljs-keyword">if</span> (F.length === bq) {
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aL</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> am(i, <span class="hljs-string">"parentNode"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bm</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> aF.select(i, <span class="hljs-string">"*"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">X</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i).firstChild;
        <span class="hljs-keyword">while</span> (i &amp;&amp; i.nodeType !== Node.ELEMENT_NODE) {
            i = i.nextSibling
        }
        <span class="hljs-keyword">return</span> aZ(i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bi</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">var</span> i = [],
            bp = aZ(F).firstChild;
        <span class="hljs-keyword">while</span> (bp) {
            <span class="hljs-keyword">if</span> (bp.nodeType === Node.ELEMENT_NODE) {
                i.push(aF.extend(bp))
            }
            bp = bp.nextSibling
        }
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> am(i, <span class="hljs-string">"previousSibling"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bh</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> am(i, <span class="hljs-string">"nextSibling"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aV</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        <span class="hljs-keyword">var</span> bp = p(i),
            F = bh(i);
        <span class="hljs-keyword">return</span> bp.reverse().concat(F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aR</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(i)) {
            <span class="hljs-keyword">return</span> Prototype.Selector.match(F, i)
        }
        <span class="hljs-keyword">return</span> i.match(F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aW</span>(<span class="hljs-params">F, bp, bq, i</span>) </span>{
        F = aZ(F), bq = bq || <span class="hljs-number">0</span>, i = i || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isNumber(bq)) {
            i = bq, bq = <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">while</span> (F = F[bp]) {
            <span class="hljs-keyword">if</span> (F.nodeType !== <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (bq &amp;&amp; !Prototype.Selector.match(F, bq)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (--i &gt;= <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">return</span> aF.extend(F)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aa</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> aZ(F.parentNode)
        }
        <span class="hljs-keyword">return</span> aW(F, <span class="hljs-string">"parentNode"</span>, bp, i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span>(<span class="hljs-params">F, bq, i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> X(F)
        }
        F = aZ(F), bq = bq || <span class="hljs-number">0</span>, i = i || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isNumber(bq)) {
            i = bq, bq = <span class="hljs-string">"*"</span>
        }
        <span class="hljs-keyword">var</span> bp = Prototype.Selector.select(bq, F)[i];
        <span class="hljs-keyword">return</span> aF.extend(bp)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        <span class="hljs-keyword">return</span> aW(F, <span class="hljs-string">"previousSibling"</span>, bp, i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aB</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        <span class="hljs-keyword">return</span> aW(F, <span class="hljs-string">"nextSibling"</span>, bp, i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bb</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        <span class="hljs-keyword">var</span> F = a1.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>).join(<span class="hljs-string">", "</span>);
        <span class="hljs-keyword">return</span> Prototype.Selector.select(F, i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aD</span>(<span class="hljs-params">bq</span>) </span>{
        bq = aZ(bq);
        <span class="hljs-keyword">var</span> bs = a1.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>).join(<span class="hljs-string">", "</span>);
        <span class="hljs-keyword">var</span> bt = aF.siblings(bq),
            bp = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>, br; br = bt[F]; F++) {
            <span class="hljs-keyword">if</span> (Prototype.Selector.match(br, bs)) {
                bp.push(br)
            }
        }
        <span class="hljs-keyword">return</span> bp
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">D</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F), i = aZ(i);
        <span class="hljs-keyword">if</span> (!F || !i) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">while</span> (F = F.parentNode) {
            <span class="hljs-keyword">if</span> (F === i) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">B</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F), i = aZ(i);
        <span class="hljs-keyword">if</span> (!F || !i) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (!i.contains) {
            <span class="hljs-keyword">return</span> D(F, i)
        }
        <span class="hljs-keyword">return</span> i.contains(F) &amp;&amp; i !== F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F), i = aZ(i);
        <span class="hljs-keyword">if</span> (!F || !i) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">return</span> (F.compareDocumentPosition(i) &amp; <span class="hljs-number">8</span>) === <span class="hljs-number">8</span>
    }
    <span class="hljs-keyword">var</span> aM;
    <span class="hljs-keyword">if</span> (av.compareDocumentPosition) {
        aM = J
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (av.contains) {
            aM = B
        } <span class="hljs-keyword">else</span> {
            aM = D
        }
    }
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">recursivelyCollect</span>: am,
        <span class="hljs-attr">ancestors</span>: aL,
        <span class="hljs-attr">descendants</span>: bm,
        <span class="hljs-attr">firstDescendant</span>: X,
        <span class="hljs-attr">immediateDescendants</span>: bi,
        <span class="hljs-attr">previousSiblings</span>: p,
        <span class="hljs-attr">nextSiblings</span>: bh,
        <span class="hljs-attr">siblings</span>: aV,
        <span class="hljs-attr">match</span>: aR,
        <span class="hljs-attr">up</span>: aa,
        <span class="hljs-attr">down</span>: y,
        <span class="hljs-attr">previous</span>: h,
        <span class="hljs-attr">next</span>: aB,
        <span class="hljs-attr">select</span>: bb,
        <span class="hljs-attr">adjacent</span>: aD,
        <span class="hljs-attr">descendantOf</span>: aM,
        <span class="hljs-attr">getElementsBySelector</span>: bb,
        <span class="hljs-attr">childElements</span>: bi
    });
    <span class="hljs-keyword">var</span> T = <span class="hljs-number">1</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aU</span>(<span class="hljs-params">i</span>) </span>{
        i = aZ(i);
        <span class="hljs-keyword">var</span> F = aF.readAttribute(i, <span class="hljs-string">"id"</span>);
        <span class="hljs-keyword">if</span> (F) {
            <span class="hljs-keyword">return</span> F
        }
        <span class="hljs-keyword">do</span> {
            F = <span class="hljs-string">"anonymous_element_"</span> + T++
        } <span class="hljs-keyword">while</span> (aZ(F));
        aF.writeAttribute(i, <span class="hljs-string">"id"</span>, F);
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a9</span>(<span class="hljs-params">F, i</span>) </span>{
        <span class="hljs-keyword">return</span> aZ(F).getAttribute(i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">K</span>(<span class="hljs-params">F, i</span>) </span>{
        F = aZ(F);
        <span class="hljs-keyword">var</span> bp = aG.read;
        <span class="hljs-keyword">if</span> (bp.values[i]) {
            <span class="hljs-keyword">return</span> bp.values[i](F, i)
        }
        <span class="hljs-keyword">if</span> (bp.names[i]) {
            i = bp.names[i]
        }
        <span class="hljs-keyword">if</span> (i.include(<span class="hljs-string">":"</span>)) {
            <span class="hljs-keyword">if</span> (!F.attributes || !F.attributes[i]) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
            }
            <span class="hljs-keyword">return</span> F.attributes[i].value
        }
        <span class="hljs-keyword">return</span> F.getAttribute(i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">F, i</span>) </span>{
        <span class="hljs-keyword">if</span> (i === <span class="hljs-string">"title"</span>) {
            <span class="hljs-keyword">return</span> F.title
        }
        <span class="hljs-keyword">return</span> F.getAttribute(i)
    }
    <span class="hljs-keyword">var</span> U = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        av.setAttribute(<span class="hljs-string">"onclick"</span>, []);
        <span class="hljs-keyword">var</span> i = av.getAttribute(<span class="hljs-string">"onclick"</span>);
        <span class="hljs-keyword">var</span> F = <span class="hljs-built_in">Object</span>.isArray(i);
        av.removeAttribute(<span class="hljs-string">"onclick"</span>);
        <span class="hljs-keyword">return</span> F
    })();
    <span class="hljs-keyword">if</span> (U) {
        a9 = K
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (Prototype.Browser.Opera) {
            a9 = e
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a0</span>(<span class="hljs-params">bq, bp, bs</span>) </span>{
        bq = aZ(bq);
        <span class="hljs-keyword">var</span> F = {},
            br = aG.write;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> bp === <span class="hljs-string">"object"</span>) {
            F = bp
        } <span class="hljs-keyword">else</span> {
            F[bp] = <span class="hljs-built_in">Object</span>.isUndefined(bs) ? <span class="hljs-literal">true</span> : bs
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> F) {
            bp = br.names[i] || i;
            bs = F[i];
            <span class="hljs-keyword">if</span> (br.values[i]) {
                bs = br.values[i](bq, bs);
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(bs)) {
                    <span class="hljs-keyword">continue</span>
                }
            }
            <span class="hljs-keyword">if</span> (bs === <span class="hljs-literal">false</span> || bs === <span class="hljs-literal">null</span>) {
                bq.removeAttribute(bp)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (bs === <span class="hljs-literal">true</span>) {
                    bq.setAttribute(bp, bp)
                } <span class="hljs-keyword">else</span> {
                    bq.setAttribute(bp, bs)
                }
            }
        }
        <span class="hljs-keyword">return</span> bq
    }
    <span class="hljs-keyword">var</span> a = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!d) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">var</span> F = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'&lt;input type="checkbox"&gt;'</span>);
        F.checked = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> i = F.getAttributeNode(<span class="hljs-string">"checked"</span>);
        <span class="hljs-keyword">return</span> !i || !i.specified
    })();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Y</span>(<span class="hljs-params">i, bp</span>) </span>{
        bp = aG.has[bp] || bp;
        <span class="hljs-keyword">var</span> F = aZ(i).getAttributeNode(bp);
        <span class="hljs-keyword">return</span> !!(F &amp;&amp; F.specified)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bg</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">if</span> (F === <span class="hljs-string">"checked"</span>) {
            <span class="hljs-keyword">return</span> i.checked
        }
        <span class="hljs-keyword">return</span> Y(i, F)
    }
    a8.Element.Methods.Simulated.hasAttribute = a ? bg : Y;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> aF.ClassNames(i)
    }
    <span class="hljs-keyword">var</span> V = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (V[F]) {
            <span class="hljs-keyword">return</span> V[F]
        }
        <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|\\s+)"</span> + F + <span class="hljs-string">"(\\s+|$)"</span>);
        V[F] = i;
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">al</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">if</span> (!(i = aZ(i))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">var</span> bp = i.className;
        <span class="hljs-keyword">if</span> (bp.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (bp === F) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">return</span> f(F).test(bp)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">if</span> (!(i = aZ(i))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">if</span> (!al(i, F)) {
            i.className += (i.className ? <span class="hljs-string">" "</span> : <span class="hljs-string">""</span>) + F
        }
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">au</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">if</span> (!(i = aZ(i))) {
            <span class="hljs-keyword">return</span>
        }
        i.className = i.className.replace(f(F), <span class="hljs-string">" "</span>).strip();
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ae</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        <span class="hljs-keyword">if</span> (!(F = aZ(F))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(i)) {
            i = !al(F, bp)
        }
        <span class="hljs-keyword">var</span> bq = aF[i ? <span class="hljs-string">"addClassName"</span> : <span class="hljs-string">"removeClassName"</span>];
        <span class="hljs-keyword">return</span> bq(F, bp)
    }
    <span class="hljs-keyword">var</span> aG = {};
    <span class="hljs-keyword">var</span> aP = <span class="hljs-string">"className"</span>,
        ar = <span class="hljs-string">"for"</span>;
    av.setAttribute(aP, <span class="hljs-string">"x"</span>);
    <span class="hljs-keyword">if</span> (av.className !== <span class="hljs-string">"x"</span>) {
        av.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"x"</span>);
        <span class="hljs-keyword">if</span> (av.className === <span class="hljs-string">"x"</span>) {
            aP = <span class="hljs-string">"class"</span>
        }
    }
    <span class="hljs-keyword">var</span> aK = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"label"</span>);
    aK.setAttribute(ar, <span class="hljs-string">"x"</span>);
    <span class="hljs-keyword">if</span> (aK.htmlFor !== <span class="hljs-string">"x"</span>) {
        aK.setAttribute(<span class="hljs-string">"htmlFor"</span>, <span class="hljs-string">"x"</span>);
        <span class="hljs-keyword">if</span> (aK.htmlFor === <span class="hljs-string">"x"</span>) {
            ar = <span class="hljs-string">"htmlFor"</span>
        }
    }
    aK = <span class="hljs-literal">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ac</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">return</span> i.getAttribute(F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">return</span> i.getAttribute(F, <span class="hljs-number">2</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">A</span>(<span class="hljs-params">i, bp</span>) </span>{
        <span class="hljs-keyword">var</span> F = i.getAttributeNode(bp);
        <span class="hljs-keyword">return</span> F ? F.value : <span class="hljs-string">""</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bj</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">return</span> aZ(i).hasAttribute(F) ? F : <span class="hljs-literal">null</span>
    }
    av.onclick = Prototype.emptyFunction;
    <span class="hljs-keyword">var</span> P = av.getAttribute(<span class="hljs-string">"onclick"</span>);
    <span class="hljs-keyword">var</span> aw;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">String</span>(P).indexOf(<span class="hljs-string">"{"</span>) &gt; <span class="hljs-number">-1</span>) {
        aw = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
            <span class="hljs-keyword">var</span> bp = i.getAttribute(F);
            <span class="hljs-keyword">if</span> (!bp) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
            }
            bp = bp.toString();
            bp = bp.split(<span class="hljs-string">"{"</span>)[<span class="hljs-number">1</span>];
            bp = bp.split(<span class="hljs-string">"}"</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">return</span> bp.strip()
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (P === <span class="hljs-string">""</span>) {
            aw = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
                <span class="hljs-keyword">var</span> bp = i.getAttribute(F);
                <span class="hljs-keyword">if</span> (!bp) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
                }
                <span class="hljs-keyword">return</span> bp.strip()
            }
        }
    }
    aG.read = {
        <span class="hljs-attr">names</span>: {
            <span class="hljs-string">"class"</span>: aP,
            <span class="hljs-attr">className</span>: aP,
            <span class="hljs-string">"for"</span>: ar,
            <span class="hljs-attr">htmlFor</span>: ar
        },
        <span class="hljs-attr">values</span>: {
            <span class="hljs-attr">style</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">return</span> i.style.cssText.toLowerCase()
            },
            <span class="hljs-attr">title</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">return</span> i.title
            }
        }
    };
    aG.write = {
        <span class="hljs-attr">names</span>: {
            <span class="hljs-attr">className</span>: <span class="hljs-string">"class"</span>,
            <span class="hljs-attr">htmlFor</span>: <span class="hljs-string">"for"</span>,
            <span class="hljs-attr">cellpadding</span>: <span class="hljs-string">"cellPadding"</span>,
            <span class="hljs-attr">cellspacing</span>: <span class="hljs-string">"cellSpacing"</span>
        },
        <span class="hljs-attr">values</span>: {
            <span class="hljs-attr">checked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
                F = !!F;
                i.checked = F;
                <span class="hljs-keyword">return</span> F ? <span class="hljs-string">"checked"</span> : <span class="hljs-literal">null</span>
            },
            <span class="hljs-attr">style</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, F</span>) </span>{
                i.style.cssText = F ? F : <span class="hljs-string">""</span>
            }
        }
    };
    aG.has = {
        <span class="hljs-attr">names</span>: {}
    };
    <span class="hljs-built_in">Object</span>.extend(aG.write.names, aG.read.names);
    <span class="hljs-keyword">var</span> a6 = $w(<span class="hljs-string">"colSpan rowSpan vAlign dateTime accessKey tabIndex encType maxLength readOnly longDesc frameBorder"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> af = <span class="hljs-number">0</span>, ag; ag = a6[af]; af++) {
        aG.write.names[ag.toLowerCase()] = ag;
        aG.has.names[ag.toLowerCase()] = ag
    }
    <span class="hljs-built_in">Object</span>.extend(aG.read.values, {
        <span class="hljs-attr">href</span>: g,
        <span class="hljs-attr">src</span>: g,
        <span class="hljs-attr">type</span>: ac,
        <span class="hljs-attr">action</span>: A,
        <span class="hljs-attr">disabled</span>: bj,
        <span class="hljs-attr">checked</span>: bj,
        <span class="hljs-attr">readonly</span>: bj,
        <span class="hljs-attr">multiple</span>: bj,
        <span class="hljs-attr">onload</span>: aw,
        <span class="hljs-attr">onunload</span>: aw,
        <span class="hljs-attr">onclick</span>: aw,
        <span class="hljs-attr">ondblclick</span>: aw,
        <span class="hljs-attr">onmousedown</span>: aw,
        <span class="hljs-attr">onmouseup</span>: aw,
        <span class="hljs-attr">onmouseover</span>: aw,
        <span class="hljs-attr">onmousemove</span>: aw,
        <span class="hljs-attr">onmouseout</span>: aw,
        <span class="hljs-attr">onfocus</span>: aw,
        <span class="hljs-attr">onblur</span>: aw,
        <span class="hljs-attr">onkeypress</span>: aw,
        <span class="hljs-attr">onkeydown</span>: aw,
        <span class="hljs-attr">onkeyup</span>: aw,
        <span class="hljs-attr">onsubmit</span>: aw,
        <span class="hljs-attr">onreset</span>: aw,
        <span class="hljs-attr">onselect</span>: aw,
        <span class="hljs-attr">onchange</span>: aw
    });
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">identify</span>: aU,
        <span class="hljs-attr">readAttribute</span>: a9,
        <span class="hljs-attr">writeAttribute</span>: a0,
        <span class="hljs-attr">classNames</span>: k,
        <span class="hljs-attr">hasClassName</span>: al,
        <span class="hljs-attr">addClassName</span>: o,
        <span class="hljs-attr">removeClassName</span>: au,
        <span class="hljs-attr">toggleClassName</span>: ae
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">W</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (i === <span class="hljs-string">"float"</span> || i === <span class="hljs-string">"styleFloat"</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"cssFloat"</span>
        }
        <span class="hljs-keyword">return</span> i.camelize()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bo</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (i === <span class="hljs-string">"float"</span> || i === <span class="hljs-string">"cssFloat"</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"styleFloat"</span>
        }
        <span class="hljs-keyword">return</span> i.camelize()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">bp, bq</span>) </span>{
        bp = aZ(bp);
        <span class="hljs-keyword">var</span> bt = bp.style,
            F;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(bq)) {
            bt.cssText += <span class="hljs-string">";"</span> + bq;
            <span class="hljs-keyword">if</span> (bq.include(<span class="hljs-string">"opacity"</span>)) {
                <span class="hljs-keyword">var</span> i = bq.match(<span class="hljs-regexp">/opacity:\s*(\d?\.?\d*)/</span>)[<span class="hljs-number">1</span>];
                aF.setOpacity(bp, i)
            }
            <span class="hljs-keyword">return</span> bp
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bs <span class="hljs-keyword">in</span> bq) {
            <span class="hljs-keyword">if</span> (bs === <span class="hljs-string">"opacity"</span>) {
                aF.setOpacity(bp, bq[bs])
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> br = bq[bs];
                <span class="hljs-keyword">if</span> (bs === <span class="hljs-string">"float"</span> || bs === <span class="hljs-string">"cssFloat"</span>) {
                    bs = <span class="hljs-built_in">Object</span>.isUndefined(bt.styleFloat) ? <span class="hljs-string">"cssFloat"</span> : <span class="hljs-string">"styleFloat"</span>
                }
                bt[bs] = br
            }
        }
        <span class="hljs-keyword">return</span> bp
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aO</span>(<span class="hljs-params">F, bp</span>) </span>{
        F = aZ(F);
        bp = W(bp);
        <span class="hljs-keyword">var</span> bq = F.style[bp];
        <span class="hljs-keyword">if</span> (!bq || bq === <span class="hljs-string">"auto"</span>) {
            <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">document</span>.defaultView.getComputedStyle(F, <span class="hljs-literal">null</span>);
            bq = i ? i[bp] : <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">if</span> (bp === <span class="hljs-string">"opacity"</span>) {
            <span class="hljs-keyword">return</span> bq ? <span class="hljs-built_in">parseFloat</span>(bq) : <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">return</span> bq === <span class="hljs-string">"auto"</span> ? <span class="hljs-literal">null</span> : bq
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">i, F</span>) </span>{
        <span class="hljs-keyword">switch</span> (F) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"height"</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">"width"</span>:
                <span class="hljs-keyword">if</span> (!aF.visible(i)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
                }
                <span class="hljs-keyword">var</span> bp = <span class="hljs-built_in">parseInt</span>(aO(i, F), <span class="hljs-number">10</span>);
                <span class="hljs-keyword">if</span> (bp !== i[<span class="hljs-string">"offset"</span> + F.capitalize()]) {
                    <span class="hljs-keyword">return</span> bp + <span class="hljs-string">"px"</span>
                }
                <span class="hljs-keyword">return</span> aF.measure(i, F);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> aO(i, F)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aj</span>(<span class="hljs-params">i, F</span>) </span>{
        i = aZ(i);
        F = bo(F);
        <span class="hljs-keyword">var</span> bp = i.style[F];
        <span class="hljs-keyword">if</span> (!bp &amp;&amp; i.currentStyle) {
            bp = i.currentStyle[F]
        }
        <span class="hljs-keyword">if</span> (F === <span class="hljs-string">"opacity"</span>) {
            <span class="hljs-keyword">if</span> (!N) {
                <span class="hljs-keyword">return</span> be(i)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> bp ? <span class="hljs-built_in">parseFloat</span>(bp) : <span class="hljs-number">1</span>
            }
        }
        <span class="hljs-keyword">if</span> (bp === <span class="hljs-string">"auto"</span>) {
            <span class="hljs-keyword">if</span> ((F === <span class="hljs-string">"width"</span> || F === <span class="hljs-string">"height"</span>) &amp;&amp; aF.visible(i)) {
                <span class="hljs-keyword">return</span> aF.measure(i, F) + <span class="hljs-string">"px"</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">return</span> bp
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aA</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> (i || <span class="hljs-string">""</span>).replace(<span class="hljs-regexp">/alpha\([^\)]*\)/gi</span>, <span class="hljs-string">""</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ab</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (!i.currentStyle || !i.currentStyle.hasLayout) {
            i.style.zoom = <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">return</span> i
    }
    <span class="hljs-keyword">var</span> N = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        av.style.cssText = <span class="hljs-string">"opacity:.55"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^0.55/</span>.test(av.style.opacity)
    })();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">i, F</span>) </span>{
        i = aZ(i);
        <span class="hljs-keyword">if</span> (F == <span class="hljs-number">1</span> || F === <span class="hljs-string">""</span>) {
            F = <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (F &lt; <span class="hljs-number">0.00001</span>) {
                F = <span class="hljs-number">0</span>
            }
        }
        i.style.opacity = F;
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bf</span>(<span class="hljs-params">i, bq</span>) </span>{
        <span class="hljs-keyword">if</span> (N) {
            <span class="hljs-keyword">return</span> z(i, bq)
        }
        i = ab(aZ(i));
        <span class="hljs-keyword">var</span> bp = aF.getStyle(i, <span class="hljs-string">"filter"</span>),
            F = i.style;
        <span class="hljs-keyword">if</span> (bq == <span class="hljs-number">1</span> || bq === <span class="hljs-string">""</span>) {
            bp = aA(bp);
            <span class="hljs-keyword">if</span> (bp) {
                F.filter = bp
            } <span class="hljs-keyword">else</span> {
                F.removeAttribute(<span class="hljs-string">"filter"</span>)
            }
            <span class="hljs-keyword">return</span> i
        }
        <span class="hljs-keyword">if</span> (bq &lt; <span class="hljs-number">0.00001</span>) {
            bq = <span class="hljs-number">0</span>
        }
        F.filter = aA(bp) + <span class="hljs-string">" alpha(opacity="</span> + (bq * <span class="hljs-number">100</span>) + <span class="hljs-string">")"</span>;
        <span class="hljs-keyword">return</span> i
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bd</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">return</span> aF.getStyle(i, <span class="hljs-string">"opacity"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">be</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (N) {
            <span class="hljs-keyword">return</span> bd(F)
        }
        <span class="hljs-keyword">var</span> bp = aF.getStyle(F, <span class="hljs-string">"filter"</span>);
        <span class="hljs-keyword">if</span> (bp.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">var</span> i = (bp || <span class="hljs-string">""</span>).match(<span class="hljs-regexp">/alpha\(opacity=(.*)\)/i</span>);
        <span class="hljs-keyword">if</span> (i &amp;&amp; i[<span class="hljs-number">1</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(i[<span class="hljs-number">1</span>]) / <span class="hljs-number">100</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    }
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">setStyle</span>: C,
        <span class="hljs-attr">getStyle</span>: aO,
        <span class="hljs-attr">setOpacity</span>: z,
        <span class="hljs-attr">getOpacity</span>: bd
    });
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"styleFloat"</span> <span class="hljs-keyword">in</span> av.style) {
        a3.getStyle = aj;
        a3.setOpacity = bf;
        a3.getOpacity = be
    }
    <span class="hljs-keyword">var</span> l = <span class="hljs-number">0</span>;
    a8.Element.Storage = {
        <span class="hljs-attr">UID</span>: <span class="hljs-number">1</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">M</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (i === <span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> i._prototypeUID === <span class="hljs-string">"undefined"</span>) {
            i._prototypeUID = aF.Storage.UID++
        }
        <span class="hljs-keyword">return</span> i._prototypeUID
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (i === <span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (i == <span class="hljs-built_in">document</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">return</span> i.uniqueID
    }
    <span class="hljs-keyword">var</span> aY = (<span class="hljs-string">"uniqueID"</span> <span class="hljs-keyword">in</span> av);
    <span class="hljs-keyword">if</span> (aY) {
        M = c
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (!(F = aZ(F))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">var</span> i = M(F);
        <span class="hljs-keyword">if</span> (!aF.Storage[i]) {
            aF.Storage[i] = $H()
        }
        <span class="hljs-keyword">return</span> aF.Storage[i]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a5</span>(<span class="hljs-params">F, i, bp</span>) </span>{
        <span class="hljs-keyword">if</span> (!(F = aZ(F))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">var</span> bq = b(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">2</span>) {
            bq.update(i)
        } <span class="hljs-keyword">else</span> {
            bq.set(i, bp)
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aN</span>(<span class="hljs-params">bp, F, i</span>) </span>{
        <span class="hljs-keyword">if</span> (!(bp = aZ(bp))) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">var</span> br = b(bp),
            bq = br.get(F);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(bq)) {
            br.set(F, i);
            bq = i
        }
        <span class="hljs-keyword">return</span> bq
    }
    <span class="hljs-built_in">Object</span>.extend(a3, {
        <span class="hljs-attr">getStorage</span>: b,
        <span class="hljs-attr">store</span>: a5,
        <span class="hljs-attr">retrieve</span>: aN
    });
    <span class="hljs-keyword">var</span> an = {},
        aX = aF.Methods.ByTag,
        aC = Prototype.BrowserFeatures;
    <span class="hljs-keyword">if</span> (!aC.ElementExtensions &amp;&amp; (<span class="hljs-string">"__proto__"</span> <span class="hljs-keyword">in</span> av)) {
        a8.HTMLElement = {};
        a8.HTMLElement.prototype = av.__proto__;
        aC.ElementExtensions = <span class="hljs-literal">true</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bc</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.Element === <span class="hljs-string">"undefined"</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">if</span> (!d) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">var</span> bp = <span class="hljs-built_in">window</span>.Element.prototype;
        <span class="hljs-keyword">if</span> (bp) {
            <span class="hljs-keyword">var</span> br = <span class="hljs-string">"_"</span> + (<span class="hljs-built_in">Math</span>.random() + <span class="hljs-string">""</span>).slice(<span class="hljs-number">2</span>),
                F = <span class="hljs-built_in">document</span>.createElement(i);
            bp[br] = <span class="hljs-string">"x"</span>;
            <span class="hljs-keyword">var</span> bq = (F[br] !== <span class="hljs-string">"x"</span>);
            <span class="hljs-keyword">delete</span> bp[br];
            F = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span> bq
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
    <span class="hljs-keyword">var</span> ap = bc(<span class="hljs-string">"object"</span>);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ak</span>(<span class="hljs-params">F, i</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bq <span class="hljs-keyword">in</span> i) {
            <span class="hljs-keyword">var</span> bp = i[bq];
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(bp) &amp;&amp; !(bq <span class="hljs-keyword">in</span> F)) {
                F[bq] = bp.methodize()
            }
        }
    }
    <span class="hljs-keyword">var</span> bk = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ay</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">var</span> i = M(F);
        <span class="hljs-keyword">return</span> (i <span class="hljs-keyword">in</span> bk)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">az</span>(<span class="hljs-params">bp</span>) </span>{
        <span class="hljs-keyword">if</span> (!bp || ay(bp)) {
            <span class="hljs-keyword">return</span> bp
        }
        <span class="hljs-keyword">if</span> (bp.nodeType !== Node.ELEMENT_NODE || bp == <span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">return</span> bp
        }
        <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">Object</span>.clone(an),
            F = bp.tagName.toUpperCase();
        <span class="hljs-keyword">if</span> (aX[F]) {
            <span class="hljs-built_in">Object</span>.extend(i, aX[F])
        }
        ak(bp, i);
        bk[M(bp)] = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> bp
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aS</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (!F || ay(F)) {
            <span class="hljs-keyword">return</span> F
        }
        <span class="hljs-keyword">var</span> i = F.tagName;
        <span class="hljs-keyword">if</span> (i &amp;&amp; (<span class="hljs-regexp">/^(?:object|applet|embed)$/i</span>.test(i))) {
            ak(F, aF.Methods);
            ak(F, aF.Methods.Simulated);
            ak(F, aF.Methods.ByTag[i.toUpperCase()])
        }
        <span class="hljs-keyword">return</span> F
    }
    <span class="hljs-keyword">if</span> (aC.SpecificElementExtensions) {
        az = ap ? aS : Prototype.K
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">S</span>(<span class="hljs-params">F, i</span>) </span>{
        F = F.toUpperCase();
        <span class="hljs-keyword">if</span> (!aX[F]) {
            aX[F] = {}
        }
        <span class="hljs-built_in">Object</span>.extend(aX[F], i)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params">F, bp, i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(i)) {
            i = <span class="hljs-literal">false</span>
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> br <span class="hljs-keyword">in</span> bp) {
            <span class="hljs-keyword">var</span> bq = bp[br];
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isFunction(bq)) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">if</span> (!i || !(br <span class="hljs-keyword">in</span> F)) {
                F[br] = bq.methodize()
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ai</span>(<span class="hljs-params">bq</span>) </span>{
        <span class="hljs-keyword">var</span> i;
        <span class="hljs-keyword">var</span> bp = {
            <span class="hljs-attr">OPTGROUP</span>: <span class="hljs-string">"OptGroup"</span>,
            <span class="hljs-attr">TEXTAREA</span>: <span class="hljs-string">"TextArea"</span>,
            <span class="hljs-attr">P</span>: <span class="hljs-string">"Paragraph"</span>,
            <span class="hljs-attr">FIELDSET</span>: <span class="hljs-string">"FieldSet"</span>,
            <span class="hljs-attr">UL</span>: <span class="hljs-string">"UList"</span>,
            <span class="hljs-attr">OL</span>: <span class="hljs-string">"OList"</span>,
            <span class="hljs-attr">DL</span>: <span class="hljs-string">"DList"</span>,
            <span class="hljs-attr">DIR</span>: <span class="hljs-string">"Directory"</span>,
            <span class="hljs-attr">H1</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">H2</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">H3</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">H4</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">H5</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">H6</span>: <span class="hljs-string">"Heading"</span>,
            <span class="hljs-attr">Q</span>: <span class="hljs-string">"Quote"</span>,
            <span class="hljs-attr">INS</span>: <span class="hljs-string">"Mod"</span>,
            <span class="hljs-attr">DEL</span>: <span class="hljs-string">"Mod"</span>,
            <span class="hljs-attr">A</span>: <span class="hljs-string">"Anchor"</span>,
            <span class="hljs-attr">IMG</span>: <span class="hljs-string">"Image"</span>,
            <span class="hljs-attr">CAPTION</span>: <span class="hljs-string">"TableCaption"</span>,
            <span class="hljs-attr">COL</span>: <span class="hljs-string">"TableCol"</span>,
            <span class="hljs-attr">COLGROUP</span>: <span class="hljs-string">"TableCol"</span>,
            <span class="hljs-attr">THEAD</span>: <span class="hljs-string">"TableSection"</span>,
            <span class="hljs-attr">TFOOT</span>: <span class="hljs-string">"TableSection"</span>,
            <span class="hljs-attr">TBODY</span>: <span class="hljs-string">"TableSection"</span>,
            <span class="hljs-attr">TR</span>: <span class="hljs-string">"TableRow"</span>,
            <span class="hljs-attr">TH</span>: <span class="hljs-string">"TableCell"</span>,
            <span class="hljs-attr">TD</span>: <span class="hljs-string">"TableCell"</span>,
            <span class="hljs-attr">FRAMESET</span>: <span class="hljs-string">"FrameSet"</span>,
            <span class="hljs-attr">IFRAME</span>: <span class="hljs-string">"IFrame"</span>
        };
        <span class="hljs-keyword">if</span> (bp[bq]) {
            i = <span class="hljs-string">"HTML"</span> + bp[bq] + <span class="hljs-string">"Element"</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[i]) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>[i]
        }
        i = <span class="hljs-string">"HTML"</span> + bq + <span class="hljs-string">"Element"</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[i]) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>[i]
        }
        i = <span class="hljs-string">"HTML"</span> + bq.capitalize() + <span class="hljs-string">"Element"</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[i]) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>[i]
        }
        <span class="hljs-keyword">var</span> F = <span class="hljs-built_in">document</span>.createElement(bq),
            br = F.__proto__ || F.constructor.prototype;
        F = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> br
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">R</span>(<span class="hljs-params">br</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) {
            G()
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">var</span> bt = br;
            br = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]
        }
        <span class="hljs-keyword">if</span> (!bt) {
            <span class="hljs-built_in">Object</span>.extend(aF.Methods, br || {})
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isArray(bt)) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bs = <span class="hljs-number">0</span>, bq; bq = bt[bs]; bs++) {
                    S(bq, br)
                }
            } <span class="hljs-keyword">else</span> {
                S(bt, br)
            }
        }
        <span class="hljs-keyword">var</span> bp = <span class="hljs-built_in">window</span>.HTMLElement ? HTMLElement.prototype : aF.prototype;
        <span class="hljs-keyword">if</span> (aC.ElementExtensions) {
            q(bp, aF.Methods);
            q(bp, aF.Methods.Simulated, <span class="hljs-literal">true</span>)
        }
        <span class="hljs-keyword">if</span> (aC.SpecificElementExtensions) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> bq <span class="hljs-keyword">in</span> aF.Methods.ByTag) {
                <span class="hljs-keyword">var</span> F = ai(bq);
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(F)) {
                    <span class="hljs-keyword">continue</span>
                }
                q(F.prototype, aX[bq])
            }
        }
        <span class="hljs-built_in">Object</span>.extend(aF, aF.Methods);
        <span class="hljs-built_in">Object</span>.extend(aF, aF.Methods.Simulated);
        <span class="hljs-keyword">delete</span> aF.ByTag;
        <span class="hljs-keyword">delete</span> aF.Simulated;
        aF.extend.refresh();
        r = {}
    }
    <span class="hljs-built_in">Object</span>.extend(a8.Element, {
        <span class="hljs-attr">extend</span>: az,
        <span class="hljs-attr">addMethods</span>: R
    });
    <span class="hljs-keyword">if</span> (az === Prototype.K) {
        a8.Element.extend.refresh = Prototype.emptyFunction
    } <span class="hljs-keyword">else</span> {
        a8.Element.extend.refresh = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (Prototype.BrowserFeatures.ElementExtensions) {
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-built_in">Object</span>.extend(an, aF.Methods);
            <span class="hljs-built_in">Object</span>.extend(an, aF.Methods.Simulated);
            bk = {}
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">G</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">Object</span>.extend(Form, Form.Methods);
        <span class="hljs-built_in">Object</span>.extend(Form.Element, Form.Element.Methods);
        <span class="hljs-built_in">Object</span>.extend(aF.Methods.ByTag, {
            <span class="hljs-attr">FORM</span>: <span class="hljs-built_in">Object</span>.clone(Form.Methods),
            <span class="hljs-attr">INPUT</span>: <span class="hljs-built_in">Object</span>.clone(Form.Element.Methods),
            <span class="hljs-attr">SELECT</span>: <span class="hljs-built_in">Object</span>.clone(Form.Element.Methods),
            <span class="hljs-attr">TEXTAREA</span>: <span class="hljs-built_in">Object</span>.clone(Form.Element.Methods),
            <span class="hljs-attr">BUTTON</span>: <span class="hljs-built_in">Object</span>.clone(Form.Element.Methods)
        })
    }
    aF.addMethods(a3);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>) </span>{
        av = <span class="hljs-literal">null</span>;
        r = <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.attachEvent) {
        <span class="hljs-built_in">window</span>.attachEvent(<span class="hljs-string">"onunload"</span>, n)
    }
})(<span class="hljs-keyword">this</span>);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">k</span>(<span class="hljs-params">G</span>) </span>{
        <span class="hljs-keyword">var</span> F = G.match(<span class="hljs-regexp">/^(\d+)%?$/i</span>);
        <span class="hljs-keyword">if</span> (!F) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">return</span> (<span class="hljs-built_in">Number</span>(F[<span class="hljs-number">1</span>]) / <span class="hljs-number">100</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span>(<span class="hljs-params">G, H</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> I = G.style[H];
        <span class="hljs-keyword">if</span> (!I || I === <span class="hljs-string">"auto"</span>) {
            <span class="hljs-keyword">var</span> F = <span class="hljs-built_in">document</span>.defaultView.getComputedStyle(G, <span class="hljs-literal">null</span>);
            I = F ? F[H] : <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">if</span> (H === <span class="hljs-string">"opacity"</span>) {
            <span class="hljs-keyword">return</span> I ? <span class="hljs-built_in">parseFloat</span>(I) : <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">return</span> I === <span class="hljs-string">"auto"</span> ? <span class="hljs-literal">null</span> : I
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">B</span>(<span class="hljs-params">F, G</span>) </span>{
        <span class="hljs-keyword">var</span> H = F.style[G];
        <span class="hljs-keyword">if</span> (!H &amp;&amp; F.currentStyle) {
            H = F.currentStyle[G]
        }
        <span class="hljs-keyword">return</span> H
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">H, G</span>) </span>{
        <span class="hljs-keyword">var</span> J = H.offsetWidth;
        <span class="hljs-keyword">var</span> L = u(H, <span class="hljs-string">"borderLeftWidth"</span>, G) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> F = u(H, <span class="hljs-string">"borderRightWidth"</span>, G) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> I = u(H, <span class="hljs-string">"paddingLeft"</span>, G) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> K = u(H, <span class="hljs-string">"paddingRight"</span>, G) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> J - L - F - I - K
    }
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isUndefined(<span class="hljs-built_in">document</span>.documentElement.currentStyle) &amp;&amp; !Prototype.Browser.Opera) {
        y = B
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">u</span>(<span class="hljs-params">P, Q, G</span>) </span>{
        <span class="hljs-keyword">var</span> J = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(P)) {
            J = P;
            P = y(J, Q)
        }
        <span class="hljs-keyword">if</span> (P === <span class="hljs-literal">null</span> || <span class="hljs-built_in">Object</span>.isUndefined(P)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">if</span> ((<span class="hljs-regexp">/^(?:-)?\d+(\.\d+)?(px)?$/i</span>).test(P)) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.parseFloat(P)
        }
        <span class="hljs-keyword">var</span> K = P.include(<span class="hljs-string">"%"</span>),
            H = (G === <span class="hljs-built_in">document</span>.viewport);
        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\d/</span>.test(P) &amp;&amp; J &amp;&amp; J.runtimeStyle &amp;&amp; !(K &amp;&amp; H)) {
            <span class="hljs-keyword">var</span> F = J.style.left,
                O = J.runtimeStyle.left;
            J.runtimeStyle.left = J.currentStyle.left;
            J.style.left = P || <span class="hljs-number">0</span>;
            P = J.style.pixelLeft;
            J.style.left = F;
            J.runtimeStyle.left = O;
            <span class="hljs-keyword">return</span> P
        }
        <span class="hljs-keyword">if</span> (J &amp;&amp; K) {
            G = G || J.parentNode;
            <span class="hljs-keyword">var</span> I = k(P),
                L = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> N = Q.include(<span class="hljs-string">"left"</span>) || Q.include(<span class="hljs-string">"right"</span>) || Q.include(<span class="hljs-string">"width"</span>);
            <span class="hljs-keyword">var</span> M = Q.include(<span class="hljs-string">"top"</span>) || Q.include(<span class="hljs-string">"bottom"</span>) || Q.include(<span class="hljs-string">"height"</span>);
            <span class="hljs-keyword">if</span> (G === <span class="hljs-built_in">document</span>.viewport) {
                <span class="hljs-keyword">if</span> (N) {
                    L = <span class="hljs-built_in">document</span>.viewport.getWidth()
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (M) {
                        L = <span class="hljs-built_in">document</span>.viewport.getHeight()
                    }
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (N) {
                    L = $(G).measure(<span class="hljs-string">"width"</span>)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (M) {
                        L = $(G).measure(<span class="hljs-string">"height"</span>)
                    }
                }
            }
            <span class="hljs-keyword">return</span> (L === <span class="hljs-literal">null</span>) ? <span class="hljs-number">0</span> : L * I
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(F) &amp;&amp; F.endsWith(<span class="hljs-string">"px"</span>)) {
            <span class="hljs-keyword">return</span> F
        }
        <span class="hljs-keyword">return</span> F + <span class="hljs-string">"px"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">while</span> (F &amp;&amp; F.parentNode) {
            <span class="hljs-keyword">var</span> G = F.getStyle(<span class="hljs-string">"display"</span>);
            <span class="hljs-keyword">if</span> (G === <span class="hljs-string">"none"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
            F = $(F.parentNode)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    }
    <span class="hljs-keyword">var</span> g = Prototype.K;
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"currentStyle"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">document</span>.documentElement) {
        g = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
            <span class="hljs-keyword">if</span> (!F.currentStyle.hasLayout) {
                F.style.zoom = <span class="hljs-number">1</span>
            }
            <span class="hljs-keyword">return</span> F
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">if</span> (F.include(<span class="hljs-string">"border"</span>)) {
            F = F + <span class="hljs-string">"-width"</span>
        }
        <span class="hljs-keyword">return</span> F.camelize()
    }
    Element.Layout = Class.create(Hash, {
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, G, F</span>) </span>{
            $<span class="hljs-keyword">super</span>();
            <span class="hljs-keyword">this</span>.element = $(G);
            Element.Layout.PROPERTIES.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H</span>) </span>{
                <span class="hljs-keyword">this</span>._set(H, <span class="hljs-literal">null</span>)
            }, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (F) {
                <span class="hljs-keyword">this</span>._preComputing = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._begin();
                Element.Layout.PROPERTIES.each(<span class="hljs-keyword">this</span>._compute, <span class="hljs-keyword">this</span>);
                <span class="hljs-keyword">this</span>._end();
                <span class="hljs-keyword">this</span>._preComputing = <span class="hljs-literal">false</span>
            }
        },
        <span class="hljs-attr">_set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G, F</span>) </span>{
            <span class="hljs-keyword">return</span> Hash.prototype.set.call(<span class="hljs-keyword">this</span>, G, F)
        },
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G, F</span>) </span>{
            <span class="hljs-keyword">throw</span> <span class="hljs-string">"Properties of Element.Layout are read-only."</span>
        },
        <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, G</span>) </span>{
            <span class="hljs-keyword">var</span> F = $<span class="hljs-keyword">super</span>(G);
            <span class="hljs-keyword">return</span> F === <span class="hljs-literal">null</span> ? <span class="hljs-keyword">this</span>._compute(G) : F
        },
        <span class="hljs-attr">_begin</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isPrepared()) {
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-keyword">var</span> J = <span class="hljs-keyword">this</span>.element;
            <span class="hljs-keyword">if</span> (m(J)) {
                <span class="hljs-keyword">this</span>._setPrepared(<span class="hljs-literal">true</span>);
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-keyword">var</span> L = {
                <span class="hljs-attr">position</span>: J.style.position || <span class="hljs-string">""</span>,
                <span class="hljs-attr">width</span>: J.style.width || <span class="hljs-string">""</span>,
                <span class="hljs-attr">visibility</span>: J.style.visibility || <span class="hljs-string">""</span>,
                <span class="hljs-attr">display</span>: J.style.display || <span class="hljs-string">""</span>
            };
            J.store(<span class="hljs-string">"prototype_original_styles"</span>, L);
            <span class="hljs-keyword">var</span> M = y(J, <span class="hljs-string">"position"</span>),
                F = J.offsetWidth;
            <span class="hljs-keyword">if</span> (F === <span class="hljs-number">0</span> || F === <span class="hljs-literal">null</span>) {
                J.style.display = <span class="hljs-string">"block"</span>;
                F = J.offsetWidth
            }
            <span class="hljs-keyword">var</span> G = (M === <span class="hljs-string">"fixed"</span>) ? <span class="hljs-built_in">document</span>.viewport : J.parentNode;
            <span class="hljs-keyword">var</span> N = {
                <span class="hljs-attr">visibility</span>: <span class="hljs-string">"hidden"</span>,
                <span class="hljs-attr">display</span>: <span class="hljs-string">"block"</span>
            };
            <span class="hljs-keyword">if</span> (M !== <span class="hljs-string">"fixed"</span>) {
                N.position = <span class="hljs-string">"absolute"</span>
            }
            J.setStyle(N);
            <span class="hljs-keyword">var</span> H = J.offsetWidth,
                I;
            <span class="hljs-keyword">if</span> (F &amp;&amp; (H === F)) {
                I = r(J, G)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (M === <span class="hljs-string">"absolute"</span> || M === <span class="hljs-string">"fixed"</span>) {
                    I = r(J, G)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> O = J.parentNode,
                        K = $(O).getLayout();
                    I = K.get(<span class="hljs-string">"width"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-left"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-left"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-left"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-right"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-right"</span>) - <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-right"</span>)
                }
            }
            J.setStyle({
                <span class="hljs-attr">width</span>: I + <span class="hljs-string">"px"</span>
            });
            <span class="hljs-keyword">this</span>._setPrepared(<span class="hljs-literal">true</span>)
        },
        <span class="hljs-attr">_end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> G = <span class="hljs-keyword">this</span>.element;
            <span class="hljs-keyword">var</span> F = G.retrieve(<span class="hljs-string">"prototype_original_styles"</span>);
            G.store(<span class="hljs-string">"prototype_original_styles"</span>, <span class="hljs-literal">null</span>);
            G.setStyle(F);
            <span class="hljs-keyword">this</span>._setPrepared(<span class="hljs-literal">false</span>)
        },
        <span class="hljs-attr">_compute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
            <span class="hljs-keyword">var</span> F = Element.Layout.COMPUTATIONS;
            <span class="hljs-keyword">if</span> (!(G <span class="hljs-keyword">in</span> F)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-string">"Property not found."</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._set(G, F[G].call(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.element))
        },
        <span class="hljs-attr">_isPrepared</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element.retrieve(<span class="hljs-string">"prototype_element_layout_prepared"</span>, <span class="hljs-literal">false</span>)
        },
        <span class="hljs-attr">_setPrepared</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element.store(<span class="hljs-string">"prototype_element_layout_prepared"</span>, F)
        },
        <span class="hljs-attr">toObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> F = $A(<span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">var</span> G = (F.length === <span class="hljs-number">0</span>) ? Element.Layout.PROPERTIES : F.join(<span class="hljs-string">" "</span>).split(<span class="hljs-string">" "</span>);
            <span class="hljs-keyword">var</span> H = {};
            G.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">I</span>) </span>{
                <span class="hljs-keyword">if</span> (!Element.Layout.PROPERTIES.include(I)) {
                    <span class="hljs-keyword">return</span>
                }
                <span class="hljs-keyword">var</span> J = <span class="hljs-keyword">this</span>.get(I);
                <span class="hljs-keyword">if</span> (J != <span class="hljs-literal">null</span>) {
                    H[I] = J
                }
            }, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">return</span> H
        },
        <span class="hljs-attr">toHash</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">this</span>.toObject.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Hash(F)
        },
        <span class="hljs-attr">toCSS</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> F = $A(<span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">var</span> H = (F.length === <span class="hljs-number">0</span>) ? Element.Layout.PROPERTIES : F.join(<span class="hljs-string">" "</span>).split(<span class="hljs-string">" "</span>);
            <span class="hljs-keyword">var</span> G = {};
            H.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">I</span>) </span>{
                <span class="hljs-keyword">if</span> (!Element.Layout.PROPERTIES.include(I)) {
                    <span class="hljs-keyword">return</span>
                }
                <span class="hljs-keyword">if</span> (Element.Layout.COMPOSITE_PROPERTIES.include(I)) {
                    <span class="hljs-keyword">return</span>
                }
                <span class="hljs-keyword">var</span> J = <span class="hljs-keyword">this</span>.get(I);
                <span class="hljs-keyword">if</span> (J != <span class="hljs-literal">null</span>) {
                    G[i(I)] = J + <span class="hljs-string">"px"</span>
                }
            }, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">return</span> G
        },
        <span class="hljs-attr">inspect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"#&lt;Element.Layout&gt;"</span>
        }
    });
    <span class="hljs-built_in">Object</span>.extend(Element.Layout, {
        <span class="hljs-attr">PROPERTIES</span>: $w(<span class="hljs-string">"height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height"</span>),
        <span class="hljs-attr">COMPOSITE_PROPERTIES</span>: $w(<span class="hljs-string">"padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height"</span>),
        <span class="hljs-attr">COMPUTATIONS</span>: {
            <span class="hljs-attr">height</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H</span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._begin()
                }
                <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-height"</span>);
                <span class="hljs-keyword">if</span> (F &lt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                        <span class="hljs-keyword">this</span>._end()
                    }
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
                }
                <span class="hljs-keyword">var</span> I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-top"</span>),
                    G = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-bottom"</span>);
                <span class="hljs-keyword">var</span> K = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-top"</span>),
                    J = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-bottom"</span>);
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._end()
                }
                <span class="hljs-keyword">return</span> F - I - G - K - J
            },
            <span class="hljs-attr">width</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H</span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._begin()
                }
                <span class="hljs-keyword">var</span> G = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-width"</span>);
                <span class="hljs-keyword">if</span> (G &lt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                        <span class="hljs-keyword">this</span>._end()
                    }
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
                }
                <span class="hljs-keyword">var</span> K = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-left"</span>),
                    F = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-right"</span>);
                <span class="hljs-keyword">var</span> I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-left"</span>),
                    J = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-right"</span>);
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._end()
                }
                <span class="hljs-keyword">return</span> G - K - F - I - J
            },
            <span class="hljs-string">"padding-box-height"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"height"</span>),
                    I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-top"</span>),
                    H = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-bottom"</span>);
                <span class="hljs-keyword">return</span> F + I + H
            },
            <span class="hljs-string">"padding-box-width"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">var</span> G = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"width"</span>),
                    H = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-left"</span>),
                    I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"padding-right"</span>);
                <span class="hljs-keyword">return</span> G + H + I
            },
            <span class="hljs-string">"border-box-height"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._begin()
                }
                <span class="hljs-keyword">var</span> F = G.offsetHeight;
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._end()
                }
                <span class="hljs-keyword">return</span> F
            },
            <span class="hljs-string">"border-box-width"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._begin()
                }
                <span class="hljs-keyword">var</span> G = F.offsetWidth;
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preComputing) {
                    <span class="hljs-keyword">this</span>._end()
                }
                <span class="hljs-keyword">return</span> G
            },
            <span class="hljs-string">"margin-box-height"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                <span class="hljs-keyword">var</span> F = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-height"</span>),
                    H = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-top"</span>),
                    I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-bottom"</span>);
                <span class="hljs-keyword">if</span> (F &lt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
                }
                <span class="hljs-keyword">return</span> F + H + I
            },
            <span class="hljs-string">"margin-box-width"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H</span>) </span>{
                <span class="hljs-keyword">var</span> G = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-width"</span>),
                    I = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-left"</span>),
                    F = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"margin-right"</span>);
                <span class="hljs-keyword">if</span> (G &lt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
                }
                <span class="hljs-keyword">return</span> G + I + F
            },
            <span class="hljs-attr">top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">var</span> G = F.positionedOffset();
                <span class="hljs-keyword">return</span> G.top
            },
            <span class="hljs-attr">bottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">var</span> I = F.positionedOffset(),
                    G = F.getOffsetParent(),
                    H = G.measure(<span class="hljs-string">"height"</span>);
                <span class="hljs-keyword">var</span> J = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-height"</span>);
                <span class="hljs-keyword">return</span> H - J - I.top
            },
            <span class="hljs-attr">left</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">var</span> G = F.positionedOffset();
                <span class="hljs-keyword">return</span> G.left
            },
            <span class="hljs-attr">right</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H</span>) </span>{
                <span class="hljs-keyword">var</span> J = H.positionedOffset(),
                    I = H.getOffsetParent(),
                    F = I.measure(<span class="hljs-string">"width"</span>);
                <span class="hljs-keyword">var</span> G = <span class="hljs-keyword">this</span>.get(<span class="hljs-string">"border-box-width"</span>);
                <span class="hljs-keyword">return</span> F - G - J.left
            },
            <span class="hljs-string">"padding-top"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"paddingTop"</span>)
            },
            <span class="hljs-string">"padding-bottom"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"paddingBottom"</span>)
            },
            <span class="hljs-string">"padding-left"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"paddingLeft"</span>)
            },
            <span class="hljs-string">"padding-right"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"paddingRight"</span>)
            },
            <span class="hljs-string">"border-top"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"borderTopWidth"</span>)
            },
            <span class="hljs-string">"border-bottom"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"borderBottomWidth"</span>)
            },
            <span class="hljs-string">"border-left"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"borderLeftWidth"</span>)
            },
            <span class="hljs-string">"border-right"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"borderRightWidth"</span>)
            },
            <span class="hljs-string">"margin-top"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"marginTop"</span>)
            },
            <span class="hljs-string">"margin-bottom"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"marginBottom"</span>)
            },
            <span class="hljs-string">"margin-left"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"marginLeft"</span>)
            },
            <span class="hljs-string">"margin-right"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                <span class="hljs-keyword">return</span> u(F, <span class="hljs-string">"marginRight"</span>)
            }
        }
    });
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"getBoundingClientRect"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">document</span>.documentElement) {
        <span class="hljs-built_in">Object</span>.extend(Element.Layout.COMPUTATIONS, {
            <span class="hljs-attr">right</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                <span class="hljs-keyword">var</span> H = g(G.getOffsetParent());
                <span class="hljs-keyword">var</span> I = G.getBoundingClientRect(),
                    F = H.getBoundingClientRect();
                <span class="hljs-keyword">return</span> (F.right - I.right).round()
            },
            <span class="hljs-attr">bottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                <span class="hljs-keyword">var</span> H = g(G.getOffsetParent());
                <span class="hljs-keyword">var</span> I = G.getBoundingClientRect(),
                    F = H.getBoundingClientRect();
                <span class="hljs-keyword">return</span> (F.bottom - I.bottom).round()
            }
        })
    }
    Element.Offset = Class.create({
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G, F</span>) </span>{
            <span class="hljs-keyword">this</span>.left = G.round();
            <span class="hljs-keyword">this</span>.top = F.round();
            <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.left;
            <span class="hljs-keyword">this</span>[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.top
        },
        <span class="hljs-attr">relativeTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(<span class="hljs-keyword">this</span>.left - F.left, <span class="hljs-keyword">this</span>.top - F.top)
        },
        <span class="hljs-attr">inspect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"#&lt;Element.Offset left: #{left} top: #{top}&gt;"</span>.interpolate(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"[#{left}, #{top}]"</span>.interpolate(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">toArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> [<span class="hljs-keyword">this</span>.left, <span class="hljs-keyword">this</span>.top]
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">G, F</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Layout(G, F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">F, G</span>) </span>{
        <span class="hljs-keyword">return</span> $(F).getLayout().get(G)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> Element.getDimensions(F).height
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> Element.getDimensions(F).width
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> K = Element.getStyle(G, <span class="hljs-string">"display"</span>);
        <span class="hljs-keyword">if</span> (K &amp;&amp; K !== <span class="hljs-string">"none"</span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">width</span>: G.offsetWidth,
                <span class="hljs-attr">height</span>: G.offsetHeight
            }
        }
        <span class="hljs-keyword">var</span> H = G.style;
        <span class="hljs-keyword">var</span> F = {
            <span class="hljs-attr">visibility</span>: H.visibility,
            <span class="hljs-attr">position</span>: H.position,
            <span class="hljs-attr">display</span>: H.display
        };
        <span class="hljs-keyword">var</span> J = {
            <span class="hljs-attr">visibility</span>: <span class="hljs-string">"hidden"</span>,
            <span class="hljs-attr">display</span>: <span class="hljs-string">"block"</span>
        };
        <span class="hljs-keyword">if</span> (F.position !== <span class="hljs-string">"fixed"</span>) {
            J.position = <span class="hljs-string">"absolute"</span>
        }
        Element.setStyle(G, J);
        <span class="hljs-keyword">var</span> I = {
            <span class="hljs-attr">width</span>: G.offsetWidth,
            <span class="hljs-attr">height</span>: G.offsetHeight
        };
        Element.setStyle(G, F);
        <span class="hljs-keyword">return</span> I
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">F</span>) </span>{
        F = $(F);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">H</span>(<span class="hljs-params">I</span>) </span>{
            <span class="hljs-keyword">return</span> n(I) ? $(<span class="hljs-built_in">document</span>.body) : $(I)
        }
        <span class="hljs-keyword">if</span> (h(F) || f(F) || o(F) || n(F)) {
            <span class="hljs-keyword">return</span> $(<span class="hljs-built_in">document</span>.body)
        }
        <span class="hljs-keyword">var</span> G = (Element.getStyle(F, <span class="hljs-string">"display"</span>) === <span class="hljs-string">"inline"</span>);
        <span class="hljs-keyword">if</span> (!G &amp;&amp; F.offsetParent) {
            <span class="hljs-keyword">return</span> H(F.offsetParent)
        }
        <span class="hljs-keyword">while</span> ((F = F.parentNode) &amp;&amp; F !== <span class="hljs-built_in">document</span>.body) {
            <span class="hljs-keyword">if</span> (Element.getStyle(F, <span class="hljs-string">"position"</span>) !== <span class="hljs-string">"static"</span>) {
                <span class="hljs-keyword">return</span> H(F)
            }
        }
        <span class="hljs-keyword">return</span> $(<span class="hljs-built_in">document</span>.body)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>,
            H = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (G.parentNode) {
            <span class="hljs-keyword">do</span> {
                F += G.offsetTop || <span class="hljs-number">0</span>;
                H += G.offsetLeft || <span class="hljs-number">0</span>;
                G = G.offsetParent
            } <span class="hljs-keyword">while</span> (G)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(H, F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> H = G.getLayout();
        <span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>,
            J = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">do</span> {
            F += G.offsetTop || <span class="hljs-number">0</span>;
            J += G.offsetLeft || <span class="hljs-number">0</span>;
            G = G.offsetParent;
            <span class="hljs-keyword">if</span> (G) {
                <span class="hljs-keyword">if</span> (o(G)) {
                    <span class="hljs-keyword">break</span>
                }
                <span class="hljs-keyword">var</span> I = Element.getStyle(G, <span class="hljs-string">"position"</span>);
                <span class="hljs-keyword">if</span> (I !== <span class="hljs-string">"static"</span>) {
                    <span class="hljs-keyword">break</span>
                }
            }
        } <span class="hljs-keyword">while</span> (G);
        J -= H.get(<span class="hljs-string">"margin-left"</span>);
        F -= H.get(<span class="hljs-string">"margin-top"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(J, F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">G</span>) </span>{
        <span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>,
            H = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> (G === <span class="hljs-built_in">document</span>.body) {
                <span class="hljs-keyword">var</span> I = <span class="hljs-built_in">document</span>.documentElement || <span class="hljs-built_in">document</span>.body.parentNode || <span class="hljs-built_in">document</span>.body;
                F += !<span class="hljs-built_in">Object</span>.isUndefined(<span class="hljs-built_in">window</span>.pageYOffset) ? <span class="hljs-built_in">window</span>.pageYOffset : I.scrollTop || <span class="hljs-number">0</span>;
                H += !<span class="hljs-built_in">Object</span>.isUndefined(<span class="hljs-built_in">window</span>.pageXOffset) ? <span class="hljs-built_in">window</span>.pageXOffset : I.scrollLeft || <span class="hljs-number">0</span>;
                <span class="hljs-keyword">break</span>
            } <span class="hljs-keyword">else</span> {
                F += G.scrollTop || <span class="hljs-number">0</span>;
                H += G.scrollLeft || <span class="hljs-number">0</span>;
                G = G.parentNode
            }
        } <span class="hljs-keyword">while</span> (G);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(H, F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">A</span>(<span class="hljs-params">J</span>) </span>{
        <span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>,
            I = <span class="hljs-number">0</span>,
            H = <span class="hljs-built_in">document</span>.body;
        J = $(J);
        <span class="hljs-keyword">var</span> G = J;
        <span class="hljs-keyword">do</span> {
            F += G.offsetTop || <span class="hljs-number">0</span>;
            I += G.offsetLeft || <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (G.offsetParent == H &amp;&amp; Element.getStyle(G, <span class="hljs-string">"position"</span>) == <span class="hljs-string">"absolute"</span>) {
                <span class="hljs-keyword">break</span>
            }
        } <span class="hljs-keyword">while</span> (G = G.offsetParent);
        G = J;
        <span class="hljs-keyword">do</span> {
            <span class="hljs-keyword">if</span> (G != H) {
                F -= G.scrollTop || <span class="hljs-number">0</span>;
                I -= G.scrollLeft || <span class="hljs-number">0</span>
            }
        } <span class="hljs-keyword">while</span> (G = G.parentNode);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(I, F)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params">F</span>) </span>{
        F = $(F);
        <span class="hljs-keyword">if</span> (Element.getStyle(F, <span class="hljs-string">"position"</span>) === <span class="hljs-string">"absolute"</span>) {
            <span class="hljs-keyword">return</span> F
        }
        <span class="hljs-keyword">var</span> J = p(F);
        <span class="hljs-keyword">var</span> I = F.viewportOffset(),
            G = J.viewportOffset();
        <span class="hljs-keyword">var</span> K = I.relativeTo(G);
        <span class="hljs-keyword">var</span> H = F.getLayout();
        F.store(<span class="hljs-string">"prototype_absolutize_original_styles"</span>, {
            <span class="hljs-attr">position</span>: F.getStyle(<span class="hljs-string">"position"</span>),
            <span class="hljs-attr">left</span>: F.getStyle(<span class="hljs-string">"left"</span>),
            <span class="hljs-attr">top</span>: F.getStyle(<span class="hljs-string">"top"</span>),
            <span class="hljs-attr">width</span>: F.getStyle(<span class="hljs-string">"width"</span>),
            <span class="hljs-attr">height</span>: F.getStyle(<span class="hljs-string">"height"</span>)
        });
        F.setStyle({
            <span class="hljs-attr">position</span>: <span class="hljs-string">"absolute"</span>,
            <span class="hljs-attr">top</span>: K.top + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">left</span>: K.left + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">width</span>: H.get(<span class="hljs-string">"width"</span>) + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">height</span>: H.get(<span class="hljs-string">"height"</span>) + <span class="hljs-string">"px"</span>
        });
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">if</span> (Element.getStyle(G, <span class="hljs-string">"position"</span>) === <span class="hljs-string">"relative"</span>) {
            <span class="hljs-keyword">return</span> G
        }
        <span class="hljs-keyword">var</span> F = G.retrieve(<span class="hljs-string">"prototype_absolutize_original_styles"</span>);
        <span class="hljs-keyword">if</span> (F) {
            G.setStyle(F)
        }
        <span class="hljs-keyword">return</span> G
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">F</span>) </span>{
        F = $(F);
        <span class="hljs-keyword">var</span> G = Element.cumulativeOffset(F);
        <span class="hljs-built_in">window</span>.scrollTo(G.left, G.top);
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> F = Element.getStyle(G, <span class="hljs-string">"position"</span>),
            H = {};
        <span class="hljs-keyword">if</span> (F === <span class="hljs-string">"static"</span> || !F) {
            H.position = <span class="hljs-string">"relative"</span>;
            <span class="hljs-keyword">if</span> (Prototype.Browser.Opera) {
                H.top = <span class="hljs-number">0</span>;
                H.left = <span class="hljs-number">0</span>
            }
            Element.setStyle(G, H);
            Element.store(G, <span class="hljs-string">"prototype_made_positioned"</span>, <span class="hljs-literal">true</span>)
        }
        <span class="hljs-keyword">return</span> G
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">F</span>) </span>{
        F = $(F);
        <span class="hljs-keyword">var</span> H = Element.getStorage(F),
            G = H.get(<span class="hljs-string">"prototype_made_positioned"</span>);
        <span class="hljs-keyword">if</span> (G) {
            H.unset(<span class="hljs-string">"prototype_made_positioned"</span>);
            Element.setStyle(F, {
                <span class="hljs-attr">position</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">top</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">bottom</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">left</span>: <span class="hljs-string">""</span>,
                <span class="hljs-attr">right</span>: <span class="hljs-string">""</span>
            })
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">G</span>) </span>{
        G = $(G);
        <span class="hljs-keyword">var</span> I = Element.getStorage(G),
            F = I.get(<span class="hljs-string">"prototype_made_clipping"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(F)) {
            <span class="hljs-keyword">var</span> H = Element.getStyle(G, <span class="hljs-string">"overflow"</span>);
            I.set(<span class="hljs-string">"prototype_made_clipping"</span>, H);
            <span class="hljs-keyword">if</span> (H !== <span class="hljs-string">"hidden"</span>) {
                G.style.overflow = <span class="hljs-string">"hidden"</span>
            }
        }
        <span class="hljs-keyword">return</span> G
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">D</span>(<span class="hljs-params">F</span>) </span>{
        F = $(F);
        <span class="hljs-keyword">var</span> H = Element.getStorage(F),
            G = H.get(<span class="hljs-string">"prototype_made_clipping"</span>);
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isUndefined(G)) {
            H.unset(<span class="hljs-string">"prototype_made_clipping"</span>);
            F.style.overflow = G || <span class="hljs-string">""</span>
        }
        <span class="hljs-keyword">return</span> F
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">I, F, Q</span>) </span>{
        Q = <span class="hljs-built_in">Object</span>.extend({
            <span class="hljs-attr">setLeft</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">setTop</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">setWidth</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">setHeight</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">offsetTop</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">offsetLeft</span>: <span class="hljs-number">0</span>
        }, Q || {});
        <span class="hljs-keyword">var</span> H = <span class="hljs-built_in">document</span>.documentElement;
        F = $(F);
        I = $(I);
        <span class="hljs-keyword">var</span> G, O, K, P = {};
        <span class="hljs-keyword">if</span> (Q.setLeft || Q.setTop) {
            G = Element.viewportOffset(F);
            O = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>];
            <span class="hljs-keyword">if</span> (Element.getStyle(I, <span class="hljs-string">"position"</span>) === <span class="hljs-string">"absolute"</span>) {
                <span class="hljs-keyword">var</span> N = Element.getOffsetParent(I);
                <span class="hljs-keyword">if</span> (N !== <span class="hljs-built_in">document</span>.body) {
                    O = Element.viewportOffset(N)
                }
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">L</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> R = <span class="hljs-number">0</span>,
                S = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isNumber(<span class="hljs-built_in">window</span>.pageXOffset)) {
                R = <span class="hljs-built_in">window</span>.pageXOffset;
                S = <span class="hljs-built_in">window</span>.pageYOffset
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.body &amp;&amp; (<span class="hljs-built_in">document</span>.body.scrollLeft || <span class="hljs-built_in">document</span>.body.scrollTop)) {
                    R = <span class="hljs-built_in">document</span>.body.scrollLeft;
                    S = <span class="hljs-built_in">document</span>.body.scrollTop
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (H &amp;&amp; (H.scrollLeft || H.scrollTop)) {
                        R = H.scrollLeft;
                        S = H.scrollTop
                    }
                }
            }
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">x</span>: R,
                <span class="hljs-attr">y</span>: S
            }
        }
        <span class="hljs-keyword">var</span> J = L();
        <span class="hljs-keyword">if</span> (Q.setWidth || Q.setHeight) {
            K = Element.getLayout(F)
        }
        <span class="hljs-keyword">if</span> (Q.setLeft) {
            P.left = (G[<span class="hljs-number">0</span>] + J.x - O[<span class="hljs-number">0</span>] + Q.offsetLeft) + <span class="hljs-string">"px"</span>
        }
        <span class="hljs-keyword">if</span> (Q.setTop) {
            P.top = (G[<span class="hljs-number">1</span>] + J.y - O[<span class="hljs-number">1</span>] + Q.offsetTop) + <span class="hljs-string">"px"</span>
        }
        <span class="hljs-keyword">var</span> M = I.getLayout();
        <span class="hljs-keyword">if</span> (Q.setWidth) {
            P.width = K.get(<span class="hljs-string">"width"</span>) + <span class="hljs-string">"px"</span>
        }
        <span class="hljs-keyword">if</span> (Q.setHeight) {
            P.height = K.get(<span class="hljs-string">"height"</span>) + <span class="hljs-string">"px"</span>
        }
        <span class="hljs-keyword">return</span> Element.setStyle(I, P)
    }
    <span class="hljs-keyword">if</span> (Prototype.Browser.IE) {
        p = p.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">H, G</span>) </span>{
            G = $(G);
            <span class="hljs-keyword">if</span> (h(G) || f(G) || o(G) || n(G)) {
                <span class="hljs-keyword">return</span> $(<span class="hljs-built_in">document</span>.body)
            }
            <span class="hljs-keyword">var</span> F = G.getStyle(<span class="hljs-string">"position"</span>);
            <span class="hljs-keyword">if</span> (F !== <span class="hljs-string">"static"</span>) {
                <span class="hljs-keyword">return</span> H(G)
            }
            G.setStyle({
                <span class="hljs-attr">position</span>: <span class="hljs-string">"relative"</span>
            });
            <span class="hljs-keyword">var</span> I = H(G);
            G.setStyle({
                <span class="hljs-attr">position</span>: F
            });
            <span class="hljs-keyword">return</span> I
        });
        w = w.wrap(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">I, G</span>) </span>{
            G = $(G);
            <span class="hljs-keyword">if</span> (!G.parentNode) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
            }
            <span class="hljs-keyword">var</span> F = G.getStyle(<span class="hljs-string">"position"</span>);
            <span class="hljs-keyword">if</span> (F !== <span class="hljs-string">"static"</span>) {
                <span class="hljs-keyword">return</span> I(G)
            }
            <span class="hljs-keyword">var</span> H = G.getOffsetParent();
            <span class="hljs-keyword">if</span> (H &amp;&amp; H.getStyle(<span class="hljs-string">"position"</span>) === <span class="hljs-string">"fixed"</span>) {
                g(H)
            }
            G.setStyle({
                <span class="hljs-attr">position</span>: <span class="hljs-string">"relative"</span>
            });
            <span class="hljs-keyword">var</span> J = I(G);
            G.setStyle({
                <span class="hljs-attr">position</span>: F
            });
            <span class="hljs-keyword">return</span> J
        })
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (Prototype.Browser.Webkit) {
            C = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">G</span>) </span>{
                G = $(G);
                <span class="hljs-keyword">var</span> F = <span class="hljs-number">0</span>,
                    H = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">do</span> {
                    F += G.offsetTop || <span class="hljs-number">0</span>;
                    H += G.offsetLeft || <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">if</span> (G.offsetParent == <span class="hljs-built_in">document</span>.body) {
                        <span class="hljs-keyword">if</span> (Element.getStyle(G, <span class="hljs-string">"position"</span>) == <span class="hljs-string">"absolute"</span>) {
                            <span class="hljs-keyword">break</span>
                        }
                    }
                    G = G.offsetParent
                } <span class="hljs-keyword">while</span> (G);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(H, F)
            }
        }
    }
    Element.addMethods({
        <span class="hljs-attr">getLayout</span>: z,
        <span class="hljs-attr">measure</span>: d,
        <span class="hljs-attr">getWidth</span>: c,
        <span class="hljs-attr">getHeight</span>: q,
        <span class="hljs-attr">getDimensions</span>: s,
        <span class="hljs-attr">getOffsetParent</span>: p,
        <span class="hljs-attr">cumulativeOffset</span>: C,
        <span class="hljs-attr">positionedOffset</span>: w,
        <span class="hljs-attr">cumulativeScrollOffset</span>: b,
        <span class="hljs-attr">viewportOffset</span>: A,
        <span class="hljs-attr">absolutize</span>: x,
        <span class="hljs-attr">relativize</span>: l,
        <span class="hljs-attr">scrollTo</span>: a,
        <span class="hljs-attr">makePositioned</span>: v,
        <span class="hljs-attr">undoPositioned</span>: t,
        <span class="hljs-attr">makeClipping</span>: e,
        <span class="hljs-attr">undoClipping</span>: D,
        <span class="hljs-attr">clonePosition</span>: E
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> F.nodeName.toUpperCase() === <span class="hljs-string">"BODY"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> F.nodeName.toUpperCase() === <span class="hljs-string">"HTML"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> F.nodeType === Node.DOCUMENT_NODE
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">F</span>) </span>{
        <span class="hljs-keyword">return</span> F !== <span class="hljs-built_in">document</span>.body &amp;&amp; !Element.descendantOf(F, <span class="hljs-built_in">document</span>.body)
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"getBoundingClientRect"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">document</span>.documentElement) {
        Element.addMethods({
            <span class="hljs-attr">viewportOffset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">F</span>) </span>{
                F = $(F);
                <span class="hljs-keyword">if</span> (f(F)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
                }
                <span class="hljs-keyword">var</span> G = F.getBoundingClientRect(),
                    H = <span class="hljs-built_in">document</span>.documentElement;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(G.left - H.clientLeft, G.top - H.clientTop)
            }
        })
    }
})();
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> c = Prototype.Browser.Opera &amp;&amp; (<span class="hljs-built_in">window</span>.parseFloat(<span class="hljs-built_in">window</span>.opera.version()) &lt; <span class="hljs-number">9.5</span>);
    <span class="hljs-keyword">var</span> f = <span class="hljs-literal">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (f) {
            <span class="hljs-keyword">return</span> f
        }
        f = c ? <span class="hljs-built_in">document</span>.body : <span class="hljs-built_in">document</span>.documentElement;
        <span class="hljs-keyword">return</span> f
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">width</span>: <span class="hljs-keyword">this</span>.getWidth(),
            <span class="hljs-attr">height</span>: <span class="hljs-keyword">this</span>.getHeight()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> b().clientWidth
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> b().clientHeight
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> h = <span class="hljs-built_in">window</span>.pageXOffset || <span class="hljs-built_in">document</span>.documentElement.scrollLeft || <span class="hljs-built_in">document</span>.body.scrollLeft;
        <span class="hljs-keyword">var</span> i = <span class="hljs-built_in">window</span>.pageYOffset || <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Element.Offset(h, i)
    }
    <span class="hljs-built_in">document</span>.viewport = {
        <span class="hljs-attr">getDimensions</span>: d,
        <span class="hljs-attr">getWidth</span>: a,
        <span class="hljs-attr">getHeight</span>: g,
        <span class="hljs-attr">getScrollOffsets</span>: e
    }
})();
<span class="hljs-built_in">window</span>.$$ = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> a = $A(<span class="hljs-built_in">arguments</span>).join(<span class="hljs-string">", "</span>);
    <span class="hljs-keyword">return</span> Prototype.Selector.select(a, <span class="hljs-built_in">document</span>)
};
Prototype.Selector = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Method "Prototype.Selector.select" must be defined.'</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Method "Prototype.Selector.match" must be defined.'</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">l, m, h</span>) </span>{
        h = h || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> g = Prototype.Selector.match,
            k = l.length,
            f = <span class="hljs-number">0</span>,
            j;
        <span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; k; j++) {
            <span class="hljs-keyword">if</span> (g(l[j], m) &amp;&amp; h == f++) {
                <span class="hljs-keyword">return</span> Element.extend(l[j])
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">h</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f = <span class="hljs-number">0</span>, g = h.length; f &lt; g; f++) {
            Element.extend(h[f])
        }
        <span class="hljs-keyword">return</span> h
    }
    <span class="hljs-keyword">var</span> b = Prototype.K;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">select</span>: a,
        <span class="hljs-attr">match</span>: c,
        <span class="hljs-attr">find</span>: d,
        <span class="hljs-attr">extendElements</span>: (Element.extend === b) ? b : e,
        <span class="hljs-attr">extendElement</span>: Element.extend
    }
})();
Prototype._original_property = <span class="hljs-built_in">window</span>.Sizzle;
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">b</span>) </span>{
        Prototype._actual_sizzle = b()
    }
    a.amd = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">"undefined"</span> &amp;&amp; define.amd) {
        Prototype._original_define = define;
        Prototype._actual_sizzle = <span class="hljs-literal">null</span>;
        <span class="hljs-built_in">window</span>.define = a
    }
})();
<span class="hljs-comment">/*!
 * Sizzle CSS Selector Engine v1.10.18
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-02-05
 */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">av</span>) </span>{
    <span class="hljs-keyword">var</span> D, ay, t, M, P, ab, ax, aC, N, ac, ae, H, u, an, ai, aw, k, K, ap = <span class="hljs-string">"sizzle"</span> + -(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()),
        O = av.document,
        az = <span class="hljs-number">0</span>,
        aj = <span class="hljs-number">0</span>,
        d = F(),
        ao = F(),
        L = F(),
        J = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e</span>) </span>{
            <span class="hljs-keyword">if</span> (i === e) {
                ac = <span class="hljs-literal">true</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        },
        au = <span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>,
        V = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">31</span>,
        T = ({}).hasOwnProperty,
        ar = [],
        at = ar.pop,
        R = ar.push,
        b = ar.push,
        s = ar.slice,
        j = ar.indexOf || <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aE</span>) </span>{
            <span class="hljs-keyword">var</span> aD = <span class="hljs-number">0</span>,
                e = <span class="hljs-keyword">this</span>.length;
            <span class="hljs-keyword">for</span> (; aD &lt; e; aD++) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>[aD] === aE) {
                    <span class="hljs-keyword">return</span> aD
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
        },
        c = <span class="hljs-string">"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped"</span>,
        v = <span class="hljs-string">"[\\x20\\t\\r\\n\\f]"</span>,
        a = <span class="hljs-string">"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+"</span>,
        Q = a.replace(<span class="hljs-string">"w"</span>, <span class="hljs-string">"w#"</span>),
        al = <span class="hljs-string">"\\["</span> + v + <span class="hljs-string">"*("</span> + a + <span class="hljs-string">")"</span> + v + <span class="hljs-string">"*(?:([*^$|!~]?=)"</span> + v + <span class="hljs-string">"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("</span> + Q + <span class="hljs-string">")|)|)"</span> + v + <span class="hljs-string">"*\\]"</span>,
        q = <span class="hljs-string">":("</span> + a + <span class="hljs-string">")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"</span> + al.replace(<span class="hljs-number">3</span>, <span class="hljs-number">8</span>) + <span class="hljs-string">")*)|.*)\\)|)"</span>,
        x = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + v + <span class="hljs-string">"+|((?:^|[^\\\\])(?:\\\\.)*)"</span> + v + <span class="hljs-string">"+$"</span>, <span class="hljs-string">"g"</span>),
        A = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + v + <span class="hljs-string">"*,"</span> + v + <span class="hljs-string">"*"</span>),
        G = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + v + <span class="hljs-string">"*([&gt;+~]|"</span> + v + <span class="hljs-string">")"</span> + v + <span class="hljs-string">"*"</span>),
        z = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"="</span> + v + <span class="hljs-string">"*([^\\]'\"]*?)"</span> + v + <span class="hljs-string">"*\\]"</span>, <span class="hljs-string">"g"</span>),
        X = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(q),
        Z = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + Q + <span class="hljs-string">"$"</span>),
        ah = {
            <span class="hljs-attr">ID</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^#("</span> + a + <span class="hljs-string">")"</span>),
            <span class="hljs-attr">CLASS</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^\\.("</span> + a + <span class="hljs-string">")"</span>),
            <span class="hljs-attr">TAG</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^("</span> + a.replace(<span class="hljs-string">"w"</span>, <span class="hljs-string">"w*"</span>) + <span class="hljs-string">")"</span>),
            <span class="hljs-attr">ATTR</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + al),
            <span class="hljs-attr">PSEUDO</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + q),
            <span class="hljs-attr">CHILD</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("</span> + v + <span class="hljs-string">"*(even|odd|(([+-]|)(\\d*)n|)"</span> + v + <span class="hljs-string">"*(?:([+-]|)"</span> + v + <span class="hljs-string">"*(\\d+)|))"</span> + v + <span class="hljs-string">"*\\)|)"</span>, <span class="hljs-string">"i"</span>),
            <span class="hljs-attr">bool</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^(?:"</span> + c + <span class="hljs-string">")$"</span>, <span class="hljs-string">"i"</span>),
            <span class="hljs-attr">needsContext</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + v + <span class="hljs-string">"*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("</span> + v + <span class="hljs-string">"*((?:-\\d)?\\d*)"</span> + v + <span class="hljs-string">"*\\)|)(?=[^-]|$)"</span>, <span class="hljs-string">"i"</span>)
        },
        h = <span class="hljs-regexp">/^(?:input|select|textarea|button)$/i</span>,
        r = <span class="hljs-regexp">/^h\d$/i</span>,
        U = <span class="hljs-regexp">/^[^{]+\{\s*\[native \w/</span>,
        W = <span class="hljs-regexp">/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/</span>,
        ag = <span class="hljs-regexp">/[+~]/</span>,
        S = <span class="hljs-regexp">/'|\\/g</span>,
        y = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\\\\([\\da-f]{1,6}"</span> + v + <span class="hljs-string">"?|("</span> + v + <span class="hljs-string">")|.)"</span>, <span class="hljs-string">"ig"</span>),
        ak = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aE, i</span>) </span>{
            <span class="hljs-keyword">var</span> aD = <span class="hljs-string">"0x"</span> + aE - <span class="hljs-number">65536</span>;
            <span class="hljs-keyword">return</span> aD !== aD || i ? aE : aD &lt; <span class="hljs-number">0</span> ? <span class="hljs-built_in">String</span>.fromCharCode(aD + <span class="hljs-number">65536</span>) : <span class="hljs-built_in">String</span>.fromCharCode(aD &gt;&gt; <span class="hljs-number">10</span> | <span class="hljs-number">55296</span>, aD &amp; <span class="hljs-number">1023</span> | <span class="hljs-number">56320</span>)
        };
    <span class="hljs-keyword">try</span> {
        b.apply((ar = s.call(O.childNodes)), O.childNodes);
        ar[O.childNodes.length].nodeType
    } <span class="hljs-keyword">catch</span> (I) {
        b = {
            <span class="hljs-attr">apply</span>: ar.length ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e</span>) </span>{
                R.apply(i, s.call(e))
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF, aE</span>) </span>{
                <span class="hljs-keyword">var</span> e = aF.length,
                    aD = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> ((aF[e++] = aE[aD++])) {}
                aF.length = e - <span class="hljs-number">1</span>
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">B</span>(<span class="hljs-params">aK, aD, aO, aQ</span>) </span>{
        <span class="hljs-keyword">var</span> aP, aH, aI, aM, aN, aG, aF, e, aE, aL;
        <span class="hljs-keyword">if</span> ((aD ? aD.ownerDocument || aD : O) !== H) {
            ae(aD)
        }
        aD = aD || H;
        aO = aO || [];
        <span class="hljs-keyword">if</span> (!aK || <span class="hljs-keyword">typeof</span> aK !== <span class="hljs-string">"string"</span>) {
            <span class="hljs-keyword">return</span> aO
        }
        <span class="hljs-keyword">if</span> ((aM = aD.nodeType) !== <span class="hljs-number">1</span> &amp;&amp; aM !== <span class="hljs-number">9</span>) {
            <span class="hljs-keyword">return</span> []
        }
        <span class="hljs-keyword">if</span> (an &amp;&amp; !aQ) {
            <span class="hljs-keyword">if</span> ((aP = W.exec(aK))) {
                <span class="hljs-keyword">if</span> ((aI = aP[<span class="hljs-number">1</span>])) {
                    <span class="hljs-keyword">if</span> (aM === <span class="hljs-number">9</span>) {
                        aH = aD.getElementById(aI);
                        <span class="hljs-keyword">if</span> (aH &amp;&amp; aH.parentNode) {
                            <span class="hljs-keyword">if</span> (aH.id === aI) {
                                aO.push(aH);
                                <span class="hljs-keyword">return</span> aO
                            }
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">return</span> aO
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (aD.ownerDocument &amp;&amp; (aH = aD.ownerDocument.getElementById(aI)) &amp;&amp; K(aD, aH) &amp;&amp; aH.id === aI) {
                            aO.push(aH);
                            <span class="hljs-keyword">return</span> aO
                        }
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (aP[<span class="hljs-number">2</span>]) {
                        b.apply(aO, aD.getElementsByTagName(aK));
                        <span class="hljs-keyword">return</span> aO
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> ((aI = aP[<span class="hljs-number">3</span>]) &amp;&amp; ay.getElementsByClassName &amp;&amp; aD.getElementsByClassName) {
                            b.apply(aO, aD.getElementsByClassName(aI));
                            <span class="hljs-keyword">return</span> aO
                        }
                    }
                }
            }
            <span class="hljs-keyword">if</span> (ay.qsa &amp;&amp; (!ai || !ai.test(aK))) {
                e = aF = ap;
                aE = aD;
                aL = aM === <span class="hljs-number">9</span> &amp;&amp; aK;
                <span class="hljs-keyword">if</span> (aM === <span class="hljs-number">1</span> &amp;&amp; aD.nodeName.toLowerCase() !== <span class="hljs-string">"object"</span>) {
                    aG = n(aK);
                    <span class="hljs-keyword">if</span> ((aF = aD.getAttribute(<span class="hljs-string">"id"</span>))) {
                        e = aF.replace(S, <span class="hljs-string">"\\$&amp;"</span>)
                    } <span class="hljs-keyword">else</span> {
                        aD.setAttribute(<span class="hljs-string">"id"</span>, e)
                    }
                    e = <span class="hljs-string">"[id='"</span> + e + <span class="hljs-string">"'] "</span>;
                    aN = aG.length;
                    <span class="hljs-keyword">while</span> (aN--) {
                        aG[aN] = e + o(aG[aN])
                    }
                    aE = ag.test(aK) &amp;&amp; Y(aD.parentNode) || aD;
                    aL = aG.join(<span class="hljs-string">","</span>)
                }
                <span class="hljs-keyword">if</span> (aL) {
                    <span class="hljs-keyword">try</span> {
                        b.apply(aO, aE.querySelectorAll(aL));
                        <span class="hljs-keyword">return</span> aO
                    } <span class="hljs-keyword">catch</span> (aJ) {} <span class="hljs-keyword">finally</span> {
                        <span class="hljs-keyword">if</span> (!aF) {
                            aD.removeAttribute(<span class="hljs-string">"id"</span>)
                        }
                    }
                }
            }
        }
        <span class="hljs-keyword">return</span> ax(aK.replace(x, <span class="hljs-string">"$1"</span>), aD, aO, aQ)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> i = [];

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">aD, aE</span>) </span>{
            <span class="hljs-keyword">if</span> (i.push(aD + <span class="hljs-string">" "</span>) &gt; t.cacheLength) {
                <span class="hljs-keyword">delete</span> e[i.shift()]
            }
            <span class="hljs-keyword">return</span> (e[aD + <span class="hljs-string">" "</span>] = aE)
        }
        <span class="hljs-keyword">return</span> e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">e</span>) </span>{
        e[ap] = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">var</span> aE = H.createElement(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> !!i(aE)
        } <span class="hljs-keyword">catch</span> (aD) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-keyword">if</span> (aE.parentNode) {
                aE.parentNode.removeChild(aE)
            }
            aE = <span class="hljs-literal">null</span>
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aA</span>(<span class="hljs-params">aD, aF</span>) </span>{
        <span class="hljs-keyword">var</span> e = aD.split(<span class="hljs-string">"|"</span>),
            aE = aD.length;
        <span class="hljs-keyword">while</span> (aE--) {
            t.attrHandle[e[aE]] = aF
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">i, e</span>) </span>{
        <span class="hljs-keyword">var</span> aE = e &amp;&amp; i,
            aD = aE &amp;&amp; i.nodeType === <span class="hljs-number">1</span> &amp;&amp; e.nodeType === <span class="hljs-number">1</span> &amp;&amp; (~e.sourceIndex || V) - (~i.sourceIndex || V);
        <span class="hljs-keyword">if</span> (aD) {
            <span class="hljs-keyword">return</span> aD
        }
        <span class="hljs-keyword">if</span> (aE) {
            <span class="hljs-keyword">while</span> ((aE = aE.nextSibling)) {
                <span class="hljs-keyword">if</span> (aE === e) {
                    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
                }
            }
        }
        <span class="hljs-keyword">return</span> i ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
            <span class="hljs-keyword">var</span> i = aD.nodeName.toLowerCase();
            <span class="hljs-keyword">return</span> i === <span class="hljs-string">"input"</span> &amp;&amp; aD.type === e
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
            <span class="hljs-keyword">var</span> i = aD.nodeName.toLowerCase();
            <span class="hljs-keyword">return</span> (i === <span class="hljs-string">"input"</span> || i === <span class="hljs-string">"button"</span>) &amp;&amp; aD.type === e
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">am</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
            i = +i;
            <span class="hljs-keyword">return</span> p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD, aH</span>) </span>{
                <span class="hljs-keyword">var</span> aF, aE = e([], aD.length, i),
                    aG = aE.length;
                <span class="hljs-keyword">while</span> (aG--) {
                    <span class="hljs-keyword">if</span> (aD[(aF = aE[aG])]) {
                        aD[aF] = !(aH[aF] = aD[aF])
                    }
                }
            })
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Y</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> e &amp;&amp; <span class="hljs-keyword">typeof</span> e.getElementsByTagName !== au &amp;&amp; e
    }
    ay = B.support = {};
    P = B.isXML = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> i = e &amp;&amp; (e.ownerDocument || e).documentElement;
        <span class="hljs-keyword">return</span> i ? i.nodeName !== <span class="hljs-string">"HTML"</span> : <span class="hljs-literal">false</span>
    };
    ae = B.setDocument = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
        <span class="hljs-keyword">var</span> e, aE = aD ? aD.ownerDocument || aD : O,
            i = aE.defaultView;
        <span class="hljs-keyword">if</span> (aE === H || aE.nodeType !== <span class="hljs-number">9</span> || !aE.documentElement) {
            <span class="hljs-keyword">return</span> H
        }
        H = aE;
        u = aE.documentElement;
        an = !P(aE);
        <span class="hljs-keyword">if</span> (i &amp;&amp; i !== i.top) {
            <span class="hljs-keyword">if</span> (i.addEventListener) {
                i.addEventListener(<span class="hljs-string">"unload"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    ae()
                }, <span class="hljs-literal">false</span>)
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (i.attachEvent) {
                    i.attachEvent(<span class="hljs-string">"onunload"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        ae()
                    })
                }
            }
        }
        ay.attributes = l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
            aF.className = <span class="hljs-string">"i"</span>;
            <span class="hljs-keyword">return</span> !aF.getAttribute(<span class="hljs-string">"className"</span>)
        });
        ay.getElementsByTagName = l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
            aF.appendChild(aE.createComment(<span class="hljs-string">""</span>));
            <span class="hljs-keyword">return</span> !aF.getElementsByTagName(<span class="hljs-string">"*"</span>).length
        });
        ay.getElementsByClassName = U.test(aE.getElementsByClassName) &amp;&amp; l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
            aF.innerHTML = <span class="hljs-string">"&lt;div class='a'&gt;&lt;/div&gt;&lt;div class='a i'&gt;&lt;/div&gt;"</span>;
            aF.firstChild.className = <span class="hljs-string">"i"</span>;
            <span class="hljs-keyword">return</span> aF.getElementsByClassName(<span class="hljs-string">"i"</span>).length === <span class="hljs-number">2</span>
        });
        ay.getById = l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
            u.appendChild(aF).id = ap;
            <span class="hljs-keyword">return</span> !aE.getElementsByName || !aE.getElementsByName(ap).length
        });
        <span class="hljs-keyword">if</span> (ay.getById) {
            t.find.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aH, aG</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> aG.getElementById !== au &amp;&amp; an) {
                    <span class="hljs-keyword">var</span> aF = aG.getElementById(aH);
                    <span class="hljs-keyword">return</span> aF &amp;&amp; aF.parentNode ? [aF] : []
                }
            };
            t.filter.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG</span>) </span>{
                <span class="hljs-keyword">var</span> aF = aG.replace(y, ak);
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aH</span>) </span>{
                    <span class="hljs-keyword">return</span> aH.getAttribute(<span class="hljs-string">"id"</span>) === aF
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">delete</span> t.find.ID;
            t.filter.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG</span>) </span>{
                <span class="hljs-keyword">var</span> aF = aG.replace(y, ak);
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aI</span>) </span>{
                    <span class="hljs-keyword">var</span> aH = <span class="hljs-keyword">typeof</span> aI.getAttributeNode !== au &amp;&amp; aI.getAttributeNode(<span class="hljs-string">"id"</span>);
                    <span class="hljs-keyword">return</span> aH &amp;&amp; aH.value === aF
                }
            }
        }
        t.find.TAG = ay.getElementsByTagName ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF, aG</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> aG.getElementsByTagName !== au) {
                <span class="hljs-keyword">return</span> aG.getElementsByTagName(aF)
            }
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF, aJ</span>) </span>{
            <span class="hljs-keyword">var</span> aK, aI = [],
                aH = <span class="hljs-number">0</span>,
                aG = aJ.getElementsByTagName(aF);
            <span class="hljs-keyword">if</span> (aF === <span class="hljs-string">"*"</span>) {
                <span class="hljs-keyword">while</span> ((aK = aG[aH++])) {
                    <span class="hljs-keyword">if</span> (aK.nodeType === <span class="hljs-number">1</span>) {
                        aI.push(aK)
                    }
                }
                <span class="hljs-keyword">return</span> aI
            }
            <span class="hljs-keyword">return</span> aG
        };
        t.find.CLASS = ay.getElementsByClassName &amp;&amp; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> aF.getElementsByClassName !== au &amp;&amp; an) {
                <span class="hljs-keyword">return</span> aF.getElementsByClassName(aG)
            }
        };
        aw = [];
        ai = [];
        <span class="hljs-keyword">if</span> ((ay.qsa = U.test(aE.querySelectorAll))) {
            l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
                aF.innerHTML = <span class="hljs-string">"&lt;select t=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;"</span>;
                <span class="hljs-keyword">if</span> (aF.querySelectorAll(<span class="hljs-string">"[t^='']"</span>).length) {
                    ai.push(<span class="hljs-string">"[*^$]="</span> + v + <span class="hljs-string">"*(?:''|\"\")"</span>)
                }
                <span class="hljs-keyword">if</span> (!aF.querySelectorAll(<span class="hljs-string">"[selected]"</span>).length) {
                    ai.push(<span class="hljs-string">"\\["</span> + v + <span class="hljs-string">"*(?:value|"</span> + c + <span class="hljs-string">")"</span>)
                }
                <span class="hljs-keyword">if</span> (!aF.querySelectorAll(<span class="hljs-string">":checked"</span>).length) {
                    ai.push(<span class="hljs-string">":checked"</span>)
                }
            });
            l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG</span>) </span>{
                <span class="hljs-keyword">var</span> aF = aE.createElement(<span class="hljs-string">"input"</span>);
                aF.setAttribute(<span class="hljs-string">"type"</span>, <span class="hljs-string">"hidden"</span>);
                aG.appendChild(aF).setAttribute(<span class="hljs-string">"name"</span>, <span class="hljs-string">"D"</span>);
                <span class="hljs-keyword">if</span> (aG.querySelectorAll(<span class="hljs-string">"[name=d]"</span>).length) {
                    ai.push(<span class="hljs-string">"name"</span> + v + <span class="hljs-string">"*[*^$|!~]?="</span>)
                }
                <span class="hljs-keyword">if</span> (!aG.querySelectorAll(<span class="hljs-string">":enabled"</span>).length) {
                    ai.push(<span class="hljs-string">":enabled"</span>, <span class="hljs-string">":disabled"</span>)
                }
                aG.querySelectorAll(<span class="hljs-string">"*,:x"</span>);
                ai.push(<span class="hljs-string">",.*:"</span>)
            })
        }
        <span class="hljs-keyword">if</span> ((ay.matchesSelector = U.test((k = u.webkitMatchesSelector || u.mozMatchesSelector || u.oMatchesSelector || u.msMatchesSelector)))) {
            l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
                ay.disconnectedMatch = k.call(aF, <span class="hljs-string">"div"</span>);
                k.call(aF, <span class="hljs-string">"[s!='']:x"</span>);
                aw.push(<span class="hljs-string">"!="</span>, q)
            })
        }
        ai = ai.length &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(ai.join(<span class="hljs-string">"|"</span>));
        aw = aw.length &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(aw.join(<span class="hljs-string">"|"</span>));
        e = U.test(u.compareDocumentPosition);
        K = e || U.test(u.contains) ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF</span>) </span>{
            <span class="hljs-keyword">var</span> aI = aG.nodeType === <span class="hljs-number">9</span> ? aG.documentElement : aG,
                aH = aF &amp;&amp; aF.parentNode;
            <span class="hljs-keyword">return</span> aG === aH || !!(aH &amp;&amp; aH.nodeType === <span class="hljs-number">1</span> &amp;&amp; (aI.contains ? aI.contains(aH) : aG.compareDocumentPosition &amp;&amp; aG.compareDocumentPosition(aH) &amp; <span class="hljs-number">16</span>))
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF</span>) </span>{
            <span class="hljs-keyword">if</span> (aF) {
                <span class="hljs-keyword">while</span> ((aF = aF.parentNode)) {
                    <span class="hljs-keyword">if</span> (aF === aG) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                    }
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        };
        J = e ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF</span>) </span>{
            <span class="hljs-keyword">if</span> (aG === aF) {
                ac = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
            }
            <span class="hljs-keyword">var</span> aH = !aG.compareDocumentPosition - !aF.compareDocumentPosition;
            <span class="hljs-keyword">if</span> (aH) {
                <span class="hljs-keyword">return</span> aH
            }
            aH = (aG.ownerDocument || aG) === (aF.ownerDocument || aF) ? aG.compareDocumentPosition(aF) : <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (aH &amp; <span class="hljs-number">1</span> || (!ay.sortDetached &amp;&amp; aF.compareDocumentPosition(aG) === aH)) {
                <span class="hljs-keyword">if</span> (aG === aE || aG.ownerDocument === O &amp;&amp; K(O, aG)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
                }
                <span class="hljs-keyword">if</span> (aF === aE || aF.ownerDocument === O &amp;&amp; K(O, aF)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
                }
                <span class="hljs-keyword">return</span> N ? (j.call(N, aG) - j.call(N, aF)) : <span class="hljs-number">0</span>
            }
            <span class="hljs-keyword">return</span> aH &amp; <span class="hljs-number">4</span> ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF</span>) </span>{
            <span class="hljs-keyword">if</span> (aG === aF) {
                ac = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
            }
            <span class="hljs-keyword">var</span> aM, aJ = <span class="hljs-number">0</span>,
                aL = aG.parentNode,
                aI = aF.parentNode,
                aH = [aG],
                aK = [aF];
            <span class="hljs-keyword">if</span> (!aL || !aI) {
                <span class="hljs-keyword">return</span> aG === aE ? <span class="hljs-number">-1</span> : aF === aE ? <span class="hljs-number">1</span> : aL ? <span class="hljs-number">-1</span> : aI ? <span class="hljs-number">1</span> : N ? (j.call(N, aG) - j.call(N, aF)) : <span class="hljs-number">0</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (aL === aI) {
                    <span class="hljs-keyword">return</span> f(aG, aF)
                }
            }
            aM = aG;
            <span class="hljs-keyword">while</span> ((aM = aM.parentNode)) {
                aH.unshift(aM)
            }
            aM = aF;
            <span class="hljs-keyword">while</span> ((aM = aM.parentNode)) {
                aK.unshift(aM)
            }
            <span class="hljs-keyword">while</span> (aH[aJ] === aK[aJ]) {
                aJ++
            }
            <span class="hljs-keyword">return</span> aJ ? f(aH[aJ], aK[aJ]) : aH[aJ] === O ? <span class="hljs-number">-1</span> : aK[aJ] === O ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>
        };
        <span class="hljs-keyword">return</span> aE
    };
    B.matches = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e</span>) </span>{
        <span class="hljs-keyword">return</span> B(i, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, e)
    };
    B.matchesSelector = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD, aF</span>) </span>{
        <span class="hljs-keyword">if</span> ((aD.ownerDocument || aD) !== H) {
            ae(aD)
        }
        aF = aF.replace(z, <span class="hljs-string">"='$1']"</span>);
        <span class="hljs-keyword">if</span> (ay.matchesSelector &amp;&amp; an &amp;&amp; (!aw || !aw.test(aF)) &amp;&amp; (!ai || !ai.test(aF))) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">var</span> i = k.call(aD, aF);
                <span class="hljs-keyword">if</span> (i || ay.disconnectedMatch || aD.document &amp;&amp; aD.document.nodeType !== <span class="hljs-number">11</span>) {
                    <span class="hljs-keyword">return</span> i
                }
            } <span class="hljs-keyword">catch</span> (aE) {}
        }
        <span class="hljs-keyword">return</span> B(aF, H, <span class="hljs-literal">null</span>, [aD]).length &gt; <span class="hljs-number">0</span>
    };
    B.contains = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, i</span>) </span>{
        <span class="hljs-keyword">if</span> ((e.ownerDocument || e) !== H) {
            ae(e)
        }
        <span class="hljs-keyword">return</span> K(e, i)
    };
    B.attr = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD, e</span>) </span>{
        <span class="hljs-keyword">if</span> ((aD.ownerDocument || aD) !== H) {
            ae(aD)
        }
        <span class="hljs-keyword">var</span> i = t.attrHandle[e.toLowerCase()],
            aE = i &amp;&amp; T.call(t.attrHandle, e.toLowerCase()) ? i(aD, e, !an) : <span class="hljs-literal">undefined</span>;
        <span class="hljs-keyword">return</span> aE !== <span class="hljs-literal">undefined</span> ? aE : ay.attributes || !an ? aD.getAttribute(e) : (aE = aD.getAttributeNode(e)) &amp;&amp; aE.specified ? aE.value : <span class="hljs-literal">null</span>
    };
    B.error = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Syntax error, unrecognized expression: "</span> + e)
    };
    B.uniqueSort = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aE</span>) </span>{
        <span class="hljs-keyword">var</span> aF, aG = [],
            e = <span class="hljs-number">0</span>,
            aD = <span class="hljs-number">0</span>;
        ac = !ay.detectDuplicates;
        N = !ay.sortStable &amp;&amp; aE.slice(<span class="hljs-number">0</span>);
        aE.sort(J);
        <span class="hljs-keyword">if</span> (ac) {
            <span class="hljs-keyword">while</span> ((aF = aE[aD++])) {
                <span class="hljs-keyword">if</span> (aF === aE[aD]) {
                    e = aG.push(aD)
                }
            }
            <span class="hljs-keyword">while</span> (e--) {
                aE.splice(aG[e], <span class="hljs-number">1</span>)
            }
        }
        N = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> aE
    };
    M = B.getText = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG</span>) </span>{
        <span class="hljs-keyword">var</span> aF, aD = <span class="hljs-string">""</span>,
            aE = <span class="hljs-number">0</span>,
            e = aG.nodeType;
        <span class="hljs-keyword">if</span> (!e) {
            <span class="hljs-keyword">while</span> ((aF = aG[aE++])) {
                aD += M(aF)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (e === <span class="hljs-number">1</span> || e === <span class="hljs-number">9</span> || e === <span class="hljs-number">11</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> aG.textContent === <span class="hljs-string">"string"</span>) {
                    <span class="hljs-keyword">return</span> aG.textContent
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">for</span> (aG = aG.firstChild; aG; aG = aG.nextSibling) {
                        aD += M(aG)
                    }
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (e === <span class="hljs-number">3</span> || e === <span class="hljs-number">4</span>) {
                    <span class="hljs-keyword">return</span> aG.nodeValue
                }
            }
        }
        <span class="hljs-keyword">return</span> aD
    };
    t = B.selectors = {
        <span class="hljs-attr">cacheLength</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">createPseudo</span>: p,
        <span class="hljs-attr">match</span>: ah,
        <span class="hljs-attr">attrHandle</span>: {},
        <span class="hljs-attr">find</span>: {},
        <span class="hljs-attr">relative</span>: {
            <span class="hljs-string">"&gt;"</span>: {
                <span class="hljs-attr">dir</span>: <span class="hljs-string">"parentNode"</span>,
                <span class="hljs-attr">first</span>: <span class="hljs-literal">true</span>
            },
            <span class="hljs-string">" "</span>: {
                <span class="hljs-attr">dir</span>: <span class="hljs-string">"parentNode"</span>
            },
            <span class="hljs-string">"+"</span>: {
                <span class="hljs-attr">dir</span>: <span class="hljs-string">"previousSibling"</span>,
                <span class="hljs-attr">first</span>: <span class="hljs-literal">true</span>
            },
            <span class="hljs-string">"~"</span>: {
                <span class="hljs-attr">dir</span>: <span class="hljs-string">"previousSibling"</span>
            }
        },
        <span class="hljs-attr">preFilter</span>: {
            <span class="hljs-attr">ATTR</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                e[<span class="hljs-number">1</span>] = e[<span class="hljs-number">1</span>].replace(y, ak);
                e[<span class="hljs-number">3</span>] = (e[<span class="hljs-number">4</span>] || e[<span class="hljs-number">5</span>] || <span class="hljs-string">""</span>).replace(y, ak);
                <span class="hljs-keyword">if</span> (e[<span class="hljs-number">2</span>] === <span class="hljs-string">"~="</span>) {
                    e[<span class="hljs-number">3</span>] = <span class="hljs-string">" "</span> + e[<span class="hljs-number">3</span>] + <span class="hljs-string">" "</span>
                }
                <span class="hljs-keyword">return</span> e.slice(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>)
            },
            <span class="hljs-attr">CHILD</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                e[<span class="hljs-number">1</span>] = e[<span class="hljs-number">1</span>].toLowerCase();
                <span class="hljs-keyword">if</span> (e[<span class="hljs-number">1</span>].slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) === <span class="hljs-string">"nth"</span>) {
                    <span class="hljs-keyword">if</span> (!e[<span class="hljs-number">3</span>]) {
                        B.error(e[<span class="hljs-number">0</span>])
                    }
                    e[<span class="hljs-number">4</span>] = +(e[<span class="hljs-number">4</span>] ? e[<span class="hljs-number">5</span>] + (e[<span class="hljs-number">6</span>] || <span class="hljs-number">1</span>) : <span class="hljs-number">2</span> * (e[<span class="hljs-number">3</span>] === <span class="hljs-string">"even"</span> || e[<span class="hljs-number">3</span>] === <span class="hljs-string">"odd"</span>));
                    e[<span class="hljs-number">5</span>] = +((e[<span class="hljs-number">7</span>] + e[<span class="hljs-number">8</span>]) || e[<span class="hljs-number">3</span>] === <span class="hljs-string">"odd"</span>)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (e[<span class="hljs-number">3</span>]) {
                        B.error(e[<span class="hljs-number">0</span>])
                    }
                }
                <span class="hljs-keyword">return</span> e
            },
            <span class="hljs-attr">PSEUDO</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">var</span> e, aD = !i[<span class="hljs-number">5</span>] &amp;&amp; i[<span class="hljs-number">2</span>];
                <span class="hljs-keyword">if</span> (ah.CHILD.test(i[<span class="hljs-number">0</span>])) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
                }
                <span class="hljs-keyword">if</span> (i[<span class="hljs-number">3</span>] &amp;&amp; i[<span class="hljs-number">4</span>] !== <span class="hljs-literal">undefined</span>) {
                    i[<span class="hljs-number">2</span>] = i[<span class="hljs-number">4</span>]
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (aD &amp;&amp; X.test(aD) &amp;&amp; (e = n(aD, <span class="hljs-literal">true</span>)) &amp;&amp; (e = aD.indexOf(<span class="hljs-string">")"</span>, aD.length - e) - aD.length)) {
                        i[<span class="hljs-number">0</span>] = i[<span class="hljs-number">0</span>].slice(<span class="hljs-number">0</span>, e);
                        i[<span class="hljs-number">2</span>] = aD.slice(<span class="hljs-number">0</span>, e)
                    }
                }
                <span class="hljs-keyword">return</span> i.slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)
            }
        },
        <span class="hljs-attr">filter</span>: {
            <span class="hljs-attr">TAG</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">var</span> e = i.replace(y, ak).toLowerCase();
                <span class="hljs-keyword">return</span> i === <span class="hljs-string">"*"</span> ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
                    <span class="hljs-keyword">return</span> aD.nodeName &amp;&amp; aD.nodeName.toLowerCase() === e
                }
            },
            <span class="hljs-attr">CLASS</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">var</span> i = d[e + <span class="hljs-string">" "</span>];
                <span class="hljs-keyword">return</span> i || (i = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|"</span> + v + <span class="hljs-string">")"</span> + e + <span class="hljs-string">"("</span> + v + <span class="hljs-string">"|$)"</span>)) &amp;&amp; d(e, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
                    <span class="hljs-keyword">return</span> i.test(<span class="hljs-keyword">typeof</span> aD.className === <span class="hljs-string">"string"</span> &amp;&amp; aD.className || <span class="hljs-keyword">typeof</span> aD.getAttribute !== au &amp;&amp; aD.getAttribute(<span class="hljs-string">"class"</span>) || <span class="hljs-string">""</span>)
                })
            },
            <span class="hljs-attr">ATTR</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD, i, e</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
                    <span class="hljs-keyword">var</span> aE = B.attr(aF, aD);
                    <span class="hljs-keyword">if</span> (aE == <span class="hljs-literal">null</span>) {
                        <span class="hljs-keyword">return</span> i === <span class="hljs-string">"!="</span>
                    }
                    <span class="hljs-keyword">if</span> (!i) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                    }
                    aE += <span class="hljs-string">""</span>;
                    <span class="hljs-keyword">return</span> i === <span class="hljs-string">"="</span> ? aE === e : i === <span class="hljs-string">"!="</span> ? aE !== e : i === <span class="hljs-string">"^="</span> ? e &amp;&amp; aE.indexOf(e) === <span class="hljs-number">0</span> : i === <span class="hljs-string">"*="</span> ? e &amp;&amp; aE.indexOf(e) &gt; <span class="hljs-number">-1</span> : i === <span class="hljs-string">"$="</span> ? e &amp;&amp; aE.slice(-e.length) === e : i === <span class="hljs-string">"~="</span> ? (<span class="hljs-string">" "</span> + aE + <span class="hljs-string">" "</span>).indexOf(e) &gt; <span class="hljs-number">-1</span> : i === <span class="hljs-string">"|="</span> ? aE === e || aE.slice(<span class="hljs-number">0</span>, e.length + <span class="hljs-number">1</span>) === e + <span class="hljs-string">"-"</span> : <span class="hljs-literal">false</span>
                }
            },
            <span class="hljs-attr">CHILD</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, aF, aE, aG, aD</span>) </span>{
                <span class="hljs-keyword">var</span> aI = i.slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) !== <span class="hljs-string">"nth"</span>,
                    e = i.slice(<span class="hljs-number">-4</span>) !== <span class="hljs-string">"last"</span>,
                    aH = aF === <span class="hljs-string">"of-type"</span>;
                <span class="hljs-keyword">return</span> aG === <span class="hljs-number">1</span> &amp;&amp; aD === <span class="hljs-number">0</span> ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aJ</span>) </span>{
                    <span class="hljs-keyword">return</span> !!aJ.parentNode
                } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aP, aN, aS</span>) </span>{
                    <span class="hljs-keyword">var</span> aJ, aV, aQ, aU, aR, aM, aO = aI !== e ? <span class="hljs-string">"nextSibling"</span> : <span class="hljs-string">"previousSibling"</span>,
                        aT = aP.parentNode,
                        aL = aH &amp;&amp; aP.nodeName.toLowerCase(),
                        aK = !aS &amp;&amp; !aH;
                    <span class="hljs-keyword">if</span> (aT) {
                        <span class="hljs-keyword">if</span> (aI) {
                            <span class="hljs-keyword">while</span> (aO) {
                                aQ = aP;
                                <span class="hljs-keyword">while</span> ((aQ = aQ[aO])) {
                                    <span class="hljs-keyword">if</span> (aH ? aQ.nodeName.toLowerCase() === aL : aQ.nodeType === <span class="hljs-number">1</span>) {
                                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
                                    }
                                }
                                aM = aO = i === <span class="hljs-string">"only"</span> &amp;&amp; !aM &amp;&amp; <span class="hljs-string">"nextSibling"</span>
                            }
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                        }
                        aM = [e ? aT.firstChild : aT.lastChild];
                        <span class="hljs-keyword">if</span> (e &amp;&amp; aK) {
                            aV = aT[ap] || (aT[ap] = {});
                            aJ = aV[i] || [];
                            aR = aJ[<span class="hljs-number">0</span>] === az &amp;&amp; aJ[<span class="hljs-number">1</span>];
                            aU = aJ[<span class="hljs-number">0</span>] === az &amp;&amp; aJ[<span class="hljs-number">2</span>];
                            aQ = aR &amp;&amp; aT.childNodes[aR];
                            <span class="hljs-keyword">while</span> ((aQ = ++aR &amp;&amp; aQ &amp;&amp; aQ[aO] || (aU = aR = <span class="hljs-number">0</span>) || aM.pop())) {
                                <span class="hljs-keyword">if</span> (aQ.nodeType === <span class="hljs-number">1</span> &amp;&amp; ++aU &amp;&amp; aQ === aP) {
                                    aV[i] = [az, aR, aU];
                                    <span class="hljs-keyword">break</span>
                                }
                            }
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">if</span> (aK &amp;&amp; (aJ = (aP[ap] || (aP[ap] = {}))[i]) &amp;&amp; aJ[<span class="hljs-number">0</span>] === az) {
                                aU = aJ[<span class="hljs-number">1</span>]
                            } <span class="hljs-keyword">else</span> {
                                <span class="hljs-keyword">while</span> ((aQ = ++aR &amp;&amp; aQ &amp;&amp; aQ[aO] || (aU = aR = <span class="hljs-number">0</span>) || aM.pop())) {
                                    <span class="hljs-keyword">if</span> ((aH ? aQ.nodeName.toLowerCase() === aL : aQ.nodeType === <span class="hljs-number">1</span>) &amp;&amp; ++aU) {
                                        <span class="hljs-keyword">if</span> (aK) {
                                            (aQ[ap] || (aQ[ap] = {}))[i] = [az, aU]
                                        }
                                        <span class="hljs-keyword">if</span> (aQ === aP) {
                                            <span class="hljs-keyword">break</span>
                                        }
                                    }
                                }
                            }
                        }
                        aU -= aD;
                        <span class="hljs-keyword">return</span> aU === aG || (aU % aG === <span class="hljs-number">0</span> &amp;&amp; aU / aG &gt;= <span class="hljs-number">0</span>)
                    }
                }
            },
            <span class="hljs-attr">PSEUDO</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aE, aD</span>) </span>{
                <span class="hljs-keyword">var</span> e, i = t.pseudos[aE] || t.setFilters[aE.toLowerCase()] || B.error(<span class="hljs-string">"unsupported pseudo: "</span> + aE);
                <span class="hljs-keyword">if</span> (i[ap]) {
                    <span class="hljs-keyword">return</span> i(aD)
                }
                <span class="hljs-keyword">if</span> (i.length &gt; <span class="hljs-number">1</span>) {
                    e = [aE, aE, <span class="hljs-string">""</span>, aD];
                    <span class="hljs-keyword">return</span> t.setFilters.hasOwnProperty(aE.toLowerCase()) ? p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aH, aJ</span>) </span>{
                        <span class="hljs-keyword">var</span> aG, aF = i(aH, aD),
                            aI = aF.length;
                        <span class="hljs-keyword">while</span> (aI--) {
                            aG = j.call(aH, aF[aI]);
                            aH[aG] = !(aJ[aG] = aF[aI])
                        }
                    }) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aF</span>) </span>{
                        <span class="hljs-keyword">return</span> i(aF, <span class="hljs-number">0</span>, e)
                    }
                }
                <span class="hljs-keyword">return</span> i
            }
        },
        <span class="hljs-attr">pseudos</span>: {
            <span class="hljs-attr">not</span>: p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">var</span> i = [],
                    aD = [],
                    aE = ab(e.replace(x, <span class="hljs-string">"$1"</span>));
                <span class="hljs-keyword">return</span> aE[ap] ? p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aL, aJ, aH</span>) </span>{
                    <span class="hljs-keyword">var</span> aK, aF = aE(aG, <span class="hljs-literal">null</span>, aH, []),
                        aI = aG.length;
                    <span class="hljs-keyword">while</span> (aI--) {
                        <span class="hljs-keyword">if</span> ((aK = aF[aI])) {
                            aG[aI] = !(aL[aI] = aK)
                        }
                    }
                }) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aH, aG, aF</span>) </span>{
                    i[<span class="hljs-number">0</span>] = aH;
                    aE(i, <span class="hljs-literal">null</span>, aF, aD);
                    <span class="hljs-keyword">return</span> !aD.pop()
                }
            }),
            <span class="hljs-attr">has</span>: p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                    <span class="hljs-keyword">return</span> B(e, i).length &gt; <span class="hljs-number">0</span>
                }
            }),
            <span class="hljs-attr">contains</span>: p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                    <span class="hljs-keyword">return</span> (i.textContent || i.innerText || M(i)).indexOf(e) &gt; <span class="hljs-number">-1</span>
                }
            }),
            <span class="hljs-attr">lang</span>: p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">if</span> (!Z.test(e || <span class="hljs-string">""</span>)) {
                    B.error(<span class="hljs-string">"unsupported lang: "</span> + e)
                }
                e = e.replace(y, ak).toLowerCase();
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aD</span>) </span>{
                    <span class="hljs-keyword">var</span> i;
                    <span class="hljs-keyword">do</span> {
                        <span class="hljs-keyword">if</span> ((i = an ? aD.lang : aD.getAttribute(<span class="hljs-string">"xml:lang"</span>) || aD.getAttribute(<span class="hljs-string">"lang"</span>))) {
                            i = i.toLowerCase();
                            <span class="hljs-keyword">return</span> i === e || i.indexOf(e + <span class="hljs-string">"-"</span>) === <span class="hljs-number">0</span>
                        }
                    } <span class="hljs-keyword">while</span> ((aD = aD.parentNode) &amp;&amp; aD.nodeType === <span class="hljs-number">1</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
                }
            }),
            <span class="hljs-attr">target</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">var</span> i = av.location &amp;&amp; av.location.hash;
                <span class="hljs-keyword">return</span> i &amp;&amp; i.slice(<span class="hljs-number">1</span>) === e.id
            },
            <span class="hljs-attr">root</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> e === u
            },
            <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> e === H.activeElement &amp;&amp; (!H.hasFocus || H.hasFocus()) &amp;&amp; !!(e.type || e.href || ~e.tabIndex)
            },
            <span class="hljs-attr">enabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> e.disabled === <span class="hljs-literal">false</span>
            },
            <span class="hljs-attr">disabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> e.disabled === <span class="hljs-literal">true</span>
            },
            <span class="hljs-attr">checked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">var</span> i = e.nodeName.toLowerCase();
                <span class="hljs-keyword">return</span> (i === <span class="hljs-string">"input"</span> &amp;&amp; !!e.checked) || (i === <span class="hljs-string">"option"</span> &amp;&amp; !!e.selected)
            },
            <span class="hljs-attr">selected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">if</span> (e.parentNode) {
                    e.parentNode.selectedIndex
                }
                <span class="hljs-keyword">return</span> e.selected === <span class="hljs-literal">true</span>
            },
            <span class="hljs-attr">empty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">for</span> (e = e.firstChild; e; e = e.nextSibling) {
                    <span class="hljs-keyword">if</span> (e.nodeType &lt; <span class="hljs-number">6</span>) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
                    }
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            },
            <span class="hljs-attr">parent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> !t.pseudos.empty(e)
            },
            <span class="hljs-attr">header</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> r.test(e.nodeName)
            },
            <span class="hljs-attr">input</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                <span class="hljs-keyword">return</span> h.test(e.nodeName)
            },
            <span class="hljs-attr">button</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">var</span> e = i.nodeName.toLowerCase();
                <span class="hljs-keyword">return</span> e === <span class="hljs-string">"input"</span> &amp;&amp; i.type === <span class="hljs-string">"button"</span> || e === <span class="hljs-string">"button"</span>
            },
            <span class="hljs-attr">text</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">var</span> e;
                <span class="hljs-keyword">return</span> i.nodeName.toLowerCase() === <span class="hljs-string">"input"</span> &amp;&amp; i.type === <span class="hljs-string">"text"</span> &amp;&amp; ((e = i.getAttribute(<span class="hljs-string">"type"</span>)) == <span class="hljs-literal">null</span> || e.toLowerCase() === <span class="hljs-string">"text"</span>)
            },
            <span class="hljs-attr">first</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>]
            }),
            <span class="hljs-attr">last</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, i</span>) </span>{
                <span class="hljs-keyword">return</span> [i - <span class="hljs-number">1</span>]
            }),
            <span class="hljs-attr">eq</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aD, i</span>) </span>{
                <span class="hljs-keyword">return</span> [i &lt; <span class="hljs-number">0</span> ? i + aD : i]
            }),
            <span class="hljs-attr">even</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aE</span>) </span>{
                <span class="hljs-keyword">var</span> aD = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (; aD &lt; aE; aD += <span class="hljs-number">2</span>) {
                    e.push(aD)
                }
                <span class="hljs-keyword">return</span> e
            }),
            <span class="hljs-attr">odd</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aE</span>) </span>{
                <span class="hljs-keyword">var</span> aD = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">for</span> (; aD &lt; aE; aD += <span class="hljs-number">2</span>) {
                    e.push(aD)
                }
                <span class="hljs-keyword">return</span> e
            }),
            <span class="hljs-attr">lt</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aF, aE</span>) </span>{
                <span class="hljs-keyword">var</span> aD = aE &lt; <span class="hljs-number">0</span> ? aE + aF : aE;
                <span class="hljs-keyword">for</span> (; --aD &gt;= <span class="hljs-number">0</span>;) {
                    e.push(aD)
                }
                <span class="hljs-keyword">return</span> e
            }),
            <span class="hljs-attr">gt</span>: am(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aF, aE</span>) </span>{
                <span class="hljs-keyword">var</span> aD = aE &lt; <span class="hljs-number">0</span> ? aE + aF : aE;
                <span class="hljs-keyword">for</span> (; ++aD &lt; aF;) {
                    e.push(aD)
                }
                <span class="hljs-keyword">return</span> e
            })
        }
    };
    t.pseudos.nth = t.pseudos.eq;
    <span class="hljs-keyword">for</span> (D <span class="hljs-keyword">in</span> {
            <span class="hljs-attr">radio</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">checkbox</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">file</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">password</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">image</span>: <span class="hljs-literal">true</span>
        }) {
        t.pseudos[D] = C(D)
    }
    <span class="hljs-keyword">for</span> (D <span class="hljs-keyword">in</span> {
            <span class="hljs-attr">submit</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">reset</span>: <span class="hljs-literal">true</span>
        }) {
        t.pseudos[D] = g(D)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aa</span>(<span class="hljs-params"></span>) </span>{}
    aa.prototype = t.filters = t.pseudos;
    t.setFilters = <span class="hljs-keyword">new</span> aa();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">aF, aK</span>) </span>{
        <span class="hljs-keyword">var</span> i, aG, aI, aJ, aH, aD, e, aE = ao[aF + <span class="hljs-string">" "</span>];
        <span class="hljs-keyword">if</span> (aE) {
            <span class="hljs-keyword">return</span> aK ? <span class="hljs-number">0</span> : aE.slice(<span class="hljs-number">0</span>)
        }
        aH = aF;
        aD = [];
        e = t.preFilter;
        <span class="hljs-keyword">while</span> (aH) {
            <span class="hljs-keyword">if</span> (!i || (aG = A.exec(aH))) {
                <span class="hljs-keyword">if</span> (aG) {
                    aH = aH.slice(aG[<span class="hljs-number">0</span>].length) || aH
                }
                aD.push((aI = []))
            }
            i = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> ((aG = G.exec(aH))) {
                i = aG.shift();
                aI.push({
                    <span class="hljs-attr">value</span>: i,
                    <span class="hljs-attr">type</span>: aG[<span class="hljs-number">0</span>].replace(x, <span class="hljs-string">" "</span>)
                });
                aH = aH.slice(i.length)
            }
            <span class="hljs-keyword">for</span> (aJ <span class="hljs-keyword">in</span> t.filter) {
                <span class="hljs-keyword">if</span> ((aG = ah[aJ].exec(aH)) &amp;&amp; (!e[aJ] || (aG = e[aJ](aG)))) {
                    i = aG.shift();
                    aI.push({
                        <span class="hljs-attr">value</span>: i,
                        <span class="hljs-attr">type</span>: aJ,
                        <span class="hljs-attr">matches</span>: aG
                    });
                    aH = aH.slice(i.length)
                }
            }
            <span class="hljs-keyword">if</span> (!i) {
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">return</span> aK ? aH.length : aH ? B.error(aF) : ao(aF, aD).slice(<span class="hljs-number">0</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">aF</span>) </span>{
        <span class="hljs-keyword">var</span> aE = <span class="hljs-number">0</span>,
            aD = aF.length,
            e = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (; aE &lt; aD; aE++) {
            e += aF[aE].value
        }
        <span class="hljs-keyword">return</span> e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params">aF, aD, aE</span>) </span>{
        <span class="hljs-keyword">var</span> e = aD.dir,
            aG = aE &amp;&amp; e === <span class="hljs-string">"parentNode"</span>,
            i = aj++;
        <span class="hljs-keyword">return</span> aD.first ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aJ, aI, aH</span>) </span>{
            <span class="hljs-keyword">while</span> ((aJ = aJ[e])) {
                <span class="hljs-keyword">if</span> (aJ.nodeType === <span class="hljs-number">1</span> || aG) {
                    <span class="hljs-keyword">return</span> aF(aJ, aI, aH)
                }
            }
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aL, aJ, aI</span>) </span>{
            <span class="hljs-keyword">var</span> aM, aK, aH = [az, i];
            <span class="hljs-keyword">if</span> (aI) {
                <span class="hljs-keyword">while</span> ((aL = aL[e])) {
                    <span class="hljs-keyword">if</span> (aL.nodeType === <span class="hljs-number">1</span> || aG) {
                        <span class="hljs-keyword">if</span> (aF(aL, aJ, aI)) {
                            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                        }
                    }
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">while</span> ((aL = aL[e])) {
                    <span class="hljs-keyword">if</span> (aL.nodeType === <span class="hljs-number">1</span> || aG) {
                        aK = aL[ap] || (aL[ap] = {});
                        <span class="hljs-keyword">if</span> ((aM = aK[e]) &amp;&amp; aM[<span class="hljs-number">0</span>] === az &amp;&amp; aM[<span class="hljs-number">1</span>] === i) {
                            <span class="hljs-keyword">return</span> (aH[<span class="hljs-number">2</span>] = aM[<span class="hljs-number">2</span>])
                        } <span class="hljs-keyword">else</span> {
                            aK[e] = aH;
                            <span class="hljs-keyword">if</span> ((aH[<span class="hljs-number">2</span>] = aF(aL, aJ, aI))) {
                                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                            }
                        }
                    }
                }
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aB</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> e.length &gt; <span class="hljs-number">1</span> ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aG, aF, aD</span>) </span>{
            <span class="hljs-keyword">var</span> aE = e.length;
            <span class="hljs-keyword">while</span> (aE--) {
                <span class="hljs-keyword">if</span> (!e[aE](aG, aF, aD)) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        } : e[<span class="hljs-number">0</span>]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">aD, aG, aF</span>) </span>{
        <span class="hljs-keyword">var</span> aE = <span class="hljs-number">0</span>,
            e = aG.length;
        <span class="hljs-keyword">for</span> (; aE &lt; e; aE++) {
            B(aD, aG[aE], aF)
        }
        <span class="hljs-keyword">return</span> aF
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">af</span>(<span class="hljs-params">e, aD, aE, aF, aI</span>) </span>{
        <span class="hljs-keyword">var</span> aG, aL = [],
            aH = <span class="hljs-number">0</span>,
            aJ = e.length,
            aK = aD != <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (; aH &lt; aJ; aH++) {
            <span class="hljs-keyword">if</span> ((aG = e[aH])) {
                <span class="hljs-keyword">if</span> (!aE || aE(aG, aF, aI)) {
                    aL.push(aG);
                    <span class="hljs-keyword">if</span> (aK) {
                        aD.push(aH)
                    }
                }
            }
        }
        <span class="hljs-keyword">return</span> aL
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">aD, i, aF, aE, aG, e</span>) </span>{
        <span class="hljs-keyword">if</span> (aE &amp;&amp; !aE[ap]) {
            aE = m(aE)
        }
        <span class="hljs-keyword">if</span> (aG &amp;&amp; !aG[ap]) {
            aG = m(aG, e)
        }
        <span class="hljs-keyword">return</span> p(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aR, aO, aJ, aQ</span>) </span>{
            <span class="hljs-keyword">var</span> aT, aP, aL, aK = [],
                aS = [],
                aI = aO.length,
                aH = aR || E(i || <span class="hljs-string">"*"</span>, aJ.nodeType ? [aJ] : aJ, []),
                aM = aD &amp;&amp; (aR || !i) ? af(aH, aK, aD, aJ, aQ) : aH,
                aN = aF ? aG || (aR ? aD : aI || aE) ? [] : aO : aM;
            <span class="hljs-keyword">if</span> (aF) {
                aF(aM, aN, aJ, aQ)
            }
            <span class="hljs-keyword">if</span> (aE) {
                aT = af(aN, aS);
                aE(aT, [], aJ, aQ);
                aP = aT.length;
                <span class="hljs-keyword">while</span> (aP--) {
                    <span class="hljs-keyword">if</span> ((aL = aT[aP])) {
                        aN[aS[aP]] = !(aM[aS[aP]] = aL)
                    }
                }
            }
            <span class="hljs-keyword">if</span> (aR) {
                <span class="hljs-keyword">if</span> (aG || aD) {
                    <span class="hljs-keyword">if</span> (aG) {
                        aT = [];
                        aP = aN.length;
                        <span class="hljs-keyword">while</span> (aP--) {
                            <span class="hljs-keyword">if</span> ((aL = aN[aP])) {
                                aT.push((aM[aP] = aL))
                            }
                        }
                        aG(<span class="hljs-literal">null</span>, (aN = []), aT, aQ)
                    }
                    aP = aN.length;
                    <span class="hljs-keyword">while</span> (aP--) {
                        <span class="hljs-keyword">if</span> ((aL = aN[aP]) &amp;&amp; (aT = aG ? j.call(aR, aL) : aK[aP]) &gt; <span class="hljs-number">-1</span>) {
                            aR[aT] = !(aO[aT] = aL)
                        }
                    }
                }
            } <span class="hljs-keyword">else</span> {
                aN = af(aN === aO ? aN.splice(aI, aN.length) : aN);
                <span class="hljs-keyword">if</span> (aG) {
                    aG(<span class="hljs-literal">null</span>, aO, aN, aQ)
                } <span class="hljs-keyword">else</span> {
                    b.apply(aO, aN)
                }
            }
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aq</span>(<span class="hljs-params">aI</span>) </span>{
        <span class="hljs-keyword">var</span> aD, aG, aE, aH = aI.length,
            aL = t.relative[aI[<span class="hljs-number">0</span>].type],
            aM = aL || t.relative[<span class="hljs-string">" "</span>],
            aF = aL ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>,
            aJ = w(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">return</span> i === aD
            }, aM, <span class="hljs-literal">true</span>),
            aK = w(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                <span class="hljs-keyword">return</span> j.call(aD, i) &gt; <span class="hljs-number">-1</span>
            }, aM, <span class="hljs-literal">true</span>),
            e = [<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aO, aN, i</span>) </span>{
                <span class="hljs-keyword">return</span> (!aL &amp;&amp; (i || aN !== aC)) || ((aD = aN).nodeType ? aJ(aO, aN, i) : aK(aO, aN, i))
            }];
        <span class="hljs-keyword">for</span> (; aF &lt; aH; aF++) {
            <span class="hljs-keyword">if</span> ((aG = t.relative[aI[aF].type])) {
                e = [w(aB(e), aG)]
            } <span class="hljs-keyword">else</span> {
                aG = t.filter[aI[aF].type].apply(<span class="hljs-literal">null</span>, aI[aF].matches);
                <span class="hljs-keyword">if</span> (aG[ap]) {
                    aE = ++aF;
                    <span class="hljs-keyword">for</span> (; aE &lt; aH; aE++) {
                        <span class="hljs-keyword">if</span> (t.relative[aI[aE].type]) {
                            <span class="hljs-keyword">break</span>
                        }
                    }
                    <span class="hljs-keyword">return</span> m(aF &gt; <span class="hljs-number">1</span> &amp;&amp; aB(e), aF &gt; <span class="hljs-number">1</span> &amp;&amp; o(aI.slice(<span class="hljs-number">0</span>, aF - <span class="hljs-number">1</span>).concat({
                        <span class="hljs-attr">value</span>: aI[aF - <span class="hljs-number">2</span>].type === <span class="hljs-string">" "</span> ? <span class="hljs-string">"*"</span> : <span class="hljs-string">""</span>
                    })).replace(x, <span class="hljs-string">"$1"</span>), aG, aF &lt; aE &amp;&amp; aq(aI.slice(aF, aE)), aE &lt; aH &amp;&amp; aq((aI = aI.slice(aE))), aE &lt; aH &amp;&amp; o(aI))
                }
                e.push(aG)
            }
        }
        <span class="hljs-keyword">return</span> aB(e)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ad</span>(<span class="hljs-params">aE, aD</span>) </span>{
        <span class="hljs-keyword">var</span> e = aD.length &gt; <span class="hljs-number">0</span>,
            aF = aE.length &gt; <span class="hljs-number">0</span>,
            i = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aP, aJ, aO, aN, aS</span>) </span>{
                <span class="hljs-keyword">var</span> aK, aL, aQ, aU = <span class="hljs-number">0</span>,
                    aM = <span class="hljs-string">"0"</span>,
                    aG = aP &amp;&amp; [],
                    aV = [],
                    aT = aC,
                    aI = aP || aF &amp;&amp; t.find.TAG(<span class="hljs-string">"*"</span>, aS),
                    aH = (az += aT == <span class="hljs-literal">null</span> ? <span class="hljs-number">1</span> : <span class="hljs-built_in">Math</span>.random() || <span class="hljs-number">0.1</span>),
                    aR = aI.length;
                <span class="hljs-keyword">if</span> (aS) {
                    aC = aJ !== H &amp;&amp; aJ
                }
                <span class="hljs-keyword">for</span> (; aM !== aR &amp;&amp; (aK = aI[aM]) != <span class="hljs-literal">null</span>; aM++) {
                    <span class="hljs-keyword">if</span> (aF &amp;&amp; aK) {
                        aL = <span class="hljs-number">0</span>;
                        <span class="hljs-keyword">while</span> ((aQ = aE[aL++])) {
                            <span class="hljs-keyword">if</span> (aQ(aK, aJ, aO)) {
                                aN.push(aK);
                                <span class="hljs-keyword">break</span>
                            }
                        }
                        <span class="hljs-keyword">if</span> (aS) {
                            az = aH
                        }
                    }
                    <span class="hljs-keyword">if</span> (e) {
                        <span class="hljs-keyword">if</span> ((aK = !aQ &amp;&amp; aK)) {
                            aU--
                        }
                        <span class="hljs-keyword">if</span> (aP) {
                            aG.push(aK)
                        }
                    }
                }
                aU += aM;
                <span class="hljs-keyword">if</span> (e &amp;&amp; aM !== aU) {
                    aL = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">while</span> ((aQ = aD[aL++])) {
                        aQ(aG, aV, aJ, aO)
                    }
                    <span class="hljs-keyword">if</span> (aP) {
                        <span class="hljs-keyword">if</span> (aU &gt; <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">while</span> (aM--) {
                                <span class="hljs-keyword">if</span> (!(aG[aM] || aV[aM])) {
                                    aV[aM] = at.call(aN)
                                }
                            }
                        }
                        aV = af(aV)
                    }
                    b.apply(aN, aV);
                    <span class="hljs-keyword">if</span> (aS &amp;&amp; !aP &amp;&amp; aV.length &gt; <span class="hljs-number">0</span> &amp;&amp; (aU + aD.length) &gt; <span class="hljs-number">1</span>) {
                        B.uniqueSort(aN)
                    }
                }
                <span class="hljs-keyword">if</span> (aS) {
                    az = aH;
                    aC = aT
                }
                <span class="hljs-keyword">return</span> aG
            };
        <span class="hljs-keyword">return</span> e ? p(i) : i
    }
    ab = B.compile = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, aE</span>) </span>{
        <span class="hljs-keyword">var</span> aF, aD = [],
            aH = [],
            aG = L[e + <span class="hljs-string">" "</span>];
        <span class="hljs-keyword">if</span> (!aG) {
            <span class="hljs-keyword">if</span> (!aE) {
                aE = n(e)
            }
            aF = aE.length;
            <span class="hljs-keyword">while</span> (aF--) {
                aG = aq(aE[aF]);
                <span class="hljs-keyword">if</span> (aG[ap]) {
                    aD.push(aG)
                } <span class="hljs-keyword">else</span> {
                    aH.push(aG)
                }
            }
            aG = L(e, ad(aH, aD));
            aG.selector = e
        }
        <span class="hljs-keyword">return</span> aG
    };
    ax = B.select = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">aE, e, aF, aI</span>) </span>{
        <span class="hljs-keyword">var</span> aG, aL, aD, aM, aJ, aK = <span class="hljs-keyword">typeof</span> aE === <span class="hljs-string">"function"</span> &amp;&amp; aE,
            aH = !aI &amp;&amp; n((aE = aK.selector || aE));
        aF = aF || [];
        <span class="hljs-keyword">if</span> (aH.length === <span class="hljs-number">1</span>) {
            aL = aH[<span class="hljs-number">0</span>] = aH[<span class="hljs-number">0</span>].slice(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">if</span> (aL.length &gt; <span class="hljs-number">2</span> &amp;&amp; (aD = aL[<span class="hljs-number">0</span>]).type === <span class="hljs-string">"ID"</span> &amp;&amp; ay.getById &amp;&amp; e.nodeType === <span class="hljs-number">9</span> &amp;&amp; an &amp;&amp; t.relative[aL[<span class="hljs-number">1</span>].type]) {
                e = (t.find.ID(aD.matches[<span class="hljs-number">0</span>].replace(y, ak), e) || [])[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (!e) {
                    <span class="hljs-keyword">return</span> aF
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (aK) {
                        e = e.parentNode
                    }
                }
                aE = aE.slice(aL.shift().value.length)
            }
            aG = ah.needsContext.test(aE) ? <span class="hljs-number">0</span> : aL.length;
            <span class="hljs-keyword">while</span> (aG--) {
                aD = aL[aG];
                <span class="hljs-keyword">if</span> (t.relative[(aM = aD.type)]) {
                    <span class="hljs-keyword">break</span>
                }
                <span class="hljs-keyword">if</span> ((aJ = t.find[aM])) {
                    <span class="hljs-keyword">if</span> ((aI = aJ(aD.matches[<span class="hljs-number">0</span>].replace(y, ak), ag.test(aL[<span class="hljs-number">0</span>].type) &amp;&amp; Y(e.parentNode) || e))) {
                        aL.splice(aG, <span class="hljs-number">1</span>);
                        aE = aI.length &amp;&amp; o(aL);
                        <span class="hljs-keyword">if</span> (!aE) {
                            b.apply(aF, aI);
                            <span class="hljs-keyword">return</span> aF
                        }
                        <span class="hljs-keyword">break</span>
                    }
                }
            }
        }(aK || ab(aE, aH))(aI, e, !an, aF, ag.test(aE) &amp;&amp; Y(e.parentNode) || e);
        <span class="hljs-keyword">return</span> aF
    };
    ay.sortStable = ap.split(<span class="hljs-string">""</span>).sort(J).join(<span class="hljs-string">""</span>) === ap;
    ay.detectDuplicates = !!ac;
    ae();
    ay.sortDetached = l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> e.compareDocumentPosition(H.createElement(<span class="hljs-string">"div"</span>)) &amp; <span class="hljs-number">1</span>
    });
    <span class="hljs-keyword">if</span> (!l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            e.innerHTML = <span class="hljs-string">"&lt;a href='#'&gt;&lt;/a&gt;"</span>;
            <span class="hljs-keyword">return</span> e.firstChild.getAttribute(<span class="hljs-string">"href"</span>) === <span class="hljs-string">"#"</span>
        })) {
        aA(<span class="hljs-string">"type|href|height|width"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e, aD</span>) </span>{
            <span class="hljs-keyword">if</span> (!aD) {
                <span class="hljs-keyword">return</span> i.getAttribute(e, e.toLowerCase() === <span class="hljs-string">"type"</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>)
            }
        })
    }
    <span class="hljs-keyword">if</span> (!ay.attributes || !l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            e.innerHTML = <span class="hljs-string">"&lt;input/&gt;"</span>;
            e.firstChild.setAttribute(<span class="hljs-string">"value"</span>, <span class="hljs-string">""</span>);
            <span class="hljs-keyword">return</span> e.firstChild.getAttribute(<span class="hljs-string">"value"</span>) === <span class="hljs-string">""</span>
        })) {
        aA(<span class="hljs-string">"value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e, aD</span>) </span>{
            <span class="hljs-keyword">if</span> (!aD &amp;&amp; i.nodeName.toLowerCase() === <span class="hljs-string">"input"</span>) {
                <span class="hljs-keyword">return</span> i.defaultValue
            }
        })
    }
    <span class="hljs-keyword">if</span> (!l(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">return</span> e.getAttribute(<span class="hljs-string">"disabled"</span>) == <span class="hljs-literal">null</span>
        })) {
        aA(c, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, e, aE</span>) </span>{
            <span class="hljs-keyword">var</span> aD;
            <span class="hljs-keyword">if</span> (!aE) {
                <span class="hljs-keyword">return</span> i[e] === <span class="hljs-literal">true</span> ? e.toLowerCase() : (aD = i.getAttributeNode(e)) &amp;&amp; aD.specified ? aD.value : <span class="hljs-literal">null</span>
            }
        })
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">"function"</span> &amp;&amp; define.amd) {
        define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> B
        })
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
            <span class="hljs-built_in">module</span>.exports = B
        } <span class="hljs-keyword">else</span> {
            av.Sizzle = B
        }
    }
})(<span class="hljs-built_in">window</span>);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> Sizzle !== <span class="hljs-string">"undefined"</span>) {
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define !== <span class="hljs-string">"undefined"</span> &amp;&amp; define.amd) {
        <span class="hljs-built_in">window</span>.Sizzle = Prototype._actual_sizzle;
        <span class="hljs-built_in">window</span>.define = Prototype._original_define;
        <span class="hljs-keyword">delete</span> Prototype._actual_sizzle;
        <span class="hljs-keyword">delete</span> Prototype._original_define
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
            <span class="hljs-built_in">window</span>.Sizzle = <span class="hljs-built_in">module</span>.exports;
            <span class="hljs-built_in">module</span>.exports = {}
        }
    }
})();
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
    <span class="hljs-keyword">var</span> d = Prototype.Selector.extendElements;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">e, f</span>) </span>{
        <span class="hljs-keyword">return</span> d(c(e, f || <span class="hljs-built_in">document</span>))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">f, e</span>) </span>{
        <span class="hljs-keyword">return</span> c.matches(e, [f]).length == <span class="hljs-number">1</span>
    }
    Prototype.Selector.engine = c;
    Prototype.Selector.select = a;
    Prototype.Selector.match = b
})(Sizzle);
<span class="hljs-built_in">window</span>.Sizzle = Prototype._original_property;
<span class="hljs-keyword">delete</span> Prototype._original_property;
<span class="hljs-keyword">var</span> Form = {
    <span class="hljs-attr">reset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        a.reset();
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">serializeElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">h, d</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> d != <span class="hljs-string">"object"</span>) {
            d = {
                <span class="hljs-attr">hash</span>: !!d
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(d.hash)) {
                d.hash = <span class="hljs-literal">true</span>
            }
        }
        <span class="hljs-keyword">var</span> e, g, a = <span class="hljs-literal">false</span>,
            f = d.submit,
            b, c;
        <span class="hljs-keyword">if</span> (d.hash) {
            c = {};
            b = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, j, k</span>) </span>{
                <span class="hljs-keyword">if</span> (j <span class="hljs-keyword">in</span> i) {
                    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isArray(i[j])) {
                        i[j] = [i[j]]
                    }
                    i[j] = i[j].concat(k)
                } <span class="hljs-keyword">else</span> {
                    i[j] = k
                }
                <span class="hljs-keyword">return</span> i
            }
        } <span class="hljs-keyword">else</span> {
            c = <span class="hljs-string">""</span>;
            b = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, k, j</span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Object</span>.isArray(j)) {
                    j = [j]
                }
                <span class="hljs-keyword">if</span> (!j.length) {
                    <span class="hljs-keyword">return</span> i
                }
                <span class="hljs-keyword">var</span> l = <span class="hljs-built_in">encodeURIComponent</span>(k).gsub(<span class="hljs-regexp">/%20/</span>, <span class="hljs-string">"+"</span>);
                <span class="hljs-keyword">return</span> i + (i ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">""</span>) + j.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{
                    m = m.gsub(<span class="hljs-regexp">/(\r)?\n/</span>, <span class="hljs-string">"\r\n"</span>);
                    m = <span class="hljs-built_in">encodeURIComponent</span>(m);
                    m = m.gsub(<span class="hljs-regexp">/%20/</span>, <span class="hljs-string">"+"</span>);
                    <span class="hljs-keyword">return</span> l + <span class="hljs-string">"="</span> + m
                }).join(<span class="hljs-string">"&amp;"</span>)
            }
        }
        <span class="hljs-keyword">return</span> h.inject(c, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, j</span>) </span>{
            <span class="hljs-keyword">if</span> (!j.disabled &amp;&amp; j.name) {
                e = j.name;
                g = $(j).getValue();
                <span class="hljs-keyword">if</span> (g != <span class="hljs-literal">null</span> &amp;&amp; j.type != <span class="hljs-string">"file"</span> &amp;&amp; (j.type != <span class="hljs-string">"submit"</span> || (!a &amp;&amp; f !== <span class="hljs-literal">false</span> &amp;&amp; (!f || e == f) &amp;&amp; (a = <span class="hljs-literal">true</span>)))) {
                    i = b(i, e, g)
                }
            }
            <span class="hljs-keyword">return</span> i
        })
    }
};
Form.Methods = {
    <span class="hljs-attr">serialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        <span class="hljs-keyword">return</span> Form.serializeElements(Form.getElements(b), a)
    },
    <span class="hljs-attr">getElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> f = $(e).getElementsByTagName(<span class="hljs-string">"*"</span>);
        <span class="hljs-keyword">var</span> d, c = [],
            b = Form.Element.Serializers;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; d = f[a]; a++) {
            <span class="hljs-keyword">if</span> (b[d.tagName.toLowerCase()]) {
                c.push(Element.extend(d))
            }
        }
        <span class="hljs-keyword">return</span> c
    },
    <span class="hljs-attr">getInputs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">g, c, d</span>) </span>{
        g = $(g);
        <span class="hljs-keyword">var</span> a = g.getElementsByTagName(<span class="hljs-string">"input"</span>);
        <span class="hljs-keyword">if</span> (!c &amp;&amp; !d) {
            <span class="hljs-keyword">return</span> $A(a).map(Element.extend)
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> e = <span class="hljs-number">0</span>, h = [], f = a.length; e &lt; f; e++) {
            <span class="hljs-keyword">var</span> b = a[e];
            <span class="hljs-keyword">if</span> ((c &amp;&amp; b.type != c) || (d &amp;&amp; b.name != d)) {
                <span class="hljs-keyword">continue</span>
            }
            h.push(Element.extend(b))
        }
        <span class="hljs-keyword">return</span> h
    },
    <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        Form.getElements(a).invoke(<span class="hljs-string">"disable"</span>);
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">enable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        Form.getElements(a).invoke(<span class="hljs-string">"enable"</span>);
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">findFirstElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">var</span> c = $(b).getElements().findAll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"hidden"</span> != d.type &amp;&amp; !d.disabled
        });
        <span class="hljs-keyword">var</span> a = c.findAll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">return</span> d.hasAttribute(<span class="hljs-string">"tabIndex"</span>) &amp;&amp; d.tabIndex &gt;= <span class="hljs-number">0</span>
        }).sortBy(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">return</span> d.tabIndex
        }).first();
        <span class="hljs-keyword">return</span> a ? a : c.find(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^(?:input|select|textarea)$/i</span>.test(d.tagName)
        })
    },
    <span class="hljs-attr">focusFirstElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        b = $(b);
        <span class="hljs-keyword">var</span> a = b.findFirstElement();
        <span class="hljs-keyword">if</span> (a) {
            a.activate()
        }
        <span class="hljs-keyword">return</span> b
    },
    <span class="hljs-attr">request</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        b = $(b), a = <span class="hljs-built_in">Object</span>.clone(a || {});
        <span class="hljs-keyword">var</span> d = a.parameters,
            c = b.readAttribute(<span class="hljs-string">"action"</span>) || <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (c.blank()) {
            c = <span class="hljs-built_in">window</span>.location.href
        }
        a.parameters = b.serialize(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (d) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(d)) {
                d = d.toQueryParams()
            }
            <span class="hljs-built_in">Object</span>.extend(a.parameters, d)
        }
        <span class="hljs-keyword">if</span> (b.hasAttribute(<span class="hljs-string">"method"</span>) &amp;&amp; !a.method) {
            a.method = b.method
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ajax.Request(c, a)
    }
};
Form.Element = {
    <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        $(a).focus();
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        $(a).select();
        <span class="hljs-keyword">return</span> a
    }
};
Form.Element.Methods = {
    <span class="hljs-attr">serialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        <span class="hljs-keyword">if</span> (!a.disabled &amp;&amp; a.name) {
            <span class="hljs-keyword">var</span> b = a.getValue();
            <span class="hljs-keyword">if</span> (b != <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">var</span> c = {};
                c[a.name] = b;
                <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.toQueryString(c)
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        <span class="hljs-keyword">var</span> b = a.tagName.toLowerCase();
        <span class="hljs-keyword">return</span> Form.Element.Serializers[b](a)
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        a = $(a);
        <span class="hljs-keyword">var</span> c = a.tagName.toLowerCase();
        Form.Element.Serializers[c](a, b);
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        $(a).value = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">present</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> $(a).value != <span class="hljs-string">""</span>
    },
    <span class="hljs-attr">activate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        <span class="hljs-keyword">try</span> {
            a.focus();
            <span class="hljs-keyword">if</span> (a.select &amp;&amp; (a.tagName.toLowerCase() != <span class="hljs-string">"input"</span> || !(<span class="hljs-regexp">/^(?:button|reset|submit)$/i</span>.test(a.type)))) {
                a.select()
            }
        } <span class="hljs-keyword">catch</span> (b) {}
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        a.disabled = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> a
    },
    <span class="hljs-attr">enable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = $(a);
        a.disabled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> a
    }
};
<span class="hljs-keyword">var</span> Field = Form.Element;
<span class="hljs-keyword">var</span> $F = Form.Element.Methods.getValue;
Form.Element.Serializers = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">h, i</span>) </span>{
        <span class="hljs-keyword">switch</span> (h.type.toLowerCase()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"checkbox"</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">"radio"</span>:
                <span class="hljs-keyword">return</span> f(h, i);
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> e(h, i)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">h, i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(i)) {
            <span class="hljs-keyword">return</span> h.checked ? h.value : <span class="hljs-literal">null</span>
        } <span class="hljs-keyword">else</span> {
            h.checked = !!i
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">h, i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(i)) {
            <span class="hljs-keyword">return</span> h.value
        } <span class="hljs-keyword">else</span> {
            h.value = i
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">k, n</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(n)) {
            <span class="hljs-keyword">return</span> (k.type === <span class="hljs-string">"select-one"</span> ? c : d)(k)
        }
        <span class="hljs-keyword">var</span> j, l, o = !<span class="hljs-built_in">Object</span>.isArray(n);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> h = <span class="hljs-number">0</span>, m = k.length; h &lt; m; h++) {
            j = k.options[h];
            l = <span class="hljs-keyword">this</span>.optionValue(j);
            <span class="hljs-keyword">if</span> (o) {
                <span class="hljs-keyword">if</span> (l == n) {
                    j.selected = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">return</span>
                }
            } <span class="hljs-keyword">else</span> {
                j.selected = n.include(l)
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">var</span> h = i.selectedIndex;
        <span class="hljs-keyword">return</span> h &gt;= <span class="hljs-number">0</span> ? g(i.options[h]) : <span class="hljs-literal">null</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">l</span>) </span>{
        <span class="hljs-keyword">var</span> h, m = l.length;
        <span class="hljs-keyword">if</span> (!m) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k = <span class="hljs-number">0</span>, h = []; k &lt; m; k++) {
            <span class="hljs-keyword">var</span> j = l.options[k];
            <span class="hljs-keyword">if</span> (j.selected) {
                h.push(g(j))
            }
        }
        <span class="hljs-keyword">return</span> h
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">h</span>) </span>{
        <span class="hljs-keyword">return</span> Element.hasAttribute(h, <span class="hljs-string">"value"</span>) ? h.value : h.text
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">input</span>: b,
        <span class="hljs-attr">inputSelector</span>: f,
        <span class="hljs-attr">textarea</span>: e,
        <span class="hljs-attr">select</span>: a,
        <span class="hljs-attr">selectOne</span>: c,
        <span class="hljs-attr">selectMany</span>: d,
        <span class="hljs-attr">optionValue</span>: g,
        <span class="hljs-attr">button</span>: e
    }
})();
Abstract.TimedObserver = Class.create(PeriodicalExecuter, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, a, b, c</span>) </span>{
        $<span class="hljs-keyword">super</span>(c, b);
        <span class="hljs-keyword">this</span>.element = $(a);
        <span class="hljs-keyword">this</span>.lastValue = <span class="hljs-keyword">this</span>.getValue()
    },
    <span class="hljs-attr">execute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.getValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(<span class="hljs-keyword">this</span>.lastValue) &amp;&amp; <span class="hljs-built_in">Object</span>.isString(a) ? <span class="hljs-keyword">this</span>.lastValue != a : <span class="hljs-built_in">String</span>(<span class="hljs-keyword">this</span>.lastValue) != <span class="hljs-built_in">String</span>(a)) {
            <span class="hljs-keyword">this</span>.callback(<span class="hljs-keyword">this</span>.element, a);
            <span class="hljs-keyword">this</span>.lastValue = a
        }
    }
});
Form.Element.Observer = Class.create(Abstract.TimedObserver, {
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> Form.Element.getValue(<span class="hljs-keyword">this</span>.element)
    }
});
Form.Observer = Class.create(Abstract.TimedObserver, {
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> Form.serialize(<span class="hljs-keyword">this</span>.element)
    }
});
Abstract.EventObserver = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">this</span>.element = $(a);
        <span class="hljs-keyword">this</span>.callback = b;
        <span class="hljs-keyword">this</span>.lastValue = <span class="hljs-keyword">this</span>.getValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.tagName.toLowerCase() == <span class="hljs-string">"form"</span>) {
            <span class="hljs-keyword">this</span>.registerFormCallbacks()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.registerCallback(<span class="hljs-keyword">this</span>.element)
        }
    },
    <span class="hljs-attr">onElementEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.getValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastValue != a) {
            <span class="hljs-keyword">this</span>.callback(<span class="hljs-keyword">this</span>.element, a);
            <span class="hljs-keyword">this</span>.lastValue = a
        }
    },
    <span class="hljs-attr">registerFormCallbacks</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        Form.getElements(<span class="hljs-keyword">this</span>.element).each(<span class="hljs-keyword">this</span>.registerCallback, <span class="hljs-keyword">this</span>)
    },
    <span class="hljs-attr">registerCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (a.type) {
            <span class="hljs-keyword">switch</span> (a.type.toLowerCase()) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"checkbox"</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">"radio"</span>:
                    Event.observe(a, <span class="hljs-string">"click"</span>, <span class="hljs-keyword">this</span>.onElementEvent.bind(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">default</span>:
                    Event.observe(a, <span class="hljs-string">"change"</span>, <span class="hljs-keyword">this</span>.onElementEvent.bind(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">break</span>
            }
        }
    }
});
Form.Element.EventObserver = Class.create(Abstract.EventObserver, {
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> Form.Element.getValue(<span class="hljs-keyword">this</span>.element)
    }
});
Form.EventObserver = Class.create(Abstract.EventObserver, {
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> Form.serialize(<span class="hljs-keyword">this</span>.element)
    }
});
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">D</span>) </span>{
    <span class="hljs-keyword">var</span> u = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
    <span class="hljs-keyword">var</span> d = <span class="hljs-built_in">document</span>.documentElement;
    <span class="hljs-keyword">var</span> k = <span class="hljs-string">"onmouseenter"</span> <span class="hljs-keyword">in</span> d &amp;&amp; <span class="hljs-string">"onmouseleave"</span> <span class="hljs-keyword">in</span> d;
    <span class="hljs-keyword">var</span> L = {
        <span class="hljs-attr">KEY_BACKSPACE</span>: <span class="hljs-number">8</span>,
        <span class="hljs-attr">KEY_TAB</span>: <span class="hljs-number">9</span>,
        <span class="hljs-attr">KEY_RETURN</span>: <span class="hljs-number">13</span>,
        <span class="hljs-attr">KEY_ESC</span>: <span class="hljs-number">27</span>,
        <span class="hljs-attr">KEY_LEFT</span>: <span class="hljs-number">37</span>,
        <span class="hljs-attr">KEY_UP</span>: <span class="hljs-number">38</span>,
        <span class="hljs-attr">KEY_RIGHT</span>: <span class="hljs-number">39</span>,
        <span class="hljs-attr">KEY_DOWN</span>: <span class="hljs-number">40</span>,
        <span class="hljs-attr">KEY_DELETE</span>: <span class="hljs-number">46</span>,
        <span class="hljs-attr">KEY_HOME</span>: <span class="hljs-number">36</span>,
        <span class="hljs-attr">KEY_END</span>: <span class="hljs-number">35</span>,
        <span class="hljs-attr">KEY_PAGEUP</span>: <span class="hljs-number">33</span>,
        <span class="hljs-attr">KEY_PAGEDOWN</span>: <span class="hljs-number">34</span>,
        <span class="hljs-attr">KEY_INSERT</span>: <span class="hljs-number">45</span>
    };
    <span class="hljs-keyword">var</span> A = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    };
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.attachEvent) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.addEventListener) {
            A = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">X</span>) </span>{
                <span class="hljs-keyword">return</span> !(X <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">window</span>.Event)
            }
        } <span class="hljs-keyword">else</span> {
            A = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">X</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
            }
        }
    }
    <span class="hljs-keyword">var</span> O;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">M</span>(<span class="hljs-params">Y, X</span>) </span>{
        <span class="hljs-keyword">return</span> Y.which ? (Y.which === X + <span class="hljs-number">1</span>) : (Y.button === X)
    }
    <span class="hljs-keyword">var</span> W = {
        <span class="hljs-number">0</span>: <span class="hljs-number">1</span>,
        <span class="hljs-number">1</span>: <span class="hljs-number">4</span>,
        <span class="hljs-number">2</span>: <span class="hljs-number">2</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">S</span>(<span class="hljs-params">Y, X</span>) </span>{
        <span class="hljs-keyword">return</span> Y.button === W[X]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">P</span>(<span class="hljs-params">Y, X</span>) </span>{
        <span class="hljs-keyword">switch</span> (X) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                <span class="hljs-keyword">return</span> Y.which == <span class="hljs-number">1</span> &amp;&amp; !Y.metaKey;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                <span class="hljs-keyword">return</span> Y.which == <span class="hljs-number">2</span> || (Y.which == <span class="hljs-number">1</span> &amp;&amp; Y.metaKey);
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                <span class="hljs-keyword">return</span> Y.which == <span class="hljs-number">3</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        }
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.attachEvent) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.addEventListener) {
            O = S
        } <span class="hljs-keyword">else</span> {
            O = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Y, X</span>) </span>{
                <span class="hljs-keyword">return</span> A(Y) ? S(Y, X) : M(Y, X)
            }
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (Prototype.Browser.WebKit) {
            O = P
        } <span class="hljs-keyword">else</span> {
            O = M
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">B</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> O(X, <span class="hljs-number">0</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> O(X, <span class="hljs-number">1</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> O(X, <span class="hljs-number">2</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> Element.extend(K(X))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">K</span>(<span class="hljs-params">Z</span>) </span>{
        Z = L.extend(Z);
        <span class="hljs-keyword">var</span> Y = Z.target,
            X = Z.type,
            aa = Z.currentTarget;
        <span class="hljs-keyword">if</span> (aa &amp;&amp; aa.tagName) {
            <span class="hljs-keyword">if</span> (X === <span class="hljs-string">"load"</span> || X === <span class="hljs-string">"error"</span> || (X === <span class="hljs-string">"click"</span> &amp;&amp; aa.tagName.toLowerCase() === <span class="hljs-string">"input"</span> &amp;&amp; aa.type === <span class="hljs-string">"radio"</span>)) {
                Y = aa
            }
        }
        <span class="hljs-keyword">return</span> Y.nodeType == Node.TEXT_NODE ? Y.parentNode : Y
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">j</span>(<span class="hljs-params">Z, aa</span>) </span>{
        <span class="hljs-keyword">var</span> Y = K(Z),
            X = Prototype.Selector;
        <span class="hljs-keyword">if</span> (!aa) {
            <span class="hljs-keyword">return</span> Element.extend(Y)
        }
        <span class="hljs-keyword">while</span> (Y) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isElement(Y) &amp;&amp; X.match(Y, aa)) {
                <span class="hljs-keyword">return</span> Element.extend(Y)
            }
            Y = Y.parentNode
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">x</span>: U(X),
            <span class="hljs-attr">y</span>: T(X)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">U</span>(<span class="hljs-params">Z</span>) </span>{
        <span class="hljs-keyword">var</span> Y = <span class="hljs-built_in">document</span>.documentElement,
            X = <span class="hljs-built_in">document</span>.body || {
                <span class="hljs-attr">scrollLeft</span>: <span class="hljs-number">0</span>
            };
        <span class="hljs-keyword">return</span> Z.pageX || (Z.clientX + (Y.scrollLeft || X.scrollLeft) - (Y.clientLeft || <span class="hljs-number">0</span>))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">T</span>(<span class="hljs-params">Z</span>) </span>{
        <span class="hljs-keyword">var</span> Y = <span class="hljs-built_in">document</span>.documentElement,
            X = <span class="hljs-built_in">document</span>.body || {
                <span class="hljs-attr">scrollTop</span>: <span class="hljs-number">0</span>
            };
        <span class="hljs-keyword">return</span> Z.pageY || (Z.clientY + (Y.scrollTop || X.scrollTop) - (Y.clientTop || <span class="hljs-number">0</span>))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">X</span>) </span>{
        L.extend(X);
        X.preventDefault();
        X.stopPropagation();
        X.stopped = <span class="hljs-literal">true</span>
    }
    L.Methods = {
        <span class="hljs-attr">isLeftClick</span>: B,
        <span class="hljs-attr">isMiddleClick</span>: i,
        <span class="hljs-attr">isRightClick</span>: e,
        <span class="hljs-attr">element</span>: o,
        <span class="hljs-attr">findElement</span>: j,
        <span class="hljs-attr">pointer</span>: t,
        <span class="hljs-attr">pointerX</span>: U,
        <span class="hljs-attr">pointerY</span>: T,
        <span class="hljs-attr">stop</span>: r
    };
    <span class="hljs-keyword">var</span> H = <span class="hljs-built_in">Object</span>.keys(L.Methods).inject({}, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">X, Y</span>) </span>{
        X[Y] = L.Methods[Y].methodize();
        <span class="hljs-keyword">return</span> X
    });
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.attachEvent) {
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">V</span>(<span class="hljs-params">Y</span>) </span>{
            <span class="hljs-keyword">var</span> X;
            <span class="hljs-keyword">switch</span> (Y.type) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">"mouseover"</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">"mouseenter"</span>:
                    X = Y.fromElement;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">"mouseout"</span>:
                <span class="hljs-keyword">case</span> <span class="hljs-string">"mouseleave"</span>:
                    X = Y.toElement;
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">default</span>:
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
            }
            <span class="hljs-keyword">return</span> Element.extend(X)
        }
        <span class="hljs-keyword">var</span> Q = {
            <span class="hljs-attr">stopPropagation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">this</span>.cancelBubble = <span class="hljs-literal">true</span>
            },
            <span class="hljs-attr">preventDefault</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">this</span>.returnValue = <span class="hljs-literal">false</span>
            },
            <span class="hljs-attr">inspect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-string">"[object Event]"</span>
            }
        };
        L.extend = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Y, X</span>) </span>{
            <span class="hljs-keyword">if</span> (!Y) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
            <span class="hljs-keyword">if</span> (!A(Y)) {
                <span class="hljs-keyword">return</span> Y
            }
            <span class="hljs-keyword">if</span> (Y._extendedByPrototype) {
                <span class="hljs-keyword">return</span> Y
            }
            Y._extendedByPrototype = Prototype.emptyFunction;
            <span class="hljs-keyword">var</span> Z = L.pointer(Y);
            <span class="hljs-built_in">Object</span>.extend(Y, {
                <span class="hljs-attr">target</span>: Y.srcElement || X,
                <span class="hljs-attr">relatedTarget</span>: V(Y),
                <span class="hljs-attr">pageX</span>: Z.x,
                <span class="hljs-attr">pageY</span>: Z.y
            });
            <span class="hljs-built_in">Object</span>.extend(Y, H);
            <span class="hljs-built_in">Object</span>.extend(Y, Q);
            <span class="hljs-keyword">return</span> Y
        }
    } <span class="hljs-keyword">else</span> {
        L.extend = Prototype.K
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.addEventListener) {
        L.prototype = <span class="hljs-built_in">window</span>.Event.prototype || <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">"HTMLEvents"</span>).__proto__;
        <span class="hljs-built_in">Object</span>.extend(L.prototype, H)
    }
    <span class="hljs-keyword">var</span> v = {
        <span class="hljs-attr">mouseenter</span>: <span class="hljs-string">"mouseover"</span>,
        <span class="hljs-attr">mouseleave</span>: <span class="hljs-string">"mouseout"</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> v[X] || X
    }
    <span class="hljs-keyword">if</span> (k) {
        f = Prototype.K
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">R</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">if</span> (X === <span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> X._prototypeUID === <span class="hljs-string">"undefined"</span>) {
            X._prototypeUID = Element.Storage.UID++
        }
        <span class="hljs-keyword">return</span> X._prototypeUID
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">I</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">if</span> (X === <span class="hljs-built_in">window</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (X == <span class="hljs-built_in">document</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
        }
        <span class="hljs-keyword">return</span> X.uniqueID
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"uniqueID"</span> <span class="hljs-keyword">in</span> u) {
        R = I
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">return</span> X.include(<span class="hljs-string">":"</span>)
    }
    L._isCustomEvent = x;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">Z, Y</span>) </span>{
        <span class="hljs-keyword">var</span> X = D.Event.cache;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(Y)) {
            Y = R(Z)
        }
        <span class="hljs-keyword">if</span> (!X[Y]) {
            X[Y] = {
                <span class="hljs-attr">element</span>: Z
            }
        }
        <span class="hljs-keyword">return</span> X[Y]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">E</span>(<span class="hljs-params">Y, X</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(X)) {
            X = R(Y)
        }
        <span class="hljs-keyword">delete</span> D.Event.cache[X]
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">h</span>(<span class="hljs-params">Z, ac, af</span>) </span>{
        <span class="hljs-keyword">var</span> X = z(Z);
        <span class="hljs-keyword">if</span> (!X[ac]) {
            X[ac] = []
        }
        <span class="hljs-keyword">var</span> ab = X[ac];
        <span class="hljs-keyword">var</span> aa = ab.length;
        <span class="hljs-keyword">while</span> (aa--) {
            <span class="hljs-keyword">if</span> (ab[aa].handler === af) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
            }
        }
        <span class="hljs-keyword">var</span> ad = R(Z);
        <span class="hljs-keyword">var</span> Y = D.Event._createResponder(ad, ac, af);
        <span class="hljs-keyword">var</span> ae = {
            <span class="hljs-attr">responder</span>: Y,
            <span class="hljs-attr">handler</span>: af
        };
        ab.push(ae);
        <span class="hljs-keyword">return</span> ae
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">ac, Z, ad</span>) </span>{
        <span class="hljs-keyword">var</span> Y = z(ac);
        <span class="hljs-keyword">var</span> X = Y[Z] || [];
        <span class="hljs-keyword">var</span> ab = X.length,
            ae;
        <span class="hljs-keyword">while</span> (ab--) {
            <span class="hljs-keyword">if</span> (X[ab].handler === ad) {
                ae = X[ab];
                <span class="hljs-keyword">break</span>
            }
        }
        <span class="hljs-keyword">if</span> (ae) {
            <span class="hljs-keyword">var</span> aa = X.indexOf(ae);
            X.splice(aa, <span class="hljs-number">1</span>)
        }
        <span class="hljs-keyword">if</span> (X.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">delete</span> Y[Z];
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys(Y).length === <span class="hljs-number">1</span> &amp;&amp; (<span class="hljs-string">"element"</span> <span class="hljs-keyword">in</span> Y)) {
                E(ac)
            }
        }
        <span class="hljs-keyword">return</span> ae
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params">Z, Y, aa</span>) </span>{
        Z = $(Z);
        <span class="hljs-keyword">var</span> ab = h(Z, Y, aa);
        <span class="hljs-keyword">if</span> (ab === <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> Z
        }
        <span class="hljs-keyword">var</span> X = ab.responder;
        <span class="hljs-keyword">if</span> (x(Y)) {
            p(Z, Y, X)
        } <span class="hljs-keyword">else</span> {
            m(Z, Y, X)
        }
        <span class="hljs-keyword">return</span> Z
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">m</span>(<span class="hljs-params">aa, Z, Y</span>) </span>{
        <span class="hljs-keyword">var</span> X = f(Z);
        <span class="hljs-keyword">if</span> (aa.addEventListener) {
            aa.addEventListener(X, Y, <span class="hljs-literal">false</span>)
        } <span class="hljs-keyword">else</span> {
            aa.attachEvent(<span class="hljs-string">"on"</span> + X, Y)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">p</span>(<span class="hljs-params">Z, Y, X</span>) </span>{
        <span class="hljs-keyword">if</span> (Z.addEventListener) {
            Z.addEventListener(<span class="hljs-string">"dataavailable"</span>, X, <span class="hljs-literal">false</span>)
        } <span class="hljs-keyword">else</span> {
            Z.attachEvent(<span class="hljs-string">"ondataavailable"</span>, X);
            Z.attachEvent(<span class="hljs-string">"onlosecapture"</span>, X)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params">Y, X, Z</span>) </span>{
        Y = $(Y);
        <span class="hljs-keyword">var</span> ab = !<span class="hljs-built_in">Object</span>.isUndefined(Z),
            ac = !<span class="hljs-built_in">Object</span>.isUndefined(X);
        <span class="hljs-keyword">if</span> (!ac &amp;&amp; !ab) {
            y(Y);
            <span class="hljs-keyword">return</span> Y
        }
        <span class="hljs-keyword">if</span> (!ab) {
            G(Y, X);
            <span class="hljs-keyword">return</span> Y
        }
        <span class="hljs-keyword">var</span> aa = s(Y, X, Z);
        <span class="hljs-keyword">if</span> (!aa) {
            <span class="hljs-keyword">return</span> Y
        }
        a(Y, X, aa.responder);
        <span class="hljs-keyword">return</span> Y
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params">aa, Z, Y</span>) </span>{
        <span class="hljs-keyword">var</span> X = f(Z);
        <span class="hljs-keyword">if</span> (aa.removeEventListener) {
            aa.removeEventListener(X, Y, <span class="hljs-literal">false</span>)
        } <span class="hljs-keyword">else</span> {
            aa.detachEvent(<span class="hljs-string">"on"</span> + X, Y)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">Z, Y, X</span>) </span>{
        <span class="hljs-keyword">if</span> (Z.removeEventListener) {
            Z.removeEventListener(<span class="hljs-string">"dataavailable"</span>, X, <span class="hljs-literal">false</span>)
        } <span class="hljs-keyword">else</span> {
            Z.detachEvent(<span class="hljs-string">"ondataavailable"</span>, X);
            Z.detachEvent(<span class="hljs-string">"onlosecapture"</span>, X)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">y</span>(<span class="hljs-params">ac</span>) </span>{
        <span class="hljs-keyword">var</span> ab = R(ac),
            Z = D.Event.cache[ab];
        <span class="hljs-keyword">if</span> (!Z) {
            <span class="hljs-keyword">return</span>
        }
        E(ac, ab);
        <span class="hljs-keyword">var</span> X, aa;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> Y <span class="hljs-keyword">in</span> Z) {
            <span class="hljs-keyword">if</span> (Y === <span class="hljs-string">"element"</span>) {
                <span class="hljs-keyword">continue</span>
            }
            X = Z[Y];
            aa = X.length;
            <span class="hljs-keyword">while</span> (aa--) {
                a(ac, Y, X[aa].responder)
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">G</span>(<span class="hljs-params">ac, Z</span>) </span>{
        <span class="hljs-keyword">var</span> Y = z(ac);
        <span class="hljs-keyword">var</span> X = Y[Z];
        <span class="hljs-keyword">if</span> (X) {
            <span class="hljs-keyword">delete</span> Y[Z]
        }
        X = X || [];
        <span class="hljs-keyword">var</span> ab = X.length;
        <span class="hljs-keyword">while</span> (ab--) {
            a(ac, Z, X[ab].responder)
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> aa <span class="hljs-keyword">in</span> Y) {
            <span class="hljs-keyword">if</span> (aa === <span class="hljs-string">"element"</span>) {
                <span class="hljs-keyword">continue</span>
            }
            <span class="hljs-keyword">return</span>
        }
        E(ac)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">Y, X, Z</span>) </span>{
        <span class="hljs-keyword">if</span> (x(X)) {
            b(Y, X, Z)
        } <span class="hljs-keyword">else</span> {
            C(Y, X, Z)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">X</span>) </span>{
        <span class="hljs-keyword">if</span> (X !== <span class="hljs-built_in">document</span>) {
            <span class="hljs-keyword">return</span> X
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.createEvent &amp;&amp; !X.dispatchEvent) {
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.documentElement
        }
        <span class="hljs-keyword">return</span> X
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">w</span>(<span class="hljs-params">aa, Z, Y, X</span>) </span>{
        aa = g($(aa));
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(X)) {
            X = <span class="hljs-literal">true</span>
        }
        Y = Y || {};
        <span class="hljs-keyword">var</span> ab = N(aa, Z, Y, X);
        <span class="hljs-keyword">return</span> L.extend(ab)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params">aa, Z, Y, X</span>) </span>{
        <span class="hljs-keyword">var</span> ab = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">"HTMLEvents"</span>);
        ab.initEvent(<span class="hljs-string">"dataavailable"</span>, X, <span class="hljs-literal">true</span>);
        ab.eventName = Z;
        ab.memo = Y;
        aa.dispatchEvent(ab);
        <span class="hljs-keyword">return</span> ab
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params">aa, Z, Y, X</span>) </span>{
        <span class="hljs-keyword">var</span> ab = <span class="hljs-built_in">document</span>.createEventObject();
        ab.eventType = X ? <span class="hljs-string">"ondataavailable"</span> : <span class="hljs-string">"onlosecapture"</span>;
        ab.eventName = Z;
        ab.memo = Y;
        aa.fireEvent(ab.eventType, ab);
        <span class="hljs-keyword">return</span> ab
    }
    <span class="hljs-keyword">var</span> N = <span class="hljs-built_in">document</span>.createEvent ? l : n;
    L.Handler = Class.create({
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Z, Y, X, aa</span>) </span>{
            <span class="hljs-keyword">this</span>.element = $(Z);
            <span class="hljs-keyword">this</span>.eventName = Y;
            <span class="hljs-keyword">this</span>.selector = X;
            <span class="hljs-keyword">this</span>.callback = aa;
            <span class="hljs-keyword">this</span>.handler = <span class="hljs-keyword">this</span>.handleEvent.bind(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            L.observe(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.eventName, <span class="hljs-keyword">this</span>.handler);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        },
        <span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            L.stopObserving(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.eventName, <span class="hljs-keyword">this</span>.handler);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        },
        <span class="hljs-attr">handleEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">Y</span>) </span>{
            <span class="hljs-keyword">var</span> X = L.findElement(Y, <span class="hljs-keyword">this</span>.selector);
            <span class="hljs-keyword">if</span> (X) {
                <span class="hljs-keyword">this</span>.callback.call(<span class="hljs-keyword">this</span>.element, Y, X)
            }
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params">Z, Y, X, aa</span>) </span>{
        Z = $(Z);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isFunction(X) &amp;&amp; <span class="hljs-built_in">Object</span>.isUndefined(aa)) {
            aa = X, X = <span class="hljs-literal">null</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> L.Handler(Z, Y, X, aa).start()
    }
    <span class="hljs-built_in">Object</span>.extend(L, L.Methods);
    <span class="hljs-built_in">Object</span>.extend(L, {
        <span class="hljs-attr">fire</span>: w,
        <span class="hljs-attr">observe</span>: c,
        <span class="hljs-attr">stopObserving</span>: J,
        <span class="hljs-attr">on</span>: F
    });
    Element.addMethods({
        <span class="hljs-attr">fire</span>: w,
        <span class="hljs-attr">observe</span>: c,
        <span class="hljs-attr">stopObserving</span>: J,
        <span class="hljs-attr">on</span>: F
    });
    <span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">document</span>, {
        <span class="hljs-attr">fire</span>: w.methodize(),
        <span class="hljs-attr">observe</span>: c.methodize(),
        <span class="hljs-attr">stopObserving</span>: J.methodize(),
        <span class="hljs-attr">on</span>: F.methodize(),
        <span class="hljs-attr">loaded</span>: <span class="hljs-literal">false</span>
    });
    <span class="hljs-keyword">if</span> (D.Event) {
        <span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">window</span>.Event, L)
    } <span class="hljs-keyword">else</span> {
        D.Event = L
    }
    D.Event.cache = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">q</span>(<span class="hljs-params"></span>) </span>{
        D.Event.cache = <span class="hljs-literal">null</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.attachEvent) {
        <span class="hljs-built_in">window</span>.attachEvent(<span class="hljs-string">"onunload"</span>, q)
    }
    u = <span class="hljs-literal">null</span>;
    d = <span class="hljs-literal">null</span>
})(<span class="hljs-keyword">this</span>);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
    <span class="hljs-keyword">var</span> g = <span class="hljs-built_in">document</span>.documentElement;
    <span class="hljs-keyword">var</span> b = <span class="hljs-string">"onmouseenter"</span> <span class="hljs-keyword">in</span> g &amp;&amp; <span class="hljs-string">"onmouseleave"</span> <span class="hljs-keyword">in</span> g;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">h</span>) </span>{
        <span class="hljs-keyword">return</span> !b &amp;&amp; (h === <span class="hljs-string">"mouseenter"</span> || h === <span class="hljs-string">"mouseleave"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">i, h, j</span>) </span>{
        <span class="hljs-keyword">if</span> (Event._isCustomEvent(h)) {
            <span class="hljs-keyword">return</span> e(i, h, j)
        }
        <span class="hljs-keyword">if</span> (f(h)) {
            <span class="hljs-keyword">return</span> a(i, h, j)
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">l</span>) </span>{
            <span class="hljs-keyword">if</span> (!Event.cache) {
                <span class="hljs-keyword">return</span>
            }
            <span class="hljs-keyword">var</span> k = Event.cache[i].element;
            Event.extend(l, k);
            j.call(k, l)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">i, h, j</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{
            <span class="hljs-keyword">var</span> k = Event.cache[i];
            <span class="hljs-keyword">var</span> l = k &amp;&amp; k.element;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isUndefined(m.eventName)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
            <span class="hljs-keyword">if</span> (m.eventName !== h) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
            }
            Event.extend(m, l);
            j.call(l, m)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">i, h, j</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{
            <span class="hljs-keyword">var</span> k = Event.cache[i].element;
            Event.extend(m, k);
            <span class="hljs-keyword">var</span> l = m.relatedTarget;
            <span class="hljs-keyword">while</span> (l &amp;&amp; l !== k) {
                <span class="hljs-keyword">try</span> {
                    l = l.parentNode
                } <span class="hljs-keyword">catch</span> (n) {
                    l = k
                }
            }
            <span class="hljs-keyword">if</span> (l === k) {
                <span class="hljs-keyword">return</span>
            }
            j.call(k, m)
        }
    }
    c.Event._createResponder = d;
    g = <span class="hljs-literal">null</span>
})(<span class="hljs-keyword">this</span>);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
    <span class="hljs-keyword">var</span> e;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.loaded) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">if</span> (e) {
            <span class="hljs-built_in">window</span>.clearTimeout(e)
        }
        <span class="hljs-built_in">document</span>.loaded = <span class="hljs-literal">true</span>;
        <span class="hljs-built_in">document</span>.fire(<span class="hljs-string">"dom:loaded"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.readyState === <span class="hljs-string">"complete"</span>) {
            <span class="hljs-built_in">document</span>.detachEvent(<span class="hljs-string">"onreadystatechange"</span>, d);
            b()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">c</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">document</span>.documentElement.doScroll(<span class="hljs-string">"left"</span>)
        } <span class="hljs-keyword">catch</span> (f) {
            e = c.defer();
            <span class="hljs-keyword">return</span>
        }
        b()
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.readyState === <span class="hljs-string">"complete"</span>) {
        b();
        <span class="hljs-keyword">return</span>
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.addEventListener) {
        <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"DOMContentLoaded"</span>, b, <span class="hljs-literal">false</span>)
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">document</span>.attachEvent(<span class="hljs-string">"onreadystatechange"</span>, d);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span> == top) {
            e = c.defer()
        }
    }
    Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">"load"</span>, b)
})(<span class="hljs-keyword">this</span>);
Element.addMethods();
Hash.toQueryString = <span class="hljs-built_in">Object</span>.toQueryString;
<span class="hljs-keyword">var</span> Toggle = {
    <span class="hljs-attr">display</span>: Element.toggle
};
Element.addMethods({
    <span class="hljs-attr">childOf</span>: Element.Methods.descendantOf
});
<span class="hljs-keyword">var</span> Insertion = {
    <span class="hljs-attr">Before</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> Element.insert(a, {
            <span class="hljs-attr">before</span>: b
        })
    },
    <span class="hljs-attr">Top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> Element.insert(a, {
            <span class="hljs-attr">top</span>: b
        })
    },
    <span class="hljs-attr">Bottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> Element.insert(a, {
            <span class="hljs-attr">bottom</span>: b
        })
    },
    <span class="hljs-attr">After</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> Element.insert(a, {
            <span class="hljs-attr">after</span>: b
        })
    }
};
<span class="hljs-keyword">var</span> $<span class="hljs-keyword">continue</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'"throw $continue" is deprecated, use "return" instead'</span>);
<span class="hljs-keyword">var</span> Position = {
    <span class="hljs-attr">includeScrollOffsets</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">prepare</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.deltaX = <span class="hljs-built_in">window</span>.pageXOffset || <span class="hljs-built_in">document</span>.documentElement.scrollLeft || <span class="hljs-built_in">document</span>.body.scrollLeft || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.deltaY = <span class="hljs-built_in">window</span>.pageYOffset || <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop || <span class="hljs-number">0</span>
    },
    <span class="hljs-attr">within</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a, c</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.includeScrollOffsets) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.withinIncludingScrolloffsets(b, a, c)
        }
        <span class="hljs-keyword">this</span>.xcomp = a;
        <span class="hljs-keyword">this</span>.ycomp = c;
        <span class="hljs-keyword">this</span>.offset = Element.cumulativeOffset(b);
        <span class="hljs-keyword">return</span> (c &gt;= <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">1</span>] &amp;&amp; c &lt; <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">1</span>] + b.offsetHeight &amp;&amp; a &gt;= <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">0</span>] &amp;&amp; a &lt; <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">0</span>] + b.offsetWidth)
    },
    <span class="hljs-attr">withinIncludingScrolloffsets</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a, d</span>) </span>{
        <span class="hljs-keyword">var</span> c = Element.cumulativeScrollOffset(b);
        <span class="hljs-keyword">this</span>.xcomp = a + c[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.deltaX;
        <span class="hljs-keyword">this</span>.ycomp = d + c[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.deltaY;
        <span class="hljs-keyword">this</span>.offset = Element.cumulativeOffset(b);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.ycomp &gt;= <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">1</span>] &amp;&amp; <span class="hljs-keyword">this</span>.ycomp &lt; <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">1</span>] + b.offsetHeight &amp;&amp; <span class="hljs-keyword">this</span>.xcomp &gt;= <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.xcomp &lt; <span class="hljs-keyword">this</span>.offset[<span class="hljs-number">0</span>] + b.offsetWidth)
    },
    <span class="hljs-attr">overlap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        <span class="hljs-keyword">if</span> (!b) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">if</span> (b == <span class="hljs-string">"vertical"</span>) {
            <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">this</span>.offset[<span class="hljs-number">1</span>] + a.offsetHeight) - <span class="hljs-keyword">this</span>.ycomp) / a.offsetHeight
        }
        <span class="hljs-keyword">if</span> (b == <span class="hljs-string">"horizontal"</span>) {
            <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">this</span>.offset[<span class="hljs-number">0</span>] + a.offsetWidth) - <span class="hljs-keyword">this</span>.xcomp) / a.offsetWidth
        }
    },
    <span class="hljs-attr">cumulativeOffset</span>: Element.Methods.cumulativeOffset,
    <span class="hljs-attr">positionedOffset</span>: Element.Methods.positionedOffset,
    <span class="hljs-attr">absolutize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        Position.prepare();
        <span class="hljs-keyword">return</span> Element.absolutize(a)
    },
    <span class="hljs-attr">relativize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        Position.prepare();
        <span class="hljs-keyword">return</span> Element.relativize(a)
    },
    <span class="hljs-attr">realOffset</span>: Element.Methods.cumulativeScrollOffset,
    <span class="hljs-attr">offsetParent</span>: Element.Methods.getOffsetParent,
    <span class="hljs-attr">page</span>: Element.Methods.viewportOffset,
    <span class="hljs-attr">clone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, a</span>) </span>{
        a = a || {};
        <span class="hljs-keyword">return</span> Element.clonePosition(c, b, a)
    }
};
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">document</span>.getElementsByClassName) {
    <span class="hljs-built_in">document</span>.getElementsByClassName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">a</span>(<span class="hljs-params">c</span>) </span>{
            <span class="hljs-keyword">return</span> c.blank() ? <span class="hljs-literal">null</span> : <span class="hljs-string">"[contains(concat(' ', @class, ' '), ' "</span> + c + <span class="hljs-string">" ')]"</span>
        }
        b.getElementsByClassName = Prototype.BrowserFeatures.XPath ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, e</span>) </span>{
            e = e.toString().strip();
            <span class="hljs-keyword">var</span> d = <span class="hljs-regexp">/\s/</span>.test(e) ? $w(e).map(a).join(<span class="hljs-string">""</span>) : a(e);
            <span class="hljs-keyword">return</span> d ? <span class="hljs-built_in">document</span>._getElementsByXPath(<span class="hljs-string">".//*"</span> + d, c) : []
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, f</span>) </span>{
            f = f.toString().strip();
            <span class="hljs-keyword">var</span> g = [],
                h = (<span class="hljs-regexp">/\s/</span>.test(f) ? $w(f) : <span class="hljs-literal">null</span>);
            <span class="hljs-keyword">if</span> (!h &amp;&amp; !f) {
                <span class="hljs-keyword">return</span> g
            }
            <span class="hljs-keyword">var</span> c = $(e).getElementsByTagName(<span class="hljs-string">"*"</span>);
            f = <span class="hljs-string">" "</span> + f + <span class="hljs-string">" "</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span>, k, j; k = c[d]; d++) {
                <span class="hljs-keyword">if</span> (k.className &amp;&amp; (j = <span class="hljs-string">" "</span> + k.className + <span class="hljs-string">" "</span>) &amp;&amp; (j.include(f) || (h &amp;&amp; h.all(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
                        <span class="hljs-keyword">return</span> !i.toString().blank() &amp;&amp; j.include(<span class="hljs-string">" "</span> + i + <span class="hljs-string">" "</span>)
                    })))) {
                    g.push(Element.extend(k))
                }
            }
            <span class="hljs-keyword">return</span> g
        };
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d, c</span>) </span>{
            <span class="hljs-keyword">return</span> $(c || <span class="hljs-built_in">document</span>.body).getElementsByClassName(d)
        }
    }(Element.Methods)
}
Element.ClassNames = Class.create();
Element.ClassNames.prototype = {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">this</span>.element = $(a)
    },
    <span class="hljs-attr">_each</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, a</span>) </span>{
        <span class="hljs-keyword">this</span>.element.className.split(<span class="hljs-regexp">/\s+/</span>).select(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
            <span class="hljs-keyword">return</span> c.length &gt; <span class="hljs-number">0</span>
        })._each(b, a)
    },
    <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">this</span>.element.className = a
    },
    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.include(a)) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">this</span>.set($A(<span class="hljs-keyword">this</span>).concat(a).join(<span class="hljs-string">" "</span>))
    },
    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.include(a)) {
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">this</span>.set($A(<span class="hljs-keyword">this</span>).without(a).join(<span class="hljs-string">" "</span>))
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> $A(<span class="hljs-keyword">this</span>).join(<span class="hljs-string">" "</span>)
    }
};
<span class="hljs-built_in">Object</span>.extend(Element.ClassNames.prototype, Enumerable);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">window</span>.Selector = Class.create({
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">this</span>.expression = a.strip()
        },
        <span class="hljs-attr">findElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> Prototype.Selector.select(<span class="hljs-keyword">this</span>.expression, a)
        },
        <span class="hljs-attr">match</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> Prototype.Selector.match(a, <span class="hljs-keyword">this</span>.expression)
        },
        <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.expression
        },
        <span class="hljs-attr">inspect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"#&lt;Selector: "</span> + <span class="hljs-keyword">this</span>.expression + <span class="hljs-string">"&gt;"</span>
        }
    });
    <span class="hljs-built_in">Object</span>.extend(Selector, {
        <span class="hljs-attr">matchElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, g</span>) </span>{
            <span class="hljs-keyword">var</span> a = Prototype.Selector.match,
                d = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>, e = f.length; c &lt; e; c++) {
                <span class="hljs-keyword">var</span> b = f[c];
                <span class="hljs-keyword">if</span> (a(b, g)) {
                    d.push(Element.extend(b))
                }
            }
            <span class="hljs-keyword">return</span> d
        },
        <span class="hljs-attr">findElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, g, b</span>) </span>{
            b = b || <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>,
                d;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>, e = f.length; c &lt; e; c++) {
                d = f[c];
                <span class="hljs-keyword">if</span> (Prototype.Selector.match(d, g) &amp;&amp; b === a++) {
                    <span class="hljs-keyword">return</span> Element.extend(d)
                }
            }
        },
        <span class="hljs-attr">findChildElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
            <span class="hljs-keyword">var</span> a = c.toArray().join(<span class="hljs-string">", "</span>);
            <span class="hljs-keyword">return</span> Prototype.Selector.select(a, b || <span class="hljs-built_in">document</span>)
        }
    })
})();
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/glide_updates/prototype.js */</span>
<span class="hljs-built_in">Object</span>.extendsObject = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> Class.create.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>).prototype;
}
Prototype.ScriptFragmentDetailed = <span class="hljs-string">'&lt;script(?:[^&gt;]*type=\"([^&gt;]*?)\")?(?:[^&gt;]*src=\"([^&gt;]*?)\")?[^&gt;]*&gt;([\\S\\s]*?)&lt;\/script&gt;'</span>;
<span class="hljs-keyword">var</span> g_evalScriptCache = {};
<span class="hljs-built_in">Object</span>.extend(<span class="hljs-built_in">String</span>.prototype, (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractScriptsDetailed</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> matchAll = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(Prototype.ScriptFragmentDetailed, <span class="hljs-string">'img'</span>);
        <span class="hljs-keyword">var</span> matchOne = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(Prototype.ScriptFragmentDetailed, <span class="hljs-string">'im'</span>);
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.match(matchAll) || []).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scriptTag</span>) </span>{
            <span class="hljs-keyword">var</span> m = scriptTag.match(matchOne) || [<span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>];
            <span class="hljs-keyword">if</span> (m[<span class="hljs-number">1</span>] == <span class="hljs-string">'application/xml'</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">if</span> (m[<span class="hljs-number">1</span>] == <span class="hljs-string">'text/html'</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">if</span> (m[<span class="hljs-number">1</span>] == <span class="hljs-string">'text/ng-template'</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">script</span>: m[<span class="hljs-number">3</span>],
                <span class="hljs-attr">src</span>: m[<span class="hljs-number">2</span>]
            };
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evalScripts</span>(<span class="hljs-params">evalGlobal</span>) </span>{
        (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_executer</span>(<span class="hljs-params">scripts</span>) </span>{
            <span class="hljs-keyword">if</span> (!scripts || scripts.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> script = scripts.shift();
            <span class="hljs-keyword">if</span> (!script)
                <span class="hljs-keyword">return</span> _executer(scripts);
            <span class="hljs-keyword">if</span> (script.src) {
                <span class="hljs-keyword">if</span> (!g_evalScriptCache[script.src]) {
                    g_evalScriptCache[script.src] = {
                        <span class="hljs-attr">state</span>: <span class="hljs-string">'loading'</span>,
                        <span class="hljs-attr">scripts</span>: scripts
                    };
                    ajaxRequest(script.src, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
                        g_evalScriptCache[script.src].state = <span class="hljs-string">'loaded'</span>;
                        <span class="hljs-keyword">var</span> toEvalScripts = g_evalScriptCache[script.src].scripts;
                        <span class="hljs-keyword">if</span> (r &amp;&amp; r.responseText)
                            evalScript(r.responseText, evalGlobal);
                        <span class="hljs-keyword">return</span> _executer(toEvalScripts);
                    });
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g_evalScriptCache[script.src].state == <span class="hljs-string">'loading'</span>) {
                    g_evalScriptCache[script.src].scripts = g_evalScriptCache[script.src].scripts.concat(scripts);
                    <span class="hljs-keyword">return</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g_evalScriptCache[script.src].state == <span class="hljs-string">'loaded'</span>)
                    <span class="hljs-keyword">return</span> _executer(scripts);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (script.script)
                    evalScript(script.script, evalGlobal);
                <span class="hljs-keyword">return</span> _executer(scripts);
            }
        })(<span class="hljs-keyword">this</span>.extractScriptsDetailed());
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">evalScripts</span>: evalScripts,
        <span class="hljs-attr">extractScriptsDetailed</span>: extractScriptsDetailed
    };
})());

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">evalScript</span>(<span class="hljs-params">s, evalGlobal</span>) </span>{
    <span class="hljs-keyword">if</span> (s.length == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!evalGlobal)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">eval</span>(s);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.execScript)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.execScript(s);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.eval ? <span class="hljs-built_in">window</span>.eval(s) : <span class="hljs-built_in">eval</span>(s);
}
<span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.getElementsByClassName &amp;&amp; <span class="hljs-keyword">typeof</span> Element.Methods.getElementsByClassName === <span class="hljs-string">"function"</span>)
    <span class="hljs-built_in">document</span>.getElementsByClassName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">instanceMethods</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">iter</span>(<span class="hljs-params">name</span>) </span>{
            <span class="hljs-keyword">return</span> name.blank() ? <span class="hljs-literal">null</span> : <span class="hljs-string">"[contains(concat(' ', @class, ' '), ' "</span> + name + <span class="hljs-string">" ')]"</span>;
        }
        instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, className</span>) </span>{
            className = className.toString().strip();
            <span class="hljs-keyword">var</span> cond = <span class="hljs-regexp">/\s/</span>.test(className) ? $w(className).map(iter).join(<span class="hljs-string">''</span>) : iter(className);
            <span class="hljs-keyword">return</span> cond ? <span class="hljs-built_in">document</span>._getElementsByXPath(<span class="hljs-string">'.//*'</span> + cond, element) : [];
        } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, className</span>) </span>{
            className = className.toString().strip();
            <span class="hljs-keyword">var</span> elements = [],
                classNames = (<span class="hljs-regexp">/\s/</span>.test(className) ? $w(className) : <span class="hljs-literal">null</span>);
            <span class="hljs-keyword">if</span> (!classNames &amp;&amp; !className)
                <span class="hljs-keyword">return</span> elements;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.isString(element))
                element = <span class="hljs-built_in">document</span>.getElementById(element);
            Element.extend(element);
            <span class="hljs-keyword">var</span> nodes = element.getElementsByTagName(<span class="hljs-string">'*'</span>);
            className = <span class="hljs-string">' '</span> + className + <span class="hljs-string">' '</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, child, cn; child = nodes[i]; i++) {
                <span class="hljs-keyword">if</span> (child.className &amp;&amp; (cn = <span class="hljs-string">' '</span> + child.className + <span class="hljs-string">' '</span>) &amp;&amp;
                    (cn.include(className) || (classNames &amp;&amp; classNames.all(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
                        <span class="hljs-keyword">return</span> !name.toString().blank() &amp;&amp; cn.include(<span class="hljs-string">' '</span> + name + <span class="hljs-string">' '</span>);
                    }))))
                    elements.push(Element.extend(child));
            }
            <span class="hljs-keyword">return</span> elements;
        };
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className, parentElement</span>) </span>{
            <span class="hljs-keyword">return</span> $(parentElement || <span class="hljs-built_in">document</span>.body).getElementsByClassName(className);
        };
    }(Element.Methods);
<span class="hljs-built_in">Object</span>.equals = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o1, o2</span>) </span>{
    <span class="hljs-keyword">var</span> i1 = <span class="hljs-number">0</span>,
        i2 = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> o1) {
        <span class="hljs-keyword">if</span> (!o1 || !o2 || <span class="hljs-keyword">typeof</span> o1[p] !== <span class="hljs-keyword">typeof</span> o2[p] || ((o1[p] === <span class="hljs-literal">null</span>) !== (o2[p] === <span class="hljs-literal">null</span>)))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">typeof</span> o1[p]) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'undefined'</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> o2[p] != <span class="hljs-string">'undefined'</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'object'</span>:
                <span class="hljs-keyword">if</span> (o1[p] !== <span class="hljs-literal">null</span> &amp;&amp; o2[p] !== <span class="hljs-literal">null</span> &amp;&amp; (o1[p].constructor.toString() !== o2[p].constructor.toString() || !<span class="hljs-built_in">Object</span>.equals(o1[p], o2[p])))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'function'</span>:
                <span class="hljs-keyword">if</span> (p != <span class="hljs-string">'equals'</span> &amp;&amp; o1[p].toString() != o2[p].toString())
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">if</span> (o1[p] !== o2[p])
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        i1++;
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p <span class="hljs-keyword">in</span> o2) i2++;
    <span class="hljs-keyword">if</span> (i1 != i2)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
<span class="hljs-built_in">document</span>.viewport[<span class="hljs-string">'getDimensions'</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> el = <span class="hljs-built_in">window</span>.document.compatMode === <span class="hljs-string">'CSS1Compat'</span> &amp;&amp; (!Prototype.Browser.Opera ||
        <span class="hljs-built_in">window</span>.parseFloat(<span class="hljs-built_in">window</span>.opera.version()) &lt; <span class="hljs-number">9.5</span>) ? <span class="hljs-built_in">window</span>.document.documentElement : <span class="hljs-built_in">window</span>.document.body;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">width</span>: el.clientWidth,
        <span class="hljs-attr">height</span>: el.clientHeight
    };
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/glide_updates/prototype.template.js */</span>
<span class="hljs-keyword">var</span> Template = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">template</span>) </span>{
        <span class="hljs-keyword">this</span>.template = template.toString();
        <span class="hljs-keyword">this</span>.pattern = <span class="hljs-regexp">/(^|.|\r|\n)(#\{((JS|HTML):)?(.*?)\})/</span>;
    },
    <span class="hljs-attr">evaluate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">object</span>) </span>{
        <span class="hljs-keyword">if</span> (object &amp;&amp; <span class="hljs-built_in">Object</span>.isFunction(object.toTemplateReplacements))
            object = object.toTemplateReplacements();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.template.gsub(<span class="hljs-keyword">this</span>.pattern, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">match</span>) </span>{
            <span class="hljs-keyword">if</span> (object === <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> (match[<span class="hljs-number">1</span>] + <span class="hljs-string">''</span>);
            <span class="hljs-keyword">var</span> before = match[<span class="hljs-number">1</span>] || <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (before === <span class="hljs-string">'\\'</span>)
                <span class="hljs-keyword">return</span> match[<span class="hljs-number">2</span>];
            <span class="hljs-keyword">var</span> ctx = object,
                expr = match[<span class="hljs-number">5</span>],
                <span class="hljs-built_in">escape</span> = match[<span class="hljs-number">4</span>],
                pattern = <span class="hljs-regexp">/^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/</span>;
            match = pattern.exec(expr);
            <span class="hljs-keyword">if</span> (match === <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> before;
            <span class="hljs-keyword">while</span> (match != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">var</span> comp = match[<span class="hljs-number">1</span>].startsWith(<span class="hljs-string">'['</span>) ? match[<span class="hljs-number">2</span>].replace(<span class="hljs-regexp">/\\\\]/g</span>, <span class="hljs-string">']'</span>) : match[<span class="hljs-number">1</span>];
                ctx = ctx[comp];
                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> === ctx || <span class="hljs-string">''</span> === match[<span class="hljs-number">3</span>])
                    <span class="hljs-keyword">break</span>;
                expr = expr.substring(<span class="hljs-string">'['</span> === match[<span class="hljs-number">3</span>] ? match[<span class="hljs-number">1</span>].length : match[<span class="hljs-number">0</span>].length);
                match = pattern.exec(expr);
            }
            ctx = ctx || <span class="hljs-string">''</span>;
            <span class="hljs-keyword">switch</span> (<span class="hljs-built_in">escape</span> || <span class="hljs-string">''</span>) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'HTML'</span>:
                    ctx = ctx.replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">'&amp;#39;'</span>).replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">'&amp;#34;'</span>).replace(<span class="hljs-regexp">/&amp;(?![#|l|g])/g</span>, <span class="hljs-string">'&amp;amp;'</span>).replace(<span class="hljs-regexp">/\&lt;/g</span>, <span class="hljs-string">'&amp;lt;'</span>).replace(<span class="hljs-regexp">/\&gt;/g</span>, <span class="hljs-string">'&amp;gt;'</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'JS'</span>:
                    ctx = ctx.replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">'&amp;#39;'</span>).replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">'&amp;#34;'</span>);
                    <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">return</span> before + <span class="hljs-built_in">String</span>.interpret(ctx);
        });
    }
});
<span class="hljs-keyword">var</span> XMLTemplate = Class.create(Template, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, id</span>) </span>{
        <span class="hljs-keyword">var</span> s = $(id);
        $<span class="hljs-keyword">super</span>(s &amp;&amp; s.innerHTML ? s.innerHTML.replace(<span class="hljs-regexp">/%7B/g</span>, <span class="hljs-string">'{'</span>).replace(<span class="hljs-regexp">/%7D/g</span>, <span class="hljs-string">'}'</span>) : <span class="hljs-string">''</span>);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-string">'XMLTemplate'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/glide_updates/prototype.plugin.js */</span>
<span class="hljs-keyword">var</span> Plugin = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> args = $A(<span class="hljs-built_in">arguments</span>);
        args.shift();
        <span class="hljs-keyword">var</span> klass = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">argumentArray</span>) </span>{
            <span class="hljs-keyword">this</span>.initialize.apply(<span class="hljs-keyword">this</span>, argumentArray);
        };
        <span class="hljs-built_in">Object</span>.extend(klass, Class.Methods);
        <span class="hljs-built_in">Object</span>.extend(klass.prototype, args[<span class="hljs-number">0</span>] || {});
        <span class="hljs-keyword">if</span> (!klass.prototype.initialize)
            klass.prototype.initialize = Prototype.emptyFunction;
        klass.prototype.constructor = klass;
        <span class="hljs-keyword">var</span> methods = {};
        methods[name] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
            <span class="hljs-keyword">new</span> klass(<span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">return</span> elem;
        }.bind(<span class="hljs-keyword">this</span>);
        Element.addMethods(methods);
    };
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">create</span>: create
    };
})();;
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/labjs/LAB.min.js */</span>
<span class="hljs-comment">/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">var</span> K = o.$LAB,
        y = <span class="hljs-string">"UseLocalXHR"</span>,
        z = <span class="hljs-string">"AlwaysPreserveOrder"</span>,
        u = <span class="hljs-string">"AllowDuplicates"</span>,
        A = <span class="hljs-string">"CacheBust"</span>,
        B = <span class="hljs-string">"BasePath"</span>,
        C = <span class="hljs-regexp">/^[^?#]*\//</span>.exec(location.href)[<span class="hljs-number">0</span>],
        D = <span class="hljs-regexp">/^\w+\:\/\/\/?[^\/]+/</span>.exec(C)[<span class="hljs-number">0</span>],
        i = <span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"head"</span>),
        L = (o.opera &amp;&amp; <span class="hljs-built_in">Object</span>.prototype.toString.call(o.opera) == <span class="hljs-string">"[object Opera]"</span>) || (<span class="hljs-string">"MozAppearance"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">document</span>.documentElement.style),
        q = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>),
        E = <span class="hljs-keyword">typeof</span> q.preload == <span class="hljs-string">"boolean"</span>,
        r = E || (q.readyState &amp;&amp; q.readyState == <span class="hljs-string">"uninitialized"</span>),
        F = !r &amp;&amp; q.async === <span class="hljs-literal">true</span>,
        M = !r &amp;&amp; !F &amp;&amp; !L;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">G</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(a) == <span class="hljs-string">"[object Function]"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">H</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(a) == <span class="hljs-string">"[object Array]"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">N</span>(<span class="hljs-params">a, c</span>) </span>{
        <span class="hljs-keyword">var</span> b = <span class="hljs-regexp">/^\w+\:\/\//</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\/\/\/?/</span>.test(a)) {
            a = location.protocol + a
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!b.test(a) &amp;&amp; a.charAt(<span class="hljs-number">0</span>) != <span class="hljs-string">"/"</span>) {
            a = (c || <span class="hljs-string">""</span>) + a
        }
        <span class="hljs-keyword">return</span> b.test(a) ? a : ((a.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">"/"</span> ? D : C) + a)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">a, c</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b <span class="hljs-keyword">in</span> a) {
            <span class="hljs-keyword">if</span> (a.hasOwnProperty(b)) {
                c[b] = a[b]
            }
        }
        <span class="hljs-keyword">return</span> c
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">O</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> c = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>; b &lt; a.scripts.length; b++) {
            <span class="hljs-keyword">if</span> (a.scripts[b].ready &amp;&amp; a.scripts[b].exec_trigger) {
                c = <span class="hljs-literal">true</span>;
                a.scripts[b].exec_trigger();
                a.scripts[b].exec_trigger = <span class="hljs-literal">null</span>
            }
        }
        <span class="hljs-keyword">return</span> c
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">t</span>(<span class="hljs-params">a, c, b, d</span>) </span>{
        a.onload = a.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> ((a.readyState &amp;&amp; a.readyState != <span class="hljs-string">"complete"</span> &amp;&amp; a.readyState != <span class="hljs-string">"loaded"</span>) || c[b]) <span class="hljs-keyword">return</span>;
            a.onload = a.onreadystatechange = <span class="hljs-literal">null</span>;
            d()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">I</span>(<span class="hljs-params">a</span>) </span>{
        a.ready = a.finished = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c &lt; a.finished_listeners.length; c++) {
            a.finished_listeners[c]()
        }
        a.ready_listeners = [];
        a.finished_listeners = []
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">P</span>(<span class="hljs-params">d, f, e, g, h</span>) </span>{
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a, c = f.real_src,
                b;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"item"</span> <span class="hljs-keyword">in</span> i) {
                <span class="hljs-keyword">if</span> (!i[<span class="hljs-number">0</span>]) {
                    setTimeout(<span class="hljs-built_in">arguments</span>.callee, <span class="hljs-number">25</span>);
                    <span class="hljs-keyword">return</span>
                }
                i = i[<span class="hljs-number">0</span>]
            }
            a = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>);
            <span class="hljs-keyword">if</span> (f.type) a.type = f.type;
            <span class="hljs-keyword">if</span> (f.charset) a.charset = f.charset;
            <span class="hljs-keyword">if</span> (h) {
                <span class="hljs-keyword">if</span> (r) {
                    e.elem = a;
                    <span class="hljs-keyword">if</span> (E) {
                        a.preload = <span class="hljs-literal">true</span>;
                        a.onpreload = g
                    } <span class="hljs-keyword">else</span> {
                        a.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">if</span> (a.readyState == <span class="hljs-string">"loaded"</span>) g()
                        }
                    }
                    a.src = c
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (h &amp;&amp; c.indexOf(D) == <span class="hljs-number">0</span> &amp;&amp; d[y]) {
                    b = <span class="hljs-keyword">new</span> XMLHttpRequest();
                    b.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">if</span> (b.readyState == <span class="hljs-number">4</span>) {
                            b.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
                            e.text = b.responseText + <span class="hljs-string">"\n//@ sourceURL="</span> + c;
                            g()
                        }
                    };
                    b.open(<span class="hljs-string">"GET"</span>, c);
                    b.send()
                } <span class="hljs-keyword">else</span> {
                    a.type = <span class="hljs-string">"text/cache-script"</span>;
                    t(a, e, <span class="hljs-string">"ready"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        i.removeChild(a);
                        g()
                    });
                    a.src = c;
                    i.insertBefore(a, i.firstChild)
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (F) {
                a.async = <span class="hljs-literal">false</span>;
                t(a, e, <span class="hljs-string">"finished"</span>, g);
                a.src = c;
                i.insertBefore(a, i.firstChild)
            } <span class="hljs-keyword">else</span> {
                t(a, e, <span class="hljs-string">"finished"</span>, g);
                a.src = c;
                i.insertBefore(a, i.firstChild)
            }
        }, <span class="hljs-number">0</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> l = {},
            Q = r || M,
            n = [],
            p = {},
            m;
        l[y] = <span class="hljs-literal">true</span>;
        l[z] = <span class="hljs-literal">false</span>;
        l[u] = <span class="hljs-literal">false</span>;
        l[A] = <span class="hljs-literal">false</span>;
        l[B] = <span class="hljs-string">""</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">R</span>(<span class="hljs-params">a, c, b</span>) </span>{
            <span class="hljs-keyword">var</span> d;

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (d != <span class="hljs-literal">null</span>) {
                    d = <span class="hljs-literal">null</span>;
                    I(b)
                }
            }
            <span class="hljs-keyword">if</span> (p[c.src].finished) <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">if</span> (!a[u]) p[c.src].finished = <span class="hljs-literal">true</span>;
            d = b.elem || <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"script"</span>);
            <span class="hljs-keyword">if</span> (c.type) d.type = c.type;
            <span class="hljs-keyword">if</span> (c.charset) d.charset = c.charset;
            t(d, b, <span class="hljs-string">"finished"</span>, f);
            <span class="hljs-keyword">if</span> (b.elem) {
                b.elem = <span class="hljs-literal">null</span>
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (b.text) {
                d.onload = d.onreadystatechange = <span class="hljs-literal">null</span>;
                d.text = b.text
            } <span class="hljs-keyword">else</span> {
                d.src = c.real_src
            }
            i.insertBefore(d, i.firstChild);
            <span class="hljs-keyword">if</span> (b.text) {
                f()
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">S</span>(<span class="hljs-params">c, b, d, f</span>) </span>{
            <span class="hljs-keyword">var</span> e, g, h = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    b.ready_cb(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        R(c, b, e)
                    })
                },
                j = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    b.finished_cb(b, d)
                };
            b.src = N(b.src, c[B]);
            b.real_src = b.src + (c[A] ? ((<span class="hljs-regexp">/\?.*$/</span>.test(b.src) ? <span class="hljs-string">"&amp;_"</span> : <span class="hljs-string">"?_"</span>) + ~~(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">1E9</span>) + <span class="hljs-string">"="</span>) : <span class="hljs-string">""</span>);
            <span class="hljs-keyword">if</span> (!p[b.src]) p[b.src] = {
                <span class="hljs-attr">items</span>: [],
                <span class="hljs-attr">finished</span>: <span class="hljs-literal">false</span>
            };
            g = p[b.src].items;
            <span class="hljs-keyword">if</span> (c[u] || g.length == <span class="hljs-number">0</span>) {
                e = g[g.length] = {
                    <span class="hljs-attr">ready</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">finished</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">ready_listeners</span>: [h],
                    <span class="hljs-attr">finished_listeners</span>: [j]
                };
                P(c, b, e, ((f) ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    e.ready = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; a &lt; e.ready_listeners.length; a++) {
                        e.ready_listeners[a]()
                    }
                    e.ready_listeners = []
                } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    I(e)
                }), f)
            } <span class="hljs-keyword">else</span> {
                e = g[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (e.finished) {
                    j()
                } <span class="hljs-keyword">else</span> {
                    e.finished_listeners.push(j)
                }
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">v</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> e, g = s(l, {}),
                h = [],
                j = <span class="hljs-number">0</span>,
                w = <span class="hljs-literal">false</span>,
                k;

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">T</span>(<span class="hljs-params">a, c</span>) </span>{
                a.ready = <span class="hljs-literal">true</span>;
                a.exec_trigger = c;
                x()
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">U</span>(<span class="hljs-params">a, c</span>) </span>{
                a.ready = a.finished = <span class="hljs-literal">true</span>;
                a.exec_trigger = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>; b &lt; c.scripts.length; b++) {
                    <span class="hljs-keyword">if</span> (!c.scripts[b].finished) <span class="hljs-keyword">return</span>
                }
                c.finished = <span class="hljs-literal">true</span>;
                x()
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">while</span> (j &lt; h.length) {
                    <span class="hljs-keyword">if</span> (G(h[j])) {
                        <span class="hljs-keyword">try</span> {
                            h[j++]()
                        } <span class="hljs-keyword">catch</span> (err) {}
                        <span class="hljs-keyword">continue</span>
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!h[j].finished) {
                        <span class="hljs-keyword">if</span> (O(h[j])) <span class="hljs-keyword">continue</span>;
                        <span class="hljs-keyword">break</span>
                    }
                    j++
                }
                <span class="hljs-keyword">if</span> (j == h.length) {
                    w = <span class="hljs-literal">false</span>;
                    k = <span class="hljs-literal">false</span>
                }
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">V</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (!k || !k.scripts) {
                    h.push(k = {
                        <span class="hljs-attr">scripts</span>: [],
                        <span class="hljs-attr">finished</span>: <span class="hljs-literal">true</span>
                    })
                }
            }
            e = {
                <span class="hljs-attr">script</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f = <span class="hljs-number">0</span>; f &lt; <span class="hljs-built_in">arguments</span>.length; f++) {
                        (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
                            <span class="hljs-keyword">var</span> b;
                            <span class="hljs-keyword">if</span> (!H(a)) {
                                c = [a]
                            }
                            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span>; d &lt; c.length; d++) {
                                V();
                                a = c[d];
                                <span class="hljs-keyword">if</span> (G(a)) a = a();
                                <span class="hljs-keyword">if</span> (!a) <span class="hljs-keyword">continue</span>;
                                <span class="hljs-keyword">if</span> (H(a)) {
                                    b = [].slice.call(a);
                                    b.unshift(d, <span class="hljs-number">1</span>);
                                    [].splice.apply(c, b);
                                    d--;
                                    <span class="hljs-keyword">continue</span>
                                }
                                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> a == <span class="hljs-string">"string"</span>) a = {
                                    <span class="hljs-attr">src</span>: a
                                };
                                a = s(a, {
                                    <span class="hljs-attr">ready</span>: <span class="hljs-literal">false</span>,
                                    <span class="hljs-attr">ready_cb</span>: T,
                                    <span class="hljs-attr">finished</span>: <span class="hljs-literal">false</span>,
                                    <span class="hljs-attr">finished_cb</span>: U
                                });
                                k.finished = <span class="hljs-literal">false</span>;
                                k.scripts.push(a);
                                S(g, a, k, (Q &amp;&amp; w));
                                w = <span class="hljs-literal">true</span>;
                                <span class="hljs-keyword">if</span> (g[z]) e.wait()
                            }
                        })(<span class="hljs-built_in">arguments</span>[f], <span class="hljs-built_in">arguments</span>[f])
                    }
                    <span class="hljs-keyword">return</span> e
                },
                <span class="hljs-attr">wait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; a &lt; <span class="hljs-built_in">arguments</span>.length; a++) {
                            h.push(<span class="hljs-built_in">arguments</span>[a])
                        }
                        k = h[h.length - <span class="hljs-number">1</span>]
                    } <span class="hljs-keyword">else</span> k = <span class="hljs-literal">false</span>;
                    x();
                    <span class="hljs-keyword">return</span> e
                }
            };
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">script</span>: e.script,
                <span class="hljs-attr">wait</span>: e.wait,
                <span class="hljs-attr">setOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    s(a, g);
                    <span class="hljs-keyword">return</span> e
                }
            }
        }
        m = {
            <span class="hljs-attr">setGlobalDefaults</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                s(a, l);
                <span class="hljs-keyword">return</span> m
            },
            <span class="hljs-attr">setOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> v().setOptions.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>)
            },
            <span class="hljs-attr">script</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> v().script.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>)
            },
            <span class="hljs-attr">wait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> v().wait.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>)
            },
            <span class="hljs-attr">queueScript</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n[n.length] = {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"script"</span>,
                    <span class="hljs-attr">args</span>: [].slice.call(<span class="hljs-built_in">arguments</span>)
                };
                <span class="hljs-keyword">return</span> m
            },
            <span class="hljs-attr">queueWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n[n.length] = {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"wait"</span>,
                    <span class="hljs-attr">args</span>: [].slice.call(<span class="hljs-built_in">arguments</span>)
                };
                <span class="hljs-keyword">return</span> m
            },
            <span class="hljs-attr">runQueue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> a = m,
                    c = n.length,
                    b = c,
                    d;
                <span class="hljs-keyword">for</span> (; --b &gt;= <span class="hljs-number">0</span>;) {
                    d = n.shift();
                    a = a[d.type].apply(<span class="hljs-literal">null</span>, d.args)
                }
                <span class="hljs-keyword">return</span> a
            },
            <span class="hljs-attr">noConflict</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                o.$LAB = K;
                <span class="hljs-keyword">return</span> m
            },
            <span class="hljs-attr">sandbox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> J()
            }
        };
        <span class="hljs-keyword">return</span> m
    }
    o.$LAB = J();
    (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, b</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.readyState == <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">document</span>[a]) {
            <span class="hljs-built_in">document</span>.readyState = <span class="hljs-string">"loading"</span>;
            <span class="hljs-built_in">document</span>[a](c, b = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-built_in">document</span>.removeEventListener(c, b, <span class="hljs-literal">false</span>);
                <span class="hljs-built_in">document</span>.readyState = <span class="hljs-string">"complete"</span>
            }, <span class="hljs-literal">false</span>)
        }
    })(<span class="hljs-string">"addEventListener"</span>, <span class="hljs-string">"DOMContentLoaded"</span>)
})(<span class="hljs-keyword">this</span>);
<span class="hljs-comment">/*! RESOURCE: /scripts/ScriptLoader.js */</span>
<span class="hljs-keyword">var</span> ScriptLoader = {
    <span class="hljs-attr">getScripts</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scripts, callback</span>) </span>{
        <span class="hljs-keyword">if</span> (!(scripts <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>))
            scripts = [scripts];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; scripts.length; i++)
            $LAB.queueScript(scripts[i]);
        $LAB.queueWait(callback);
        $LAB.runQueue();
    }
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/consts/GlideEvent.js */</span>
<span class="hljs-keyword">var</span> GlideEvent = {
    <span class="hljs-attr">WINDOW_CLICKED</span>: <span class="hljs-string">'glide:window_clicked'</span>,
    <span class="hljs-attr">WINDOW_BLURRED</span>: <span class="hljs-string">'glide:window_blurred'</span>,
    <span class="hljs-attr">WINDOW_FOCUSED</span>: <span class="hljs-string">'glide:window_focused'</span>,
    <span class="hljs-attr">IMAGE_PICKED</span>: <span class="hljs-string">'glide:image_picked'</span>,
    <span class="hljs-attr">NAV_MANAGER_LOADED</span>: <span class="hljs-string">'glide:nav_manager_loaded'</span>,
    <span class="hljs-attr">NAV_FORM_DIRTY_CANCEL_STAY</span>: <span class="hljs-string">'glide:nav_form_dirty_cancel_stay'</span>,
    <span class="hljs-attr">NAV_SYNC_LIST_WITH_FORM</span>: <span class="hljs-string">'glide:nav_sync_list_with_form'</span>,
    <span class="hljs-attr">NAV_LOAD_FORM_FROM_LIST</span>: <span class="hljs-string">'glide:nav_load_form_from_list'</span>,
    <span class="hljs-attr">NAV_SAVE_PREFERENCES</span>: <span class="hljs-string">'glide:nav_save_preferences'</span>,
    <span class="hljs-attr">NAV_UPDATE_EDGE_BUTTON_STATES</span>: <span class="hljs-string">'glide:nav_update_edge_button_states'</span>,
    <span class="hljs-attr">NAV_OPEN_URL</span>: <span class="hljs-string">'glide:nav_open_url'</span>,
    <span class="hljs-attr">NAV_ADD_BOOKMARK</span>: <span class="hljs-string">'glide:nav_add_bookmark'</span>,
    <span class="hljs-attr">NAV_REMOVE_BOOKMARK</span>: <span class="hljs-string">'glide:nav_remove_bookmark'</span>,
    <span class="hljs-attr">NAV_UPDATE_BOOKMARK</span>: <span class="hljs-string">'glide:nav_update_bookmark'</span>,
    <span class="hljs-attr">NAV_DRAGGING_BOOKMARK_START</span>: <span class="hljs-string">'glide:nav_dragging_bookmark_start'</span>,
    <span class="hljs-attr">NAV_DRAGGING_BOOKMARK_STOP</span>: <span class="hljs-string">'glide:nav_dragging_bookmark_stop'</span>,
    <span class="hljs-attr">NAV_HIDE_ALL_TOOLTIPS</span>: <span class="hljs-string">'glide:nav_hide_all_tooltips'</span>,
    <span class="hljs-attr">NAV_QUEUE_BOOKMARK_OPEN_FLYOUT</span>: <span class="hljs-string">'glide:nav_queue_bookmark_open_flyout'</span>,
    <span class="hljs-attr">NAV_OPEN_BOOKMARK</span>: <span class="hljs-string">'glide:nav_open_bookmark'</span>,
    <span class="hljs-attr">NAV_BOOKMARK_ADDED</span>: <span class="hljs-string">'glide:nav_bookmark_added'</span>,
    <span class="hljs-attr">NAV_BOOKMARK_REMOVED</span>: <span class="hljs-string">'glide:nav_bookmark_removed'</span>,
    <span class="hljs-attr">NAV_EAST_PANE_RESIZED</span>: <span class="hljs-string">'glide:nav_east_pane_resized'</span>,
    <span class="hljs-attr">NAV_ADD_FLYOUT</span>: <span class="hljs-string">'glide:nav_add_flyout'</span>,
    <span class="hljs-attr">NAV_REMOVE_FLYOUT</span>: <span class="hljs-string">'glide:nav_remove_flyout'</span>,
    <span class="hljs-attr">NAV_TOGGLE_FLYOUT</span>: <span class="hljs-string">'glide:nav_toggle_flyout'</span>,
    <span class="hljs-attr">NAV_HIDE_FLYOUTS</span>: <span class="hljs-string">'glide:nav_hide_flyouts'</span>,
    <span class="hljs-attr">NAV_PANE_CLICKED</span>: <span class="hljs-string">'glide:nav_window_clicked'</span>
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/functions/textutil.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscape</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">"&amp;amp;"</span>).replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">"&amp;#39;"</span>).replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">"&amp;quot;"</span>).replace(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">"&amp;#60;"</span>).replace(<span class="hljs-regexp">/&gt;/g</span>, <span class="hljs-string">"&amp;#62;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscapeQuote</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">"&amp;#39;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscapeDoubleQuote</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">"&amp;quot;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadXML</span>(<span class="hljs-params">r</span>) </span>{
    <span class="hljs-keyword">var</span> xml = r.responseXML;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> xml != <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span> xml;
    <span class="hljs-keyword">var</span> dom = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.DOMParser) {
        <span class="hljs-keyword">try</span> {
            dom = (<span class="hljs-keyword">new</span> DOMParser()).parseFromString(r, <span class="hljs-string">'text/xml'</span>);
        } <span class="hljs-keyword">catch</span> (e) {
            dom = <span class="hljs-literal">null</span>;
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.ActiveXObject) {
        <span class="hljs-keyword">try</span> {
            dom = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">'Microsoft.XMLDOM'</span>);
            dom.async = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (!dom.loadXML(r))
                jslog(<span class="hljs-string">'ERROR: '</span> + dom.parseError.reason + dom.parseError.srcText);
        } <span class="hljs-keyword">catch</span> (e) {
            dom = <span class="hljs-literal">null</span>;
        }
    } <span class="hljs-keyword">else</span>
        jslog(<span class="hljs-string">'ERROR: Cannot parse xml string - "'</span> + r + <span class="hljs-string">'".'</span>);
    <span class="hljs-keyword">return</span> dom;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/functions_bootstrap14.js */</span>
<span class="hljs-keyword">var</span> userAgentLowerCase = navigator.userAgent.toLowerCase();
<span class="hljs-keyword">var</span> isMSIE = userAgentLowerCase.indexOf(<span class="hljs-string">"msie"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> ie5 = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> isMSIE6 = <span class="hljs-literal">false</span>
<span class="hljs-keyword">var</span> isMSIE7 = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> isMSIE8 = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> isMSIE9 = userAgentLowerCase.indexOf(<span class="hljs-string">"msie 9"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isMSIE10 = userAgentLowerCase.indexOf(<span class="hljs-string">"msie 10"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isMSIE11 = userAgentLowerCase.indexOf(<span class="hljs-string">"rv:11.0"</span>) &gt; <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isChrome = userAgentLowerCase.indexOf(<span class="hljs-string">"chrome"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isFirefox = userAgentLowerCase.indexOf(<span class="hljs-string">"firefox"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isSafari = !isChrome &amp;&amp; (userAgentLowerCase.indexOf(<span class="hljs-string">"safari"</span>) &gt;= <span class="hljs-number">0</span>);
<span class="hljs-keyword">var</span> isSafari5 = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">if</span> (isSafari) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">var</span> reSafariVersion = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"version/([\\d\\.]{3,5}) safari/"</span>);
        <span class="hljs-keyword">var</span> results = reSafariVersion.exec(userAgentLowerCase);
        <span class="hljs-keyword">if</span> (results.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> reMajor = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"([\\d])."</span>);
            <span class="hljs-keyword">var</span> results = reMajor.exec(results[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">if</span> (results.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">var</span> mv = <span class="hljs-built_in">parseInt</span>(results[<span class="hljs-number">1</span>]);
                isSafari5 = mv &lt; <span class="hljs-number">6</span>;
            }
        }
    } <span class="hljs-keyword">catch</span> (e) {}
}
<span class="hljs-keyword">var</span> isMacintosh = userAgentLowerCase.indexOf(<span class="hljs-string">"macintosh"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isWebKit = navigator.userAgent.indexOf(<span class="hljs-string">"WebKit"</span>) &gt;= <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> isTouchDevice = navigator.userAgent.indexOf(<span class="hljs-string">'iPhone'</span>) &gt; <span class="hljs-number">-1</span> || navigator.userAgent.indexOf(<span class="hljs-string">'iPad'</span>) &gt; <span class="hljs-number">-1</span>;
<span class="hljs-keyword">var</span> GJSV = <span class="hljs-number">1.0</span>;
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> defined = {};
    <span class="hljs-keyword">var</span> waiting = {};

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listen</span>(<span class="hljs-params">id, then</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id !== <span class="hljs-string">'string'</span>)
            listenMany(id, then);
        <span class="hljs-keyword">if</span> (defined[id]) {
            <span class="hljs-keyword">return</span> then(defined[id]);
        }
        <span class="hljs-keyword">if</span> (!waiting[id]) {
            waiting[id] = [];
        }
        waiting[id].push(then);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">emit</span>(<span class="hljs-params">id, data</span>) </span>{
        defined[id] = data;
        <span class="hljs-keyword">var</span> listeners = waiting[id];
        <span class="hljs-keyword">if</span> (!listeners) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = listeners.length; i &lt; l; i++) {
            listeners[i](data);
        }
        waiting[id] = [];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listenMany</span>(<span class="hljs-params">dependencies, then</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dependencies.length === <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> unDef = {
            <span class="hljs-attr">isUndefined</span>: <span class="hljs-literal">true</span>
        };
        <span class="hljs-keyword">var</span> resolved = [];

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolve</span>(<span class="hljs-params">dep, i</span>) </span>{
            resolved[i] = dep;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = resolved.length; i &lt; l; i++) {
                <span class="hljs-keyword">if</span> (resolved[i] === unDef)
                    <span class="hljs-keyword">return</span>;
            }
            then.apply(<span class="hljs-literal">undefined</span>, resolved);
        };
        dependencies.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">depId, idx</span>) </span>{
            resolved[idx] = unDef;
            listen(depId, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dep</span>) </span>{
                resolve(dep, idx);
            });
        });
    }
    <span class="hljs-built_in">window</span>.CachedEvent = {
        <span class="hljs-attr">after</span>: listen,
        <span class="hljs-attr">emit</span>: emit
    };
})();
<span class="hljs-keyword">var</span> g_afterPageLoadedFunctions = [];
<span class="hljs-built_in">window</span>.g_render_functions = <span class="hljs-built_in">window</span>.g_render_functions || [];
<span class="hljs-built_in">window</span>.g_load_functions = <span class="hljs-built_in">window</span>.g_load_functions || [];
<span class="hljs-built_in">window</span>.g_late_load_functions = <span class="hljs-built_in">window</span>.g_late_load_functions || [];

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runBeforeRender</span>(<span class="hljs-params"></span>) </span>{
    _runInlineScripts();
    jslog(<span class="hljs-string">"runBeforeRender"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != g_render_functions.length; i++) {
        <span class="hljs-keyword">var</span> f = g_render_functions[i];
        f.call();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_runInlineScripts</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> inlineScripts = $j(<span class="hljs-string">'script[type="application/javascript-deferred"]'</span>);
    jslog(<span class="hljs-string">"running inline scripts, count: "</span> + inlineScripts.length);
    inlineScripts.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, item</span>) </span>{
        <span class="hljs-keyword">var</span> script = $j(item).text();
        <span class="hljs-keyword">try</span> {
            $j.globalEval(script);
        } <span class="hljs-keyword">catch</span> (e) {
            jslog(<span class="hljs-string">"error in script "</span> + script);
        }
    });
}
<span class="hljs-built_in">window</span>.g_hasRunAfterAllLoaded = <span class="hljs-literal">false</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runAfterAllLoaded</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (g_hasRunAfterAllLoaded) {
        jslog(<span class="hljs-string">"Redundant call to runAfterAllLoaded"</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_hasRunAfterAllLoaded = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
    jslog(<span class="hljs-string">"runAfterAllLoaded, functions: "</span> + g_load_functions.length);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != g_load_functions.length; i++) {
        <span class="hljs-keyword">var</span> f = g_load_functions[i];
        <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();
        f.call();
        t = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime() - t;
        <span class="hljs-keyword">if</span> (t &gt; <span class="hljs-number">5000</span>)
            jslog(<span class="hljs-string">"Time: "</span> + t + <span class="hljs-string">" for: ["</span> + i + <span class="hljs-string">"] "</span> + f);
    }
    jslog(<span class="hljs-string">"late load functions: "</span> + g_late_load_functions.length);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != g_late_load_functions.length; i++) {
        <span class="hljs-keyword">var</span> f = g_late_load_functions[i];
        f.call();
    }
    <span class="hljs-built_in">window</span>.self.loaded = <span class="hljs-literal">true</span>;
    sw.jslog(<span class="hljs-string">"runAfterAllLoaded finished"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addLoadEvent</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.loaded) {
        setTimeout(func, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_load_functions.push(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addLateLoadEvent</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.loaded) {
        setTimeout(func, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_late_load_functions.push(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pageLoaded</span>(<span class="hljs-params"></span>) </span>{
    CustomEvent.observe(<span class="hljs-string">"body_clicked"</span>, contextMenuHide);
    setMandatoryExplained.defer();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRenderEvent</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (isRenderEventRegistered(func))
        <span class="hljs-keyword">return</span>;
    addRenderEventToArray(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRenderEventToArray</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.loaded) {
        setTimeout(func, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_render_functions.push(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isRenderEventRegistered</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">var</span> s = func.toString();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; g_render_functions.length; i++)
        <span class="hljs-keyword">if</span> (g_render_functions[i].toString() == s)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRenderEventLogged</span>(<span class="hljs-params">func, name, funcname</span>) </span>{
    addRenderEventToArray(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_put_cs_context'</span>, funcname, <span class="hljs-string">'load'</span>);
        <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
        <span class="hljs-keyword">var</span> __rtmr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        <span class="hljs-keyword">try</span> {
            func();
        } <span class="hljs-keyword">catch</span> (e) {
            jslog(<span class="hljs-string">'***************************************************'</span>);
            jslog(<span class="hljs-string">'A script has encountered an error in render events'</span>);
            jslog(e);
            jslog(<span class="hljs-string">'Script ends. Continuing happily'</span>);
            jslog(<span class="hljs-string">'***************************************************'</span>);
        }
        CustomEvent.fire(<span class="hljs-string">'page_timing'</span>, {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'CSOL'</span>,
            <span class="hljs-attr">child</span>: {
                <span class="hljs-attr">description</span>: name.substr(<span class="hljs-number">7</span>),
                <span class="hljs-attr">sys_id</span>: g_event_handler_ids[funcname],
                <span class="hljs-attr">source_table</span>: <span class="hljs-string">'sys_script_client'</span>
            },
            <span class="hljs-attr">startTime</span>: __rtmr,
            <span class="hljs-attr">win</span>: <span class="hljs-built_in">window</span>
        });
        sw.jslog(name);
        CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_pop_cs_context'</span>, funcname, <span class="hljs-string">'load'</span>);
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTopRenderEvent</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.loaded) {
        setTimeout(func, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_render_functions.unshift(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAfterPageLoadedEvent</span>(<span class="hljs-params">func</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.loaded) {
        setTimeout(func, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span>;
    }
    g_afterPageLoadedFunctions.push(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runAfterPageLoadedEvents</span>(<span class="hljs-params"></span>) </span>{
    jslog(<span class="hljs-string">"after page loaded starting"</span>);
    <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != g_afterPageLoadedFunctions.length; i++) {
        <span class="hljs-keyword">var</span> f = g_afterPageLoadedFunctions[i];
        f.call();
    }
    sw.jslog(<span class="hljs-string">"after page loaded complete, functions called: "</span> + g_afterPageLoadedFunctions.length);
    g_afterPageLoadedFunctions = [];
}
addLateLoadEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    setTimeout(runAfterPageLoadedEvents, <span class="hljs-number">30</span>);
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addUnloadEvent</span>(<span class="hljs-params">func</span>) </span>{
    Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">'unload'</span>, func, <span class="hljs-literal">false</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addTinymceLoadEvent</span>(<span class="hljs-params">id, func</span>) </span>{
    CachedEvent.after(<span class="hljs-string">'tinyeditor_init.'</span> + id, func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireTinymceLoadEvent</span>(<span class="hljs-params">id, ed</span>) </span>{
    CachedEvent.emit(<span class="hljs-string">'tinyeditor_init.'</span> + id, ed);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gel</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id != <span class="hljs-string">'string'</span>)
        <span class="hljs-keyword">return</span> id;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(id);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cel</span>(<span class="hljs-params">name, parent</span>) </span>{
    <span class="hljs-keyword">var</span> e = <span class="hljs-built_in">document</span>.createElement(name);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>)
        parent.appendChild(e);
    <span class="hljs-keyword">return</span> e;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rel</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> e = gel(id);
    <span class="hljs-keyword">if</span> (e)
        e.parentNode.removeChild(e);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addChild</span>(<span class="hljs-params">element</span>) </span>{
    getFormContentParent().appendChild(element);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inner</span>(<span class="hljs-params">id, data</span>) </span>{
    <span class="hljs-keyword">var</span> el = gel(id);
    <span class="hljs-keyword">if</span> (el != <span class="hljs-literal">null</span>)
        el.innerHTML = data;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearNodes</span>(<span class="hljs-params">t</span>) </span>{
    <span class="hljs-keyword">if</span> (!t)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">while</span> (t.hasChildNodes())
        t.removeChild(t.childNodes[<span class="hljs-number">0</span>]);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTopWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> topWindow = <span class="hljs-built_in">window</span>.self;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">while</span> (topWindow.GJSV &amp;&amp; topWindow != topWindow.parent &amp;&amp; topWindow.parent.GJSV) {
            topWindow = topWindow.parent;
        }
    } <span class="hljs-keyword">catch</span> (e) {}
    <span class="hljs-keyword">return</span> topWindow;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inFrame</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> getTopWindow() != <span class="hljs-built_in">window</span>.self;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMainWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> topWindow = getTopWindow();
    <span class="hljs-keyword">return</span> topWindow[<span class="hljs-string">'gsft_main'</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMainFormWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> topWindow = getTopWindow();
    <span class="hljs-keyword">return</span> topWindow[<span class="hljs-string">'gsft_main_form'</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNavWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> topWindow = getTopWindow();
    <span class="hljs-keyword">return</span> topWindow[<span class="hljs-string">'gsft_nav'</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reloadWindow</span>(<span class="hljs-params">win</span>) </span>{
    <span class="hljs-keyword">var</span> href = win.location.href;
    <span class="hljs-keyword">var</span> len = href.length;
    <span class="hljs-keyword">if</span> (win.frames[<span class="hljs-string">'iframe_live_feed'</span>] &amp;&amp; href.endsWith(<span class="hljs-string">'#'</span>) &amp;&amp; len &gt; <span class="hljs-number">2</span>)
        href = href.substring(<span class="hljs-number">0</span>, len - <span class="hljs-number">2</span>)
    href = addDomainParameters(href);
    win.location.href = href;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addDomainParameters</span>(<span class="hljs-params">href</span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideURL(href);
    <span class="hljs-keyword">if</span> (url.getParam(<span class="hljs-string">'sysparm_domain'</span>) == <span class="hljs-string">'picker'</span>) {
        url.deleteParam(<span class="hljs-string">'sysparm_domain'</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> domainElement = gel(<span class="hljs-string">'sysparm_domain'</span>);
        <span class="hljs-keyword">if</span> (domainElement) {
            <span class="hljs-keyword">if</span> (domainElement.value != <span class="hljs-string">'picker'</span>) {
                url.addParam(<span class="hljs-string">'sysparm_domain'</span>, domainElement.value);
                <span class="hljs-keyword">var</span> domainScope = gel(<span class="hljs-string">'sysparm_domain_scope'</span>);
                <span class="hljs-keyword">if</span> (domainScope) {
                    url.addParam(<span class="hljs-string">'sysparm_domain_scope'</span>, domainScope.value);
                }
            }
        }
    }
    url.addParam(<span class="hljs-string">'sysparm_nostack'</span>, <span class="hljs-string">'true'</span>);
    url.setEncode(<span class="hljs-literal">false</span>);
    <span class="hljs-keyword">return</span> url.getURL();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOnSubmitEvent</span>(<span class="hljs-params">form, func, funcname</span>) </span>{
    <span class="hljs-keyword">if</span> (!form)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> oldonsubmit = form.onsubmit;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form.onsubmit != <span class="hljs-string">'function'</span>)
        form.onsubmit = func;
    <span class="hljs-keyword">else</span> {
        form.onsubmit = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> formFuncCalled = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (oldonsubmit() == <span class="hljs-literal">false</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_put_cs_context'</span>, funcname, <span class="hljs-string">'submit'</span>);
                formFuncCalled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">var</span> returnvalue = func();
                formFuncCalled = <span class="hljs-literal">false</span>;
                CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_pop_cs_context'</span>, funcname, <span class="hljs-string">'submit'</span>);
                <span class="hljs-keyword">if</span> (returnvalue == <span class="hljs-literal">false</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">catch</span> (ex) {
                <span class="hljs-keyword">if</span> (formFuncCalled)
                    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_pop_cs_context'</span>, funcname, <span class="hljs-string">'load'</span>);
                formFuncError(<span class="hljs-string">"onSubmit"</span>, func, ex);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
    }
    form = <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formFuncError</span>(<span class="hljs-params">type, func, ex</span>) </span>{
    <span class="hljs-keyword">var</span> funcStr = func.toString();
    funcStr = funcStr.replace(<span class="hljs-regexp">/onSubmit[a-fA-F0-9]{32}\(/</span>, <span class="hljs-string">"onSubmit("</span>);
    <span class="hljs-keyword">var</span> msg;
    <span class="hljs-keyword">if</span> (g_user.hasRole(<span class="hljs-string">"client_script_admin"</span>))
        msg = type + <span class="hljs-string">" script error: "</span> + ex.toString() + <span class="hljs-string">":&lt;br/&gt;"</span> + funcStr.replace(<span class="hljs-regexp">/\n/g</span>, <span class="hljs-string">"&lt;br/&gt;"</span>).replace(<span class="hljs-regexp">/\s/g</span>, <span class="hljs-string">"&amp;nbsp;"</span>);
    <span class="hljs-keyword">else</span>
        msg = <span class="hljs-string">"Submit canceled due to a script error - please contact your System Administrator"</span>;
    g_form.addErrorMessage(msg);
    CustomEvent.fire(<span class="hljs-string">'glideform:script_error'</span>, type + <span class="hljs-string">" script error: "</span> + ex.toString() + <span class="hljs-string">"\n"</span> + funcStr);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hide</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">typeof</span> element === <span class="hljs-string">"string"</span> ? gel(element) : element;
    <span class="hljs-keyword">if</span> (!e)
        <span class="hljs-keyword">return</span>;
    e.style.display = <span class="hljs-string">'none'</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">typeof</span> element === <span class="hljs-string">"string"</span> ? gel(element) : element;
    <span class="hljs-keyword">if</span> (!e)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (e.tagName == <span class="hljs-string">"TR"</span>)
        e.style.display = <span class="hljs-string">'table-row'</span>;
    <span class="hljs-keyword">else</span>
        e.style.display = <span class="hljs-string">'block'</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideObject</span>(<span class="hljs-params">o, visibilityOnly</span>) </span>{
    <span class="hljs-keyword">if</span> (!o)
        <span class="hljs-keyword">return</span>;
    o.style.visibility = <span class="hljs-string">"hidden"</span>;
    <span class="hljs-keyword">if</span> (!visibilityOnly)
        o.style.display = <span class="hljs-string">"none"</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showObject</span>(<span class="hljs-params">o, visibilityOnly</span>) </span>{
    <span class="hljs-keyword">if</span> (!o)
        <span class="hljs-keyword">return</span>;
    o.style.visibility = <span class="hljs-string">"visible"</span>;
    <span class="hljs-keyword">if</span> (!visibilityOnly)
        o.style.display = <span class="hljs-string">"block"</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showObjectInline</span>(<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">if</span> (!o)
        <span class="hljs-keyword">return</span>;
    o.style.visibility = <span class="hljs-string">"visible"</span>;
    o.style.display = <span class="hljs-string">"inline"</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showObjectInlineBlock</span>(<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">if</span> (!o)
        <span class="hljs-keyword">return</span>;
    o.style.visibility = <span class="hljs-string">"visible"</span>;
    o.style.display = <span class="hljs-string">"inline-block"</span>;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">focusFirstElement</span>(<span class="hljs-params">form</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">var</span> e = findFirstEditableElement(form);
        <span class="hljs-keyword">if</span> (e) {
            Field.activate(e);
            triggerEvent(e, <span class="hljs-string">'focus'</span>, <span class="hljs-literal">true</span>);
        }
    } <span class="hljs-keyword">catch</span> (ex) {}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findFirstEditableElement</span>(<span class="hljs-params">form</span>) </span>{
    <span class="hljs-keyword">var</span> tags = [<span class="hljs-string">'input'</span>, <span class="hljs-string">'select'</span>, <span class="hljs-string">'textarea'</span>];
    <span class="hljs-keyword">var</span> elements = form.getElementsByTagName(<span class="hljs-string">'*'</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, n = elements.length; i &lt; n; i++) {
        <span class="hljs-keyword">var</span> element = elements[i];
        <span class="hljs-keyword">if</span> (element.type == <span class="hljs-string">'hidden'</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> tagName = element.tagName.toLowerCase();
        <span class="hljs-keyword">if</span> (!tags.include(tagName))
            <span class="hljs-keyword">continue</span>;
        element = $(element);
        <span class="hljs-keyword">var</span> formGroup = element.up(<span class="hljs-string">'.form-group'</span>);
        <span class="hljs-keyword">if</span> (!element.disabled &amp;&amp;
            (<span class="hljs-built_in">window</span>.g_accessibility ? <span class="hljs-literal">true</span> : !element.readOnly) &amp;&amp;
            element.style.visibility != <span class="hljs-string">'hidden'</span> &amp;&amp;
            element.style.display != <span class="hljs-string">'none'</span> &amp;&amp;
            element.offsetParent != <span class="hljs-literal">null</span> &amp;&amp;
            formGroup &amp;&amp;
            formGroup.style.display != <span class="hljs-string">'none'</span>)
            <span class="hljs-keyword">return</span> element;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">triggerEvent</span>(<span class="hljs-params">element, eventType, canBubble, memo</span>) </span>{
    canBubble = (<span class="hljs-keyword">typeof</span>(canBubble) == <span class="hljs-literal">undefined</span>) ? <span class="hljs-literal">true</span> : canBubble;
    <span class="hljs-keyword">if</span> (element &amp;&amp; element.disabled &amp;&amp; eventType == <span class="hljs-string">"change"</span> &amp;&amp; element.onchange) {
        element.onchange.call(element);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (element.fireEvent) {
        element.fireEvent(<span class="hljs-string">'on'</span> + eventType);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> evt = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">'HTMLEvents'</span>);
        evt.initEvent(eventType, canBubble, <span class="hljs-literal">true</span>);
        evt.memo = memo;
        element.dispatchEvent(evt, <span class="hljs-literal">true</span>);
    }
}
<span class="hljs-keyword">var</span> g_form_dirty_message;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onWindowClose</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form == <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!g_form.submitted &amp;&amp; g_form.modified) {
        g_submitted = <span class="hljs-literal">false</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            CustomEvent.fireTop(<span class="hljs-string">'glide:nav_form_dirty_cancel_stay'</span>, <span class="hljs-built_in">window</span>);
        }, <span class="hljs-number">750</span>);
        <span class="hljs-keyword">return</span> g_form_dirty_message;
    }
    g_form.submitted = <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jslog</span>(<span class="hljs-params">msg, src, dateTime</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (!src) {
            <span class="hljs-keyword">var</span> path = <span class="hljs-built_in">window</span>.self.location.pathname;
            src = path.substring(path.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.opener &amp;&amp; <span class="hljs-built_in">window</span> != <span class="hljs-built_in">window</span>.self.opener) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.opener.jslog) {
                <span class="hljs-built_in">window</span>.self.opener.jslog(msg, src, dateTime);
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parent &amp;&amp; parent.jslog &amp;&amp; jslog != parent.jslog) {
            parent.jslog(msg, src, dateTime);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parent.parent &amp;&amp; parent.parent.jslog &amp;&amp; jslog != parent.parent.jslog) {
            parent.parent.jslog(msg, src, dateTime);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.console &amp;&amp; <span class="hljs-built_in">window</span>.console.log)
                <span class="hljs-built_in">console</span>.log(msg);
        }
    } <span class="hljs-keyword">catch</span> (e) {}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getXMLIsland</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> xml = gel(name);
    <span class="hljs-keyword">if</span> (xml == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    xml = <span class="hljs-string">"&lt;xml&gt;"</span> + xml.innerHTML + <span class="hljs-string">"&lt;/xml&gt;"</span>;
    xml = loadXML(xml);
    <span class="hljs-keyword">return</span> xml;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lock</span>(<span class="hljs-params">me, ref, edit_id, nonedit_id, current_value_id, update_id</span>) </span>{
    <span class="hljs-keyword">if</span> (me)
        me.style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">var</span> unlock = gel(ref + <span class="hljs-string">'_unlock'</span>);
    unlock.style.display = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> edit_span = gel(edit_id);
    edit_span.style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">var</span> nonedit_span = gel(nonedit_id);
    nonedit_span.style.display = <span class="hljs-string">"inline-block"</span>;
    <span class="hljs-keyword">var</span> current_value = gel(current_value_id);
    <span class="hljs-keyword">var</span> the_value = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (current_value.options) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; current_value.options.length; i++) {
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>)
                the_value += g_glide_list_separator;
            the_value += current_value.options[i].text;
        }
    } <span class="hljs-keyword">else</span>
        the_value = current_value.value;
    <span class="hljs-keyword">var</span> update_element = gel(update_id);
    <span class="hljs-keyword">if</span> (update_element.href)
        update_element.href = the_value;
    update_element.innerHTML = htmlEscape(the_value);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unlock</span>(<span class="hljs-params">me, ref, edit_id, nonedit_id</span>) </span>{
    <span class="hljs-keyword">if</span> (me)
        me.style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">var</span> unlock = gel(ref + <span class="hljs-string">'_lock'</span>);
    <span class="hljs-keyword">if</span> (unlock)
        showObjectInlineBlock(unlock);
    <span class="hljs-keyword">var</span> edit_span = gel(edit_id);
    edit_span.style.display = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> nonedit_span = gel(nonedit_id);
    nonedit_span.style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">var</span> list_foc = gel(<span class="hljs-string">"sys_display."</span> + ref);
    <span class="hljs-keyword">if</span> (list_foc) {
        <span class="hljs-keyword">try</span> {
            list_foc.focus();
        } <span class="hljs-keyword">catch</span> (e) {}
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setMandatoryExplained</span>(<span class="hljs-params">enforce</span>) </span>{
    <span class="hljs-keyword">var</span> showexp = gel(<span class="hljs-string">'mandatory_explained'</span>);
    <span class="hljs-keyword">if</span> (!showexp)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (enforce || foundAMandatoryField())
        showexp.style.display = <span class="hljs-string">"inline"</span>;
    <span class="hljs-keyword">else</span>
        showexp.style.display = <span class="hljs-string">"none"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">foundAMandatoryField</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> spanTags = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'span'</span>);
    <span class="hljs-keyword">if</span> (!spanTags)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>, n = spanTags.length; c != n; ++c) {
        <span class="hljs-keyword">var</span> spanTag = spanTags[c];
        <span class="hljs-keyword">var</span> id = spanTag.id;
        <span class="hljs-keyword">if</span> (!id)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">if</span> (id.indexOf(<span class="hljs-string">'status.'</span>) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> mandatory = spanTag.getAttribute(<span class="hljs-string">"mandatory"</span>) + <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span> (mandatory == <span class="hljs-string">'true'</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">var</span> _frameChangedTimer = <span class="hljs-literal">null</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_frameChanged</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (_frameChangedTimer)
        clearTimeout(_frameChangedTimer);
    _frameChangedTimer = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        _frameChangedTimer = <span class="hljs-literal">null</span>;
        CustomEvent.fire(<span class="hljs-string">'frame.resized'</span>);
        CustomEvent.fire(<span class="hljs-string">'refresh.event'</span>);
    }, <span class="hljs-number">300</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormContentParent</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> glideOverlay = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">"div.glide_overlay"</span>);
    <span class="hljs-keyword">var</span> exposeMask = $(<span class="hljs-string">'glide_expose_mask'</span>);
    <span class="hljs-keyword">if</span> (glideOverlay.length &gt; <span class="hljs-number">0</span> &amp;&amp; exposeMask &amp;&amp; exposeMask.visible())
        <span class="hljs-keyword">return</span> glideOverlay[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_section_contents == <span class="hljs-string">'undefined'</span> || !g_section_contents)
        g_section_contents = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">".section_header_content_no_scroll"</span>);
    <span class="hljs-keyword">if</span> (g_section_contents.length &gt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> g_section_contents[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.body;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addClassName</span>(<span class="hljs-params">element, name</span>) </span>{
    <span class="hljs-keyword">if</span> (!element)
        <span class="hljs-keyword">return</span>;
    $(element).addClassName(name);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeClassName</span>(<span class="hljs-params">element, name</span>) </span>{
    <span class="hljs-keyword">if</span> (!element)
        <span class="hljs-keyword">return</span>;
    $(element).removeClassName(name);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasClassName</span>(<span class="hljs-params">element, name</span>) </span>{
    <span class="hljs-keyword">if</span> (!element)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!element.hasClassName)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">return</span> $(element).hasClassName(name);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getIFrameDocument</span>(<span class="hljs-params">iframe</span>) </span>{
    <span class="hljs-keyword">return</span> iframe.contentWindow ? iframe.contentWindow.document : (iframe.contentDocument || <span class="hljs-literal">null</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">writeTitle</span>(<span class="hljs-params">element, title</span>) </span>{
    element.title = title;
    <span class="hljs-keyword">if</span> (element.alt)
        element.alt = title;
    <span class="hljs-keyword">if</span> (element.getAttribute(<span class="hljs-string">'disabled'</span>) == <span class="hljs-string">'disabled'</span>)
        element.style.pointerEvents = <span class="hljs-string">'auto'</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextMenuHide</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> contextHide === <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!isMSIE &amp;&amp; e) {
        <span class="hljs-keyword">if</span> (isTouchDevice &amp;&amp; !isTouchRightClick(e)) {
            <span class="hljs-keyword">if</span> (e.type == <span class="hljs-string">'touchend'</span> &amp;&amp; $(e.target).up(<span class="hljs-string">'.context_menu'</span>))
                <span class="hljs-keyword">return</span>;
            contextHide();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isLeftClick(e)) {
            contextHide();
        }
    } <span class="hljs-keyword">else</span>
        contextHide();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trim</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/^\s+|\s+$/g</span>, <span class="hljs-string">''</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscape</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">"&amp;amp;"</span>).replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">"&amp;#39;"</span>).replace(<span class="hljs-regexp">/"/g</span>,
        <span class="hljs-string">"&amp;quot;"</span>).replace(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">"&amp;#60;"</span>).replace(<span class="hljs-regexp">/&gt;/g</span>, <span class="hljs-string">"&amp;#62;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscapeQuote</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">"&amp;#39;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">htmlEscapeDoubleQuote</span>(<span class="hljs-params">s</span>) </span>{
    <span class="hljs-keyword">return</span> s.replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">"&amp;quot;"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadXML</span>(<span class="hljs-params">r</span>) </span>{
    <span class="hljs-keyword">var</span> xml = r.responseXML;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> xml != <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span> xml;
    <span class="hljs-keyword">var</span> dom = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        dom = <span class="hljs-keyword">new</span> DOMParser().parseFromString(r, <span class="hljs-string">'text/xml'</span>);
    } <span class="hljs-keyword">catch</span> (e) {}
    <span class="hljs-keyword">return</span> dom;
}
<span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.GwtDateTimePicker) {
    <span class="hljs-built_in">window</span>.GwtDateTimePicker = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, format, showTime</span>) </span>{
        ScriptLoader.getScripts(<span class="hljs-string">'scripts/classes/GwtDateTimePicker.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">new</span> GwtDateTimePicker(name, format, showTime);
        });
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions/xmlhttp.js */</span>
<span class="hljs-keyword">var</span> isMicrosoftXMLHTTP = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> XML_HTTP = <span class="hljs-string">"xmlhttp.do"</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AJAXEvaluateSynchronously</span>(<span class="hljs-params">expression</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AJAXEvaluator"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_expression"</span>, expression);
    ajax.getXMLWait();
    <span class="hljs-keyword">return</span> ajax.getAnswer();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AJAXEvaluate</span>(<span class="hljs-params">expression, callbackAndArgs</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AJAXEvaluator"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_expression"</span>, expression);
    ajax.getXML(AJAXEvaluateResponse, <span class="hljs-string">""</span>, callbackAndArgs);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AJAXEvaluateResponse</span>(<span class="hljs-params">response, callbackAndArgs</span>) </span>{
    <span class="hljs-keyword">var</span> xml = response.responseXML;
    <span class="hljs-keyword">var</span> answer = xml.documentElement.getAttribute(<span class="hljs-string">"answer"</span>);
    <span class="hljs-keyword">if</span> (callbackAndArgs != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> callback = callbackAndArgs;
        <span class="hljs-keyword">var</span> args = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callbackAndArgs != <span class="hljs-string">"function"</span> &amp;&amp; callbackAndArgs.length &gt; <span class="hljs-number">1</span>) {
            callback = callbackAndArgs.splice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)[<span class="hljs-number">0</span>];
            args = callbackAndArgs;
        }
        callback.call(answer, answer, response, args);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AJAXFunction</span>(<span class="hljs-params">func, args, callback, callbackArgs</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; args.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> args[i] == <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">continue</span>;
        args[i] = args[i].replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">"\\\""</span>);
    }
    <span class="hljs-keyword">var</span> expression = func + <span class="hljs-string">'("'</span> + args.join(<span class="hljs-string">'","'</span>) + <span class="hljs-string">'");'</span>;
    <span class="hljs-keyword">var</span> newArgs = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    newArgs.push(callback);
    newArgs = newArgs.concat(callbackArgs);
    AJAXEvaluate(expression, newArgs);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">serverRequest</span>(<span class="hljs-params">url, loadedFunction, args</span>) </span>{
    ajaxRequest(url, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, loadedFunction, args);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">serverRequestWait</span>(<span class="hljs-params">url, postString</span>) </span>{
    <span class="hljs-keyword">var</span> req = ajaxRequest(url, postString, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">if</span> (req.status == <span class="hljs-number">200</span>)
        <span class="hljs-keyword">return</span> req;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">serverRequestPost</span>(<span class="hljs-params">url, postString, loadedFunction, args</span>) </span>{
    ajaxRequest(url, postString, <span class="hljs-literal">true</span>, loadedFunction, args);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ajaxRequest</span>(<span class="hljs-params">url, postString, async, responseFunction, responseFunctionArgs</span>) </span>{
    <span class="hljs-keyword">var</span> req = getRequest();
    showLoading();
    <span class="hljs-keyword">if</span> (req) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">async</span> &amp;&amp; (responseFunction != <span class="hljs-literal">null</span>))
            req.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                processReqChange(req, responseFunction, responseFunctionArgs);
            };
        req.open((postString ? <span class="hljs-string">"POST"</span> : <span class="hljs-string">"GET"</span>), url, <span class="hljs-keyword">async</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span> &amp;&amp; g_ck != <span class="hljs-string">""</span>)
            req.setRequestHeader(<span class="hljs-string">'X-UserToken'</span>, g_ck);
        <span class="hljs-keyword">if</span> (postString) {
            req.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/x-www-form-urlencoded; charset=UTF-8'</span>);
            req.send(postString);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (isMicrosoftXMLHTTP)
                req.send();
            <span class="hljs-keyword">else</span>
                req.send(<span class="hljs-literal">null</span>);
        }
    }
    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">async</span>)
        hideLoading();
    <span class="hljs-keyword">return</span> req;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRequest</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> req = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.XMLHttpRequest) {
        req = <span class="hljs-keyword">new</span> XMLHttpRequest();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.ActiveXObject) {
        isMicrosoftXMLHTTP = <span class="hljs-literal">true</span>;
        req = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Microsoft.XMLHTTP"</span>);
    }
    <span class="hljs-keyword">return</span> req;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processReqChange</span>(<span class="hljs-params">r, docLoadedFunction, docLoadedFunctionArgs</span>) </span>{
    <span class="hljs-keyword">if</span> (r.readyState == <span class="hljs-number">4</span>) {
        hideLoading();
        <span class="hljs-keyword">if</span> (r.status == <span class="hljs-number">200</span>) {
            lastActivity = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
            docLoadedFunction(r, docLoadedFunctionArgs);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">window</span>.status = <span class="hljs-string">"There was a problem retrieving the XML data: "</span> + r.statusText;
            } <span class="hljs-keyword">catch</span> (e) {}
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showLoading</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        CustomEvent.fireAll(<span class="hljs-string">"ajax.loading.start"</span>);
    } <span class="hljs-keyword">catch</span> (e) {}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideLoading</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        CustomEvent.fireAll(<span class="hljs-string">"ajax.loading.end"</span>);
    } <span class="hljs-keyword">catch</span> (e) {}
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/event/GwtObservable.js */</span>
<span class="hljs-keyword">var</span> GwtObservable = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.events = {};
    },
    <span class="hljs-attr">on</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, func</span>) </span>{
        <span class="hljs-keyword">if</span> (!func || <span class="hljs-keyword">typeof</span> func != <span class="hljs-string">'function'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.events = <span class="hljs-keyword">this</span>.events || {};
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.events[name])
            <span class="hljs-keyword">this</span>.events[name] = [];
        <span class="hljs-keyword">this</span>.events[name].push(func);
    },
    <span class="hljs-attr">forward</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, element, func</span>) </span>{
        GwtObservable.prototype.on.call(<span class="hljs-keyword">this</span>, name, func);
        Event.observe(element, name, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">this</span>.fireEvent(e.type, <span class="hljs-keyword">this</span>, e);
        }.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">un</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, func</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.events[name])
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.events[name].indexOf(func);
        <span class="hljs-keyword">if</span> (i !== <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">this</span>.events[name].splice(i, <span class="hljs-number">1</span>);
    },
    <span class="hljs-attr">unAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.events[name])
            <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.events[name];
    },
    <span class="hljs-attr">isFiring</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isFiring;
    },
    <span class="hljs-attr">fireEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.suppressEvents === <span class="hljs-literal">true</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.events = <span class="hljs-keyword">this</span>.events || {};
        <span class="hljs-keyword">var</span> args = $A(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> name = args.shift();
        <span class="hljs-keyword">var</span> eventList = <span class="hljs-keyword">this</span>.events[name];
        <span class="hljs-keyword">if</span> (!eventList)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> event = eventList.slice();
        <span class="hljs-keyword">this</span>._isFiring = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = event.length; i &lt; l; i++) {
            <span class="hljs-keyword">var</span> ev = event[i];
            <span class="hljs-keyword">if</span> (ev == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (ev.apply(<span class="hljs-keyword">this</span>, args) === <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">this</span>._isFiring = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">this</span>._isFiring = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GwtObservable'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/CustomEventManager.js */</span>
<span class="hljs-keyword">var</span> NOW = NOW || {};
<span class="hljs-keyword">var</span> CustomEventManager = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">existingCustomEvent</span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">var</span> events = (existingCustomEvent &amp;&amp; existingCustomEvent.events) || {};
    <span class="hljs-keyword">var</span> isFiringFlag = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> trace = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> suppressEvents = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> NOW_MSG = <span class="hljs-string">'NOW.PostMessage'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">observe</span>(<span class="hljs-params">eventName, fn</span>) </span>{
        <span class="hljs-keyword">if</span> (trace)
            jslog(<span class="hljs-string">"$CustomEventManager observing: "</span> + eventName);
        on(eventName, fn);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">on</span>(<span class="hljs-params">name, func</span>) </span>{
        <span class="hljs-keyword">if</span> (!func || <span class="hljs-keyword">typeof</span> func !== <span class="hljs-string">'function'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> name === <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!events[name])
            events[name] = [];
        events[name].push(func);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">un</span>(<span class="hljs-params">name, func</span>) </span>{
        <span class="hljs-keyword">if</span> (!events[name])
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> idx = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; events[name].length; i++) {
            <span class="hljs-keyword">if</span> (events[name][i] === func) {
                idx = i;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (idx &gt;= <span class="hljs-number">0</span>)
            events[name].splice(idx, <span class="hljs-number">1</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unAll</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (events[name])
            <span class="hljs-keyword">delete</span> events[name];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fire</span>(<span class="hljs-params">eventName, args</span>) </span>{
        <span class="hljs-keyword">if</span> (trace)
            jslog(<span class="hljs-string">"$CustomEventManager firing: "</span> + eventName + <span class="hljs-string">" args: "</span> + <span class="hljs-built_in">arguments</span>.length);
        <span class="hljs-keyword">return</span> fireEvent.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireUp</span>(<span class="hljs-params">eventName, args</span>) </span>{
        <span class="hljs-keyword">var</span> win = <span class="hljs-built_in">window</span>;
        <span class="hljs-keyword">while</span> (win) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (win.CustomEvent.fireEvent.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>) === <span class="hljs-literal">false</span>)
                    <span class="hljs-keyword">return</span>;
                win = win.parent === win ? <span class="hljs-literal">null</span> : win.parent;
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-keyword">return</span>;
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireEvent</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (suppressEvents)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.apply(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> name = args.shift();
        <span class="hljs-keyword">var</span> eventList = events[name];
        <span class="hljs-keyword">if</span> (!eventList)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> event = eventList.slice();
        isFiringFlag = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = event.length; i &lt; l; i++) {
            <span class="hljs-keyword">var</span> ev = event[i];
            <span class="hljs-keyword">if</span> (!ev)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (ev.apply(<span class="hljs-literal">null</span>, args) === <span class="hljs-literal">false</span>) {
                isFiringFlag = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        isFiringFlag = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFiring</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> isFiringFlag;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forward</span>(<span class="hljs-params">name, element, func</span>) </span>{
        on(name, func);
        element.addEventListener(name, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            fireEvent(e.type, <span class="hljs-keyword">this</span>, e);
        }.bind(api));
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerPostMessageEvent</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (NOW.registeredPostMessageEvent) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.postMessage) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> nowMessageJSON = event.data;
            <span class="hljs-keyword">var</span> nowMessage;
            <span class="hljs-keyword">try</span> {
                nowMessage = <span class="hljs-built_in">JSON</span>.parse(nowMessageJSON.toString());
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (!nowMessage.type == NOW_MSG) {
                <span class="hljs-keyword">return</span>;
            }
            fire(nowMessage.eventName, nowMessage.args);
        }, <span class="hljs-literal">false</span>);
        NOW.registeredPostMessageEvent = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doPostMessage</span>(<span class="hljs-params">win, event, msg, targetOrigin</span>) </span>{
        <span class="hljs-keyword">var</span> nowMessage = {
            <span class="hljs-attr">type</span>: NOW_MSG,
            <span class="hljs-attr">eventName</span>: event,
            <span class="hljs-attr">args</span>: msg
        };
        <span class="hljs-keyword">var</span> nowMessageJSON;
        <span class="hljs-keyword">if</span> (!win || !win.postMessage) {
            <span class="hljs-keyword">return</span>
        }
        nowMessageJSON = <span class="hljs-built_in">JSON</span>.stringify(nowMessage);
        win.postMessage(nowMessageJSON, targetOrigin);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireTop</span>(<span class="hljs-params">eventName, args</span>) </span>{
        <span class="hljs-keyword">if</span> (trace)
            jslog(<span class="hljs-string">"$CustomEventManager firing: "</span> + eventName + <span class="hljs-string">" args: "</span> + <span class="hljs-built_in">arguments</span>.length);
        fireEvent.apply(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> t = getTopWindow();
        <span class="hljs-keyword">if</span> (t !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-built_in">window</span> !== t)
            t.CustomEvent.fire(eventName, args);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireAll</span>(<span class="hljs-params">eventName, args</span>) </span>{
        <span class="hljs-keyword">if</span> (trace)
            jslog(<span class="hljs-string">"$CustomEventManager firing: "</span> + eventName + <span class="hljs-string">" args: "</span> + <span class="hljs-built_in">arguments</span>.length);
        <span class="hljs-keyword">var</span> topWindow = getTopWindow();
        notifyAllFrom(topWindow);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notifyAllFrom</span>(<span class="hljs-params">rootFrame</span>) </span>{
            <span class="hljs-keyword">var</span> childFrame;
            rootFrame.CustomEvent.fireEvent(eventName, args);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rootFrame.length; i++) {
                <span class="hljs-keyword">try</span> {
                    childFrame = rootFrame[i];
                    <span class="hljs-keyword">if</span> (!childFrame)
                        <span class="hljs-keyword">continue</span>;
                    <span class="hljs-keyword">if</span> (childFrame.CustomEvent &amp;&amp; <span class="hljs-keyword">typeof</span> childFrame.CustomEvent.fireEvent === <span class="hljs-string">"function"</span>) {
                        notifyAllFrom(childFrame);
                    }
                } <span class="hljs-keyword">catch</span> (e) {}
            }
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireToWindow</span>(<span class="hljs-params">targetWindow, eventName, args, usePostMessage, targetOrigin</span>) </span>{
        <span class="hljs-keyword">if</span> (trace)
            jslog(<span class="hljs-string">"$CustomEventManager firing: "</span> + eventName + <span class="hljs-string">" args: "</span> + args.length);
        <span class="hljs-keyword">if</span> (usePostMessage) {
            doPostMessage(targetWindow, eventName, args, targetOrigin);
        } <span class="hljs-keyword">else</span> {
            targetWindow.CustomEvent.fireEvent(eventName, args);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTopWindow</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> topWindow = <span class="hljs-built_in">window</span>.self;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">while</span> (topWindow.CustomEvent.fireEvent &amp;&amp; topWindow !== topWindow.parent &amp;&amp; topWindow.parent.CustomEvent.fireEvent) {
                topWindow = topWindow.parent;
            }
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">return</span> topWindow;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTopWindow</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> getTopWindow() == <span class="hljs-built_in">window</span>.self;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jslog</span>(<span class="hljs-params">msg, src, dateTime</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!src) {
                <span class="hljs-keyword">var</span> path = <span class="hljs-built_in">window</span>.self.location.pathname;
                src = path.substring(path.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.opener &amp;&amp; <span class="hljs-built_in">window</span> != <span class="hljs-built_in">window</span>.self.opener) {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.self.opener.jslog) {
                    <span class="hljs-built_in">window</span>.self.opener.jslog(msg, src, dateTime);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parent &amp;&amp; parent.jslog &amp;&amp; jslog != parent.jslog) {
                parent.jslog(msg, src, dateTime);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.console &amp;&amp; <span class="hljs-built_in">window</span>.console.log)
                    <span class="hljs-built_in">console</span>.log(msg);
            }
        } <span class="hljs-keyword">catch</span> (e) {}
    }
    <span class="hljs-keyword">var</span> api = {
        set trace(value) {
            trace = !!value;
        },
        get trace() {
            <span class="hljs-keyword">return</span> trace;
        },
        set suppressEvents(value) {
            suppressEvents = !!value;
        },
        get suppressEvents() {
            <span class="hljs-keyword">return</span> suppressEvents;
        },
        get events() {
            <span class="hljs-keyword">return</span> events;
        },
        <span class="hljs-attr">on</span>: on,
        <span class="hljs-attr">un</span>: un,
        <span class="hljs-attr">unAll</span>: unAll,
        <span class="hljs-attr">forward</span>: forward,
        <span class="hljs-attr">isFiring</span>: isFiring,
        <span class="hljs-attr">fireEvent</span>: fireEvent,
        <span class="hljs-attr">observe</span>: observe,
        <span class="hljs-attr">fire</span>: fire,
        <span class="hljs-attr">fireTop</span>: fireTop,
        <span class="hljs-attr">fireAll</span>: fireAll,
        <span class="hljs-attr">fireToWindow</span>: fireToWindow,
        <span class="hljs-attr">isTopWindow</span>: isTopWindow,
        <span class="hljs-attr">fireUp</span>: fireUp,
        <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'CustomEventManager'</span>;
        }
    };
    registerPostMessageEvent();
    <span class="hljs-keyword">return</span> api;
})(NOW.CustomEvent);
NOW.CustomEvent = CustomEventManager;
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> CustomEvent !== <span class="hljs-string">"undefined"</span>) {
    CustomEvent.observe = NOW.CustomEvent.observe.bind(NOW.CustomEvent);
    CustomEvent.fire = NOW.CustomEvent.fire.bind(NOW.CustomEvent);
    CustomEvent.fireUp = NOW.CustomEvent.fireUp.bind(NOW.CustomEvent);
    CustomEvent.fireTop = NOW.CustomEvent.fireTop.bind(NOW.CustomEvent);
    CustomEvent.fireAll = NOW.CustomEvent.fireAll.bind(NOW.CustomEvent);
    CustomEvent.fireToWindow = NOW.CustomEvent.fireToWindow.bind(NOW.CustomEvent);
    CustomEvent.on = NOW.CustomEvent.on.bind(NOW.CustomEvent);
    CustomEvent.un = NOW.CustomEvent.un.bind(NOW.CustomEvent);
    CustomEvent.unAll = NOW.CustomEvent.unAll.bind(NOW.CustomEvent);
    CustomEvent.forward = NOW.CustomEvent.forward.bind(NOW.CustomEvent);
    CustomEvent.isFiring = NOW.CustomEvent.isFiring.bind(NOW.CustomEvent);
    CustomEvent.fireEvent = NOW.CustomEvent.fireEvent.bind(NOW.CustomEvent);
    CustomEvent.events = NOW.CustomEvent.events;
    CustomEvent.isTopWindow = NOW.CustomEvent.isTopWindow.bind(NOW.CustomEvent);
} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">window</span>.CustomEvent = NOW.CustomEvent;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ui/Point.js */</span>
<span class="hljs-keyword">var</span> Point = Class.create();
Point.prototype = {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) </span>{
        <span class="hljs-keyword">this</span>.x = x;
        <span class="hljs-keyword">this</span>.y = y;
    },
    <span class="hljs-attr">getX</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.x;
    },
    <span class="hljs-attr">getY</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.y;
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/util/CookieJar.js */</span>
<span class="hljs-keyword">var</span> CookieJar = Class.create({
    <span class="hljs-attr">appendString</span>: <span class="hljs-string">"__CJ_"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        <span class="hljs-keyword">this</span>.options = {
            <span class="hljs-attr">expires</span>: <span class="hljs-number">3600</span>,
            <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">domain</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">secure</span>: <span class="hljs-string">''</span>
        };
        <span class="hljs-built_in">Object</span>.extend(<span class="hljs-keyword">this</span>.options, options || {});
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.expires != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
            date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(date.getTime() + (<span class="hljs-keyword">this</span>.options.expires * <span class="hljs-number">1000</span>));
            <span class="hljs-keyword">this</span>.options.expires = <span class="hljs-string">'; expires='</span> + date.toGMTString();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.path != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">this</span>.options.path = <span class="hljs-string">'; path='</span> + <span class="hljs-built_in">escape</span>(<span class="hljs-keyword">this</span>.options.path);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.domain != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">this</span>.options.domain = <span class="hljs-string">'; domain='</span> + <span class="hljs-built_in">escape</span>(<span class="hljs-keyword">this</span>.options.domain);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.secure == <span class="hljs-string">'secure'</span>) {
            <span class="hljs-keyword">this</span>.options.secure = <span class="hljs-string">'; secure'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.options.secure = <span class="hljs-string">''</span>;
        }
    },
    <span class="hljs-attr">put</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        name = <span class="hljs-keyword">this</span>.appendString + name;
        cookie = <span class="hljs-keyword">this</span>.options;
        <span class="hljs-keyword">var</span> type = <span class="hljs-keyword">typeof</span> value;
        <span class="hljs-keyword">switch</span> (type) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'undefined'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'function'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'unknown'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'boolean'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'string'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'number'</span>:
                value = <span class="hljs-built_in">String</span>(value.toString());
        }
        <span class="hljs-keyword">var</span> cookie_str = name + <span class="hljs-string">"="</span> + <span class="hljs-built_in">escape</span>(<span class="hljs-built_in">Object</span>.toJSON(value));
        <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">document</span>.cookie = cookie_str + cookie.expires + cookie.path + cookie.domain + cookie.secure;
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        name = <span class="hljs-keyword">this</span>.appendString + name;
        <span class="hljs-keyword">var</span> cookies = <span class="hljs-built_in">document</span>.cookie.match(name + <span class="hljs-string">'=(.*?)(;|$)'</span>);
        <span class="hljs-keyword">if</span> (cookies) {
            <span class="hljs-keyword">return</span> (<span class="hljs-built_in">unescape</span>(cookies[<span class="hljs-number">1</span>])).evalJSON();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/list_filter.js */</span>
<span class="hljs-keyword">var</span> runFilterHandlers = {}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setImage</span>(<span class="hljs-params">element, src</span>) </span>{
    element = $(element);
    <span class="hljs-keyword">if</span> (!element)
        <span class="hljs-keyword">return</span>;
    element.src = src;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">swapImage</span>(<span class="hljs-params">imgId, newSrc</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        setImage(imgId, newSrc);
    };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDisplay</span>(<span class="hljs-params">element, display</span>) </span>{
    <span class="hljs-keyword">var</span> i = $(element);
    i.style.display = display;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runFilter</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">if</span> (queueFilters[name]) {
        columnsGet(name, runFilterCallBack);
        <span class="hljs-keyword">return</span>;
    }
    runFilter0(name);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runFilterCallBack</span>(<span class="hljs-params"></span>) </span>{
    queueFilters[mainFilterTable] = <span class="hljs-literal">null</span>;
    runFilter0(mainFilterTable);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runFilter0</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> filter = getFilter(name);
    <span class="hljs-keyword">if</span> (name.endsWith(<span class="hljs-string">'.'</span>))
        name = name.substring(<span class="hljs-number">0</span>, name.length - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">if</span> (!runFilterHandlers[name])
        <span class="hljs-keyword">return</span>;
    runFilterHandlers[name](name, filter);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveFilterRadioChange</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> div = gel(<span class="hljs-string">'savefiltergroupref'</span>);
    <span class="hljs-keyword">var</span> grp = getMessage(<span class="hljs-string">'Group'</span>);
    <span class="hljs-keyword">if</span> (getGroupSaveOption() == grp)
        div.style.display = <span class="hljs-string">"inline"</span>;
    <span class="hljs-keyword">else</span>
        div.style.display = <span class="hljs-string">"none"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFilterVisibility</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> vis = getGroupSaveOption();
    <span class="hljs-keyword">var</span> me = getMessage(<span class="hljs-string">'Me'</span>);
    <span class="hljs-keyword">var</span> eone = getMessage(<span class="hljs-string">'Everyone'</span>);
    <span class="hljs-keyword">var</span> grp = getMessage(<span class="hljs-string">'Group'</span>);
    <span class="hljs-keyword">if</span> (vis == me)
        <span class="hljs-keyword">return</span> vis;
    <span class="hljs-keyword">if</span> (vis == eone)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GLOBAL"</span>;
    <span class="hljs-keyword">if</span> (vis != grp)
        <span class="hljs-keyword">return</span> me;
    <span class="hljs-keyword">var</span> vis = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> e = gel(<span class="hljs-string">'save_filter_ref_id'</span>).value;
    <span class="hljs-keyword">var</span> e = gel(e);
    <span class="hljs-keyword">if</span> (e)
        vis = e.value;
    <span class="hljs-keyword">if</span> (!vis)
        <span class="hljs-keyword">return</span> me;
    <span class="hljs-keyword">return</span> vis;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getGroupSaveOption</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> rb = gel(<span class="hljs-string">'MeRadio'</span>);
    <span class="hljs-keyword">if</span> (rb &amp;&amp; rb.checked)
        <span class="hljs-keyword">return</span> rb.value;
    rb = gel(<span class="hljs-string">'EveryoneRadio'</span>);
    <span class="hljs-keyword">if</span> (rb &amp;&amp; rb.checked)
        <span class="hljs-keyword">return</span> rb.value;
    rb = gel(<span class="hljs-string">'GroupRadio'</span>);
    <span class="hljs-keyword">if</span> (rb &amp;&amp; rb.checked)
        <span class="hljs-keyword">return</span> rb.value;
    <span class="hljs-keyword">return</span> getMessage(<span class="hljs-string">'Me'</span>);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/simpleStorage.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">root, factory</span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd)
        define(factory);
    <span class="hljs-keyword">else</span>
        root.simpleStorage = factory();
}(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">var</span> VERSION = <span class="hljs-string">"0.1.2"</span>,
        _storage = <span class="hljs-literal">false</span>,
        _storage_size = <span class="hljs-number">0</span>,
        _storage_available = <span class="hljs-literal">false</span>,
        _ttl_timeout = <span class="hljs-literal">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_init</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.localStorage.setItem(<span class="hljs-string">"__simpleStorageInitTest"</span>, <span class="hljs-string">"tmpval"</span>);
        <span class="hljs-built_in">window</span>.localStorage.removeItem(<span class="hljs-string">"__simpleStorageInitTest"</span>);
        _load_storage();
        _handleTTL();
        _setupUpdateObserver();
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"addEventListener"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>) {
            <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"pageshow"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                <span class="hljs-keyword">if</span> (event.persisted) {
                    _reloadData();
                }
            }, <span class="hljs-literal">false</span>);
        }
        _storage_available = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_setupUpdateObserver</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"addEventListener"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>)
            <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"storage"</span>, _reloadData, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-built_in">document</span>.attachEvent(<span class="hljs-string">"onstorage"</span>, _reloadData);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_reloadData</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            _load_storage();
        } <span class="hljs-keyword">catch</span> (E) {
            _storage_available = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span>;
        }
        _handleTTL();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_load_storage</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> source = localStorage.getItem(<span class="hljs-string">"simpleStorage"</span>);
        <span class="hljs-keyword">try</span> {
            _storage = <span class="hljs-built_in">JSON</span>.parse(source) || {};
        } <span class="hljs-keyword">catch</span> (E) {
            _storage = {};
        }
        _storage_size = _get_storage_size();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_save</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            localStorage.setItem(<span class="hljs-string">"simpleStorage"</span>, <span class="hljs-built_in">JSON</span>.stringify(_storage));
            _storage_size = _get_storage_size();
        } <span class="hljs-keyword">catch</span> (E) {
            <span class="hljs-keyword">return</span> E;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_get_storage_size</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> source = localStorage.getItem(<span class="hljs-string">"simpleStorage"</span>);
        <span class="hljs-keyword">return</span> source ? <span class="hljs-built_in">String</span>(source).length : <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_handleTTL</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> curtime, i, len, expire, keys, nextExpire = <span class="hljs-literal">Infinity</span>,
            expiredKeysCount = <span class="hljs-number">0</span>;
        clearTimeout(_ttl_timeout);
        <span class="hljs-keyword">if</span> (!_storage || !_storage.__simpleStorage_meta || !_storage.__simpleStorage_meta.TTL)
            <span class="hljs-keyword">return</span>;
        curtime = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        keys = _storage.__simpleStorage_meta.TTL.keys || [];
        expire = _storage.__simpleStorage_meta.TTL.expire || {};
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = keys.length; i &lt; len; i++) {
            <span class="hljs-keyword">if</span> (expire[keys[i]] &lt;= curtime) {
                expiredKeysCount++;
                <span class="hljs-keyword">delete</span> _storage[keys[i]];
                <span class="hljs-keyword">delete</span> expire[keys[i]];
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (expire[keys[i]] &lt; nextExpire) {
                    nextExpire = expire[keys[i]];
                }
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (nextExpire != <span class="hljs-literal">Infinity</span>) {
            _ttl_timeout = setTimeout(_handleTTL, <span class="hljs-built_in">Math</span>.min(nextExpire - curtime, <span class="hljs-number">0x7FFFFFFF</span>));
        }
        <span class="hljs-keyword">if</span> (expiredKeysCount) {
            keys.splice(<span class="hljs-number">0</span>, expiredKeysCount);
            _cleanMetaObject();
            _save();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_setTTL</span>(<span class="hljs-params">key, ttl</span>) </span>{
        <span class="hljs-keyword">var</span> curtime = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),
            i, len, added = <span class="hljs-literal">false</span>;
        ttl = <span class="hljs-built_in">Number</span>(ttl) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (ttl !== <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (_storage.hasOwnProperty(key)) {
                <span class="hljs-keyword">if</span> (!_storage.__simpleStorage_meta)
                    _storage.__simpleStorage_meta = {};
                <span class="hljs-keyword">if</span> (!_storage.__simpleStorage_meta.TTL)
                    _storage.__simpleStorage_meta.TTL = {
                        <span class="hljs-attr">expire</span>: {},
                        <span class="hljs-attr">keys</span>: []
                    };
                _storage.__simpleStorage_meta.TTL.expire[key] = curtime + ttl;
                <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL.expire.hasOwnProperty(key)) {
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = _storage.__simpleStorage_meta.TTL.keys.length; i &lt; len; i++) {
                        <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL.keys[i] == key) {
                            _storage.__simpleStorage_meta.TTL.keys.splice(i);
                        }
                    }
                }
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = _storage.__simpleStorage_meta.TTL.keys.length; i &lt; len; i++) {
                    <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL.expire[_storage.__simpleStorage_meta.TTL.keys[i]] &gt; curtime + ttl) {
                        _storage.__simpleStorage_meta.TTL.keys.splice(i, <span class="hljs-number">0</span>, key);
                    }
                }
                <span class="hljs-keyword">if</span> (!added)
                    _storage.__simpleStorage_meta.TTL.keys.push(key);
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (_storage &amp;&amp; _storage.__simpleStorage_meta &amp;&amp; _storage.__simpleStorage_meta.TTL) {
                <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL.expire.hasOwnProperty(key)) {
                    <span class="hljs-keyword">delete</span> _storage.__simpleStorage_meta.TTL.expire[key];
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, len = _storage.__simpleStorage_meta.TTL.keys.length; i &lt; len; i++) {
                        <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL.keys[i] == key) {
                            _storage.__simpleStorage_meta.TTL.keys.splice(i, <span class="hljs-number">1</span>);
                            <span class="hljs-keyword">break</span>;
                        }
                    }
                }
                _cleanMetaObject();
            }
        }
        clearTimeout(_ttl_timeout);
        <span class="hljs-keyword">if</span> (_storage &amp;&amp; _storage.__simpleStorage_meta &amp;&amp; _storage.__simpleStorage_meta.TTL &amp;&amp; _storage.__simpleStorage_meta.TTL.keys.length) {
            _ttl_timeout = setTimeout(_handleTTL, <span class="hljs-built_in">Math</span>.min(<span class="hljs-built_in">Math</span>.max(_storage.__simpleStorage_meta.TTL.expire[_storage.__simpleStorage_meta.TTL.keys[<span class="hljs-number">0</span>]] - curtime, <span class="hljs-number">0</span>), <span class="hljs-number">0x7FFFFFFF</span>));
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_cleanMetaObject</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> updated = <span class="hljs-literal">false</span>,
            hasProperties = <span class="hljs-literal">false</span>,
            i;
        <span class="hljs-keyword">if</span> (!_storage || !_storage.__simpleStorage_meta)
            <span class="hljs-keyword">return</span> updated;
        <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.TTL &amp;&amp; !_storage.__simpleStorage_meta.TTL.keys.length) {
            <span class="hljs-keyword">delete</span> _storage.__simpleStorage_meta.TTL;
            updated = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> _storage.__simpleStorage_meta) {
            <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta.hasOwnProperty(i)) {
                hasProperties = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!hasProperties) {
            <span class="hljs-keyword">delete</span> _storage.__simpleStorage_meta;
            updated = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> updated;
    }
    <span class="hljs-keyword">try</span> {
        _init();
    } <span class="hljs-keyword">catch</span> (E) {}
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">version</span>: VERSION,
        <span class="hljs-attr">canUse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> !!_storage_available;
        },
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value, options</span>) </span>{
            <span class="hljs-keyword">if</span> (key == <span class="hljs-string">"__simpleStorage_meta"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value == <span class="hljs-string">"undefined"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.deleteKey(key);
            options = options || {};
            <span class="hljs-keyword">try</span> {
                value = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">JSON</span>.stringify(value));
            } <span class="hljs-keyword">catch</span> (E) {
                <span class="hljs-keyword">return</span> E;
            }
            _storage[key] = value;
            _setTTL(key, options.TTL || <span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> _save();
        },
        <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (_storage.hasOwnProperty(key) &amp;&amp;
                key != <span class="hljs-string">"__simpleStorage_meta"</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getTTL(key)) {
                    <span class="hljs-keyword">return</span> _storage[key];
                }
            }
        },
        <span class="hljs-attr">deleteKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (key <span class="hljs-keyword">in</span> _storage) {
                <span class="hljs-keyword">delete</span> _storage[key];
                _setTTL(key, <span class="hljs-number">0</span>);
                <span class="hljs-keyword">return</span> _save();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        },
        <span class="hljs-attr">setTTL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, ttl</span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            _setTTL(key, ttl);
            <span class="hljs-keyword">return</span> _save();
        },
        <span class="hljs-attr">getTTL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (_storage.hasOwnProperty(key)) {
                <span class="hljs-keyword">if</span> (_storage.__simpleStorage_meta &amp;&amp;
                    _storage.__simpleStorage_meta.TTL &amp;&amp;
                    _storage.__simpleStorage_meta.TTL.expire &amp;&amp;
                    _storage.__simpleStorage_meta.TTL.expire
                    .hasOwnProperty(key)) {
                    <span class="hljs-keyword">var</span> ttl = <span class="hljs-built_in">Math</span>.max(_storage.__simpleStorage_meta.TTL.expire[key] - (+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()) || <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
                    <span class="hljs-keyword">return</span> ttl || <span class="hljs-literal">false</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">Infinity</span>;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        },
        <span class="hljs-attr">flush</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            _storage = {};
            _storage_size = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">try</span> {
                localStorage.removeItem(<span class="hljs-string">"simpleStorage"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">catch</span> (E) {
                <span class="hljs-keyword">return</span> E;
            }
        },
        <span class="hljs-attr">index</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (!_storage)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> index = [],
                i;
            <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> _storage) {
                <span class="hljs-keyword">if</span> (_storage.hasOwnProperty(i) &amp;&amp;
                    i != <span class="hljs-string">"__simpleStorage_meta"</span>) {
                    index.push(i);
                }
            }
            <span class="hljs-keyword">return</span> index;
        },
        <span class="hljs-attr">storageSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> _storage_size;
        },
        <span class="hljs-attr">getStorage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> _storage;
        }
    };
}));;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/GwtMessage14.js */</span>
<span class="hljs-keyword">var</span> GwtMessage = Class.create({
    <span class="hljs-attr">DEFAULT_LANGUAGE</span>: <span class="hljs-string">"en"</span>,
    <span class="hljs-attr">PREFETCH_ENTRY_KEY</span>: <span class="hljs-string">"PREFETCH_ENTRY_KEY"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, v</span>) </span>{
        <span class="hljs-keyword">if</span> (!v)
            GwtMessage._messages[n] = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            GwtMessage._messages[n] = v;
    },
    <span class="hljs-attr">format</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-keyword">if</span> (!msg)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> str = msg;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-built_in">arguments</span>.length; i++) {
            <span class="hljs-keyword">var</span> paramIndex = i - <span class="hljs-number">1</span>;
            <span class="hljs-keyword">var</span> rx = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\{["</span> + paramIndex + <span class="hljs-string">"]\}"</span>, <span class="hljs-string">"g"</span>);
            str = str.replace(rx, <span class="hljs-built_in">arguments</span>[i]);
        }
        <span class="hljs-keyword">return</span> str;
    },
    <span class="hljs-attr">getMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">strVal</span>) </span>{
        <span class="hljs-keyword">var</span> valList = [];
        valList.push(strVal);
        <span class="hljs-keyword">var</span> messages = <span class="hljs-keyword">this</span>.getMessages(valList);
        <span class="hljs-keyword">var</span> msg = messages[strVal];
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> realArray = [].slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
            realArray[<span class="hljs-number">0</span>] = msg;
            msg = <span class="hljs-keyword">this</span>.format.apply(<span class="hljs-keyword">this</span>, realArray);
        }
        <span class="hljs-keyword">return</span> msg;
    },
    <span class="hljs-attr">getMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList</span>) </span>{
        <span class="hljs-keyword">var</span> pageMsgs = {};
        <span class="hljs-keyword">var</span> dataRequiringAjaxCall = [];
        <span class="hljs-keyword">var</span> results = {};
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; resolveList.length; i++) {
            <span class="hljs-keyword">var</span> v = GwtMessage._messages[resolveList[i]];
            <span class="hljs-keyword">if</span> (v === <span class="hljs-literal">true</span>)
                pageMsgs[resolveList[i]] = resolveList[i];
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (v)
                pageMsgs[resolveList[i]] = v;
            <span class="hljs-keyword">else</span>
                dataRequiringAjaxCall.push(resolveList[i]);
        }
        <span class="hljs-keyword">if</span> (dataRequiringAjaxCall.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>._loadNewMessages(dataRequiringAjaxCall);
            results = <span class="hljs-keyword">this</span>._buildListFromCache(dataRequiringAjaxCall);
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> pageMsgs)
            results[key] = pageMsgs[key];
        <span class="hljs-keyword">return</span> results;
    },
    <span class="hljs-attr">_loadNewMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList</span>) </span>{
        <span class="hljs-keyword">var</span> cachedMessages = <span class="hljs-keyword">this</span>._findCachedKeys(resolveList);
        <span class="hljs-keyword">var</span> keysToResolve = <span class="hljs-keyword">this</span>._removeCachedEntries(resolveList, cachedMessages);
        <span class="hljs-keyword">if</span> (keysToResolve.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"SysMessageAjax"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_keys"</span>, keysToResolve.length);
        ajax.addParam(<span class="hljs-string">"sysparm_prefetch"</span>, <span class="hljs-keyword">this</span>._shouldPrefetch() ? <span class="hljs-string">"true"</span> : <span class="hljs-string">"false"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keysToResolve.length; i++) {
            <span class="hljs-keyword">var</span> keyVal = <span class="hljs-string">"key"</span> + i;
            ajax.addParam(keyVal, keysToResolve[i]);
        }
        <span class="hljs-keyword">var</span> rxml = ajax.getXMLWait();
        <span class="hljs-keyword">this</span>._processResponse(rxml);
    },
    <span class="hljs-attr">_removeCachedEntries</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList</span>) </span>{
        <span class="hljs-keyword">var</span> messagesToResolve = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; resolveList.length; i++) {
            <span class="hljs-keyword">var</span> key = resolveList[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getCache().get(key))
                <span class="hljs-keyword">continue</span>;
            messagesToResolve.push(key);
        }
        <span class="hljs-keyword">return</span> messagesToResolve;
    },
    <span class="hljs-attr">_processResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rxml</span>) </span>{
        <span class="hljs-keyword">this</span>._processItems(rxml, <span class="hljs-string">"preitem"</span>);
        <span class="hljs-keyword">this</span>._processItems(rxml, <span class="hljs-string">"item"</span>);
    },
    <span class="hljs-attr">_shouldPrefetch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> pf = <span class="hljs-keyword">this</span>._getCache().get(<span class="hljs-keyword">this</span>._PREFETCH_ENTRY_KEY);
        <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> pf == <span class="hljs-string">'undefined'</span> || (pf + <span class="hljs-number">60000</span>) &lt; now) {
            <span class="hljs-keyword">this</span>._getCache().put(<span class="hljs-keyword">this</span>._PREFETCH_ENTRY_KEY, now);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_processItems</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml, name</span>) </span>{
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(name);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> key = items[i].getAttribute(<span class="hljs-string">"key"</span>);
            <span class="hljs-keyword">var</span> value = items[i].getAttribute(<span class="hljs-string">"value"</span>);
            <span class="hljs-keyword">this</span>.setMessage(key, value);
        }
    },
    <span class="hljs-attr">setMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, msg</span>) </span>{
        <span class="hljs-keyword">this</span>._getCache().put(key, msg);
    },
    <span class="hljs-attr">isDefaultLanguage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getLanguage() == <span class="hljs-keyword">this</span>.getDefaultLanguage();
    },
    <span class="hljs-attr">getLanguage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> g_lang;
    },
    <span class="hljs-attr">getDefaultLanguage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.DEFAULT_LANGUAGE;
    },
    <span class="hljs-attr">_findCachedKeys</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList</span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">this</span>._getCache();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; resolveList.length; i++) {
            <span class="hljs-keyword">var</span> key = resolveList[i];
            <span class="hljs-keyword">var</span> value = cache.get(key);
            <span class="hljs-keyword">if</span> (value)
                answer.push(key);
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">_buildListFromCache</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList</span>) </span>{
        <span class="hljs-keyword">var</span> answer = {};
        <span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">this</span>._getCache();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; resolveList.length; i++) {
            <span class="hljs-keyword">var</span> key = resolveList[i];
            <span class="hljs-keyword">var</span> value = cache.get(key);
            answer[key] = value;
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">_getCache</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (NOW.useSimpleStorage &amp;&amp; simpleStorage.canUse()) {
            <span class="hljs-keyword">var</span> synch = simpleStorage.get(<span class="hljs-string">"simpleStorageSynch"</span>);
            <span class="hljs-keyword">if</span> (NOW.simpleStorageSynch != synch) {
                jslog(<span class="hljs-string">"*** simpleStorageSynch, size: "</span> + simpleStorage.storageSize());
                simpleStorage.flush();
                simpleStorage.set(<span class="hljs-string">"simpleStorageSynch"</span>, NOW.simpleStorageSynch);
            }
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">put</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
                    <span class="hljs-keyword">return</span> simpleStorage.set(<span class="hljs-string">"MSG_"</span> + NOW.language + <span class="hljs-string">"_"</span> + key, value);
                },
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
                    <span class="hljs-keyword">return</span> simpleStorage.get(<span class="hljs-string">"MSG_"</span> + NOW.language + <span class="hljs-string">"_"</span> + key);
                }
            }
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (getTopWindow().g_cache_message)
                <span class="hljs-keyword">return</span> getTopWindow().g_cache_message;
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_cache_message) != <span class="hljs-string">"undefined"</span>)
            <span class="hljs-keyword">return</span> g_cache_message;
        g_cache_message = <span class="hljs-keyword">new</span> GlideClientCache(<span class="hljs-number">500</span>);
        <span class="hljs-keyword">return</span> g_cache_message;
    },
    <span class="hljs-attr">fetch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolveList, callback</span>) </span>{
        <span class="hljs-keyword">var</span> cachedMessages = <span class="hljs-keyword">this</span>._findCachedKeys(resolveList);
        <span class="hljs-keyword">var</span> keysToResolve = <span class="hljs-keyword">this</span>._removeCachedEntries(resolveList, cachedMessages);
        <span class="hljs-keyword">if</span> (keysToResolve.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">this</span>.getMessages(resolveList);
            callback(answer);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"SysMessageAjax"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_keys"</span>, keysToResolve.length);
        ajax.addParam(<span class="hljs-string">"sysparm_prefetch"</span>, <span class="hljs-keyword">this</span>._shouldPrefetch() ? <span class="hljs-string">"true"</span> : <span class="hljs-string">"false"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keysToResolve.length; i++) {
            <span class="hljs-keyword">var</span> keyVal = <span class="hljs-string">"key"</span> + i;
            ajax.addParam(keyVal, keysToResolve[i]);
        }
        ajax.getXML(<span class="hljs-keyword">this</span>.fetched.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, {
            <span class="hljs-attr">fn</span>: callback,
            <span class="hljs-attr">list</span>: resolveList
        });
    },
    <span class="hljs-attr">fetched</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, parms</span>) </span>{
        <span class="hljs-keyword">this</span>._processResponse(response.responseXML);
        <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">this</span>.getMessages(parms.list);
        parms.fn(answer);
    }
});
GwtMessage._messages = {};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMessage</span>(<span class="hljs-params">msg, callback</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback == <span class="hljs-string">"function"</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> msg == <span class="hljs-string">"object"</span>)
            <span class="hljs-keyword">new</span> GwtMessage().fetch(msg, callback);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">new</span> GwtMessage().fetch([msg], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
                callback(o[msg]);
            });
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> msg == <span class="hljs-string">"object"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GwtMessage().getMessages(msg);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GwtMessage().getMessage(msg);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMessages</span>(<span class="hljs-params">msgs</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GwtMessage().getMessages(msgs);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterDescription.js */</span>
<span class="hljs-keyword">var</span> GlideFilterDescription = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">choices</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">setParsedQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">strVal</span>) </span>{
        <span class="hljs-keyword">this</span>.parsedQuery = strVal;
    },
    <span class="hljs-attr">getParsedQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parsedQuery;
    },
    <span class="hljs-attr">setBaseLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.baseLine = value;
    },
    <span class="hljs-attr">getBaseLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.baseLine;
    },
    <span class="hljs-attr">setMetaData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.metaData = value;
    },
    <span class="hljs-attr">getMetaData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.metaData;
    },
    <span class="hljs-attr">setPreferenceParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.preference = value;
    },
    <span class="hljs-attr">getPreferenceParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.preference;
    },
    <span class="hljs-attr">setExpanded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.expanded = value;
    },
    <span class="hljs-attr">getExpanded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.expanded;
    },
    <span class="hljs-attr">setName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.name = value;
    },
    <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;
    },
    <span class="hljs-attr">setFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.filter = value;
    },
    <span class="hljs-attr">getFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filter;
    },
    <span class="hljs-attr">setTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = value;
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">setPinned</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.pinned = value;
    },
    <span class="hljs-attr">getPinned</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pinned;
    },
    <span class="hljs-attr">setMainFilterTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filterTable</span>) </span>{
        <span class="hljs-keyword">this</span>.mainFilterTable = filterTable;
    },
    <span class="hljs-attr">getMainFilterTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.mainFilterTable;
    },
    <span class="hljs-attr">setPinnable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.pinnable = value;
    },
    <span class="hljs-attr">getPinnable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pinnable;
    },
    <span class="hljs-attr">setShowRelated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.showRelated = value;
    },
    <span class="hljs-attr">getShowRelated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.showRelated;
    },
    <span class="hljs-attr">setChoiceListMap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.choiceList = value;
    },
    <span class="hljs-attr">getChoiceList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">table</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.choiceList == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.choiceList[table];
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterHandlers.js */</span>
<span class="hljs-keyword">var</span> GlideFilterHandler = Class.create({
    <span class="hljs-attr">MAP_OPEN</span>: <span class="hljs-string">"$"</span> + <span class="hljs-string">"{"</span>,
    <span class="hljs-attr">filterClass</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, item, mappingId</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">this</span>.item = item;
        <span class="hljs-keyword">this</span>.isRightOperandShowingRelatedFields = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.lastOperator = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.mappingId = mappingId;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.operSel)
                <span class="hljs-keyword">this</span>.tr.operSel.onchange = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.tr = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.inputCnt; i++) {
            <span class="hljs-keyword">this</span>.inputs[i].onkeypress = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.inputs[i].onchange = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.inputs[i] = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">this</span>.destroyMappingSupport();
    },
    <span class="hljs-attr">create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tr, values, filterClass</span>) </span>{
        <span class="hljs-keyword">this</span>.tr = tr;
        <span class="hljs-keyword">if</span> (values &amp;&amp; values.indexOf(<span class="hljs-keyword">this</span>.MAP_OPEN) != <span class="hljs-number">-1</span>) {
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"implement GlideFilterHandler#create mapping support"</span>);
        }
        <span class="hljs-keyword">this</span>._setup(values);
        <span class="hljs-keyword">this</span>._init(values);
        <span class="hljs-keyword">this</span>._build(filterClass);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.listenForOperChange)
            <span class="hljs-keyword">this</span>.tr.operSel.onchange = <span class="hljs-keyword">this</span>._operOnChange.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.isRightOperandShowingRelatedFields = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.lastOperator = <span class="hljs-keyword">this</span>._getOperator();
    },
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{},
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">getFilterText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">_init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>._initValues(values);
        <span class="hljs-keyword">this</span>._initialMappingValue = values;
        <span class="hljs-keyword">this</span>._initInputs();
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (!values)
            <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr &amp;&amp; <span class="hljs-keyword">this</span>.tr.varType === <span class="hljs-string">"variables"</span> &amp;&amp; !<span class="hljs-keyword">this</span>.userDateFormat) {
            <span class="hljs-keyword">this</span>.values = [values];
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.values = values.split(<span class="hljs-string">"@"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.values.length; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">_initInputs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.inputs = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.inputs[i] = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_clearValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">_isEmptyOper</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">'ISEMPTY'</span> || op == <span class="hljs-string">'ISNOTEMPTY'</span> || op == <span class="hljs-string">'ANYTHING'</span> || op == <span class="hljs-string">'EMPTYSTRING'</span> || op == <span class="hljs-string">'VALCHANGES'</span>) {
            <span class="hljs-keyword">this</span>._clearValues();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_getOperator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> getSelectedOption(<span class="hljs-keyword">this</span>.tr.operSel).value;
    },
    <span class="hljs-attr">_getInputValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) </span>{
        <span class="hljs-keyword">var</span> value = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (el == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> value;
        <span class="hljs-keyword">if</span> (el.tagName.toUpperCase() == <span class="hljs-string">"TEXTAREA"</span>)
            <span class="hljs-keyword">return</span> el.value;
        <span class="hljs-keyword">if</span> (el.tagName.toUpperCase() == <span class="hljs-string">"INPUT"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._escapeIfRequired(el.value);
        <span class="hljs-keyword">var</span> options = el.options;
        <span class="hljs-keyword">if</span> (el.multiple) {
            <span class="hljs-keyword">var</span> vals = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
                <span class="hljs-keyword">if</span> (options[i].selected)
                    vals.push(options[i].value);
            }
            <span class="hljs-keyword">return</span> vals.join(<span class="hljs-string">","</span>);
        }
        <span class="hljs-keyword">return</span> options[el.selectedIndex].value;
    },
    <span class="hljs-attr">_escapeIfRequired</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.values; i++)
                    <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-keyword">this</span>._escape(<span class="hljs-keyword">this</span>.values[i]);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._escape(value);
        }
        <span class="hljs-keyword">return</span> value;
    },
    <span class="hljs-attr">_escape</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        value = value.replace(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">"\\\\"</span>)
        value = value.replace(<span class="hljs-regexp">/@/g</span>, <span class="hljs-string">"\\@"</span>)
        <span class="hljs-keyword">return</span> value;
    },
    <span class="hljs-attr">_unescapeIfRequired</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span>)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.values.length; i++)
                <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-keyword">this</span>._unescape(<span class="hljs-keyword">this</span>.values[i]);
    },
    <span class="hljs-attr">_unescape</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._parseValues(value, <span class="hljs-string">'@'</span>)[<span class="hljs-number">0</span>];
    },
    <span class="hljs-attr">_addTextInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, td</span>) </span>{
        <span class="hljs-keyword">if</span> (!td)
            td = <span class="hljs-keyword">this</span>.tr.tdValue;
        <span class="hljs-keyword">var</span> input = addTextInput(td, <span class="hljs-keyword">this</span>.values[<span class="hljs-keyword">this</span>.inputCnt], type);
        <span class="hljs-keyword">this</span>.inputs[<span class="hljs-keyword">this</span>.inputCnt] = input;
        <span class="hljs-keyword">this</span>.inputCnt++;
        <span class="hljs-keyword">return</span> input;
    },
    <span class="hljs-attr">_addInvisibleTextInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, td</span>) </span>{
        <span class="hljs-keyword">var</span> input = $(<span class="hljs-keyword">this</span>._addTextInput(type, td));
        input.addClassName(<span class="hljs-string">'sr-only'</span>);
        input.setAttribute(<span class="hljs-string">'readonly'</span>, <span class="hljs-string">'readonly'</span>);
        <span class="hljs-keyword">this</span>.inputCnt--;
        <span class="hljs-keyword">this</span>.inputs.pop();
        getMessage(<span class="hljs-string">'No value needed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            input.value = msg;
        });
    },
    <span class="hljs-attr">_addBetweenTextInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, td</span>) </span>{
        <span class="hljs-keyword">if</span> (!td)
            td = <span class="hljs-keyword">this</span>.tr.tdValue;
        <span class="hljs-keyword">var</span> input = addTextInput(td, <span class="hljs-keyword">this</span>.values[<span class="hljs-keyword">this</span>.inputCnt], type);
        <span class="hljs-keyword">this</span>.inputs[<span class="hljs-keyword">this</span>.inputCnt] = input;
        <span class="hljs-keyword">this</span>.inputCnt++;
        <span class="hljs-keyword">return</span> input;
    },
    <span class="hljs-attr">_addTextArea</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> input = addTextArea(<span class="hljs-keyword">this</span>.tr.tdValue, <span class="hljs-keyword">this</span>.values[<span class="hljs-keyword">this</span>.inputCnt]);
        <span class="hljs-keyword">this</span>.inputs[<span class="hljs-keyword">this</span>.inputCnt] = input;
        <span class="hljs-keyword">this</span>.inputCnt++;
        <span class="hljs-keyword">return</span> input;
    },
    <span class="hljs-attr">_addSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width, multi, size</span>) </span>{
        <span class="hljs-keyword">var</span> s = _createFilterSelect(width, multi, size);
        <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(s);
        <span class="hljs-keyword">this</span>.inputs[<span class="hljs-keyword">this</span>.inputCnt] = s;
        <span class="hljs-keyword">this</span>.inputCnt++;
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">_operOnChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lastOp = <span class="hljs-keyword">this</span>.lastOperator;
        <span class="hljs-keyword">this</span>.lastOperator = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> ((fieldComparisonOperators.indexOf(lastOp) &gt;= <span class="hljs-number">0</span>) != (fieldComparisonOperators.indexOf(<span class="hljs-keyword">this</span>.lastOperator) &gt;= <span class="hljs-number">0</span>) || lastOp == <span class="hljs-string">"DYNAMIC"</span>) {
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>.input = [];
        }
        <span class="hljs-keyword">this</span>.getValues();
        <span class="hljs-keyword">this</span>._unescapeIfRequired();
        <span class="hljs-keyword">this</span>._build();
    },
    <span class="hljs-attr">_isTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">this</span>.tr;
        <span class="hljs-keyword">while</span> (t) {
            t = findParentByTag(t, <span class="hljs-string">'table'</span>);
            <span class="hljs-keyword">if</span> (t) {
                <span class="hljs-keyword">var</span> id = t.id + <span class="hljs-string">''</span>;
                <span class="hljs-keyword">if</span> (id.indexOf(<span class="hljs-string">'filters_table'</span>) != <span class="hljs-number">-1</span>)
                    <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!t)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> t.getAttribute(<span class="hljs-string">'gsft_template'</span>) == <span class="hljs-string">'true'</span>;
    },
    <span class="hljs-attr">_renderDynamicOperandInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">op</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_dynamic_filter_options == <span class="hljs-string">"undefined"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (op != <span class="hljs-string">"DYNAMIC"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> addedReferenceInput = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> arr = g_dynamic_filter_options.split(<span class="hljs-string">"##"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
            <span class="hljs-keyword">var</span> aItem = arr[i];
            <span class="hljs-keyword">if</span> (aItem.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> aItemArr = aItem.split(<span class="hljs-string">"::"</span>);
            <span class="hljs-keyword">if</span> (aItemArr.length &lt; <span class="hljs-number">3</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> isExclusiveDynamic = <span class="hljs-keyword">typeof</span> gtf_exclusive_dynamics != <span class="hljs-string">'undefined'</span> &amp;&amp; gtf_exclusive_dynamics == <span class="hljs-string">"true"</span>;
            <span class="hljs-keyword">if</span> (!isExclusiveDynamic &amp;&amp; <span class="hljs-keyword">this</span>.item &amp;&amp; <span class="hljs-keyword">this</span>.item.getReference() == aItemArr[<span class="hljs-number">2</span>] || <span class="hljs-keyword">this</span>.originalTableName == aItemArr[<span class="hljs-number">3</span>]) {
                <span class="hljs-keyword">if</span> (!addedReferenceInput)
                    <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-number">180</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">1</span>);
                <span class="hljs-keyword">var</span> arrInput = [];
                arrInput.push(aItemArr[<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">var</span> translated = getMessages(arrInput);
                addOption(input, aItemArr[<span class="hljs-number">0</span>], translated[aItemArr[<span class="hljs-number">1</span>]], <span class="hljs-keyword">this</span>.rightOperand == aItemArr[<span class="hljs-number">0</span>]);
                addedReferenceInput = <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">return</span> addedReferenceInput;
    },
    <span class="hljs-attr">setOriginalTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableNameFull</span>) </span>{
        <span class="hljs-keyword">if</span> (tableNameFull.indexOf(<span class="hljs-string">"."</span>) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">this</span>.originalTableName = tableNameFull;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.originalTableName = tableNameFull.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">1</span>];
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-keyword">this</span>._getInputValue(<span class="hljs-keyword">this</span>.inputs[i]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values.join(<span class="hljs-string">"@"</span>);
    },
    <span class="hljs-attr">_populateRightOperandChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> field = <span class="hljs-keyword">this</span>.item.name;
        <span class="hljs-keyword">var</span> table = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> mainFilterTable == <span class="hljs-string">"undefined"</span>)
            table = firstTable;
        <span class="hljs-keyword">else</span>
            table = mainFilterTable;
        <span class="hljs-keyword">var</span> selection = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != table &amp;&amp; <span class="hljs-string">""</span> != table &amp;&amp; <span class="hljs-literal">null</span> != field &amp;&amp; <span class="hljs-string">""</span> != field) {
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-literal">false</span>, <span class="hljs-number">1</span>);
            s.onchange = <span class="hljs-keyword">this</span>.rightOperandfieldOnChange.bind(s, table, <span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">var</span> completeSelection = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span> (selection)
                completeSelection = table + <span class="hljs-string">'.'</span> + selection;
            <span class="hljs-keyword">else</span>
                completeSelection = table;
            <span class="hljs-keyword">var</span> showRelatedFields = <span class="hljs-string">"no"</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isRightOperandShowingRelatedFields || (selection &amp;&amp; selection.indexOf(<span class="hljs-string">"."</span>) &gt;= <span class="hljs-number">0</span>))
                showRelatedFields = <span class="hljs-string">"yes"</span>;
            <span class="hljs-keyword">this</span>.addChoices(s, completeSelection, <span class="hljs-string">""</span>,
                <span class="hljs-keyword">this</span>._filterRightOperand, selection, <span class="hljs-literal">null</span>,
                showRelatedFields, <span class="hljs-keyword">this</span>.item);
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != selection)
                <span class="hljs-keyword">this</span>.selectRightOperand(s, selection);
        }
    },
    <span class="hljs-attr">selectRightOperand</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select, selection</span>) </span>{
        <span class="hljs-keyword">var</span> o = getSelectedOption(select);
        <span class="hljs-keyword">var</span> options = select.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != option &amp;&amp; option.value == selection) {
                option.innerHTML = getFullLabel(option);
                option.style.color = <span class="hljs-string">'green'</span>;
                option.wasSelected = <span class="hljs-string">'true'</span>;
                select.style.width = <span class="hljs-string">"240px"</span>;
                option.selected = <span class="hljs-literal">true</span>;
                select.selectedIndex = i;
                <span class="hljs-keyword">break</span>;
            }
        }
    },
    <span class="hljs-attr">_getReportTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> firstTable;
    },
    <span class="hljs-attr">rightOperandfieldOnChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">table, t</span>) </span>{
        <span class="hljs-keyword">var</span> fieldName = <span class="hljs-keyword">this</span>.value;
        <span class="hljs-keyword">var</span> idx = fieldName.indexOf(<span class="hljs-string">"..."</span>);
        <span class="hljs-keyword">var</span> f = fieldName.substring(<span class="hljs-number">0</span>, idx);
        <span class="hljs-keyword">if</span> (f != table)
            f = table + <span class="hljs-string">"."</span> + f;
        f = f + <span class="hljs-string">"."</span>;
        <span class="hljs-keyword">if</span> (idx != <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">if</span> (fieldName == <span class="hljs-string">'...Show Related Fields...'</span>) {
                t.isRightOperandShowingRelatedFields = <span class="hljs-literal">true</span>;
                t.addChoices(<span class="hljs-keyword">this</span>, f, <span class="hljs-string">""</span>, t._filterRightOperand,
                    fieldName, <span class="hljs-literal">null</span>, <span class="hljs-string">"yes"</span>, t.item);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fieldName == <span class="hljs-string">'...Remove Related Fields...'</span>) {
                t.isRightOperandShowingRelatedFields = <span class="hljs-literal">false</span>;
                t.addChoices(<span class="hljs-keyword">this</span>, f, <span class="hljs-string">""</span>, t._filterRightOperand,
                    fieldName, <span class="hljs-literal">null</span>, <span class="hljs-string">"no"</span>, t.item);
            } <span class="hljs-keyword">else</span> {
                t.isRightOperandShowingRelatedFields = <span class="hljs-literal">true</span>;
                t.addChoices(<span class="hljs-keyword">this</span>, f, <span class="hljs-string">""</span>, t._filterRightOperand,
                    fieldName, <span class="hljs-literal">null</span>, <span class="hljs-string">"yes"</span>, t.item);
            }
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> o = getSelectedOption(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> fieldName = o.value;
        <span class="hljs-keyword">var</span> name = currentTable = getTableFromOption(o);
        <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">this</span>.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (optionWasSelected(option)) {
                option.innerHTML = getNormalLabel(option);
                option.style.color = <span class="hljs-string">'black'</span>;
                option.wasSelected = <span class="hljs-string">'false'</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (setup(name) == <span class="hljs-literal">false</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> tr = <span class="hljs-keyword">this</span>.parentNode.parentNode;
        o.normalLabel = o.innerHTML;
        o.innerHTML = getFullLabel(o);
        o.style.color = <span class="hljs-string">'green'</span>;
        o.wasSelected = <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">this</span>.style.width = <span class="hljs-string">"240px"</span>;
    },
    <span class="hljs-attr">addChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s, target, fValue, filterMethod, fieldName, filter, showRelated, leftOperandElement</span>) </span>{
        <span class="hljs-keyword">var</span> forFilter;
        <span class="hljs-keyword">var</span> onlyRestrictedFields;
        <span class="hljs-keyword">if</span> (filter) {
            forFilter = filter.getOpsWanted();
            onlyRestrictedFields = filter.onlyRestrictedFields;
        }
        <span class="hljs-keyword">var</span> messages = getMessages(MESSAGES_CONDITION_RELATED_FILES);
        <span class="hljs-keyword">while</span> (s.length &gt; <span class="hljs-number">0</span>)
            s.remove(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">var</span> placeholder = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> selindex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> indentLabel = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> savedItems = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">var</span> savedLabels = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> labelPrefix = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> headersAdded = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> parts = target.split(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">var</span> tableName = parts[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> tableDef = getTableReference(tableName);
        <span class="hljs-keyword">var</span> extension = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> prefix = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (parts.length &gt; <span class="hljs-number">1</span> &amp;&amp; parts[<span class="hljs-number">1</span>] != <span class="hljs-literal">null</span> &amp;&amp; parts[<span class="hljs-number">1</span>] != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">var</span> o = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (filterExpanded &amp;&amp; parts.length &gt; <span class="hljs-number">2</span>) {
                <span class="hljs-keyword">var</span> tableLabel = tableDef.getLabel();
                <span class="hljs-keyword">if</span> (tableLabel == <span class="hljs-literal">null</span>)
                    tableLabel = <span class="hljs-string">"Parent"</span>;
                o = addOption(s, tableDef.getName() + <span class="hljs-string">"..."</span>, tableLabel +
                    <span class="hljs-string">" "</span> + messages[<span class="hljs-string">'lowercase_fields'</span>], <span class="hljs-literal">false</span>);
                o.tableName = tableDef.getName();
                o.style.color = <span class="hljs-string">'blue'</span>;
            }
            <span class="hljs-keyword">if</span> (parts[<span class="hljs-number">1</span>] == PLACEHOLDERFIELD) {
                o = addOption(s, PLACEHOLDER,
                    messages[<span class="hljs-string">'-- choose field --'</span>], <span class="hljs-literal">true</span>);
                o.style.color = <span class="hljs-string">'blue'</span>;
                o.tableName = tableDef.getName();
                o.fullLabel = messages[<span class="hljs-string">'-- choose field --'</span>];
                placeholder = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">var</span> sPeriod = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">var</span> cname = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; parts.length - <span class="hljs-number">1</span>; i++) {
                <span class="hljs-keyword">var</span> f = parts[i];
                <span class="hljs-keyword">if</span> (f == <span class="hljs-literal">null</span> || f == <span class="hljs-string">''</span>)
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">var</span> elementDef = tableDef.getElement(parts[i]);
                <span class="hljs-keyword">if</span> (elementDef == <span class="hljs-literal">null</span>)
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">var</span> childTable = tableName;
                <span class="hljs-keyword">if</span> (elementDef.isReference()) {
                    childTable = elementDef.getReference();
                    <span class="hljs-keyword">if</span> (elementDef.isExtensionElement())
                        extension = childTable;
                    <span class="hljs-keyword">else</span>
                        extension = <span class="hljs-string">''</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (fieldName != <span class="hljs-literal">null</span> &amp;&amp; fieldName.indexOf(<span class="hljs-string">"..."</span>) &gt; <span class="hljs-number">-1</span>) {
                        childTable = parts[<span class="hljs-number">0</span>];
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">break</span>;
                    }
                }
                <span class="hljs-keyword">var</span> parentTable = (extension != <span class="hljs-string">''</span>) ? extension : elementDef.getTable().getName();
                <span class="hljs-keyword">var</span> tableDef = getTableReference(childTable, parentTable);
                <span class="hljs-keyword">if</span> (cname.length)
                    cname = cname + <span class="hljs-string">"."</span>;
                cname += elementDef.getName();
                sPeriod = <span class="hljs-string">"."</span> + sPeriod;
                <span class="hljs-keyword">var</span> clabel = sPeriod + elementDef.getLabel() + <span class="hljs-string">"--&gt;"</span> +
                    elementDef.getRefLabel() + <span class="hljs-string">" "</span> +
                    messages[<span class="hljs-string">'lowercase_fields'</span>];
                o = addOption(s, cname + <span class="hljs-string">"..."</span>, clabel, <span class="hljs-literal">false</span>);
                o.tablename = tableDef.getName();
                o.style.color = <span class="hljs-string">'blue'</span>;
                selindex++;
                indentLabel = <span class="hljs-literal">true</span>;
                headersAdded = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (labelPrefix.length)
                    labelPrefix += <span class="hljs-string">"."</span>;
                labelPrefix += elementDef.getLabel();
                <span class="hljs-keyword">if</span> (prefix.length)
                    prefix += <span class="hljs-string">"."</span>;
                prefix += elementDef.getName();
            }
        }
        columns = tableDef.getColumns();
        queueColumns[tableDef.getName()] = columns;
        <span class="hljs-keyword">var</span> textIndex = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!noOps &amp;&amp; !indentLabel) {
            <span class="hljs-keyword">var</span> root = columns.getElementsByTagName(<span class="hljs-string">"xml"</span>);
            <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">null</span> &amp;&amp; root.length == <span class="hljs-number">1</span>) {
                root = root[<span class="hljs-number">0</span>];
                textIndex = root.getAttribute(<span class="hljs-string">"textIndex"</span>);
            }
        }
        <span class="hljs-keyword">var</span> items = (extension != <span class="hljs-string">''</span>) ? tableDef.getTableElements(extension) : tableDef.getElements();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> t = item.getName();
            <span class="hljs-keyword">if</span> (filterMethod != <span class="hljs-literal">null</span> &amp;&amp; t != fValue) {
                <span class="hljs-keyword">if</span> (filterMethod(leftOperandElement, item,
                        <span class="hljs-keyword">this</span>.isRightOperandShowingRelatedFields) == <span class="hljs-literal">true</span>) {
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">var</span> t = item.getName();
            <span class="hljs-keyword">if</span> (prefix != <span class="hljs-string">''</span>)
                t = prefix + <span class="hljs-string">'.'</span> + t;
            <span class="hljs-keyword">if</span> (!noOps &amp;&amp; item.getAttribute(<span class="hljs-string">"filterable"</span>) == <span class="hljs-string">"no"</span> &amp;&amp; !allowConditionsForJournal(item.getAttribute(<span class="hljs-string">"type"</span>), filter))
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (!item.canRead()) {
                <span class="hljs-keyword">if</span> (t != fValue) {
                    <span class="hljs-keyword">continue</span>;
                } <span class="hljs-keyword">else</span> {
                    item.setCanRead(<span class="hljs-string">'yes'</span>);
                }
            }
            <span class="hljs-keyword">if</span> (!item.isActive()) {
                <span class="hljs-keyword">if</span> (t != fValue) {
                    <span class="hljs-keyword">continue</span>;
                } <span class="hljs-keyword">else</span> {
                    item.setActive(<span class="hljs-string">'yes'</span>);
                }
            }
            <span class="hljs-keyword">var</span> label = item.getLabel();
            <span class="hljs-keyword">if</span> ((!elementDef || elementDef.getType() != <span class="hljs-string">"glide_var"</span>) &amp;&amp;
                !item.isReference()) {
                savedItems[label] = t;
                savedLabels[savedLabels.length] = label;
            }
            <span class="hljs-keyword">if</span> (item.isReference() &amp;&amp; leftOperandElement.isReference()) {
                <span class="hljs-keyword">if</span> (item.getReference() == leftOperandElement.getReference()) {
                    savedItems[label] = t;
                    savedLabels[savedLabels.length] = label;
                }
            }
            <span class="hljs-keyword">if</span> (item.isReference() &amp;&amp; !item.isRefRotated() &amp;&amp;
                item.getType() != <span class="hljs-string">'glide_list'</span> &amp;&amp; filterExpanded &amp;&amp;
                showRelated == <span class="hljs-string">'yes'</span>) {
                label += <span class="hljs-string">"--&gt;"</span> + item.getRefLabel();
                label += <span class="hljs-string">" "</span> + messages[<span class="hljs-string">'lowercase_fields'</span>];
                t += <span class="hljs-string">"..."</span>;
                savedItems[label] = t;
                savedLabels[savedLabels.length] = label;
            }
        }
        items = tableDef.getExtensions();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> label = item.getLabel() + <span class="hljs-string">" (+)"</span>;
            t = item.getExtName() + <span class="hljs-string">"..."</span>;
            <span class="hljs-keyword">if</span> (prefix != <span class="hljs-string">''</span>)
                t = prefix + <span class="hljs-string">'.'</span> + t;
            savedItems[label] = t;
            savedLabels[savedLabels.length] = label;
        }
        <span class="hljs-keyword">if</span> (!onlyRestrictedFields &amp;&amp;
            ((fValue == TEXTQUERY || textIndex) &amp;&amp;
                filterMethod == <span class="hljs-literal">null</span> || forFilter)) {
            o = addOption(s, TEXTQUERY, messages[<span class="hljs-string">'Keywords'</span>], (fValue == TEXTQUERY));
            o.fullLabel = messages[<span class="hljs-string">'Keywords'</span>];
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; savedLabels.length; i++) {
            <span class="hljs-keyword">var</span> sname = savedLabels[i];
            <span class="hljs-keyword">var</span> o = addOption(s, savedItems[sname], sname, savedItems[sname] == fValue);
            o.tableName = tableDef.getName();
            <span class="hljs-keyword">if</span> (labelPrefix != <span class="hljs-string">''</span>)
                o.fullLabel = labelPrefix + <span class="hljs-string">"."</span> + sname;
            <span class="hljs-keyword">else</span>
                o.fullLabel = sname;
            <span class="hljs-keyword">if</span> (indentLabel) {
                <span class="hljs-keyword">var</span> yyy = o.innerHTML;
                o.innerHTML = <span class="hljs-string">"&amp;nbsp;&amp;nbsp;&amp;nbsp;"</span> + yyy;
            }
            <span class="hljs-keyword">var</span> v = o.value;
            <span class="hljs-keyword">if</span> (v.indexOf(<span class="hljs-string">"..."</span>) != <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">if</span> (o.fullLabel.indexOf(<span class="hljs-string">"(+)"</span>) == <span class="hljs-number">-1</span>)
                    o.style.color = <span class="hljs-string">'blue'</span>;
                <span class="hljs-keyword">else</span>
                    o.style.color = <span class="hljs-string">'darkred'</span>;
        }
        <span class="hljs-keyword">if</span> (filterExpanded &amp;&amp; !onlyRestrictedFields) {
            <span class="hljs-keyword">if</span> (showRelated != <span class="hljs-string">'yes'</span>) {
                <span class="hljs-keyword">var</span> o = addOption(s, <span class="hljs-string">"...Show Related Fields..."</span>, messages[<span class="hljs-string">'Show Related Fields'</span>], <span class="hljs-literal">false</span>);
                o.style.color = <span class="hljs-string">'blue'</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> o = addOption(s, <span class="hljs-string">"...Remove Related Fields..."</span>, messages[<span class="hljs-string">'Remove Related Fields'</span>], <span class="hljs-literal">false</span>);
                o.style.color = <span class="hljs-string">'blue'</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!placeholder &amp;&amp; (s.selectedIndex == <span class="hljs-number">0</span> &amp;&amp; ((textIndex &amp;&amp; fValue != TEXTQUERY) || headersAdded)))
            s.selectedIndex = selindex;
        <span class="hljs-keyword">if</span> (s.selectedIndex &gt;= <span class="hljs-number">0</span>) {
            fValue = getSelectedOption(s).value;
        }
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">_filterRightOperand</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">leftOperandElement, rightOperandElement, isRightOperandShowingRelatedFields</span>) </span>{
        <span class="hljs-keyword">var</span> filterOut = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != leftOperandElement &amp;&amp; <span class="hljs-literal">null</span> != rightOperandElement) {
            <span class="hljs-keyword">var</span> leftType = leftOperandElement.getType();
            <span class="hljs-keyword">var</span> rightType = rightOperandElement.getType();
            <span class="hljs-keyword">if</span> (<span class="hljs-string">'reference'</span> != leftType) {
                <span class="hljs-keyword">if</span> (<span class="hljs-string">'reference'</span> == rightType &amp;&amp; isRightOperandShowingRelatedFields)
                    filterOut = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (leftType == rightType)
                    filterOut = <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-string">'reference'</span> == rightType)
                    filterOut = <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> filterOut;
    },
    <span class="hljs-attr">_renderRightOperandAsFieldList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">operation</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"SAMEAS"</span> == operation || <span class="hljs-string">"NSAMEAS"</span> == operation ||
            <span class="hljs-string">"GT_FIELD"</span> == operation || <span class="hljs-string">"LT_FIELD"</span> == operation ||
            <span class="hljs-string">"GT_OR_EQUALS_FIELD"</span> == operation ||
            <span class="hljs-string">"LT_OR_EQUALS_FIELD"</span> == operation)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_addSameAsLabels</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t, op</span>) </span>{
        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">'SAMEAS'</span> || op == <span class="hljs-string">'NSAMEAS'</span>) {
            <span class="hljs-keyword">var</span> ASMSG = getMessage(<span class="hljs-string">'as'</span>);
            <span class="hljs-keyword">var</span> FROMMSG = getMessage(<span class="hljs-string">'from'</span>);
            <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">"span"</span>, t.tr.tdValue);
            span.style.marginLeft = <span class="hljs-string">"3px"</span>;
            span.style.marginRight = <span class="hljs-string">"5px"</span>;
            <span class="hljs-keyword">if</span> (op == <span class="hljs-string">'SAMEAS'</span>)
                span.innerHTML = ASMSG;
            <span class="hljs-keyword">else</span>
                span.innerHTML = FROMMSG;
        }
    },
    <span class="hljs-attr">_parseValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, delimiter</span>) </span>{
        <span class="hljs-keyword">var</span> sb = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> parts = [];
        <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span>)
            value = <span class="hljs-string">""</span>
        <span class="hljs-keyword">var</span> escapeChar = <span class="hljs-string">'\\'</span>;
        <span class="hljs-keyword">var</span> escaped = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; value.length; i++) {
            <span class="hljs-keyword">var</span> checkChar = value.substr(i, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (!escaped) {
                <span class="hljs-keyword">if</span> (checkChar == escapeChar) {
                    escaped = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-keyword">if</span> (checkChar == delimiter) {
                    parts.push(sb);
                    sb = <span class="hljs-string">""</span>;
                    <span class="hljs-keyword">continue</span>;
                }
            } <span class="hljs-keyword">else</span>
                escaped = <span class="hljs-literal">false</span>;
            sb += checkChar;
        }
        parts.push(sb);
        <span class="hljs-keyword">return</span> parts;
    },
    <span class="hljs-attr">setFilterClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filterClass</span>) </span>{
        <span class="hljs-keyword">this</span>.filterClass = filterClass;
    },
    <span class="hljs-attr">getFilterClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filterClass;
    },
    <span class="hljs-attr">initMappingSupport</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">shouldEnable, type, mappingMgr</span>) </span>{
        <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdMapping;
        <span class="hljs-keyword">this</span>._parentMappingMgr = mappingMgr;
        <span class="hljs-keyword">if</span> (!td || !mappingMgr)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.mappingType = type;
        <span class="hljs-keyword">if</span> (shouldEnable) {
            td.innerHTML = <span class="hljs-string">'&lt;input type="hidden" class="mapping_condition_input" &gt;'</span>;
        } <span class="hljs-keyword">else</span> {
            td.innerHTML = <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">this</span>.mappingInput = td.querySelector(<span class="hljs-string">".mapping_condition_input"</span>);
        <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>._initialMappingValue || <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>._initMappingValue(value);
        <span class="hljs-keyword">this</span>._initialMappingValue = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._parentMappingMgr.initElement(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_initMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">this</span>.setMappingValue(value);
            <span class="hljs-keyword">this</span>.activateMapping();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.deactivateMapping();
        }
    },
    <span class="hljs-attr">destroyMappingSupport</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._parentMappingMgr &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._parentMappingMgr.destroyElement === <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>._parentMappingMgr.destroyElement(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">activateMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._isMappingEnabled = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tr)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.tr.tdValue.style.display = <span class="hljs-string">"none"</span>;
        addClassName(<span class="hljs-keyword">this</span>.tr.tdMapping, <span class="hljs-string">"active"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._parentMappingMgr &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._parentMappingMgr.notifyStateChange === <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>._parentMappingMgr.notifyStateChange(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">deactivateMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._isMappingEnabled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tr)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.tr.tdValue.style.display = <span class="hljs-string">""</span>;
        removeClassName(<span class="hljs-keyword">this</span>.tr.tdMapping, <span class="hljs-string">"active"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._parentMappingMgr &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>._parentMappingMgr.notifyStateChange === <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>._parentMappingMgr.notifyStateChange(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_getMappingInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tr.tdMapping.querySelector(<span class="hljs-string">".mapping_condition_input"</span>);
    },
    <span class="hljs-attr">getMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getMappingInput().value;
    },
    <span class="hljs-attr">setMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>._getMappingInput().value = value;
    }
});
<span class="hljs-keyword">var</span> GlideFilterString = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.rightOperand = values;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderDynamicOperandInput(op))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(op)) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, op);
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">'IN'</span>) {
            <span class="hljs-keyword">var</span> saveMe = useTextareas;
            useTextareas = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> inp = <span class="hljs-keyword">this</span>._addTextArea();
            inp.style.width = <span class="hljs-string">'20em'</span>;
            <span class="hljs-keyword">var</span> v = <span class="hljs-keyword">this</span>.values[<span class="hljs-keyword">this</span>.inputCnt - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isTemplate()) {
                inp.value = v;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (v) {
                    <span class="hljs-keyword">if</span> (isMSIE)
                        v = v.replace(<span class="hljs-regexp">/,/g</span>, <span class="hljs-string">'\n\r'</span>);
                    <span class="hljs-keyword">else</span>
                        v = v.replace(<span class="hljs-regexp">/,/g</span>, <span class="hljs-string">'\n'</span>);
                    inp.value = v;
                }
            }
            useTextareas = saveMe;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>._addTextInput();
        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">var</span> txt = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span> + getMessage(<span class="hljs-string">'and'</span>) + <span class="hljs-string">" "</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(txt);
            <span class="hljs-keyword">this</span>._addTextInput();
        }
    },
    <span class="hljs-attr">_getInputValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) </span>{
        <span class="hljs-keyword">if</span> (el == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (!(el.tagName.toUpperCase() == <span class="hljs-string">"TEXTAREA"</span>))
            <span class="hljs-keyword">return</span> GlideFilterHandler.prototype._getInputValue.call(<span class="hljs-keyword">this</span>, el);
        <span class="hljs-keyword">var</span> value = el.value + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._isTemplate()) {
            value = value.replace(<span class="hljs-regexp">/[\n\t]/g</span>, <span class="hljs-string">','</span>);
            value = value.replace(<span class="hljs-regexp">/\r/g</span>, <span class="hljs-string">''</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._escapeIfRequired(value);
    },
    <span class="hljs-attr">_initMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.setMappingValue(value);
        <span class="hljs-keyword">this</span>.activateMapping();
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-keyword">this</span>._getInputValue(<span class="hljs-keyword">this</span>.inputs[i]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>._escapeIfRequired();
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values.join(<span class="hljs-string">"@"</span>);
        }
    },
    <span class="hljs-attr">_initInputs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"DYNAMIC"</span>) {
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.inputs = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.inputs[i] = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">if</span> (!values)
                <span class="hljs-keyword">this</span>.values = [];
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.values = <span class="hljs-keyword">this</span>._parseValues(values, <span class="hljs-string">"@"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.values.length; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
                <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-string">""</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.values = [];
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = values;
        }
    }
});
<span class="hljs-keyword">var</span> GlideFilterNumber = Class.create(GlideFilterString, {
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">if</span> (!values)
                <span class="hljs-keyword">this</span>.values = [];
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.values = values.split(<span class="hljs-string">"@"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.values.length; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
                <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-string">""</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.values = [];
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = values;
        }
    }
});
<span class="hljs-keyword">var</span> GlideFilterDuration = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">var</span> valueArray = <span class="hljs-keyword">this</span>._parseValues(values, <span class="hljs-string">"@"</span>);
        <span class="hljs-keyword">this</span>.duration = <span class="hljs-keyword">new</span> GlideDuration(valueArray[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.item);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
            <span class="hljs-keyword">if</span> (valueArray.length &gt; <span class="hljs-number">1</span>)
                <span class="hljs-keyword">this</span>.durationTo = <span class="hljs-keyword">new</span> GlideDuration(valueArray[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.item);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.durationTo = <span class="hljs-keyword">new</span> GlideDuration(valueArray[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.item);
        }
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr)
            <span class="hljs-keyword">this</span>.tr.tdValue.innerHTML = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        GlideFilterHandler.prototype.destroy.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.values = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.duration.getDays();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.duration.getHours();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.duration.getMinutes();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.duration.getSeconds();
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">4</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.duration.getDays();
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.duration.getHours();
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.duration.getMinutes();
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">7</span>] = <span class="hljs-keyword">this</span>.duration.getSeconds();
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">8</span>;
        }
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">this</span>.duration.getValue();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = <span class="hljs-keyword">this</span>.duration.getDays();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] = <span class="hljs-keyword">this</span>.duration.getHours();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.duration.getMinutes();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.duration.getSeconds();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.durationTo) {
                <span class="hljs-keyword">var</span> answer1 = <span class="hljs-keyword">this</span>.durationTo.getValue();
                <span class="hljs-keyword">this</span>.values[<span class="hljs-number">4</span>] = <span class="hljs-keyword">this</span>.durationTo.getDays();
                <span class="hljs-keyword">this</span>.values[<span class="hljs-number">5</span>] = <span class="hljs-keyword">this</span>.durationTo.getHours();
                <span class="hljs-keyword">this</span>.values[<span class="hljs-number">6</span>] = <span class="hljs-keyword">this</span>.durationTo.getMinutes();
                <span class="hljs-keyword">this</span>.values[<span class="hljs-number">7</span>] = <span class="hljs-keyword">this</span>.durationTo.getSeconds();
                <span class="hljs-keyword">return</span> <span class="hljs-string">"javascript:gs.getDurationDate('"</span> + answer + <span class="hljs-string">"')@javascript:gs.getDurationDate('"</span> + answer1 + <span class="hljs-string">"')"</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"javascript:gs.getDurationDate('"</span> + answer + <span class="hljs-string">"')"</span>;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(<span class="hljs-keyword">this</span>._getOperator())) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._getOperator());
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">this</span>.duration.buildHTML(<span class="hljs-keyword">this</span>.tr.tdValue);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">"BETWEEN"</span> &amp;&amp; <span class="hljs-keyword">this</span>.maxValues == <span class="hljs-number">2</span>) {
                <span class="hljs-keyword">var</span> txt = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span> + getMessage(<span class="hljs-string">'and'</span>) + <span class="hljs-string">" "</span>);
                <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(txt);
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.durationTo)
                    <span class="hljs-keyword">this</span>.durationTo = <span class="hljs-keyword">new</span> GlideDuration();
                <span class="hljs-keyword">this</span>.durationTo.buildHTML(<span class="hljs-keyword">this</span>.tr.tdValue);
            }
        }
    }
});
<span class="hljs-keyword">var</span> GlideFilterStringMulti = Class.create(GlideFilterString, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderDynamicOperandInput(<span class="hljs-keyword">this</span>._getOperator()))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(<span class="hljs-keyword">this</span>._getOperator())) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._getOperator());
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>._addTextArea();
    }
});
<span class="hljs-keyword">var</span> GlideFilterChoice = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">choices</span>) </span>{
        <span class="hljs-keyword">this</span>.choices = choices;
    },
    <span class="hljs-attr">setWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width</span>) </span>{
        <span class="hljs-keyword">this</span>.width = width;
    },
    <span class="hljs-attr">setMulti</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">multi</span>) </span>{
        <span class="hljs-keyword">this</span>.multi = multi;
    },
    <span class="hljs-attr">setSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size</span>) </span>{
        <span class="hljs-keyword">this</span>.size = size;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(<span class="hljs-keyword">this</span>._getOperator())) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._getOperator());
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-keyword">this</span>.size);
            <span class="hljs-keyword">this</span>._fillSelect();
        }
    },
    <span class="hljs-attr">_fillSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">inputIndex</span>) </span>{
        <span class="hljs-keyword">if</span> (inputIndex == <span class="hljs-literal">null</span>)
            inputIndex = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> vars = {};
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[inputIndex]) {
            <span class="hljs-keyword">var</span> valSplit = <span class="hljs-keyword">this</span>.values[inputIndex].split(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; valSplit.length; i++) {
                vars[valSplit[i]] = <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">var</span> removeNone = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> ((oper == <span class="hljs-string">'IN'</span>) || (oper == <span class="hljs-string">'NOT IN'</span>))
            removeNone = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (isMSIE &amp;&amp; <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>].multiple) {
            <span class="hljs-keyword">var</span> isIE6 = <span class="hljs-regexp">/MSIE 6/</span>.test(navigator.userAgent);
            <span class="hljs-keyword">if</span> (isIE6)
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>].focus();
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.choices.length; i++) {
            <span class="hljs-keyword">var</span> option = <span class="hljs-keyword">this</span>.choices[i];
            <span class="hljs-keyword">if</span> (option[<span class="hljs-number">0</span>] == <span class="hljs-string">''</span> &amp;&amp; removeNone)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> selected = (vars[option[<span class="hljs-number">0</span>]] != <span class="hljs-literal">null</span> || <span class="hljs-keyword">this</span>.values[inputIndex] == option[<span class="hljs-number">0</span>]);
            addOption(<span class="hljs-keyword">this</span>.inputs[inputIndex], option[<span class="hljs-number">0</span>], option[<span class="hljs-number">1</span>], selected);
        }
    }
});
<span class="hljs-keyword">var</span> GlideFilterChoiceDynamic = Class.create(GlideFilterChoice, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.size = <span class="hljs-number">4</span>;
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">choices</span>) </span>{
        <span class="hljs-keyword">this</span>.choices = choices;
    },
    <span class="hljs-attr">_initMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.mappingType = <span class="hljs-string">'choice'</span>;
        <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">this</span>.setMappingValue(value);
            <span class="hljs-keyword">this</span>.activateMapping();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.deactivateMapping();
        }
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(oper)) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, oper);
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((oper == <span class="hljs-string">'LIKE'</span>) || (oper == <span class="hljs-string">'STARTSWITH'</span>) || (oper == <span class="hljs-string">'ENDSWITH'</span>) || (oper == <span class="hljs-string">'NOT LIKE'</span>)) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.prevOper &amp;&amp; (<span class="hljs-keyword">this</span>.prevOper != <span class="hljs-string">'LIKE'</span>) &amp;&amp; (<span class="hljs-keyword">this</span>.prevOper != <span class="hljs-string">'STARTSWITH'</span>) &amp;&amp; (<span class="hljs-keyword">this</span>.prevOper != <span class="hljs-string">'ENDSWITH'</span>))
                <span class="hljs-keyword">this</span>._clearValues();
            <span class="hljs-keyword">this</span>._addTextInput();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((oper == <span class="hljs-string">'IN'</span>) || (oper == <span class="hljs-string">'NOT IN'</span>)) {
            <span class="hljs-keyword">this</span>.multi = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-keyword">this</span>.size);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasChoices) {
                s.disabled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._getChoices();
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>._fillSelect();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oper == <span class="hljs-string">'BETWEEN'</span>) {
            <span class="hljs-keyword">this</span>.multi = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasChoices) {
                s.disabled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._getChoices();
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>._fillSelect();
            <span class="hljs-keyword">var</span> txt = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span> + getMessage(<span class="hljs-string">'and'</span>) + <span class="hljs-string">" "</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(txt);
            <span class="hljs-keyword">this</span>.multi = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasChoices) {
                s.disabled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._getChoices();
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>._fillSelect(<span class="hljs-number">1</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.multi = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasChoices) {
                s.disabled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._getChoices();
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>._fillSelect();
        }
        <span class="hljs-keyword">this</span>.prevOper = oper;
    },
    <span class="hljs-attr">_getChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_filter_description != <span class="hljs-string">'undefined'</span> &amp;&amp; g_filter_description.getChoiceList(<span class="hljs-keyword">this</span>.tr.tableField) != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> response = loadXML(g_filter_description.getChoiceList(<span class="hljs-keyword">this</span>.tr.tableField));
            <span class="hljs-keyword">this</span>._addChoices(response);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'PickList'</span>);
            ajax.addParam(<span class="hljs-string">'sysparm_chars'</span>, <span class="hljs-string">'*'</span>);
            ajax.addParam(<span class="hljs-string">'sysparm_nomax'</span>, <span class="hljs-string">'true'</span>);
            ajax.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-keyword">this</span>.tr.tableField);
            <span class="hljs-keyword">var</span> response = ajax.getXMLWait();
            <span class="hljs-keyword">this</span>._addChoices(response);
        }
    },
    <span class="hljs-attr">_addChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> GwtMessage();
        <span class="hljs-keyword">var</span> select = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>];
        select.disabled = <span class="hljs-literal">false</span>;
        select.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.choices = [];
        <span class="hljs-keyword">this</span>.hasChoices = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> root = xml.documentElement;
        <span class="hljs-keyword">var</span> dep = root.getAttribute(<span class="hljs-string">"dependent"</span>);
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">var</span> addNone = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.getAttribute(<span class="hljs-string">"value"</span>) == <span class="hljs-string">''</span>)
                addNone = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (addNone)
            <span class="hljs-keyword">this</span>.choices[<span class="hljs-number">0</span>] = [<span class="hljs-string">''</span>, msg.getMessage(<span class="hljs-string">'-- None --'</span>)];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> v = item.getAttribute(<span class="hljs-string">"value"</span>);
            <span class="hljs-keyword">var</span> l = item.getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> option = [v, l];
            <span class="hljs-keyword">this</span>.choices.push(option);
        }
        <span class="hljs-keyword">if</span> (dep != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">this</span>.choices = <span class="hljs-keyword">this</span>.choices
                .sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">if</span> ((a[<span class="hljs-number">1</span>].toLowerCase() + <span class="hljs-string">""</span>) &lt; (b[<span class="hljs-number">1</span>]
                            .toLowerCase() + <span class="hljs-string">""</span>)) {
                        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
                    }
                    <span class="hljs-keyword">if</span> ((a[<span class="hljs-number">1</span>].toLowerCase() + <span class="hljs-string">""</span>) &gt; (b[<span class="hljs-number">1</span>]
                            .toLowerCase() + <span class="hljs-string">""</span>)) {
                        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
                    }
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                });
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.choices.length - <span class="hljs-number">1</span>; i++) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.choices[i][<span class="hljs-number">1</span>] == <span class="hljs-keyword">this</span>.choices[i + <span class="hljs-number">1</span>][<span class="hljs-number">1</span>])
                    i = <span class="hljs-keyword">this</span>.amendLabel(i);
            }
        }
        <span class="hljs-keyword">this</span>._fillSelect();
    },
    <span class="hljs-attr">amendLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">var</span> dupe = <span class="hljs-keyword">this</span>.choices[i][<span class="hljs-number">1</span>];
        <span class="hljs-keyword">while</span> (i &lt; <span class="hljs-keyword">this</span>.choices.length &amp;&amp; <span class="hljs-keyword">this</span>.choices[i][<span class="hljs-number">1</span>] == dupe) {
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>.choices[i];
            c[<span class="hljs-number">1</span>] = c[<span class="hljs-number">1</span>] + <span class="hljs-string">" - "</span> + c[<span class="hljs-number">0</span>];
            i++;
        }
        <span class="hljs-keyword">return</span> i - <span class="hljs-number">1</span>;
    }
});
<span class="hljs-keyword">var</span> GlideFilterCurrency = Class.create(GlideFilterString, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, item</span>) </span>{
        GlideFilterHandler.prototype.initialize.call(<span class="hljs-keyword">this</span>, tableName, item);
    },
    <span class="hljs-attr">_operOnChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lastOp = <span class="hljs-keyword">this</span>.lastOperator;
        <span class="hljs-keyword">this</span>.lastOperator = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> ((fieldComparisonOperators.indexOf(lastOp) &gt;= <span class="hljs-number">0</span>) != (fieldComparisonOperators.indexOf(<span class="hljs-keyword">this</span>.lastOperator) &gt;= <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>.input = [];
        }
        <span class="hljs-keyword">this</span>.getValues();
        <span class="hljs-keyword">if</span> (lastOp != <span class="hljs-string">'BETWEEN'</span> &amp;&amp; <span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">'BETWEEN'</span>) {
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">this</span>._unescapeIfRequired();
        <span class="hljs-keyword">this</span>._build();
    },
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tr.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        GlideFilterString.prototype._build.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-number">60</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>._getCurrencies(s);
    },
    <span class="hljs-attr">_getCurrencies</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">var</span> currencies = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">if</span> (currencies.length != <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> currencies;
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"CurrencyConverter"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"getCurrencies"</span>);
        ajax.getXMLAnswer(<span class="hljs-keyword">this</span>._getCurrenciesResponse.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, s);
    },
    <span class="hljs-attr">_getCurrenciesResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">answer, s</span>) </span>{
        <span class="hljs-keyword">var</span> values = answer;
        <span class="hljs-keyword">var</span> currencies = values.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">this</span>._getCache();
        cache.put(<span class="hljs-string">"currencies"</span>, values);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; currencies.length; i++)
            addOption(s, currencies[i], currencies[i]);
        <span class="hljs-keyword">this</span>.currency_widget = s;
        <span class="hljs-keyword">this</span>._parseValue();
    },
    <span class="hljs-attr">_resolveFromCache</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">this</span>._getCache();
        <span class="hljs-keyword">var</span> value = cache.get(<span class="hljs-string">"currencies"</span>);
        <span class="hljs-keyword">if</span> (value)
            <span class="hljs-keyword">return</span> value.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">return</span> [];
    },
    <span class="hljs-attr">_getCache</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_cache_currency) != <span class="hljs-string">"undefined"</span>)
            <span class="hljs-keyword">return</span> g_cache_currency;
        g_cache_currency = <span class="hljs-keyword">new</span> GlideClientCache(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> g_cache_currency;
    },
    <span class="hljs-attr">_parseValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputs.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> processSelect = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.inputs.length; i++) {
            <span class="hljs-keyword">var</span> v = <span class="hljs-keyword">this</span>.inputs[i].value;
            <span class="hljs-keyword">if</span> (!v)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (v.indexOf(<span class="hljs-string">'javascript'</span>) &lt; <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            processSelect = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> sa = v.split(<span class="hljs-string">';'</span>);
            <span class="hljs-keyword">var</span> first = sa[<span class="hljs-number">0</span>].split(<span class="hljs-string">'\''</span>);
            <span class="hljs-keyword">var</span> currency = first[first.length - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">var</span> price = sa[sa.length - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">var</span> priceIndex = price.indexOf(<span class="hljs-string">'\''</span>);
            price = price.substring(<span class="hljs-number">0</span>, priceIndex);
            <span class="hljs-keyword">this</span>.inputs[i].value = price;
        }
        <span class="hljs-keyword">if</span> (!processSelect)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> sel = <span class="hljs-keyword">new</span> Select(<span class="hljs-keyword">this</span>.currency_widget);
        sel.selectValue(currency);
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.currency_widget)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> v = GlideFilterString.prototype.getValues.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> tn = <span class="hljs-keyword">this</span>.item.table.tableName;
        <span class="hljs-keyword">var</span> fn = <span class="hljs-keyword">this</span>.item.name;
        <span class="hljs-keyword">var</span> valList = v.split(<span class="hljs-string">'@'</span>);
        <span class="hljs-keyword">var</span> fromVal = <span class="hljs-string">'javascript:global.getCurrencyFilter(\''</span> + tn + <span class="hljs-string">'\',\''</span> + fn + <span class="hljs-string">'\', \''</span> + <span class="hljs-keyword">this</span>.currency_widget.value + <span class="hljs-string">';'</span> + valList[<span class="hljs-number">0</span>] + <span class="hljs-string">'\')'</span>
        <span class="hljs-keyword">if</span> ((valList.length &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">'BETWEEN'</span>) || (valList.length &gt; <span class="hljs-number">2</span>))
            <span class="hljs-keyword">return</span> fromVal + <span class="hljs-string">'@javascript:global.getCurrencyFilter(\''</span> + tn + <span class="hljs-string">'\',\''</span> + fn + <span class="hljs-string">'\', \''</span> + <span class="hljs-keyword">this</span>.currency_widget.value + <span class="hljs-string">';'</span> + valList[<span class="hljs-number">1</span>] + <span class="hljs-string">'\')'</span>
        <span class="hljs-keyword">return</span> fromVal;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        GlideFilterString.prototype.destroy.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.currency_widget = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideDuration.js */</span>
<span class="hljs-keyword">var</span> GlideDuration = Class.create({
    <span class="hljs-attr">MAX_UNIT_DAYS</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">MAX_UNIT_HOURS</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">MAX_UNIT_MINUTES</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">MAX_UNIT_SECONDS</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, item</span>) </span>{
        <span class="hljs-keyword">this</span>.values = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> gMessage = <span class="hljs-keyword">new</span> GwtMessage();
        <span class="hljs-keyword">var</span> values = [<span class="hljs-string">"Days"</span>, <span class="hljs-string">"Hours"</span>, <span class="hljs-string">"Minutes"</span>, <span class="hljs-string">"Seconds"</span>];
        <span class="hljs-keyword">var</span> answer = gMessage.getMessages(values);
        <span class="hljs-keyword">this</span>.daysMessage = answer[<span class="hljs-string">"Days"</span>];
        <span class="hljs-keyword">this</span>.hourMessage = answer[<span class="hljs-string">"Hours"</span>];
        <span class="hljs-keyword">this</span>.minutesMessage = answer[<span class="hljs-string">"Minutes"</span>];
        <span class="hljs-keyword">this</span>.secondsMessage = answer[<span class="hljs-string">"Seconds"</span>];
        <span class="hljs-keyword">this</span>.maxLevel = <span class="hljs-keyword">this</span>.MAX_UNIT_DAYS;
        <span class="hljs-keyword">if</span> (item) {
            <span class="hljs-keyword">this</span>.item = item;
            <span class="hljs-keyword">this</span>.maxLevel = <span class="hljs-keyword">this</span>._parseMaxUnit(<span class="hljs-keyword">this</span>.item.getNamedAttribute(<span class="hljs-string">'max_unit'</span>));
        }
        <span class="hljs-keyword">if</span> (value)
            <span class="hljs-keyword">this</span>.values = GlideDuration.parseDurationToParts(value);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.values.length; i &lt; <span class="hljs-number">4</span>; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-string">"0"</span>;
    },
    <span class="hljs-attr">buildHTML</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent</span>) </span>{
        <span class="hljs-keyword">this</span>.parent = parent;
        <span class="hljs-keyword">this</span>.days = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.second = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_DAYS) {
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-keyword">this</span>.daysMessage);
            <span class="hljs-keyword">this</span>.days = <span class="hljs-keyword">this</span>._addInput(<span class="hljs-string">"dur_day"</span>, <span class="hljs-keyword">this</span>.getDays());
            <span class="hljs-keyword">this</span>.days.maxLength = <span class="hljs-string">"5"</span>;
            <span class="hljs-keyword">this</span>.days.style.marginRight = <span class="hljs-string">"5px"</span>;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.hour = (<span class="hljs-keyword">this</span>.getDays() * <span class="hljs-number">24</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel &gt;= <span class="hljs-keyword">this</span>.MAX_UNIT_HOURS) {
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-keyword">this</span>.hourMessage);
            <span class="hljs-keyword">this</span>.hour = <span class="hljs-keyword">this</span>._addInput(<span class="hljs-string">"dur_hour"</span>, <span class="hljs-keyword">this</span>.hour + <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.getHours(), <span class="hljs-number">10</span>));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_HOURS)
                <span class="hljs-keyword">this</span>.hour.maxLength = <span class="hljs-string">"7"</span>;
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-string">":"</span>);
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.minute = ((<span class="hljs-keyword">this</span>.hour + <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.getHours(), <span class="hljs-number">10</span>)) * <span class="hljs-number">60</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_MINUTES)
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-keyword">this</span>.minutesMessage);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel &gt;= <span class="hljs-keyword">this</span>.MAX_UNIT_MINUTES) {
            <span class="hljs-keyword">this</span>.minute = <span class="hljs-keyword">this</span>._addInput(<span class="hljs-string">"dur_min"</span>, <span class="hljs-keyword">this</span>.minute + <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.getMinutes(), <span class="hljs-number">10</span>));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_MINUTES)
                <span class="hljs-keyword">this</span>.minute.maxLength = <span class="hljs-string">"9"</span>;
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-string">":"</span>);
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.second = ((<span class="hljs-keyword">this</span>.minute + <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.getMinutes(), <span class="hljs-number">10</span>)) * <span class="hljs-number">60</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_SECONDS)
            <span class="hljs-keyword">this</span>._addSpan(<span class="hljs-keyword">this</span>.secondsMessage);
        <span class="hljs-keyword">this</span>.second = <span class="hljs-keyword">this</span>._addInput(<span class="hljs-string">"dur_sec"</span>, <span class="hljs-keyword">this</span>.second + <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.getSeconds(), <span class="hljs-number">10</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_SECONDS)
            <span class="hljs-keyword">this</span>.second.maxLength = <span class="hljs-string">"10"</span>;
    },
    <span class="hljs-attr">_addInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, value</span>) </span>{
        <span class="hljs-keyword">var</span> ic = cel(<span class="hljs-string">"input"</span>, <span class="hljs-keyword">this</span>.parent);
        ic.className = <span class="hljs-string">'filerTableInput form-control'</span>;
        ic.id = id;
        ic.size = <span class="hljs-string">"2"</span>;
        ic.maxLength = <span class="hljs-string">"2"</span>;
        ic.value = value;
        <span class="hljs-keyword">return</span> ic;
    },
    <span class="hljs-attr">_addSpan</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>) </span>{
        <span class="hljs-keyword">var</span> sp = cel(<span class="hljs-string">"label"</span>, <span class="hljs-keyword">this</span>.parent);
        sp.className = <span class="hljs-string">'condition'</span>;
        sp.innerHTML = text;
    },
    <span class="hljs-attr">getDays</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
    },
    <span class="hljs-attr">getHours</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>];
    },
    <span class="hljs-attr">getMinutes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>];
    },
    <span class="hljs-attr">getSeconds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>];
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> day = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> hour = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> min = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> sec = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel == <span class="hljs-keyword">this</span>.MAX_UNIT_DAYS)
            day = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.days.value, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel &gt;= <span class="hljs-keyword">this</span>.MAX_UNIT_HOURS)
            hour = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.hour.value, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel &gt;= <span class="hljs-keyword">this</span>.MAX_UNIT_MINUTES)
            min = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.minute.value, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxLevel &gt;= <span class="hljs-keyword">this</span>.MAX_UNIT_SECONDS)
            sec = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.second.value, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (sec &gt;= <span class="hljs-number">60</span>) {
            min += <span class="hljs-built_in">Math</span>.floor(sec / <span class="hljs-number">60</span>);
            sec = sec % <span class="hljs-number">60</span>;
        }
        <span class="hljs-keyword">if</span> (min &gt;= <span class="hljs-number">60</span>) {
            hour += <span class="hljs-built_in">Math</span>.floor(min / <span class="hljs-number">60</span>);
            min = min % <span class="hljs-number">60</span>;
        }
        <span class="hljs-keyword">if</span> (hour &gt;= <span class="hljs-number">24</span>) {
            day += <span class="hljs-built_in">Math</span>.floor(hour / <span class="hljs-number">24</span>);
            hour = hour % <span class="hljs-number">24</span>;
        }
        <span class="hljs-keyword">if</span> (!day || day == <span class="hljs-literal">null</span>)
            day = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (!hour || hour == <span class="hljs-literal">null</span>)
            hour = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (!min || min == <span class="hljs-literal">null</span>)
            min = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (!sec || sec == <span class="hljs-literal">null</span>)
            sec = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = day + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] = hour + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = min + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = sec + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> day + <span class="hljs-string">" "</span> + hour + <span class="hljs-string">":"</span> + min + <span class="hljs-string">":"</span> + sec;
    },
    <span class="hljs-attr">_parseMaxUnit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max_unit</span>) </span>{
        <span class="hljs-keyword">switch</span> (max_unit) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'hours'</span>:
                maxLevel = <span class="hljs-keyword">this</span>.MAX_UNIT_HOURS;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'minutes'</span>:
                maxLevel = <span class="hljs-keyword">this</span>.MAX_UNIT_MINUTES;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'seconds'</span>:
                maxLevel = <span class="hljs-keyword">this</span>.MAX_UNIT_SECONDS;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                maxLevel = <span class="hljs-keyword">this</span>.MAX_UNIT_DAYS;
        }
        <span class="hljs-keyword">return</span> maxLevel;
    }
});
GlideDuration.parseDurationToParts = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">var</span> MS_IN_DAY = <span class="hljs-number">86400000</span>;
    <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"javascript:"</span>) == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> s = value.split(<span class="hljs-string">"'"</span>);
        value = s[<span class="hljs-number">1</span>];
    }
    <span class="hljs-keyword">var</span> parts = value.split(<span class="hljs-string">" "</span>);
    <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">var</span> times = parts[<span class="hljs-number">1</span>].split(<span class="hljs-string">":"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; times.length; i++)
            parts[<span class="hljs-number">1</span> + i] = times[i];
        <span class="hljs-keyword">var</span> dateParts = parts[<span class="hljs-number">0</span>].split(<span class="hljs-string">"-"</span>);
        <span class="hljs-keyword">if</span> (dateParts.length == <span class="hljs-number">3</span>)
            parts[<span class="hljs-number">0</span>] = <span class="hljs-built_in">parseInt</span>(<span class="hljs-built_in">Date</span>.parse(dateParts[<span class="hljs-number">1</span>] + <span class="hljs-string">'/'</span> + dateParts[<span class="hljs-number">2</span>] + <span class="hljs-string">'/'</span> + dateParts[<span class="hljs-number">0</span>] + <span class="hljs-string">' 00:00:00 UTC'</span>)) / MS_IN_DAY;
    }
    <span class="hljs-keyword">return</span> parts;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterReference.js */</span>
<span class="hljs-keyword">var</span> GlideFilterReference = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.tableField = <span class="hljs-keyword">this</span>.tr.tableField;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.rightOperand = values;
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">if</span> (values)
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = values;
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">var</span> inDoctypeMode = (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> op = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput(<span class="hljs-string">"hidden"</span>);
        input.id = <span class="hljs-keyword">this</span>.id;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderRightOperandAsFieldList(op)) {
            <span class="hljs-keyword">this</span>._addSameAsLabels(<span class="hljs-keyword">this</span>, op);
            <span class="hljs-keyword">this</span>._populateRightOperandChoices();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._renderDynamicOperandInput(op))
            <span class="hljs-keyword">return</span>;
        input = <span class="hljs-keyword">this</span>._addTextInput();
        input.id = <span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.id;
        input.onfocus = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onkeydown = <span class="hljs-keyword">this</span>._onKeyDown.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeypress = <span class="hljs-keyword">this</span>._onKeyPress.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeyup = <span class="hljs-keyword">this</span>._onKeyUp.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.autocomplete = <span class="hljs-string">"off"</span>;
        input.ac_columns = <span class="hljs-string">""</span>;
        input.ac_order_by = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (inDoctypeMode) {
            input.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"pull-left form-control filter-reference-input"</span>);
        }
        setAttributeValue(input, <span class="hljs-string">'autocomplete'</span>, <span class="hljs-string">'off'</span>);
        <span class="hljs-keyword">var</span> displayValue = gel(<span class="hljs-string">'fancy.'</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">if</span> (displayValue &amp;&amp; displayValue.value != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = displayValue.value;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = <span class="hljs-keyword">this</span>.values;
            <span class="hljs-keyword">this</span>._resolveReference();
        }
        <span class="hljs-keyword">var</span> view = $$(<span class="hljs-string">"[name='sysparm_view']"</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (view &amp;&amp; (view.value == <span class="hljs-string">"sys_ref_list"</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inDoctypeMode) {
            <span class="hljs-keyword">var</span> btn = cel(<span class="hljs-string">"button"</span>);
            btn.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"icon-search btn btn-default filerTableAction"</span>);
            btn.setAttribute(<span class="hljs-string">"style"</span>, <span class="hljs-string">"margin-left: 2px"</span>);
            btn.onclick = <span class="hljs-keyword">this</span>._refListOpen.bindAsEventListener(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.style.minWidth = <span class="hljs-string">"200px"</span>;
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(btn);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> image = createImage(<span class="hljs-string">"images/reference_list.gifx"</span>, <span class="hljs-string">"Lookup using list"</span>, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._refListOpen);
            image.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"filerTableAction"</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(image);
        }
    },
    <span class="hljs-attr">_refListOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> target = <span class="hljs-keyword">this</span>.id;
        <span class="hljs-keyword">if</span> (target.indexOf(<span class="hljs-string">"IO:"</span>) &gt; <span class="hljs-number">-1</span>)
            target = target.substring(target.indexOf(<span class="hljs-string">"IO:"</span>), target.length);
        reflistOpen(target, <span class="hljs-keyword">this</span>.item.getName(), <span class="hljs-keyword">this</span>.item.getReference());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper())
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">var</span> userInput = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">var</span> userInputVal = userInput.value;
            <span class="hljs-keyword">if</span> (userInputVal != <span class="hljs-literal">null</span> &amp;&amp; (userInputVal.indexOf(<span class="hljs-string">"javascript:"</span>) &gt; <span class="hljs-number">-1</span>))
                input = userInput;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._useDisplayValue(oper))
                input = userInput;
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.item.getType() == <span class="hljs-string">'glide_list'</span> &amp;&amp; oper == <span class="hljs-string">"DYNAMIC"</span>)
                input = userInput;
        }
        <span class="hljs-keyword">if</span> (input) {
            <span class="hljs-keyword">return</span> input.value;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">_useDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.item.getType() != <span class="hljs-string">'glide_list'</span> &amp;&amp; oper != <span class="hljs-string">'='</span> &amp;&amp; oper != <span class="hljs-string">'!='</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESFROM"</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESTO"</span>;
    },
    <span class="hljs-attr">_resolveReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ResolveRef"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.tableField);
            ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
            ajax.getXML(<span class="hljs-keyword">this</span>._resolveReferenceResponse.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">_resolveReferenceResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
            <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span> &amp;&amp; items[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>])
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = items[<span class="hljs-number">0</span>].getAttribute(<span class="hljs-string">"label"</span>);
        }
    },
    <span class="hljs-attr">_onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac) {
            <span class="hljs-keyword">var</span> partialSearchFilterTypes = <span class="hljs-string">',STARTSWITH,ENDSWITH,LIKE,NOT LIKE,'</span>;
            <span class="hljs-keyword">var</span> tdOper = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].up(<span class="hljs-number">1</span>).tdOper;
            <span class="hljs-keyword">var</span> currentFilterType = (tdOper.firstElementChild || tdOper.children[<span class="hljs-number">0</span>] || {}).value;
            <span class="hljs-keyword">if</span> (partialSearchFilterTypes.indexOf(<span class="hljs-string">','</span> + currentFilterType + <span class="hljs-string">','</span>) &gt; <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].setAttribute(<span class="hljs-string">'is_filter_using_contains'</span>, <span class="hljs-string">'true'</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac = <span class="hljs-keyword">new</span> AJAXReferenceCompleter(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.id, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.elementName = <span class="hljs-keyword">this</span>.tableField;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setIgnoreRefQual(<span class="hljs-literal">true</span>);
        }
    },
    <span class="hljs-attr">_onKeyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyDown(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyPress(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyUp(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterVariables.js */</span>
<span class="hljs-keyword">var</span> GlideFilterVariables = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tr.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.catID = <span class="hljs-string">"item_option_new.cat_item."</span> + guid();
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.rightOperand = values;
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">this</span>.varValue = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (values) {
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = values.substring(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>);
            <span class="hljs-keyword">this</span>.refQuery = values.substring(<span class="hljs-number">32</span>);
            <span class="hljs-keyword">var</span> query = <span class="hljs-keyword">new</span> GlideEncodedQuery(<span class="hljs-keyword">this</span>.tableName, <span class="hljs-string">"IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.refQuery, <span class="hljs-literal">null</span>);
            query.parse();
            <span class="hljs-keyword">var</span> terms = query.getTerms();
            <span class="hljs-keyword">var</span> term = terms[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">this</span>.varOp = term.getOperator();
            <span class="hljs-keyword">this</span>.varValue = term.getValue();
        }
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.queryID = <span class="hljs-keyword">this</span>.tr.tdValue.queryID;
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._hideOperators();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput(<span class="hljs-string">"hidden"</span>);
        input.id = <span class="hljs-keyword">this</span>.id;
        input = <span class="hljs-keyword">this</span>._addTextInput();
        input.id = <span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.id;
        input.onfocus = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onRefPick = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onkeydown = <span class="hljs-keyword">this</span>._onKeyDown.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeypress = <span class="hljs-keyword">this</span>._onKeyPress.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeyup = <span class="hljs-keyword">this</span>._onKeyUp.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.autocomplete = <span class="hljs-string">"off"</span>;
        input.data_completer = <span class="hljs-string">"AJAXTableCompleter"</span>;
        input.ac_columns = <span class="hljs-string">"cat_item;category"</span>;
        input.ac_order_by = <span class="hljs-string">""</span>;
        input.placeholder = getMessage(<span class="hljs-string">"Select Variable"</span>);
        setAttributeValue(input, <span class="hljs-string">'autocomplete'</span>, <span class="hljs-string">'off'</span>);
        <span class="hljs-keyword">var</span> displayValue = gel(<span class="hljs-string">'fancy.'</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">if</span> (displayValue &amp;&amp; displayValue.value != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = displayValue.value;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = <span class="hljs-keyword">this</span>.values;
            <span class="hljs-keyword">this</span>._resolveReference();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>) {
            <span class="hljs-keyword">var</span> btn = cel(<span class="hljs-string">"button"</span>);
            btn.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"icon-search btn btn-default filerTableAction"</span>);
            btn.onclick = <span class="hljs-keyword">this</span>._refListOpen.bindAsEventListener(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(btn);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> image = createImage(<span class="hljs-string">"images/reference_list.gifx"</span>, <span class="hljs-string">"Lookup using list"</span>, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._refListOpen);
            image.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"filerTableAction"</span>)
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(image);
        }
        <span class="hljs-keyword">this</span>._buildCatItemReference();
        <span class="hljs-keyword">this</span>._makeCatItemFirst();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>])
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._getVariableType(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
    },
    <span class="hljs-attr">_buildCatItemReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> queryID = <span class="hljs-keyword">this</span>.queryID;
        td = <span class="hljs-keyword">this</span>.tr.conditionRow.addTD(<span class="hljs-keyword">this</span>.tr, queryID);
        td.nowrap = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.tr.catTD = td;
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput(<span class="hljs-string">"hidden"</span>, td);
        input.id = <span class="hljs-keyword">this</span>.catID;
        input = <span class="hljs-keyword">this</span>._addTextInput(<span class="hljs-string">""</span>, td);
        input.id = <span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.catID;
        input.onfocus = <span class="hljs-keyword">this</span>._onFocusCat.bind(<span class="hljs-keyword">this</span>);
        input.onRefPick = <span class="hljs-keyword">this</span>._onFocusCat.bind(<span class="hljs-keyword">this</span>);
        input.onkeydown = <span class="hljs-keyword">this</span>._onKeyDownCat.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeypress = <span class="hljs-keyword">this</span>._onKeyPressCat.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeyup = <span class="hljs-keyword">this</span>._onKeyUpCat.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.autocomplete = <span class="hljs-string">"off"</span>;
        input.data_completer = <span class="hljs-string">"AJAXTableCompleter"</span>;
        input.ac_columns = <span class="hljs-string">"cat_item;category"</span>;
        input.ac_order_by = <span class="hljs-string">""</span>;
        input.placeholder = getMessage(<span class="hljs-string">"Select Item"</span>);
        setAttributeValue(input, <span class="hljs-string">'autocomplete'</span>, <span class="hljs-string">'off'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>) {
            <span class="hljs-keyword">var</span> btn = cel(<span class="hljs-string">"button"</span>);
            btn.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"icon-search btn btn-default filerTableAction"</span>);
            btn.onclick = <span class="hljs-keyword">this</span>._refListOpenCat.bindAsEventListener(<span class="hljs-keyword">this</span>);
            td.addClassName(<span class="hljs-string">"form-inline"</span>);
            td.appendChild(btn);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> image = createImage(<span class="hljs-string">"images/reference_list.gifx"</span>, <span class="hljs-string">"Lookup using list"</span>, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._refListOpenCat);
            image.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"filerTableAction"</span>);
            td.appendChild(image);
        }
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr) {
            <span class="hljs-keyword">this</span>.tr.tdValue.innerHTML = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.variableID) {
                <span class="hljs-keyword">this</span>.tr.removeChild(<span class="hljs-keyword">this</span>.tr.variableID);
                <span class="hljs-keyword">this</span>.tr.variableID = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.catTD) {
                <span class="hljs-keyword">this</span>.tr.removeChild(<span class="hljs-keyword">this</span>.tr.catTD);
                <span class="hljs-keyword">this</span>.tr.catTD = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOper;
            <span class="hljs-keyword">if</span> (td)
                td.style.display = <span class="hljs-string">"inline"</span>;
        }
        GlideFilterHandler.prototype.destroy.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">setOriginalTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName</span>) </span>{
        <span class="hljs-keyword">this</span>.originalTableName = tableName;
    },
    <span class="hljs-attr">_hideOperators</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.tdOper)
            <span class="hljs-keyword">this</span>.tr.tdOper.style.display = <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">_refListOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>])
            reflistOpen(<span class="hljs-keyword">this</span>.id, <span class="hljs-keyword">this</span>.item.getName(), <span class="hljs-keyword">this</span>.item.getReference(), <span class="hljs-string">""</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">""</span>, <span class="hljs-string">"cat_item="</span> + <span class="hljs-keyword">this</span>.variableRefQual);
        <span class="hljs-keyword">else</span>
            reflistOpen(<span class="hljs-keyword">this</span>.id, <span class="hljs-keyword">this</span>.item.getName(), <span class="hljs-keyword">this</span>.item.getReference());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_refListOpenCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        reflistOpen(<span class="hljs-keyword">this</span>.catID, <span class="hljs-string">"cat_item"</span>, <span class="hljs-string">"sc_cat_item"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (input) {
            <span class="hljs-keyword">return</span> input.value;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">getFilterText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.variableFilter)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">"variables."</span> + <span class="hljs-keyword">this</span>.getValues() + oper + <span class="hljs-keyword">this</span>.variableFilter.getValues();
    },
    <span class="hljs-attr">_useDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.item.getType() != <span class="hljs-string">'glide_list'</span> &amp;&amp; oper != <span class="hljs-string">'='</span> &amp;&amp; oper != <span class="hljs-string">'!='</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESFROM"</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESTO"</span>;
    },
    <span class="hljs-attr">_resolveReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ResolveRef"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.tr.tableField);
            ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
            ajax.getXML(<span class="hljs-keyword">this</span>._resolveReferenceResponse.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">_resolveReferenceResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
            <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span> &amp;&amp; items[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>])
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = items[<span class="hljs-number">0</span>].getAttribute(<span class="hljs-string">"label"</span>);
        }
    },
    <span class="hljs-attr">_resolveReferenceCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>]) {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ResolveRef"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"item_option_new.cat_item"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>]);
            ajax.getXML(<span class="hljs-keyword">this</span>._resolveReferenceResponseCat.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">_resolveReferenceResponseCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
            <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span> &amp;&amp; items[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].value = items[<span class="hljs-number">0</span>].getAttribute(<span class="hljs-string">"label"</span>);
                <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].value;
            }
        }
    },
    <span class="hljs-attr">_onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac = <span class="hljs-keyword">new</span> AJAXTableCompleter(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.id, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setFilterCallBack(<span class="hljs-keyword">this</span>._refValueChange.bind(<span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.elementName = <span class="hljs-keyword">this</span>.tr.tableField;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setAdditionalValue(<span class="hljs-string">"ac_columns"</span>, <span class="hljs-string">"cat_item;category"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>])
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">"cat_item="</span> + <span class="hljs-keyword">this</span>.variableRefQual);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">""</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">_refValueChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ref = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac;
        <span class="hljs-keyword">var</span> e = ref.getKeyElement();
        <span class="hljs-keyword">var</span> id = e.value;
        <span class="hljs-keyword">this</span>._clearQuery();
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = id;
        <span class="hljs-keyword">if</span> (id)
            <span class="hljs-keyword">this</span>._getVariableType(id);
    },
    <span class="hljs-attr">_catValueSet</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">catValue</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] == catValue)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = catValue;
        <span class="hljs-keyword">this</span>.variableRefQual = catValue;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = catValue;
        <span class="hljs-keyword">this</span>._resolveReferenceCat();
        <span class="hljs-keyword">this</span>._setQualifier(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>]);
    },
    <span class="hljs-attr">_refValueChangeCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ref = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac;
        <span class="hljs-keyword">var</span> e = ref.getKeyElement();
        <span class="hljs-keyword">var</span> id = e.value;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] = id;
        <span class="hljs-keyword">this</span>.variableRefQual = id;
        <span class="hljs-keyword">this</span>._clearVariable();
        <span class="hljs-keyword">this</span>._hideOperators();
        <span class="hljs-keyword">this</span>._clearHandler();
        <span class="hljs-keyword">this</span>._filterVariableReference();
    },
    <span class="hljs-attr">_clearVariable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-keyword">this</span>.id);
        <span class="hljs-keyword">if</span> (e)
            e.value = <span class="hljs-string">''</span>;
        e = gel(<span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.id);
        <span class="hljs-keyword">if</span> (e)
            e.value = <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">_clearHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.vType)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.variableFilter = <span class="hljs-keyword">this</span>._getHandler();
        <span class="hljs-keyword">var</span> conditionRow = <span class="hljs-keyword">this</span>.tr.conditionRow;
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOper;
        <span class="hljs-keyword">if</span> (td)
            <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.tdOper = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.tdValue &amp;&amp; <span class="hljs-keyword">this</span>.tr.variableID) {
            <span class="hljs-keyword">this</span>.tr.removeChild(<span class="hljs-keyword">this</span>.tr.tdValue);
            <span class="hljs-keyword">this</span>.tr.tdValue = <span class="hljs-literal">null</span>;
        }
    },
    <span class="hljs-attr">_filterVariableReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._onFocus();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>])
            <span class="hljs-keyword">this</span>._setQualifier(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>]);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">""</span>);
        <span class="hljs-keyword">this</span>._clearQuery();
    },
    <span class="hljs-attr">_setQualifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ac, catItem</span>) </span>{
        <span class="hljs-keyword">if</span> (ac)
            ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">"cat_item="</span> + catItem);
        <span class="hljs-keyword">this</span>._addVariableSets(ac, catItem);
    },
    <span class="hljs-attr">_addVariableSets</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ac, catItem</span>) </span>{
        <span class="hljs-keyword">var</span> sets = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'io_set_item'</span>);
        <span class="hljs-keyword">var</span> callback = <span class="hljs-keyword">this</span>._getSetResponse.bind(<span class="hljs-keyword">this</span>, ac, catItem, sets)
        <span class="hljs-keyword">var</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gr</span>) </span>{
            callback(ac, catItem, sets);
        };
        sets.query(<span class="hljs-string">'sc_cat_item'</span>, catItem, fn);
    },
    <span class="hljs-attr">_getSetResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ac, catItem, sets</span>) </span>{
        <span class="hljs-keyword">if</span> (!sets.hasNext())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> setList = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">while</span> (sets.next())
            setList.push(sets.variable_set + <span class="hljs-string">''</span>);
        <span class="hljs-keyword">this</span>.variableRefQual = catItem + <span class="hljs-string">"^OR"</span> + <span class="hljs-string">"variable_setIN"</span> + setList.join(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">if</span> (ac)
            ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">"cat_item="</span> + <span class="hljs-keyword">this</span>.variableRefQual);
    },
    <span class="hljs-attr">_clearQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.refQuery = <span class="hljs-string">""</span>
        <span class="hljs-keyword">this</span>.varOp = <span class="hljs-string">""</span>
        <span class="hljs-keyword">this</span>.varValue = <span class="hljs-string">""</span>
    },
    <span class="hljs-attr">_getVariableType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.grVariable = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'item_option_new'</span>);
        <span class="hljs-keyword">var</span> callback = <span class="hljs-keyword">this</span>._getVariableResponse.bind(<span class="hljs-keyword">this</span>)
        <span class="hljs-keyword">var</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gr</span>) </span>{
            callback();
        };
        <span class="hljs-keyword">this</span>.grVariable.query(<span class="hljs-string">'sys_id'</span>, id, fn);
    },
    <span class="hljs-attr">_getVariableResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.grVariable.next()) {
            <span class="hljs-keyword">this</span>.grVariable = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>._buildStringType();
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>._buildType(<span class="hljs-keyword">this</span>.grVariable);
        <span class="hljs-keyword">this</span>._setFilterBasedOnType();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.grVariable &amp;&amp; <span class="hljs-keyword">this</span>.grVariable.cat_item)
            <span class="hljs-keyword">this</span>._catValueSet(<span class="hljs-keyword">this</span>.grVariable.cat_item);
    },
    <span class="hljs-attr">_buildStringType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.vItem = <span class="hljs-keyword">new</span> TableElement(<span class="hljs-string">"string"</span>, <span class="hljs-string">"String"</span>);
        <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"string"</span>);
    },
    <span class="hljs-attr">_setFilterBasedOnType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.variableFilter = <span class="hljs-keyword">this</span>._getHandler();
        <span class="hljs-keyword">var</span> conditionRow = <span class="hljs-keyword">this</span>.tr.conditionRow;
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOper;
        <span class="hljs-keyword">if</span> (td)
            <span class="hljs-keyword">this</span>.tr.removeChild(td);
        td = conditionRow.addTD(<span class="hljs-keyword">this</span>.tr, <span class="hljs-keyword">this</span>.queryID);
        conditionRow.tdOper = td;
        td.id = <span class="hljs-string">"oper"</span>;
        <span class="hljs-keyword">this</span>.tr.tdOper = td;
        td.style.width = <span class="hljs-string">"99px"</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tr.variableID) {
            <span class="hljs-keyword">this</span>.tr.tdValue.id = <span class="hljs-string">"variableid"</span>;
            <span class="hljs-keyword">this</span>.tr.variableID = <span class="hljs-keyword">this</span>.tr.tdValue;
            <span class="hljs-keyword">this</span>.tr.tdValue = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.tdValue)
            <span class="hljs-keyword">this</span>.tr.removeChild(<span class="hljs-keyword">this</span>.tr.tdValue);
        td = conditionRow.addTD(<span class="hljs-keyword">this</span>.tr, <span class="hljs-keyword">this</span>.queryID);
        conditionRow.tdValue = td;
        td.id = <span class="hljs-string">"value"</span>;
        td.noWrap = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.tr.tdValue = td;
        <span class="hljs-keyword">this</span>._moveButtons();
        <span class="hljs-keyword">var</span> operSel = addOperators(<span class="hljs-keyword">this</span>.tr.tdOper, <span class="hljs-keyword">this</span>.vType, <span class="hljs-keyword">this</span>.varOp, <span class="hljs-keyword">this</span>.isChoice, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.tr.operSel = operSel;
        <span class="hljs-keyword">var</span> tid = <span class="hljs-keyword">this</span>.tr.tableField;
        <span class="hljs-keyword">this</span>.tr.tableField = <span class="hljs-string">"IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.variableFilter.create(<span class="hljs-keyword">this</span>.tr, <span class="hljs-keyword">this</span>.varValue);
        <span class="hljs-keyword">this</span>.tr.tableField = tid;
    },
    <span class="hljs-attr">_makeCatItemFirst</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdValue;
        <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.appendChild(td);
        <span class="hljs-keyword">this</span>._moveButtons();
    },
    <span class="hljs-attr">_moveButtons</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOrButton;
        <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.appendChild(td);
        td = <span class="hljs-keyword">this</span>.tr.tdRemoveButton;
        <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.appendChild(td);
    },
    <span class="hljs-attr">_buildType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gr</span>) </span>{
        <span class="hljs-keyword">this</span>.vItem = <span class="hljs-keyword">new</span> TableElement(gr.type, gr.type);
        <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"1"</span>)
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"boolean"</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"8"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"reference"</span>);
            <span class="hljs-keyword">this</span>.vItem.setReference(gr.reference);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"10"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"calendar"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"7"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"checkbox"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"18"</span> || gr.type == <span class="hljs-string">"22"</span> || gr.type == <span class="hljs-string">"3"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"multiple_choice"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"5"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"select"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"4"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"numeric_scale"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"9"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"calendar"</span>);
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>._buildStringType();
    },
    <span class="hljs-attr">_getHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"boolean"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"boolean"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterChoice(<span class="hljs-keyword">this</span>.tableName, <span class="hljs-keyword">this</span>.item);
            handler.setChoices(sysvalues[<span class="hljs-string">"catalog_boolean"</span>]);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"checkbox"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"boolean"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterChoice(<span class="hljs-keyword">this</span>.tableName, <span class="hljs-keyword">this</span>.item);
            handler.setChoices(sysvalues[<span class="hljs-string">"boolean"</span>]);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"multiple_choice"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"referencechoice"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterVariablesChoiceDynamic(<span class="hljs-string">"var.IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.item);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"select"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"referencechoice"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterVariablesChoiceDynamic(<span class="hljs-string">"var.IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.item);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"numeric_scale"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"integer"</span>;
            <span class="hljs-keyword">this</span>.isChoice = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterVariablesChoiceDynamic(<span class="hljs-string">"var.IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.item);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"reference"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"referencevariable"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterReference(<span class="hljs-string">"var.IO:"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.vItem);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vItem.type == <span class="hljs-string">"calendar"</span>) {
            <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"calendar"</span>;
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFilterDate(<span class="hljs-keyword">this</span>.tableName, <span class="hljs-keyword">this</span>.vItem);
            <span class="hljs-keyword">return</span> handler;
        }
        <span class="hljs-keyword">this</span>.vType = <span class="hljs-string">"string"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GlideFilterString(<span class="hljs-keyword">this</span>.tableName, <span class="hljs-keyword">this</span>.item);
    },
    <span class="hljs-attr">_onKeyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyDown(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyPress(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyUp(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyDownCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyDown(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], evt);
    },
    <span class="hljs-attr">_onKeyPressCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyPress(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], evt);
    },
    <span class="hljs-attr">_onKeyUpCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyUp(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], evt);
    },
    <span class="hljs-attr">_onFocusCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac = <span class="hljs-keyword">new</span> AJAXTableCompleter(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.catID, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setFilterCallBack(<span class="hljs-keyword">this</span>._refValueChangeCat.bind(<span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.elementName = <span class="hljs-string">"item_option_new.cat_item"</span>;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setAdditionalValue(<span class="hljs-string">"ac_columns"</span>, <span class="hljs-string">"short_description;category"</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">"active=true"</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});
<span class="hljs-keyword">var</span> GlideFilterVariablesChoiceDynamic = Class.create(GlideFilterChoiceDynamic, {
    <span class="hljs-attr">_getChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'PickList'</span>);
        ajax.addParam(<span class="hljs-string">'sysparm_chars'</span>, <span class="hljs-string">'*'</span>);
        ajax.addParam(<span class="hljs-string">'sysparm_nomax'</span>, <span class="hljs-string">'true'</span>);
        ajax.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-keyword">this</span>.tableName);
        <span class="hljs-keyword">var</span> response = ajax.getXMLWait();
        <span class="hljs-keyword">this</span>._addChoices(response);
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterQuestions.js */</span>
<span class="hljs-keyword">var</span> GlideFilterQuestions = Class.create(GlideFilterVariables, {
    <span class="hljs-attr">getFilterText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.variableFilter)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">"variablesHASQUESTION:"</span> + <span class="hljs-keyword">this</span>.getValues() + oper + <span class="hljs-keyword">this</span>.variableFilter.getValues();
    },
    <span class="hljs-attr">_refListOpenCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        reflistOpen(<span class="hljs-keyword">this</span>.catID, <span class="hljs-string">"cat_item"</span>, <span class="hljs-string">"sc_cat_item_producer"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_onFocusCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac = <span class="hljs-keyword">new</span> AJAXTableCompleter(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.catID, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setFilterCallBack(<span class="hljs-keyword">this</span>._refValueChangeCat.bind(<span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.elementName = <span class="hljs-string">"item_option_new.cat_item"</span>;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setAdditionalValue(<span class="hljs-string">"ac_columns"</span>, <span class="hljs-string">"short_description;category"</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.setAdditionalValue(<span class="hljs-string">"sysparm_ref_qual"</span>, <span class="hljs-string">"active=true^sys_class_name=sc_cat_item_producer"</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterItemVariables.js */</span>
<span class="hljs-keyword">var</span> GlideFilterItemVariables = Class.create(GlideFilterVariables, {
    <span class="hljs-attr">getFilterText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.variableFilter)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">"variablesHASITEMVARIABLE:"</span> + <span class="hljs-keyword">this</span>.getValues() + oper + <span class="hljs-keyword">this</span>.variableFilter.getValues();
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterVariableMap.js */</span>
<span class="hljs-keyword">var</span> GlideFilterVariableMap = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tr.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.selectedOption = values;
        <span class="hljs-keyword">this</span>.usedFields = {};
        <span class="hljs-keyword">this</span>.varTypes = {
            <span class="hljs-number">1</span>: [<span class="hljs-string">'string'</span>]
        };
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.queryID = <span class="hljs-keyword">this</span>.tr.tdValue.queryID;
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._hideOperators();
        <span class="hljs-keyword">this</span>.select = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-number">380</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.select.onchange = <span class="hljs-keyword">this</span>._updateFields.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> displayValue = gel(<span class="hljs-string">'fancy.'</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">if</span> (displayValue &amp;&amp; displayValue.value != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.select.value = displayValue.value;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values) {
            <span class="hljs-keyword">this</span>.select.value = <span class="hljs-keyword">this</span>.values;
        }
        <span class="hljs-keyword">this</span>._buildVariableSelect();
        $(<span class="hljs-keyword">this</span>.select).addClassName(<span class="hljs-string">'filter_type'</span>);
        <span class="hljs-keyword">var</span> $select = $j(<span class="hljs-keyword">this</span>.select);
        <span class="hljs-keyword">if</span> (!$select.data(<span class="hljs-string">'select2'</span>))
            $select.select2();
    },
    <span class="hljs-attr">_buildVariableSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values.length == <span class="hljs-number">0</span> || <span class="hljs-keyword">this</span>.values == <span class="hljs-string">'-- value --'</span>)
            addOption(<span class="hljs-keyword">this</span>.select, <span class="hljs-keyword">this</span>.values, getMessage(<span class="hljs-string">"-- Select Variable --"</span>), <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.item == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> arr = g_dynamic_filter_variable_options.split(<span class="hljs-string">"##"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
            <span class="hljs-keyword">var</span> aItem = arr[i];
            <span class="hljs-keyword">if</span> (aItem.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> aItemArr = aItem.split(<span class="hljs-string">"::"</span>);
            <span class="hljs-keyword">if</span> (aItemArr.length &lt; <span class="hljs-number">3</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> arrInput = [];
            arrInput.push(aItemArr[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">var</span> translated = getMessages(arrInput);
            addOption(<span class="hljs-keyword">this</span>.select, aItemArr[<span class="hljs-number">0</span>], translated[aItemArr[<span class="hljs-number">1</span>]], <span class="hljs-keyword">this</span>.selectedOption == aItemArr[<span class="hljs-number">0</span>]);
        }
    },
    <span class="hljs-attr">_hideOperators</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.tdOper)
            <span class="hljs-keyword">this</span>.tr.tdOper.style.display = <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (input) {
            <span class="hljs-keyword">return</span> input.value;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">_updateFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">_clearFieldUsed</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, condition</span>) </span>{
        <span class="hljs-keyword">this</span>.usedFields[name] = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_buildType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gr</span>) </span>{
        <span class="hljs-keyword">this</span>.vItem = <span class="hljs-keyword">new</span> TableElement(gr.type, gr.type);
        <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"1"</span>)
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"boolean"</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"8"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"reference"</span>);
            <span class="hljs-keyword">this</span>.vItem.setReference(gr.reference);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"10"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"calendar"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"7"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"checkbox"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"18"</span> || gr.type == <span class="hljs-string">"22"</span> || gr.type == <span class="hljs-string">"3"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"multiple_choice"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"5"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"select"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"4"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"numeric_scale"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gr.type == <span class="hljs-string">"9"</span>) {
            <span class="hljs-keyword">this</span>.vItem.setType(<span class="hljs-string">"calendar"</span>);
        }
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterLabels.js */</span>
<span class="hljs-keyword">var</span> GlideFilterLabels = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tr.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.labID = <span class="hljs-string">"label_entry.label."</span> + guid();
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.rightOperand = values;
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">this</span>.varValue = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (values) {
            <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = values.substring(<span class="hljs-number">0</span>, <span class="hljs-number">32</span>);
            <span class="hljs-keyword">this</span>.refQuery = values.substring(<span class="hljs-number">32</span>);
            <span class="hljs-keyword">this</span>.varValue = <span class="hljs-keyword">this</span>.refQuery;
        }
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.queryID = <span class="hljs-keyword">this</span>.tr.tdValue.queryID;
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._hideOperators();
        <span class="hljs-keyword">var</span> inDoctypeMode = (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput(<span class="hljs-string">"hidden"</span>);
        input.id = <span class="hljs-keyword">this</span>.labID;
        input = <span class="hljs-keyword">this</span>._addTextInput();
        input.id = <span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.labID;
        input.onfocus = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onRefPick = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onkeydown = <span class="hljs-keyword">this</span>._onKeyDown.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeypress = <span class="hljs-keyword">this</span>._onKeyPress.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeyup = <span class="hljs-keyword">this</span>._onKeyUp.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.autocomplete = <span class="hljs-string">"off"</span>;
        input.data_completer = <span class="hljs-string">"AJAXTableCompleter"</span>;
        input.ac_columns = <span class="hljs-string">"short_description"</span>;
        input.ac_order_by = <span class="hljs-string">""</span>;
        input.placeholder = getMessage(<span class="hljs-string">"Select Label"</span>);
        setAttributeValue(input, <span class="hljs-string">'autocomplete'</span>, <span class="hljs-string">'off'</span>);
        <span class="hljs-keyword">var</span> displayValue = gel(<span class="hljs-string">'fancy.'</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">if</span> (displayValue &amp;&amp; displayValue.value != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = displayValue.value;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = <span class="hljs-keyword">this</span>.values;
            <span class="hljs-keyword">this</span>._resolveReference();
        }
        <span class="hljs-keyword">if</span> (inDoctypeMode) {
            <span class="hljs-keyword">var</span> btn = cel(<span class="hljs-string">"button"</span>);
            btn.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"icon-search btn btn-default filerTableAction"</span>);
            btn.setAttribute(<span class="hljs-string">"style"</span>, <span class="hljs-string">"margin-left: 2px"</span>);
            btn.onclick = <span class="hljs-keyword">this</span>._refListOpen.bindAsEventListener(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(btn);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> image = createImage(<span class="hljs-string">"images/reference_list.gifx"</span>, <span class="hljs-string">"Lookup using list"</span>, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>._refListOpen);
            image.setAttribute(<span class="hljs-string">"class"</span>, <span class="hljs-string">"filerTableAction"</span>)
            <span class="hljs-keyword">this</span>.tr.tdValue.appendChild(image);
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.varValue)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._getVariableType(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr) {
            <span class="hljs-keyword">this</span>.tr.tdValue.innerHTML = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.variableID) {
                <span class="hljs-keyword">this</span>.tr.removeChild(<span class="hljs-keyword">this</span>.tr.variableID);
                <span class="hljs-keyword">this</span>.tr.variableID = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOper;
            <span class="hljs-keyword">if</span> (td)
                td.style.display = <span class="hljs-string">"block"</span>;
        }
        GlideFilterHandler.prototype.destroy.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">setOriginalTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName</span>) </span>{
        <span class="hljs-keyword">this</span>.originalTableName = tableName;
    },
    <span class="hljs-attr">_hideOperators</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tr.tdOper)
            <span class="hljs-keyword">this</span>.tr.tdOper.style.display = <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">_refListOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        reflistOpen(<span class="hljs-keyword">this</span>.labID, <span class="hljs-keyword">this</span>.item.getName(), <span class="hljs-string">"label"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMappingEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMappingValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper())
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (input) {
            <span class="hljs-keyword">return</span> input.value;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">getFilterText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"sys_tags."</span> + <span class="hljs-keyword">this</span>.getValues() + <span class="hljs-string">'='</span> + <span class="hljs-keyword">this</span>.getValues();
    },
    <span class="hljs-attr">_useDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oper</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.item.getType() != <span class="hljs-string">'glide_list'</span> &amp;&amp; oper != <span class="hljs-string">'='</span> &amp;&amp; oper != <span class="hljs-string">'!='</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESFROM"</span> &amp;&amp; oper != <span class="hljs-string">"CHANGESTO"</span>;
    },
    <span class="hljs-attr">_resolveReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ResolveRef"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"label_entry.label"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
            ajax.getXML(<span class="hljs-keyword">this</span>._resolveReferenceResponse.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">_resolveReferenceResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
            <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span> &amp;&amp; items[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>])
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].value = items[<span class="hljs-number">0</span>].getAttribute(<span class="hljs-string">"label"</span>);
        }
    },
    <span class="hljs-attr">_onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac) {
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac = <span class="hljs-keyword">new</span> AJAXTableCompleter(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.labID, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setFilterCallBack(<span class="hljs-keyword">this</span>._refValueChange.bind(<span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.elementName = <span class="hljs-string">"label_entry.label"</span>;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.setAdditionalValue(<span class="hljs-string">"ac_columns"</span>, <span class="hljs-string">"short_description"</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">_refValueChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ref = <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac;
        <span class="hljs-keyword">var</span> e = ref.getKeyElement();
        <span class="hljs-keyword">var</span> id = e.value;
        <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = id;
    },
    <span class="hljs-attr">_moveButtons</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdOrButton;
        <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.appendChild(td);
        td = <span class="hljs-keyword">this</span>.tr.tdRemoveButton;
        <span class="hljs-keyword">this</span>.tr.removeChild(td);
        <span class="hljs-keyword">this</span>.tr.appendChild(td);
    },
    <span class="hljs-attr">_onKeyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyDown(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyPress(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyUp(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], evt);
    },
    <span class="hljs-attr">_onKeyDownCat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">return</span> acReferenceKeyDown(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">3</span>], evt);
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterReferenceMulti.js */</span>
<span class="hljs-keyword">var</span> GlideFilterReferenceMulti = Class.create(GlideFilterReference, {
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">20</span>;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-keyword">this</span>.tr.tableField + <span class="hljs-string">"."</span> + guid();
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_initAutoCompleter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.item.getReference(<span class="hljs-string">"reference"</span>) == <span class="hljs-string">"sys_user"</span>) {
                $(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>]).setAttribute(<span class="hljs-string">'allow_invalid'</span>, <span class="hljs-literal">true</span>)
                $(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>]).setAttribute(<span class="hljs-string">'reference'</span>, <span class="hljs-string">"sys_user"</span>);
            }
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac = <span class="hljs-keyword">new</span> AJAXReferenceCompleterMulti(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.id, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.elementName = <span class="hljs-keyword">this</span>.tr.tableField;
            <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.clearDerivedFields = <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">_onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">this</span>._initAutoCompleter();
    },
    <span class="hljs-attr">_resolveReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values) {
            <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ResolveRefMulti"</span>);
            ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.tr.tableField);
            ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.values);
            ajax.getXML(<span class="hljs-keyword">this</span>._resolveReferenceResponse.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">_resolveReferenceResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
            <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">this</span>._initAutoCompleter();
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac._hash = <span class="hljs-keyword">new</span> Hash();
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
                    <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac._hash.set(items[i].getAttribute(<span class="hljs-string">"label"</span>), items[i].getAttribute(<span class="hljs-string">"name"</span>));
                }
                <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac._setFormValues();
            }
        }
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._initAutoCompleter();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>].ac.getKeyValue();
    },
    <span class="hljs-attr">_initValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">if</span> (!values)
            <span class="hljs-keyword">this</span>.values = [];
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.values = values;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideFilterDate.js */</span>
<span class="hljs-keyword">var</span> GlideFilterDate = Class.create(GlideFilterHandler, {
    <span class="hljs-attr">SYS_DATE_FORMAT</span>: <span class="hljs-string">"yyyy-MM-dd"</span>,
    <span class="hljs-attr">SYS_TIME_FORMAT</span>: <span class="hljs-string">"HH:mm:ss"</span>,
    <span class="hljs-attr">SYS_DATE_TIME_FORMAT</span>: <span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>,
    <span class="hljs-attr">_setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.maxValues = <span class="hljs-number">4</span>;
        <span class="hljs-keyword">this</span>.listenForOperChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.userDateFormat = g_user_date_format;
        <span class="hljs-keyword">this</span>.userTimeFormat = g_user_date_time_format.substring(g_user_date_format.length + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.userDateTimeFormat = g_user_date_time_format;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-string">"GwtGFD_"</span> + guid();
        <span class="hljs-keyword">this</span>.allowTime = <span class="hljs-keyword">this</span>.item.isDateTime();
    },
    <span class="hljs-attr">_build</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.ANDMSG = getMessage(<span class="hljs-string">'and'</span>);
        <span class="hljs-keyword">this</span>.FROMMSG = getMessage(<span class="hljs-string">'from'</span>);
        <span class="hljs-keyword">this</span>.ASMSG = getMessage(<span class="hljs-string">'as'</span>);
        clearNodes(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmptyOper()) {
            <span class="hljs-keyword">this</span>._addInvisibleTextInput();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.prevOper &amp;&amp; (<span class="hljs-keyword">this</span>.prevOper != oper))
            <span class="hljs-keyword">this</span>._clearValues();
        <span class="hljs-keyword">switch</span> (oper) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'SAMEAS'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'NSAMEAS'</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getFilterClass() != <span class="hljs-string">"GlideTemplateFilter"</span>) {
                    <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'TRENDVALUES_WITH_FIELDS'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>], [<span class="hljs-number">1</span>]);
                    <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">"span"</span>, <span class="hljs-keyword">this</span>.tr.tdValue);
                    span.style.marginLeft = <span class="hljs-string">"3px"</span>;
                    span.style.marginRight = <span class="hljs-string">"5px"</span>;
                    <span class="hljs-keyword">if</span> (oper == <span class="hljs-string">'SAMEAS'</span>)
                        span.innerHTML = <span class="hljs-keyword">this</span>.ASMSG;
                    <span class="hljs-keyword">else</span>
                        span.innerHTML = <span class="hljs-keyword">this</span>.FROMMSG;
                }
                <span class="hljs-keyword">this</span>._populateRightOperandChoices();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'='</span>:
                <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addCalendar(<span class="hljs-keyword">this</span>.id);
                <span class="hljs-keyword">this</span>.inputs = [input];
                input.type = <span class="hljs-string">"text"</span>;
                input.value = (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>].indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span> ? <span class="hljs-string">""</span> : <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
                input.id = <span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_input_1"</span>;
                input.allowTime = <span class="hljs-keyword">this</span>.allowTime
                <span class="hljs-keyword">this</span>.inputCnt = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'!='</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'ON'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'NOTON'</span>:
                <span class="hljs-keyword">var</span> val = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (val)
                    val += <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>];
                <span class="hljs-keyword">this</span>._addDateChoices(<span class="hljs-keyword">this</span>.id, val, [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>], <span class="hljs-literal">false</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;='</span>:
                <span class="hljs-keyword">var</span> pos = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">this</span>._addDateChoices(<span class="hljs-keyword">this</span>.id, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], [pos], <span class="hljs-keyword">this</span>.allowTime, <span class="hljs-string">'start'</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;='</span>:
                <span class="hljs-keyword">var</span> pos = <span class="hljs-number">3</span>;
                <span class="hljs-keyword">this</span>._addDateChoices(<span class="hljs-keyword">this</span>.id, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], [pos], <span class="hljs-keyword">this</span>.allowTime, <span class="hljs-string">'end'</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'BETWEEN'</span>:
                <span class="hljs-keyword">this</span>._addDateChoices(<span class="hljs-keyword">this</span>.id, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], [<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.allowTime, <span class="hljs-string">'start'</span>);
                <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">"span"</span>, <span class="hljs-keyword">this</span>.tr.tdValue);
                span.style.marginLeft = <span class="hljs-string">"3px"</span>;
                span.style.marginRight = <span class="hljs-string">"5px"</span>;
                span.className = <span class="hljs-string">"filter-inline-label"</span>;
                span.innerHTML = <span class="hljs-keyword">this</span>.ANDMSG;
                <span class="hljs-keyword">this</span>._addDateChoices(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_2"</span>, <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>], [<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.allowTime, <span class="hljs-string">'end'</span>);
                <span class="hljs-keyword">this</span>.initBetweenMapping(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'DATEPART'</span>:
                <span class="hljs-keyword">var</span> trendOper = <span class="hljs-string">"EE"</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>]) {
                    <span class="hljs-keyword">var</span> parts = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>].split(<span class="hljs-string">","</span>);
                    <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">3</span>)
                        trendOper = parts[<span class="hljs-number">2</span>].substring(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>);
                }
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'RELATIVE'</span>], trendOper, [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_2"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'DATEPART'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], [<span class="hljs-number">0</span>]);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'RELATIVE'</span>:
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-string">"1"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'RELATIVE'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>], [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput();
                input.value = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>];
                input.style.width = <span class="hljs-string">"30px"</span>;
                input.maxLength = <span class="hljs-number">5</span>;
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_2"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'TRENDVALUES'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>], [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_3"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'WHEN'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>], [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'MORETHAN'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'LESSTHAN'</span>:
                <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>._addTextInput();
                <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] || <span class="hljs-string">""</span> == <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>])
                    <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (isMSIE)
                    input.style.marginTop = <span class="hljs-string">"-1px"</span>;
                input.value = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>];
                input.style.width = <span class="hljs-string">"30px"</span>;
                input.style.marginRight = <span class="hljs-string">"2px"</span>;
                input.maxLength = <span class="hljs-number">2</span>;
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_2"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'TRENDVALUES_WITH_FIELDS_PLURAL'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>], [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">this</span>._addDateSelect(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_3"</span>, sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'WHEN_WITH_FIELDS'</span>], <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>], [<span class="hljs-number">1</span>]);
                <span class="hljs-keyword">this</span>._populateRightOperandChoices();
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'SINCE'</span>:
                <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-keyword">this</span>.size);
                s.style.marginRight = <span class="hljs-string">"3px"</span>;
                s.id = <span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_select_1"</span>;
                <span class="hljs-keyword">var</span> base = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'cmdb_baseline'</span>);
                base.addOrderBy(<span class="hljs-string">'name'</span>);
                base.query();
                <span class="hljs-keyword">while</span> (base.next()) {
                    <span class="hljs-keyword">var</span> selected = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">var</span> value = <span class="hljs-string">"javascript:getBaseFilter('"</span> + base.name + <span class="hljs-string">"')"</span>;
                    <span class="hljs-keyword">if</span> (value == <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>])
                        selected = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">var</span> o = addOption(s, value, base.name, selected);
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'ANYTHING'</span>:
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">this</span>.prevOper = oper;
        <span class="hljs-keyword">if</span> (notOneOf(<span class="hljs-string">'BETWEEN ANYTHING RELATIVE SINCE MORETHAN LESSTHAN SAMEAS NSAMEAS DATEPART'</span>)) {
            <span class="hljs-keyword">this</span>.initAlphaMapping(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notOneOf</span>(<span class="hljs-params">str</span>) </span>{
            <span class="hljs-keyword">return</span> str.split(<span class="hljs-string">' '</span>).indexOf(oper) == <span class="hljs-number">-1</span>;
        }
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.maxValues; i++)
            <span class="hljs-keyword">this</span>.values[i] = <span class="hljs-keyword">this</span>._getInputValue(<span class="hljs-keyword">this</span>.inputs[i]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.supportsMapping) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getOperator() == <span class="hljs-string">'BETWEEN'</span>) {
                <span class="hljs-keyword">var</span> $td = $j(<span class="hljs-keyword">this</span>.tr.tdValue);
                <span class="hljs-keyword">var</span> $in1 = $td.find(<span class="hljs-string">'#em_input_1'</span>);
                <span class="hljs-keyword">var</span> $in2 = $td.find(<span class="hljs-string">'#em_input_2'</span>);
                <span class="hljs-keyword">if</span> ($in1.val() || $in2.val()) {
                    <span class="hljs-keyword">return</span> (
                        ($in1.val() || <span class="hljs-keyword">this</span>._getDateGenerate(<span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]), <span class="hljs-string">'start'</span>)) +
                        <span class="hljs-string">"@"</span> +
                        ($in2.val() || <span class="hljs-keyword">this</span>._getDateGenerate(<span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>]), <span class="hljs-string">'end'</span>))
                    );
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> gemVal = $j(<span class="hljs-keyword">this</span>.tr.tdValue).find(<span class="hljs-string">'#em_input_1'</span>).val();
                <span class="hljs-keyword">if</span> (gemVal) {
                    <span class="hljs-keyword">return</span> gemVal;
                }
            }
        }
        <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>._getOperator()) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'ON'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'NOTON'</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>].indexOf(<span class="hljs-string">'@'</span>) != <span class="hljs-number">-1</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
                <span class="hljs-keyword">return</span> value + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>._getDateGenerate(value, <span class="hljs-string">'start'</span>) + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>._getDateGenerate(value, <span class="hljs-string">'end'</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&lt;='</span>:
                <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getDateGenerate(value, <span class="hljs-string">'start'</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'&gt;='</span>:
                <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getDateGenerate(value, <span class="hljs-string">'end'</span>);
            <span class="hljs-keyword">case</span> <span class="hljs-string">'BETWEEN'</span>:
                <span class="hljs-keyword">var</span> start = <span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]);
                start = <span class="hljs-keyword">this</span>._getDateGenerate(start, <span class="hljs-string">'start'</span>);
                <span class="hljs-keyword">var</span> end = <span class="hljs-keyword">this</span>._convertDate(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>]);
                end = <span class="hljs-keyword">this</span>._getDateGenerate(end, <span class="hljs-string">'end'</span>);
                <span class="hljs-keyword">return</span> start + <span class="hljs-string">"@"</span> + end;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'DATEPART'</span>:
                <span class="hljs-keyword">var</span> trendOper = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">var</span> datePart = <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">var</span> values = sysvalues[<span class="hljs-string">'calendar'</span>][<span class="hljs-string">'DATEPART'</span>];
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; values.length; i++) {
                    <span class="hljs-keyword">if</span> (datePart == values[i][<span class="hljs-number">0</span>]) {
                        datePart = values[i][<span class="hljs-number">1</span>];
                        <span class="hljs-keyword">break</span>;
                    }
                }
                datePart = datePart.split(<span class="hljs-string">")"</span>)[<span class="hljs-number">0</span>] + <span class="hljs-string">",'"</span> + trendOper + <span class="hljs-string">"')"</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] + <span class="hljs-string">"@"</span> + datePart;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'='</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'!='</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'RELATIVE'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'SAMEAS'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'NSAMEAS'</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] == <span class="hljs-string">""</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'MORETHAN'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'LESSTHAN'</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(<span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>]))
                    <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">3</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">1</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">2</span>] + <span class="hljs-string">"@"</span> + <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'SINCE'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'ANYTHING'</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.inputCnt == <span class="hljs-number">1</span>)
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values.join(<span class="hljs-string">"@"</span>);
        }
    },
    <span class="hljs-attr">_addDateSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, values, matchValue, positions, dynamicOptions</span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._addSelect(<span class="hljs-keyword">this</span>.width, <span class="hljs-keyword">this</span>.multi, <span class="hljs-keyword">this</span>.size);
        s.style.marginRight = <span class="hljs-string">"3px"</span>;
        s.id = <span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_select_"</span> + id;
        <span class="hljs-keyword">this</span>._addDateSelectOptions(s, values, matchValue, positions);
        <span class="hljs-keyword">if</span> (dynamicOptions)
            <span class="hljs-keyword">this</span>._addDateSelectOptions(s, dynamicOptions, matchValue, positions);
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">_addDateSelectOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select, values, matchValue, positions</span>) </span>{
        <span class="hljs-keyword">if</span> (!values)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> map = getMessages(buildMap(values, <span class="hljs-number">0</span>));
        <span class="hljs-keyword">var</span> previousValue = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; values.length; i++) {
            <span class="hljs-keyword">var</span> option = values[i];
            <span class="hljs-keyword">var</span> value = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> pos = <span class="hljs-number">0</span>; pos &lt; positions.length; pos++) {
                <span class="hljs-keyword">if</span> (pos &gt; <span class="hljs-number">0</span>)
                    value += <span class="hljs-string">"@"</span>;
                value += option[positions[pos]];
            }
            <span class="hljs-keyword">if</span> (previousValue == <span class="hljs-literal">null</span> || previousValue != value)
                addOption(select, value, map[option[<span class="hljs-number">0</span>]], value == matchValue);
            previousValue = value;
        }
    },
    <span class="hljs-attr">_addDateChoices</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, matchValue, positions, allowTime, defaultTime</span>) </span>{
        <span class="hljs-keyword">var</span> dynamicOptions = <span class="hljs-keyword">this</span>._getDynamicCalendarOption();
        <span class="hljs-keyword">var</span> select = <span class="hljs-keyword">this</span>._addDateSelect(id, sysvalues[<span class="hljs-string">'calendar'</span>], matchValue, positions, dynamicOptions);
        <span class="hljs-keyword">this</span>._addDatePicker(id, select, matchValue, allowTime, defaultTime);
    },
    <span class="hljs-attr">_getDynamicCalendarOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_dynamic_filter_options_calendar == <span class="hljs-string">'undefined'</span> || g_dynamic_filter_options_calendar == <span class="hljs-string">''</span>)
            <span class="hljs-keyword">return</span> [];
        <span class="hljs-keyword">var</span> dynamicOptions = [];
        <span class="hljs-keyword">var</span> items = g_dynamic_filter_options_calendar.split(<span class="hljs-string">'##'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">if</span> (items[i].length &lt;= <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> option = items[i].split(<span class="hljs-string">'::'</span>);
            dynamicOptions.push(option);
        }
        <span class="hljs-keyword">return</span> dynamicOptions;
    },
    <span class="hljs-attr">_addDatePicker</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, select, value, allowTime, defaultTime</span>) </span>{
        <span class="hljs-keyword">var</span> found = (select.selectedIndex != <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">if</span> ((select.selectedIndex == <span class="hljs-number">0</span>) &amp;&amp; (value) &amp;&amp; (value != select.options[<span class="hljs-number">0</span>].value))
            found = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!found) {
            value = <span class="hljs-keyword">this</span>._getDateFromValue(value);
            addOption(select, value, value, <span class="hljs-literal">true</span>);
        }
        select.allowTime = allowTime;
        select.defaultTime = defaultTime;
        <span class="hljs-keyword">this</span>._addCalendar(id);
    },
    <span class="hljs-attr">_addCalendar</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> chooseDate = getMessage(<span class="hljs-string">'Choose date...'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>) {
            <span class="hljs-keyword">var</span> input = addTextInput(<span class="hljs-keyword">this</span>.tr.tdValue, <span class="hljs-string">""</span>, <span class="hljs-string">"hidden"</span>);
            <span class="hljs-keyword">var</span> cal = cel(<span class="hljs-string">"button"</span>, <span class="hljs-keyword">this</span>.tr.tdValue);
            cal.id = <span class="hljs-string">"cal_"</span> + id;
            cal.name = cal.id;
            cal.setAttribute(<span class="hljs-string">'type'</span>, <span class="hljs-string">'button'</span>);
            cal.setAttribute(<span class="hljs-string">'aria-label'</span>, chooseDate);
            cal.title = chooseDate;
            cal.onclick = <span class="hljs-keyword">this</span>._calendarPopup.bind(<span class="hljs-keyword">this</span>, id, cal);
            cal.style.marginRight = <span class="hljs-string">"1px"</span>;
            cal.style.verticalAlign = <span class="hljs-string">"top"</span>;
            cal.className = <span class="hljs-string">"btn btn-default icon-calendar"</span>;
            input.id = <span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_input_"</span> + id;
            input.onchange = <span class="hljs-keyword">this</span>._dateTimeComplete.bind(<span class="hljs-keyword">this</span>, id);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> cal = cel(<span class="hljs-string">"img"</span>, <span class="hljs-keyword">this</span>.tr.tdValue);
            cal.id = <span class="hljs-string">"cal_"</span> + id;
            cal.name = cal.id;
            cal.src = <span class="hljs-string">"images/small_calendar.gifx"</span>;
            cal.alt = chooseDate;
            cal.title = chooseDate;
            cal.onclick = <span class="hljs-keyword">this</span>._calendarPopup.bind(<span class="hljs-keyword">this</span>, id);
            cal.style.marginLeft = <span class="hljs-string">"2px"</span>;
            cal.className = <span class="hljs-string">"button"</span>;
            <span class="hljs-keyword">var</span> input = addTextInput(<span class="hljs-keyword">this</span>.tr.tdValue, <span class="hljs-string">""</span>, <span class="hljs-string">"hidden"</span>);
            input.id = <span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_input_"</span> + id;
            input.onchange = <span class="hljs-keyword">this</span>._dateTimeComplete.bind(<span class="hljs-keyword">this</span>, id);
        }
        <span class="hljs-keyword">return</span> input;
    },
    <span class="hljs-attr">_getDateFromValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> value = value.split(<span class="hljs-string">"@"</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> prefixString = <span class="hljs-string">"javascript:gs.dateGenerate("</span>;
        <span class="hljs-keyword">if</span> (value.indexOf(prefixString) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> parts = value.split(<span class="hljs-string">"'"</span>);
            <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">5</span>) {
                value = parts[<span class="hljs-number">1</span>];
                <span class="hljs-keyword">if</span> (isDate(parts[<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.SYS_TIME_FORMAT)) {
                    <span class="hljs-keyword">var</span> dt = getDateFromFormat(parts[<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.SYS_TIME_FORMAT);
                    value += <span class="hljs-string">" "</span> + formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.SYS_TIME_FORMAT);
                }
            }
        }
        <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.SYS_DATE_TIME_FORMAT)) {
            <span class="hljs-keyword">var</span> dt = getDateFromFormat(value, <span class="hljs-keyword">this</span>.SYS_DATE_TIME_FORMAT);
            value = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.userDateTimeFormat);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.SYS_DATE_FORMAT)) {
            <span class="hljs-keyword">var</span> dt = getDateFromFormat(value, <span class="hljs-keyword">this</span>.SYS_DATE_FORMAT);
            value = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.userDateFormat);
        }
        <span class="hljs-keyword">return</span> value;
    },
    <span class="hljs-attr">_getDateGenerate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, tag</span>) </span>{
        <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"javascript:"</span>) != <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> value;
        <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.SYS_DATE_TIME_FORMAT)) {
            <span class="hljs-keyword">var</span> dt = getDateFromFormat(value, <span class="hljs-keyword">this</span>.SYS_DATE_TIME_FORMAT);
            value = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.SYS_DATE_FORMAT);
            tag = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.SYS_TIME_FORMAT);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"javascript:gs.dateGenerate('"</span> + value + <span class="hljs-string">"','"</span> + tag + <span class="hljs-string">"')"</span>;
    },
    <span class="hljs-attr">_convertDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"javascript:"</span>) != <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> value;
        <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.userDateTimeFormat)) {
            <span class="hljs-keyword">var</span> dt = getDateFromFormat(value, <span class="hljs-keyword">this</span>.userDateTimeFormat);
            value = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.SYS_DATE_TIME_FORMAT);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.userDateFormat)) {
            <span class="hljs-keyword">var</span> dt = getDateFromFormat(value, <span class="hljs-keyword">this</span>.userDateFormat);
            value = formatDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(dt), <span class="hljs-keyword">this</span>.SYS_DATE_FORMAT);
        }
        <span class="hljs-keyword">return</span> value;
    },
    <span class="hljs-attr">_calendarPopup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, btn</span>) </span>{
        <span class="hljs-keyword">var</span> select = gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_select_"</span> + id);
        <span class="hljs-keyword">var</span> currentDate = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> defaultTime = <span class="hljs-string">"start"</span>;
        <span class="hljs-keyword">var</span> allowTime = <span class="hljs-keyword">this</span>.allowTime;
        <span class="hljs-keyword">if</span> (select) {
            <span class="hljs-keyword">if</span> (select &amp;&amp; select.value.indexOf(<span class="hljs-string">'javascript'</span>) == <span class="hljs-number">-1</span>)
                currentDate = select.value;
            defaultTime = select.defaultTime
            allowTime = select.allowTime;
        }
        <span class="hljs-keyword">var</span> format;
        <span class="hljs-keyword">if</span> (allowTime) {
            format = <span class="hljs-keyword">this</span>.userDateTimeFormat;
            <span class="hljs-keyword">if</span> (!isDate(currentDate, format)) {
                <span class="hljs-keyword">var</span> dt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
                <span class="hljs-keyword">if</span> (isDate(currentDate, <span class="hljs-keyword">this</span>.userDateFormat))
                    dt = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(getDateFromFormat(currentDate, <span class="hljs-keyword">this</span>.userDateFormat));
                <span class="hljs-keyword">if</span> (defaultTime == <span class="hljs-string">'end'</span>)
                    dt.setHours(<span class="hljs-number">23</span>, <span class="hljs-number">59</span>, <span class="hljs-number">59</span>);
                <span class="hljs-keyword">else</span>
                    dt.setHours(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
                currentDate = formatDate(dt, <span class="hljs-keyword">this</span>.userDateTimeFormat);
            }
        } <span class="hljs-keyword">else</span> {
            format = <span class="hljs-keyword">this</span>.userDateFormat;
        }
        <span class="hljs-keyword">var</span> input = gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_input_"</span> + id);
        <span class="hljs-keyword">if</span> (!input)
            input = gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">'_input_1'</span>);
        input.value = currentDate;
        ScriptLoader.getScripts(<span class="hljs-string">'scripts/classes/GwtDateTimePicker.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">new</span> GwtDateTimePicker(input.id, format, allowTime, select || input);
        })
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_dateTimeComplete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> select = gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_select_"</span> + id);
        <span class="hljs-keyword">var</span> input = gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_input_"</span> + id);
        <span class="hljs-keyword">if</span> (!select)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> option = select.options[select.selectedIndex];
        <span class="hljs-keyword">var</span> value = option.value;
        <span class="hljs-keyword">if</span> (isDate(value, <span class="hljs-keyword">this</span>.userDateFormat) || isDate(value, <span class="hljs-keyword">this</span>.userDateTimeFormat)) {
            option.value = input.value;
            option.text = input.value;
        } <span class="hljs-keyword">else</span>
            addOption(select, input.value, input.value, <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">initBetweenMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value1, value2</span>) </span>{
        <span class="hljs-keyword">var</span> $td = $j(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">var</span> $btn1 = <span class="hljs-keyword">this</span>.emTemplate.makeBtn();
        <span class="hljs-keyword">var</span> $field1 = <span class="hljs-keyword">this</span>.emTemplate.makeField();
        <span class="hljs-keyword">var</span> $input1 = <span class="hljs-keyword">this</span>.emTemplate.makeInput(<span class="hljs-string">'em_input_1'</span>, value1);
        <span class="hljs-keyword">var</span> $nativeInput1 = $j(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">var</span> $dateBtn = $td.find(<span class="hljs-string">'#cal_1'</span>);
        $dateBtn.after($btn1);
        $dateBtn.after($field1);
        $dateBtn.after($input1);
        <span class="hljs-keyword">this</span>._initMappingComponent($field1, $btn1, {
            <span class="hljs-attr">glideType</span>: <span class="hljs-string">'calendar'</span>,
            <span class="hljs-attr">isMultiText</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">originalMapping</span>: value1.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span> ? value1 : <span class="hljs-string">""</span>,
            <span class="hljs-attr">parent</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_1, select[id*="_select_1"]'</span>).show();
                },
                <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_1, select[id*="_select_1"]'</span>).hide();
                },
                <span class="hljs-attr">onValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
                    <span class="hljs-keyword">var</span> value = msg.wrappedValue;
                    $input1.val(value);
                    <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"{{"</span>) == <span class="hljs-number">-1</span>) {
                        $nativeInput1.val($nativeInput1.find(<span class="hljs-string">"option:first"</span>).val());
                    }
                }
            }
        });
        <span class="hljs-keyword">var</span> $btn2 = <span class="hljs-keyword">this</span>.emTemplate.makeBtn();
        <span class="hljs-keyword">var</span> $field2 = <span class="hljs-keyword">this</span>.emTemplate.makeField();
        <span class="hljs-keyword">var</span> $input2 = <span class="hljs-keyword">this</span>.emTemplate.makeInput(<span class="hljs-string">'em_input_2'</span>, value2);
        <span class="hljs-keyword">var</span> $nativeInput2 = $j(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">1</span>]);
        $btn2.css({
            <span class="hljs-string">"margin-right"</span>: <span class="hljs-string">"90px"</span>
        })
        $td.append($input2);
        $td.append($field2);
        $td.append($btn2);
        <span class="hljs-keyword">this</span>._initMappingComponent($field2, $btn2, {
            <span class="hljs-attr">glideType</span>: <span class="hljs-string">'calendar'</span>,
            <span class="hljs-attr">isMultiText</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">originalMapping</span>: value2.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span> ? value2 : <span class="hljs-string">""</span>,
            <span class="hljs-attr">parent</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_2, select[id*="_select_2"]'</span>).show();
                },
                <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_2, select[id*="_select_2"]'</span>).hide();
                },
                <span class="hljs-attr">onValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
                    <span class="hljs-keyword">var</span> value = msg.wrappedValue;
                    $input2.val(value);
                    <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"{{"</span>) == <span class="hljs-number">-1</span>) {
                        $nativeInput2.val($nativeInput2.find(<span class="hljs-string">"option:first"</span>).val());
                    }
                }
            }
        });
        $j(<span class="hljs-keyword">this</span>.tr.tdValue)[<span class="hljs-keyword">this</span>.supportsMapping ? <span class="hljs-string">'removeClass'</span> : <span class="hljs-string">'addClass'</span>](<span class="hljs-string">"gem-unsupported"</span>);
        <span class="hljs-keyword">this</span>._removePlaceholderBtn();
    },
    <span class="hljs-attr">initAlphaMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        value = value.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span> ? value : <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> $td = $j(<span class="hljs-keyword">this</span>.tr.tdValue);
        <span class="hljs-keyword">var</span> $btn = <span class="hljs-keyword">this</span>.emTemplate.makeBtn();
        <span class="hljs-keyword">var</span> $field = <span class="hljs-keyword">this</span>.emTemplate.makeField();
        <span class="hljs-keyword">var</span> $input = <span class="hljs-keyword">this</span>.emTemplate.makeInput(<span class="hljs-string">'em_input_1'</span>, value);
        $td.append($field).append($btn).append($input);
        <span class="hljs-keyword">var</span> $nativeInput = $j(<span class="hljs-keyword">this</span>.inputs[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">var</span> oper = <span class="hljs-keyword">this</span>._getOperator();
        <span class="hljs-keyword">this</span>._initMappingComponent($field, $btn, {
            <span class="hljs-attr">glideType</span>: <span class="hljs-string">'calendar'</span>,
            <span class="hljs-attr">isMultiText</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">originalMapping</span>: value.indexOf(<span class="hljs-string">"{{"</span>) !== <span class="hljs-number">-1</span> ? value : <span class="hljs-string">""</span>,
            <span class="hljs-attr">parent</span>: {
                <span class="hljs-attr">show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_1, select[id*="_select_1"]'</span>).show();
                    <span class="hljs-keyword">if</span> (oper == <span class="hljs-string">"="</span>)
                        $td.find(<span class="hljs-string">'input[id*="_input_1"]'</span>).show();
                },
                <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $td.find(<span class="hljs-string">'#cal_1, select[id*="_select_1"]'</span>).hide();
                    <span class="hljs-keyword">if</span> (oper == <span class="hljs-string">"="</span>)
                        $td.find(<span class="hljs-string">'input[id*="_input_1"]'</span>).hide();
                },
                <span class="hljs-attr">onValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
                    <span class="hljs-keyword">var</span> value = msg.wrappedValue;
                    $input.val(value);
                    <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"{{"</span>) == <span class="hljs-number">-1</span>) {
                        $nativeInput.val($nativeInput.find(<span class="hljs-string">"option:first"</span>).val());
                    }
                }
            }
        });
        $j(<span class="hljs-keyword">this</span>.tr.tdValue)[<span class="hljs-keyword">this</span>.supportsMapping ? <span class="hljs-string">'removeClass'</span> : <span class="hljs-string">'addClass'</span>](<span class="hljs-string">"gem-unsupported"</span>);
        <span class="hljs-keyword">this</span>._removePlaceholderBtn();
    },
    <span class="hljs-attr">_removePlaceholderBtn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        $j(<span class="hljs-keyword">this</span>.tr.tdMapping).html(<span class="hljs-string">""</span>)
    },
    <span class="hljs-attr">emTemplate</span>: {
        <span class="hljs-attr">makeBtn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> $j(
                <span class="hljs-string">'&lt;button role="button" class="btn btn-default em-field-toggle em-alt-btn em-icon-em gem-unsupported-target" '</span> +
                <span class="hljs-string">'title="Set date from a contextual value"'</span> +
                <span class="hljs-string">'style="vertical-align: top;"&gt;'</span> +
                <span class="hljs-string">'&lt;/button&gt;'</span>
            );
        },
        <span class="hljs-attr">makeField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> $j(
                <span class="hljs-string">'&lt;em-alt-input class="hidden gem-unsupported-target"&gt;&lt;/em-alt-input&gt;'</span>
            );
        },
        <span class="hljs-attr">makeInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, value</span>) </span>{
            <span class="hljs-keyword">var</span> x = $j(<span class="hljs-string">'&lt;input type="hidden" id="'</span> + id + <span class="hljs-string">'"&gt;'</span>);
            x.val(value || <span class="hljs-string">""</span>);
            <span class="hljs-keyword">return</span> x;
        }
    },
    <span class="hljs-attr">_initMappingComponent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$field, $btn, opts</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_elementMappingMgr) {
            g_elementMappingMgr.initSubField($field, $btn, <span class="hljs-keyword">this</span>.mappingId, opts)
        }
    },
    <span class="hljs-attr">initMappingSupport</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">shouldEnable, type, mappingMgr</span>) </span>{
        <span class="hljs-keyword">var</span> td = <span class="hljs-keyword">this</span>.tr.tdMapping;
        <span class="hljs-keyword">if</span> (!td || !mappingMgr)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.mappingType = type;
        <span class="hljs-keyword">this</span>.supportsMapping = !!shouldEnable;
        $j(<span class="hljs-keyword">this</span>.tr.tdValue)[<span class="hljs-keyword">this</span>.supportsMapping ? <span class="hljs-string">'removeClass'</span> : <span class="hljs-string">'addClass'</span>](<span class="hljs-string">"gem-unsupported"</span>);
    },
    <span class="hljs-attr">destroyMappingSupport</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">activateMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">deactivateMapping</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">_initMappingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{},
    <span class="hljs-attr">type</span>: <span class="hljs-string">'GlideFilterDate'</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideEventHandler.js */</span>
<span class="hljs-keyword">var</span> GlideEventHandler = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handlerName, handler, fieldName</span>) </span>{
        <span class="hljs-keyword">this</span>.handlerName = handlerName;
        <span class="hljs-keyword">this</span>.handler = handler;
        <span class="hljs-keyword">this</span>.fieldName = fieldName;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUIElement.js */</span>
<span class="hljs-keyword">var</span> GlideUIElement = Class.create({
    <span class="hljs-attr">CACHE_ELEMENTS</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">ENABLE_CHILD_WALKING</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, fieldName, type, mandatory, reference, attributes, scope</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">this</span>.fieldName = fieldName;
        <span class="hljs-keyword">this</span>.type = type;
        <span class="hljs-keyword">this</span>.mandatory = mandatory;
        <span class="hljs-keyword">this</span>.reference = reference;
        <span class="hljs-keyword">this</span>.attributes = attributes;
        <span class="hljs-keyword">this</span>.elementFetched = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.elementParentNode;
        <span class="hljs-keyword">this</span>.fetchedNodes = {};
        <span class="hljs-keyword">this</span>.scope = scope || <span class="hljs-string">"global"</span>;
    },
    <span class="hljs-attr">getType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.type;
    },
    <span class="hljs-attr">getID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.fieldName;
    },
    <span class="hljs-attr">getElementParentNode</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.elementFetched) {
            <span class="hljs-keyword">this</span>.elementParentNode = gel(<span class="hljs-string">'element.'</span> + <span class="hljs-keyword">this</span>.getID());
            <span class="hljs-keyword">this</span>.elementFetched = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementParentNode;
    },
    <span class="hljs-attr">getElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getChildElementById(<span class="hljs-keyword">this</span>.getID());
    },
    <span class="hljs-attr">getLabelElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parentElementNode = <span class="hljs-keyword">this</span>.getElementParentNode();
        <span class="hljs-keyword">if</span> (!parentElementNode)
            parentElementNode = <span class="hljs-built_in">document</span>;
        <span class="hljs-keyword">var</span> labels = parentElementNode.getElementsByTagName(<span class="hljs-string">'label'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
            (label = labels[i]); i++) {
            <span class="hljs-keyword">if</span> (label.htmlFor == <span class="hljs-keyword">this</span>.getID())
                <span class="hljs-keyword">return</span> label;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getStatusElement();
    },
    <span class="hljs-attr">getStatusElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getChildElementById(<span class="hljs-string">'status.'</span> + <span class="hljs-keyword">this</span>.getID());
    },
    <span class="hljs-attr">getChildElementById</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.fetchedNodes[id])
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fetchedNodes[id];
        <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>.getChildElementById0(id);
        <span class="hljs-keyword">if</span> (element)
            <span class="hljs-keyword">this</span>.fetchedNodes[id] = element;
        <span class="hljs-keyword">return</span> element;
    },
    <span class="hljs-attr">getChildElementById0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> element;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ENABLE_CHILD_WALKING) {
            element = <span class="hljs-keyword">this</span>._findSubChild(<span class="hljs-keyword">this</span>.getElementParentNode(), id);
            <span class="hljs-keyword">if</span> (element)
                <span class="hljs-keyword">return</span> element;
        }
        <span class="hljs-keyword">return</span> gel(id);
    },
    <span class="hljs-attr">isMandatory</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.mandatory;
    },
    <span class="hljs-attr">isDerived</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.fieldName)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fieldName.indexOf(<span class="hljs-string">'.'</span>) &gt; <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">setMandatory</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">mandatory</span>) </span>{
        <span class="hljs-keyword">this</span>.mandatory = mandatory;
    },
    <span class="hljs-attr">getScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scope;
    },
    <span class="hljs-attr">_findSubChild</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">startNode, id</span>) </span>{
        <span class="hljs-keyword">if</span> (!startNode || (startNode.id &amp;&amp; startNode.id == id))
            <span class="hljs-keyword">return</span> startNode;
        <span class="hljs-keyword">var</span> childNodes = startNode.children || startNode.childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; childNodes.length; i++) {
            <span class="hljs-keyword">var</span> foundNode = <span class="hljs-keyword">this</span>._findSubChild(childNodes[i], id);
            <span class="hljs-keyword">if</span> (foundNode)
                <span class="hljs-keyword">return</span> foundNode;
        }
        <span class="hljs-keyword">return</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideUIElement"</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUser.js */</span>
<span class="hljs-keyword">var</span> GlideUser = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userName, firstName, lastName, nonDefaultRoles, userID, departmentID</span>) </span>{
        <span class="hljs-keyword">this</span>.userName = userName;
        <span class="hljs-keyword">this</span>.firstName = firstName;
        <span class="hljs-keyword">this</span>.lastName = lastName;
        <span class="hljs-keyword">this</span>.setFullName(<span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">" "</span> + <span class="hljs-keyword">this</span>.lastName);
        <span class="hljs-keyword">this</span>.setRoles(nonDefaultRoles);
        <span class="hljs-keyword">this</span>.userID = userID;
        <span class="hljs-keyword">this</span>.departmentID = departmentID;
        <span class="hljs-keyword">this</span>.preferences = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.clientData = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    },
    <span class="hljs-attr">hasRoleExactly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">role, includeDefaults</span>) </span>{
        <span class="hljs-keyword">if</span> (!role || <span class="hljs-keyword">typeof</span> role != <span class="hljs-string">'string'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> rolesToCheck = <span class="hljs-keyword">this</span>.roles;
        <span class="hljs-keyword">if</span> (includeDefaults)
            rolesToCheck = <span class="hljs-keyword">this</span>.allRoles;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>, l = rolesToCheck.length; x &lt; l; x++) {
            <span class="hljs-keyword">if</span> (rolesToCheck[x].toLowerCase() == role.toLowerCase())
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">hasRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">includeDefaults</span>) </span>{
        <span class="hljs-keyword">if</span> (includeDefaults)
            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.allRoles.length &gt; <span class="hljs-number">0</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.roles.length &gt; <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">hasRole</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">role, includeDefaults</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasRoleExactly(<span class="hljs-string">'maint'</span>, includeDefaults))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasRoleExactly(role, includeDefaults))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (role == <span class="hljs-string">'maint'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasRoleExactly(<span class="hljs-string">'admin'</span>, includeDefaults))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">hasRoleFromList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">roles, includeDefaults</span>) </span>{
        <span class="hljs-keyword">var</span> rolesToMatch = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">if</span> (roles)
            rolesToMatch = roles.split(<span class="hljs-regexp">/\s*,\s*/</span>);
        <span class="hljs-keyword">if</span> (rolesToMatch.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rolesToMatch.length; i++) {
            <span class="hljs-keyword">var</span> r = rolesToMatch[i];
            <span class="hljs-keyword">if</span> (r &amp;&amp; <span class="hljs-keyword">this</span>.hasRole(r, includeDefaults))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getFullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fullName;
    },
    <span class="hljs-attr">getUserName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.userName;
    },
    <span class="hljs-attr">getUserID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.userID;
    },
    <span class="hljs-attr">getDepartmentID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.departmentID;
    },
    <span class="hljs-attr">setFullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
        <span class="hljs-keyword">this</span>.fullName = fn;
    },
    <span class="hljs-attr">getRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">includeDefaults</span>) </span>{
        <span class="hljs-keyword">if</span> (includeDefaults)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.allRoles;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.roles;
    },
    <span class="hljs-attr">getAvailableElevatedRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elevatedRoles;
    },
    <span class="hljs-attr">setRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r, includeDefaults</span>) </span>{
        <span class="hljs-keyword">if</span> (includeDefaults) {
            <span class="hljs-keyword">if</span> (r)
                <span class="hljs-keyword">this</span>.allRoles = r.split(<span class="hljs-regexp">/\s*,\s*/</span>);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.allRoles = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (r)
                <span class="hljs-keyword">this</span>.roles = r.split(<span class="hljs-regexp">/\s*,\s*/</span>);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.roles = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        }
    },
    <span class="hljs-attr">setElevatedRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
        <span class="hljs-keyword">if</span> (r)
            <span class="hljs-keyword">this</span>.elevatedRoles = r.split(<span class="hljs-regexp">/\s*,\s*/</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.elevatedRoles = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    },
    <span class="hljs-attr">setActiveElevatedRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
        <span class="hljs-keyword">if</span> (r)
            <span class="hljs-keyword">this</span>.activeElevatedRoles = r.split(<span class="hljs-regexp">/\s*,\s*/</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.activeElevatedRoles = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    },
    <span class="hljs-attr">getActiveElevatedRoles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.activeElevatedRoles;
    },
    <span class="hljs-attr">setDomain</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
        <span class="hljs-keyword">this</span>.domain = d;
    },
    <span class="hljs-attr">getPreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.preferences[n];
    },
    <span class="hljs-attr">setPreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, v</span>) </span>{
        <span class="hljs-keyword">this</span>.preferences[n] = v;
    },
    <span class="hljs-attr">deletePreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.preferences[n];
    },
    <span class="hljs-attr">getClientData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clientData[n];
    },
    <span class="hljs-attr">setClientData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, v</span>) </span>{
        <span class="hljs-keyword">this</span>.clientData[n] = v;
    },
    <span class="hljs-attr">setBannerImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.bannerImage = s;
    },
    <span class="hljs-attr">getBannerImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.bannerImage;
    },
    <span class="hljs-attr">setBannerText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.bannerText = s;
    },
    <span class="hljs-attr">getBannerText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.bannerText;
    },
    <span class="hljs-attr">setHomePages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.homePages = s;
    },
    <span class="hljs-attr">getHomePages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.homePages;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideUser"</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/GlideForm14.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">default_on_submit</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!g_form)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> g_form.onSubmit();
}
<span class="hljs-keyword">var</span> GlideForm = Class.create({
    <span class="hljs-attr">INFO_CLASS</span>: <span class="hljs-string">"fieldmsg notification notification-info"</span>,
    <span class="hljs-attr">ERROR_CLASS</span>: <span class="hljs-string">"fieldmsg notification notification-error"</span>,
    <span class="hljs-attr">WARNING_CLASS</span>: <span class="hljs-string">"fieldmsg notification notification-warning"</span>,
    <span class="hljs-attr">MSG_ROW</span>: <span class="hljs-string">"_message_row"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, mandatory, checkMandatory, checkNumeric, checkInteger, isSearch</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">this</span>.modified = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.modifiedFields = {};
        <span class="hljs-keyword">this</span>.mandatoryOnlyIfModified = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.elements = [];
        <span class="hljs-keyword">this</span>.mandatory = mandatory;
        <span class="hljs-keyword">this</span>.checkMandatory = checkMandatory;
        <span class="hljs-keyword">this</span>.checkNumeric = checkNumeric;
        <span class="hljs-keyword">this</span>.checkInteger = checkInteger;
        <span class="hljs-keyword">this</span>.nameMap = [];
        <span class="hljs-keyword">this</span>.attributes = [];
        <span class="hljs-keyword">this</span>.validators = [];
        <span class="hljs-keyword">this</span>.disabledFields = [];
        <span class="hljs-keyword">this</span>.securityReadOnlyFields = [];
        <span class="hljs-keyword">this</span>.elementHandlers = {};
        <span class="hljs-keyword">this</span>.prefixHandlers = {};
        <span class="hljs-keyword">this</span>.derivedWaiting = [];
        <span class="hljs-keyword">this</span>.newRecord = gel(<span class="hljs-string">'sys_row'</span>) &amp;&amp; gel(<span class="hljs-string">'sys_row'</span>).value == <span class="hljs-string">"-1"</span>;
        <span class="hljs-keyword">this</span>.personalizeHiddenFields = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.personalizePrefKey = <span class="hljs-string">"personalize_"</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"_"</span> + <span class="hljs-keyword">this</span>.getViewName();
        <span class="hljs-keyword">this</span>._isLiveUpdating = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!isSearch &amp;&amp; <span class="hljs-keyword">this</span>.classname !== <span class="hljs-string">'ServiceCatalogForm'</span>)
            CachedEvent.emit(<span class="hljs-string">'glideform.initialized'</span>, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> gf = <span class="hljs-keyword">this</span>;
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                CachedEvent.emit(<span class="hljs-string">'glideform.initialized'</span>, gf)
            }, <span class="hljs-number">0</span>);
        }
    },
    <span class="hljs-attr">fieldChanged</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName, changeFlag</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._internalChange) {
            <span class="hljs-keyword">if</span> (changeFlag) {
                <span class="hljs-keyword">this</span>.modified = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>.modifiedFields[elementName] = <span class="hljs-literal">true</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.modifiedFields[elementName]) {
                <span class="hljs-keyword">this</span>.modifiedFields[elementName] = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">this</span>._checkModified();
            }
        }
        <span class="hljs-keyword">var</span> uniqueValue = <span class="hljs-keyword">this</span>.getUniqueValue();
        CustomEvent.fireAll(<span class="hljs-string">'form.isModified'</span>, {
            <span class="hljs-attr">uniqueValue</span>: uniqueValue,
            <span class="hljs-attr">isModified</span>: <span class="hljs-keyword">this</span>.modified
        });
    },
    <span class="hljs-attr">_checkModified</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.modifiedFields) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.modifiedFields[n]) {
                <span class="hljs-keyword">this</span>.modified = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">this</span>.modified = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">setMandatoryOnlyIfModified</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.mandatoryOnlyIfModified = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">addNameMapEntry</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
        <span class="hljs-keyword">this</span>.nameMap.push(entry);
    },
    <span class="hljs-attr">addGlideUIElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ed</span>) </span>{
        <span class="hljs-keyword">this</span>.elements.push(ed);
    },
    <span class="hljs-attr">registerHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, handler</span>) </span>{
        <span class="hljs-keyword">this</span>.elementHandlers[id] = handler;
    },
    <span class="hljs-attr">registerPrefixHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prefix, handlerObject</span>) </span>{
        <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">new</span> GlideFormPrefixHandler(handlerObject);
        <span class="hljs-keyword">this</span>.prefixHandlers[prefix] = handler;
    },
    <span class="hljs-attr">getPrefixHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (!id)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (id.indexOf(<span class="hljs-string">'.'</span>) &lt; <span class="hljs-number">0</span>)
            id = <span class="hljs-string">'variables.'</span> + id;
        <span class="hljs-keyword">var</span> idSplit = id.split(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.prefixHandlers[idSplit[<span class="hljs-number">0</span>]];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> handler == <span class="hljs-string">"undefined"</span>)
            <span class="hljs-keyword">return</span>;
        handler.setFieldName(id);
        <span class="hljs-keyword">return</span> handler;
    },
    <span class="hljs-attr">getElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[id].getElement == <span class="hljs-string">"function"</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[id].getElement();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getControl(id);
    },
    <span class="hljs-attr">getParameter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parm</span>) </span>{
        <span class="hljs-keyword">if</span> (!(parm.substr(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) == <span class="hljs-string">'sysparm_'</span>))
            parm = <span class="hljs-string">'sysparm_'</span> + parm;
        <span class="hljs-keyword">var</span> pcel = gel(parm);
        <span class="hljs-keyword">if</span> (pcel)
            <span class="hljs-keyword">return</span> pcel.value;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">hasAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.attributes[s])
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">addAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.attributes[s] = s;
    },
    <span class="hljs-attr">addValidator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldType, validator</span>) </span>{
        <span class="hljs-keyword">this</span>.validators[fieldType] = validator;
    },
    <span class="hljs-attr">_getPersonalizeHiddenFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.personalizeHiddenFields == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> prefVal = NOW[<span class="hljs-keyword">this</span>.personalizePrefKey] || getPreference(<span class="hljs-keyword">this</span>.personalizePrefKey);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">'false'</span> == prefVal)
                <span class="hljs-keyword">this</span>.personalizeHiddenFields = [];
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (prefVal.length)
                <span class="hljs-keyword">this</span>.personalizeHiddenFields = prefVal.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.personalizeHiddenFields = [];
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.personalizeHiddenFields;
    },
    <span class="hljs-attr">resetPersonalizeHiddenFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.personalizeHiddenFields = [];
        <span class="hljs-keyword">this</span>._savePersonalizeHiddenFields(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">window</span>.reloadWindow(<span class="hljs-built_in">window</span>);
        });
    },
    <span class="hljs-attr">_savePersonalizeHiddenFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
        setPreference(<span class="hljs-keyword">this</span>.personalizePrefKey, <span class="hljs-keyword">this</span>.personalizeHiddenFields.join(<span class="hljs-string">","</span>), callback);
    },
    <span class="hljs-attr">isUserPersonalizedField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.personalizeHiddenFields === <span class="hljs-literal">null</span> ? <span class="hljs-literal">false</span> : <span class="hljs-keyword">this</span>.personalizeHiddenFields.indexOf(fieldName) != <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">setUserDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, display</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">this</span>._getPersonalizeHiddenFields();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.personalizeHiddenFields.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.personalizeHiddenFields[i] === fieldName) {
                <span class="hljs-keyword">this</span>.personalizeHiddenFields.splice(i, <span class="hljs-number">1</span>);
            }
        }
        <span class="hljs-keyword">this</span>.setDisplay(fieldName, display);
        <span class="hljs-keyword">if</span> ((display === <span class="hljs-literal">false</span> || display === <span class="hljs-string">'false'</span>) &amp;&amp; !<span class="hljs-keyword">this</span>.isMandatory(fieldName))
            <span class="hljs-keyword">this</span>.personalizeHiddenFields.push(fieldName);
        <span class="hljs-keyword">this</span>._savePersonalizeHiddenFields();
    },
    <span class="hljs-attr">setDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, display</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">this</span>._setDisplay(fieldName, display, <span class="hljs-keyword">this</span>.isMandatory(fieldName), <span class="hljs-keyword">this</span>.getValue(fieldName));
    },
    <span class="hljs-attr">_setDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, display, isMandatory, fieldValue</span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().setDisplay(handler.getFieldName(), display);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> displayValue = <span class="hljs-string">'none'</span>;
        <span class="hljs-keyword">if</span> (display == <span class="hljs-string">'true'</span> || display == <span class="hljs-literal">true</span>) {
            display = <span class="hljs-literal">true</span>;
            displayValue = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">if</span> ((display != <span class="hljs-literal">true</span>) &amp;&amp; isMandatory &amp;&amp; fieldValue == <span class="hljs-string">''</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> theElement = control;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].getElement == <span class="hljs-string">"function"</span>))
            theElement = <span class="hljs-keyword">this</span>.elementHandlers[control.id].getElement();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].setDisplay == <span class="hljs-string">"function"</span>)) {
            <span class="hljs-keyword">this</span>.elementHandlers[control.id].setDisplay(display ? <span class="hljs-string">''</span> : <span class="hljs-string">'none'</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.changeElementStyle(fieldName, <span class="hljs-string">'display'</span>, displayValue);
        }
        <span class="hljs-keyword">this</span>.setSensitiveDisplayValue(s + <span class="hljs-string">".ui_policy_sensitive"</span>, displayValue);
        <span class="hljs-keyword">var</span> glideElement = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (glideElement)
            <span class="hljs-keyword">if</span> (glideElement.type == <span class="hljs-string">'script'</span> || glideElement.type == <span class="hljs-string">'script_plain'</span> || glideElement.type == <span class="hljs-string">'xml'</span>)
                CustomEvent.fire(<span class="hljs-string">'element_script_display_'</span> + display, {
                    <span class="hljs-string">'element'</span>: glideElement
                });
        _frameChanged();
    },
    <span class="hljs-attr">setSensitiveDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, displayValue</span>) </span>{
        <span class="hljs-keyword">var</span> elements = <span class="hljs-built_in">document</span>.getElementsByName(name);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; elements.length; i++) {
            elements[i].style.display = displayValue;
        }
    },
    <span class="hljs-attr">setValidation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, validate</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (validate == <span class="hljs-string">'false'</span>)
            validate = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (validate != <span class="hljs-literal">false</span>) {
            control.removeAttribute(<span class="hljs-string">'validate'</span>);
            <span class="hljs-keyword">return</span>;
        }
        control.setAttribute(<span class="hljs-string">'validate'</span>, <span class="hljs-string">'false'</span>);
    },
    <span class="hljs-attr">getViewName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> sysparmView = gel(<span class="hljs-string">'sysparm_view'</span>);
        <span class="hljs-keyword">var</span> view = <span class="hljs-string">"default"</span>;
        <span class="hljs-keyword">if</span> (sysparmView &amp;&amp; sysparmView.value)
            view = sysparmView.value;
        <span class="hljs-keyword">return</span> view;
    },
    <span class="hljs-attr">setVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, visibility</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().setVisible(handler.getFieldName(),
                    visibility);
        }
        <span class="hljs-keyword">var</span> v = <span class="hljs-string">'hidden'</span>;
        <span class="hljs-keyword">if</span> (visibility == <span class="hljs-string">'true'</span>)
            visibility = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (visibility)
            v = <span class="hljs-string">'visible'</span>;
        <span class="hljs-keyword">if</span> ((visibility != <span class="hljs-literal">true</span>) &amp;&amp; <span class="hljs-keyword">this</span>.isMandatory(fieldName) &amp;&amp; (<span class="hljs-keyword">this</span>.getValue(fieldName) == <span class="hljs-string">''</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.changeElementStyle(fieldName, <span class="hljs-string">'visibility'</span>, v);
    },
    <span class="hljs-attr">changeElementStyle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, name, value</span>) </span>{
        <span class="hljs-keyword">var</span> ge = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!ge)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.changeElementParent(ge, name, value))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> labelElement = ge.getLabelElement();
        <span class="hljs-keyword">if</span> (labelElement)
            labelElement.parentNode.parentNode.style[name] = value;
        <span class="hljs-keyword">var</span> parentTR = findParentByTag(ge.getElement(), <span class="hljs-string">"tr"</span>);
        <span class="hljs-keyword">if</span> (parentTR &amp;&amp; parentTR != labelElement)
            parentTR.style[name] = value;
    },
    <span class="hljs-attr">changeElementParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, name, value</span>) </span>{
        <span class="hljs-keyword">var</span> element = ge.getElementParentNode();
        <span class="hljs-keyword">if</span> (element) {
            element.style[name] = value;
            <span class="hljs-keyword">var</span> decoration = $(element).select(<span class="hljs-string">".reference_decoration, .btn-ref"</span>);
            <span class="hljs-keyword">var</span> isEmptyRef = ge.type == <span class="hljs-string">'reference'</span> &amp;&amp; <span class="hljs-keyword">this</span>.getValue(ge.fieldName) == <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (decoration &amp;&amp; decoration.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; decoration.length; i++) {
                    <span class="hljs-keyword">if</span> (isEmptyRef &amp;&amp; (decoration[i].getAttribute(<span class="hljs-string">'data-type'</span>) == <span class="hljs-string">'reference_popup'</span>))
                        decoration[i].style[name] = <span class="hljs-string">'none'</span>;
                    <span class="hljs-keyword">else</span>
                        decoration[i].style[name] = value;
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        id = <span class="hljs-keyword">this</span>.removeCurrentPrefix(id);
        <span class="hljs-keyword">var</span> label;
        <span class="hljs-keyword">var</span> labels = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'label'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
            (label = labels[i]); i++) {
            <span class="hljs-keyword">if</span> (label.htmlFor.endsWith(id)) {
                <span class="hljs-keyword">return</span> label;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isNewRecord</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.newRecord;
    },
    <span class="hljs-attr">isMandatory</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> thisElement = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!thisElement) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                <span class="hljs-keyword">return</span> handler.getObject().isMandatory(handler.getFieldName());
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> thisElement.isMandatory();
    },
    <span class="hljs-attr">addSecurityReadOnlyFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fields</span>) </span>{
        <span class="hljs-keyword">this</span>.securityReadOnlyFields = fields.split(<span class="hljs-string">','</span>);
    },
    <span class="hljs-attr">setRequiredChecked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, required</span>) </span>{
        <span class="hljs-keyword">if</span> (!fieldName || !fieldName.startsWith(<span class="hljs-string">'ni.VE'</span>) || !fieldName.startsWith(<span class="hljs-string">"ni.QS"</span>)) {
            jslog(<span class="hljs-string">"Invalid variable id"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(<span class="hljs-keyword">this</span>.resolvePrettyNameMap(fieldName));
        <span class="hljs-keyword">if</span> (!handler) {
            jslog(<span class="hljs-string">"Invalid variable id"</span>);
            <span class="hljs-keyword">return</span>;
        }
        handler.getObject().setRequiredChecked(fieldName, required);
    },
    <span class="hljs-attr">setMandatory</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, mandatory</span>) </span>{
        <span class="hljs-keyword">var</span> thisElement = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!thisElement) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().setMandatory(handler.getFieldName(), mandatory);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.securityReadOnlyFields.indexOf(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName) &gt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        thisElement.setMandatory(mandatory);
        <span class="hljs-keyword">var</span> e = thisElement.getElement();
        <span class="hljs-keyword">if</span> (e) {
            e.setAttribute(<span class="hljs-string">"mandatory"</span>, mandatory);
            onChangeLabelProcessByEl(e, thisElement.getStatusElement());
        }
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (control &amp;&amp; control.id &amp;&amp; <span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].setMandatory == <span class="hljs-string">"function"</span>))
            <span class="hljs-keyword">this</span>.elementHandlers[control.id].setMandatory(mandatory);
        <span class="hljs-keyword">if</span> (mandatory) {
            setMandatoryExplained(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>.getValue(fieldName);
            <span class="hljs-keyword">if</span> (value == <span class="hljs-string">''</span>) {
                <span class="hljs-keyword">this</span>._setDisplay(fieldName, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-string">''</span>);
                <span class="hljs-keyword">this</span>._setReadonly(fieldName, <span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>, <span class="hljs-string">''</span>);
            }
        }
        opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"Mandatory set to "</span> + mandatory);
    },
    <span class="hljs-attr">setDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        <span class="hljs-keyword">this</span>.setReadonly(fieldName, disabled);
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        <span class="hljs-keyword">this</span>.setReadonly(fieldName, disabled);
    },
    <span class="hljs-attr">setReadonly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">this</span>._setReadonly(fieldName, disabled, <span class="hljs-keyword">this</span>.isMandatory(fieldName), <span class="hljs-keyword">this</span>.getValue(fieldName));
    },
    <span class="hljs-attr">_setReadonly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled, isMandatory, fieldValue</span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject()._setReadonly(
                    handler.getFieldName(), disabled, isMandatory,
                    fieldValue);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> ge = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!ge) {
            opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"Unable to set invalid field's ReadOnly to "</span> + disabled);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>._setReadonly0(ge, control, s, fieldName, disabled, isMandatory, fieldValue);
    },
    <span class="hljs-attr">_setReadonly0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control, s, fieldName, disabled, isMandatory, fieldValue</span>) </span>{
        <span class="hljs-keyword">if</span> (disabled &amp;&amp; isMandatory &amp;&amp; fieldValue == <span class="hljs-string">''</span>) {
            opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"Unable to set blank mandatory field's ReadOnly to "</span> + disabled);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (control.getAttribute(<span class="hljs-string">'gsftlocked'</span>) == <span class="hljs-string">'true'</span>) {
            opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"Unable to set locked field's ReadOnly to "</span> + disabled);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].setReadOnly == <span class="hljs-string">"function"</span>)) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id].setReadOnly(disabled) == <span class="hljs-literal">true</span>)
                <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.setDisabledControl(control, disabled);
        <span class="hljs-keyword">this</span>._setDisabledField(control, disabled);
        onChangeLabelProcessByEl(control, ge.getStatusElement());
        <span class="hljs-keyword">this</span>._setFieldReadOnly(ge, <span class="hljs-string">"sys_display."</span> + s, disabled);
        <span class="hljs-keyword">this</span>._setFieldReadOnly(ge, <span class="hljs-string">"sys_select."</span> + s, disabled);
        <span class="hljs-keyword">var</span> $inputGroup = $j(ge.getElementParentNode()).find(<span class="hljs-string">".input-group"</span>);
        <span class="hljs-keyword">if</span> ($inputGroup.length) {
            <span class="hljs-keyword">if</span> (disabled)
                $inputGroup.addClass(<span class="hljs-string">'input-group-disabled'</span>);
            <span class="hljs-keyword">else</span>
                $inputGroup.removeClass(<span class="hljs-string">'input-group-disabled'</span>);
        }
        <span class="hljs-keyword">this</span>.setSensitiveDisplayValue(s + <span class="hljs-string">".ui_policy_sensitive"</span>, disabled ? <span class="hljs-string">'none'</span> : <span class="hljs-string">''</span>);
        <span class="hljs-keyword">this</span>._setFieldReadOnly(ge, <span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName, disabled);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tableName == <span class="hljs-string">"ni"</span>)
            <span class="hljs-keyword">this</span>._setFieldReadOnly(ge, <span class="hljs-string">"ni."</span> + ge.fieldName, disabled);
        <span class="hljs-keyword">var</span> suggestionExists = gel(<span class="hljs-string">'ni.dependent_reverse.'</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName);
        <span class="hljs-keyword">if</span> (suggestionExists) {
            <span class="hljs-keyword">this</span>._setFieldReadOnly(ge, <span class="hljs-string">"lookup."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName, disabled, <span class="hljs-literal">true</span>);
        }
        opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"ReadOnly set to "</span> + disabled);
    },
    <span class="hljs-attr">_setFieldReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, s, disabled, skipProcessLabelChange</span>) </span>{
        <span class="hljs-keyword">var</span> control = ge.getChildElementById(s);
        <span class="hljs-keyword">if</span> (control) {
            <span class="hljs-keyword">this</span>.setDisabledControl(control, disabled);
            <span class="hljs-keyword">this</span>._setDisabledField(control, disabled);
            <span class="hljs-keyword">if</span> (!skipProcessLabelChange)
                onChangeLabelProcessByEl(control, ge.getStatusElement());
        }
    },
    <span class="hljs-attr">setDisabledControl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (disabled) {
            control.setAttribute(<span class="hljs-string">"readonly"</span>, <span class="hljs-string">"readonly"</span>);
            addClassName(control, <span class="hljs-string">'disabled'</span>);
        } <span class="hljs-keyword">else</span> {
            control.removeAttribute(<span class="hljs-string">"readonly"</span>);
            removeClassName(control, <span class="hljs-string">'disabled'</span>);
        }
        <span class="hljs-keyword">if</span> (control.tagName == <span class="hljs-string">"SELECT"</span>) {
            <span class="hljs-keyword">var</span> $control = $j(control);
            $control
                .attr(<span class="hljs-string">'aria-readonly'</span>, disabled)
                .find(<span class="hljs-string">'option'</span>).prop(<span class="hljs-string">'disabled'</span>, disabled);
            <span class="hljs-keyword">if</span> ($control.data(<span class="hljs-string">'select2'</span>))
                $control.select2(<span class="hljs-string">'container'</span>).addClass(<span class="hljs-string">'select2-container-disabled'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (control.getAttribute(<span class="hljs-string">'type'</span>) == <span class="hljs-string">'checkbox'</span>)
            control.setAttribute(<span class="hljs-string">'aria-readonly'</span>, disabled);
    },
    <span class="hljs-attr">_setDisabledField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (disabled) {
            addClassName(control, <span class="hljs-string">'disabled'</span>);
            addClassName(control, <span class="hljs-string">'readonly'</span>);
            <span class="hljs-keyword">this</span>._addDisabledField(control);
        } <span class="hljs-keyword">else</span> {
            removeClassName(control, <span class="hljs-string">'disabled'</span>);
            removeClassName(control, <span class="hljs-string">'readonly'</span>);
            <span class="hljs-keyword">this</span>._removeDisabledField(control);
        }
    },
    <span class="hljs-attr">_addDisabledField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control</span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.disabledFields.length;
        <span class="hljs-keyword">this</span>.disabledFields[n] = control;
    },
    <span class="hljs-attr">_removeDisabledField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control</span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.disabledFields.length;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; n; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.disabledFields[i] == control) {
                <span class="hljs-keyword">this</span>.disabledFields.splice(i, <span class="hljs-number">1</span>);
                <span class="hljs-keyword">break</span>;
            }
        }
    },
    <span class="hljs-attr">onSubmit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.getFormElement().addClassName(<span class="hljs-string">'form-submitted'</span>);
        <span class="hljs-keyword">var</span> action = <span class="hljs-keyword">this</span>.getActionName();
        <span class="hljs-keyword">if</span> (action &amp;&amp; !action.startsWith(<span class="hljs-string">"sysverb_no_update"</span>))
            <span class="hljs-keyword">this</span>.submitted = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (action == <span class="hljs-string">'sysverb_back'</span> || action == <span class="hljs-string">'sysverb_cancel'</span> || action == <span class="hljs-string">'sysverb_delete'</span> || action == <span class="hljs-string">'sysverb_query'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> rc = <span class="hljs-keyword">this</span>.mandatoryCheck();
        <span class="hljs-keyword">if</span> (rc &amp;&amp; <span class="hljs-keyword">typeof</span> g_sc_form != <span class="hljs-string">"undefined"</span>)
            rc = g_sc_form.mandatoryCheck() &amp;&amp; g_sc_form.catalogOnSubmit();
        rc = rc &amp;&amp; <span class="hljs-keyword">this</span>.validate();
        <span class="hljs-keyword">return</span> rc;
    },
    <span class="hljs-attr">enableUIPolicyFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.disabledFields.length; i++) {
            <span class="hljs-keyword">var</span> field = <span class="hljs-keyword">this</span>.disabledFields[i];
            <span class="hljs-keyword">var</span> disabledID = field.id;
            <span class="hljs-keyword">if</span> (!field.parentNode)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isDerivedWaiting(disabledID)) {
                jslog(<span class="hljs-string">"Did not re-enable "</span> + disabledID + <span class="hljs-string">" as it is derived waiting for AJAX lookup"</span>);
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">var</span> existingElement = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[name="'</span> + field.name + <span class="hljs-string">'"]'</span>);
            <span class="hljs-keyword">if</span> (existingElement) {
                <span class="hljs-keyword">if</span> (existingElement.uiPolicyField == field)
                    existingElement.value = field.value;
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">var</span> hiddenInput = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'input'</span>);
            hiddenInput.name = field.name;
            hiddenInput.type = <span class="hljs-string">"hidden"</span>;
            hiddenInput.value = field.value;
            hiddenInput.uiPolicyField = field;
            field.parentNode.appendChild(hiddenInput);
        }
    },
    <span class="hljs-attr">mandatoryCheck</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.checkMandatory || (!<span class="hljs-keyword">this</span>.modified &amp;&amp; <span class="hljs-keyword">this</span>.mandatoryOnlyIfModified))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> rc = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> invalidFields = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> labels = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> missing = <span class="hljs-keyword">this</span>.getMissingFields();
        <span class="hljs-keyword">var</span> focusDetermined = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; missing.length; i++) {
            rc = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> field = missing[i];
            <span class="hljs-keyword">var</span> widget = <span class="hljs-keyword">this</span>.getControl(field);
            <span class="hljs-keyword">if</span> (!focusDetermined) {
                <span class="hljs-keyword">var</span> tryLabel = !$j(widget).is(<span class="hljs-string">':visible'</span>);
                <span class="hljs-keyword">if</span> (!tryLabel) {
                    <span class="hljs-keyword">try</span> {
                        widget.focus();
                        focusDetermined = <span class="hljs-literal">true</span>;
                    } <span class="hljs-keyword">catch</span> (e) {
                        tryLabel = <span class="hljs-literal">true</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (tryLabel) {
                    <span class="hljs-keyword">var</span> displayWidget = <span class="hljs-keyword">this</span>.getDisplayBox(field);
                    <span class="hljs-keyword">if</span> (displayWidget &amp;&amp; displayWidget.getAttribute(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"hidden"</span>) {
                        <span class="hljs-keyword">var</span> streamDisplayWidget = gel(<span class="hljs-string">"activity-stream-"</span> + field + <span class="hljs-string">"-textarea"</span>);
                        <span class="hljs-keyword">if</span> (streamDisplayWidget) {
                            <span class="hljs-keyword">try</span> {
                                streamDisplayWidget.focus();
                                focusDetermined = <span class="hljs-literal">true</span>;
                            } <span class="hljs-keyword">catch</span> (exception) {}
                        }
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (displayWidget) {
                        <span class="hljs-keyword">try</span> {
                            displayWidget.focus();
                            focusDetermined = <span class="hljs-literal">true</span>;
                        } <span class="hljs-keyword">catch</span> (exception) {}
                    }
                }
            }
            labels.push(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + field);
            <span class="hljs-keyword">var</span> widgetLabel = <span class="hljs-keyword">this</span>.getLabelOf(field);
            <span class="hljs-keyword">var</span> shortLabel = trim(widgetLabel + <span class="hljs-string">''</span>);
            invalidFields.push(shortLabel);
        }
        <span class="hljs-keyword">if</span> (!rc) {
            <span class="hljs-keyword">var</span> theText = invalidFields.join(<span class="hljs-string">', '</span>);
            theText = getMessage(<span class="hljs-string">'The following mandatory fields are not filled in'</span>) + <span class="hljs-string">': '</span> + theText;
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">this</span>.addErrorMessage(theText);
                CustomEvent.fireAll(<span class="hljs-string">'glideform.mandatorycheck.failed'</span>, theText);
                <span class="hljs-keyword">this</span>.submitted = <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">catch</span> (e) {}
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.length; i++) {
            <span class="hljs-keyword">this</span>.flash(labels[i], <span class="hljs-string">"#FFFACD"</span>, <span class="hljs-number">0</span>);
        }
        <span class="hljs-keyword">return</span> rc;
    },
    <span class="hljs-attr">setVariablesReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">readOnly</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; g_form.elements.length; x++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.nameMap.length; i++) {
                <span class="hljs-keyword">var</span> entry = <span class="hljs-keyword">this</span>.nameMap[i];
                <span class="hljs-keyword">var</span> element = g_form.elements[x];
                <span class="hljs-keyword">if</span> (entry.realName == element.fieldName &amp;&amp; element.tableName == <span class="hljs-string">"variable"</span>) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_sc_form == <span class="hljs-string">"undefined"</span> || !g_sc_form)
                        <span class="hljs-keyword">this</span>.setReadOnly(entry.prettyName, readOnly);
                    <span class="hljs-keyword">else</span>
                        g_sc_form.setReadOnly(entry.prettyName, readOnly);
                }
            }
        }
    },
    <span class="hljs-attr">getHelpTextControl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">variableName</span>) </span>{
        <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(variableName);
        <span class="hljs-keyword">var</span> ele;
        <span class="hljs-keyword">if</span> (handler) {
            <span class="hljs-keyword">var</span> handlerObject = handler.getObject();
            ele = handlerObject.getHelpTextControl(handlerObject.removeCurrentPrefix(variableName));
        }
        <span class="hljs-keyword">if</span> (!ele) {
            jslog(<span class="hljs-string">"getHelpTextControl is supported for only Service Catalog Variables"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">return</span> ele;
    },
    <span class="hljs-attr">getEditableFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fa = <span class="hljs-keyword">this</span>.elements;
        <span class="hljs-keyword">var</span> answer = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fa.length; i++) {
            <span class="hljs-keyword">var</span> ed = fa[i];
            <span class="hljs-keyword">var</span> widget = <span class="hljs-keyword">this</span>.getControl(ed.fieldName);
            <span class="hljs-keyword">if</span> (!widget)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEditableField(ed, widget))
                answer.push(ed.fieldName);
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">isEditableField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isTemplateCompatible(ge, control)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isVisible(ge, control))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isReadOnly(ge, control))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDisplayNone(ge, control))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isTemplateCompatible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id]) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isTemplatable == <span class="hljs-string">"function"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isTemplatable();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">isVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDisplayNone(ge, control))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id])
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isVisible == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isVisible();
        <span class="hljs-keyword">if</span> (ge.getType() != <span class="hljs-string">"glide_duration"</span> &amp;&amp; ge.getType != <span class="hljs-string">"glide_time"</span>) {
            <span class="hljs-keyword">var</span> xx = control.style[<span class="hljs-string">'visibility'</span>];
            <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'hidden'</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        xx = <span class="hljs-keyword">this</span>._getElementStyle(ge, <span class="hljs-string">'visibility'</span>);
        <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'hidden'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_isVisibleATF</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDisplayNone(ge, control))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (control &amp;&amp; <span class="hljs-keyword">this</span>.elementHandlers[control.id])
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isVisible == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isVisible();
        <span class="hljs-keyword">if</span> (control &amp;&amp; ge.getType() != <span class="hljs-string">"glide_duration"</span> &amp;&amp; ge.getType != <span class="hljs-string">"glide_time"</span>) {
            <span class="hljs-keyword">var</span> xx = control.style[<span class="hljs-string">'visibility'</span>];
            <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'hidden'</span>) {
                <span class="hljs-keyword">var</span> readOnlyField = gel(<span class="hljs-string">"sys_readonly."</span> + control.id);
                <span class="hljs-keyword">if</span> ((readOnlyField &amp;&amp; readOnlyField.style[<span class="hljs-string">'visibility'</span>] == <span class="hljs-string">'hidden'</span>) || !readOnlyField)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        xx = <span class="hljs-keyword">this</span>._getElementStyle(ge, <span class="hljs-string">'visibility'</span>);
        <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'hidden'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id])
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isDisabled == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isDisabled();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isReadOnly(<span class="hljs-string">""</span>, control);
    },
    <span class="hljs-attr">isReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id])
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isReadOnly == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isReadOnly();
        <span class="hljs-keyword">return</span> control.disabled || control.readOnly || control.hasClassName(<span class="hljs-string">"readonly"</span>);
    },
    <span class="hljs-attr">_isReadOnlyATF</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id]) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id]._isReadOnlyATF == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id]._isReadOnlyATF();
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isReadOnly == <span class="hljs-string">"function"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].isReadOnly();
        }
        <span class="hljs-keyword">return</span> control.disabled || control.readOnly || control.hasClassName(<span class="hljs-string">"readonly"</span>) || control.getAttribute(<span class="hljs-string">"writeaccess"</span>) == <span class="hljs-string">"false"</span>;
    },
    <span class="hljs-attr">isDisplayNone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, control</span>) </span>{
        <span class="hljs-keyword">var</span> parentNode = ge.getElementParentNode();
        <span class="hljs-keyword">if</span> (parentNode &amp;&amp; parentNode.style.display == <span class="hljs-string">'none'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (ge.getType() == <span class="hljs-string">'html'</span> || ge.getType() == <span class="hljs-string">'translated_html'</span> || ge.getType() == <span class="hljs-string">'composite_name'</span> || ge.getType() == <span class="hljs-string">'url'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> xx = control.style[<span class="hljs-string">'display'</span>];
            <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'none'</span>) {
                <span class="hljs-keyword">var</span> readOnlyField = gel(<span class="hljs-string">"sys_readonly."</span> + control.id);
                <span class="hljs-keyword">if</span> ((readOnlyField &amp;&amp; readOnlyField.style[<span class="hljs-string">'display'</span>] == <span class="hljs-string">'none'</span>) || !readOnlyField)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">var</span> xx = <span class="hljs-keyword">this</span>._getElementStyle(ge, <span class="hljs-string">'display'</span>);
        <span class="hljs-keyword">if</span> (xx == <span class="hljs-string">'none'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_getElementStyle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ge, style</span>) </span>{
        <span class="hljs-keyword">var</span> element = ge.getElementParentNode();
        <span class="hljs-keyword">if</span> (element)
            <span class="hljs-keyword">return</span> element.style[style];
        <span class="hljs-keyword">var</span> labelElement = ge.getLabelElement();
        <span class="hljs-keyword">if</span> (labelElement)
            <span class="hljs-keyword">return</span> labelElement.parentNode.parentNode.style[style];
        <span class="hljs-keyword">var</span> parentTR = findParentByTag(ge.getElement(), <span class="hljs-string">"tr"</span>);
        <span class="hljs-keyword">if</span> (parentTR &amp;&amp; parentTR != labelElement)
            <span class="hljs-keyword">return</span> parentTR.style[name];
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">getMissingFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fa = <span class="hljs-keyword">this</span>.elements;
        <span class="hljs-keyword">var</span> answer = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fa.length; i++) {
            <span class="hljs-keyword">var</span> ed = fa[i];
            <span class="hljs-keyword">if</span> (!ed.mandatory)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> widget = <span class="hljs-keyword">this</span>.getControl(ed.fieldName);
            <span class="hljs-keyword">if</span> (!widget)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isMandatoryFieldEmpty(ed))
                answer.push(ed.fieldName);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_sc_form != <span class="hljs-string">"undefined"</span> &amp;&amp; g_sc_form)
            g_sc_form.getMissingFields(answer);
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">_isMandatoryFieldEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ed</span>) </span>{
        <span class="hljs-keyword">var</span> widgetValue = <span class="hljs-keyword">this</span>.getValue(ed.fieldName);
        <span class="hljs-keyword">if</span> (widgetValue != <span class="hljs-literal">null</span> &amp;&amp; widgetValue != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (ed.supportsMapping) {
            <span class="hljs-keyword">var</span> id = <span class="hljs-string">"sys_mapping."</span> + ed.tableName + <span class="hljs-string">"."</span> + ed.fieldName;
            <span class="hljs-keyword">var</span> mappingValue = <span class="hljs-keyword">this</span>.getValue(id);
            <span class="hljs-keyword">if</span> (mappingValue.trim())
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> nonMappedFieldValue = <span class="hljs-keyword">this</span>.getValue(ed.tableName + <span class="hljs-string">"."</span> + ed.fieldName);
            <span class="hljs-keyword">if</span> (nonMappedFieldValue.trim())
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> displayBox = <span class="hljs-keyword">this</span>.getDisplayBox(ed.fieldName);
        <span class="hljs-keyword">if</span> (displayBox != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> displayValue = displayBox.value;
            <span class="hljs-keyword">if</span> (displayValue != <span class="hljs-literal">null</span> &amp;&amp; displayValue != <span class="hljs-string">''</span> &amp;&amp; displayBox.getAttribute(<span class="hljs-string">'data-ref-dynamic'</span>) == <span class="hljs-string">'true'</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.isNewRecord() || <span class="hljs-keyword">this</span>.mandatory) &amp;&amp; !ed.isDerived())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        widgetName = <span class="hljs-string">"sys_original."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + ed.fieldName;
        widget = gel(widgetName);
        <span class="hljs-keyword">if</span> (widget) {
            widgetValue = widget.value;
            <span class="hljs-keyword">if</span> ((widgetValue == <span class="hljs-literal">null</span> || widgetValue == <span class="hljs-string">''</span>) &amp;&amp; ed.type != <span class="hljs-string">"journal_input"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">resolveNameMap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prettyName</span>) </span>{
        <span class="hljs-keyword">var</span> rc = prettyName;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.nameMap.length; i++) {
            <span class="hljs-keyword">var</span> entry = <span class="hljs-keyword">this</span>.nameMap[i];
            <span class="hljs-keyword">if</span> (entry.prettyName == prettyName) {
                rc = entry.realName;
            }
        }
        <span class="hljs-keyword">return</span> rc;
    },
    <span class="hljs-attr">resolveLabelNameMap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> pname = name;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.nameMap.length; i++) {
            <span class="hljs-keyword">var</span> el = <span class="hljs-keyword">this</span>.nameMap[i];
            <span class="hljs-keyword">if</span> (el.realName === pname || el.prettyName === pname) {
                pname = el.label;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> pname;
    },
    <span class="hljs-attr">resolvePrettyNameMap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">realName</span>) </span>{
        <span class="hljs-keyword">var</span> pname = realName;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.nameMap.length; i++)
            <span class="hljs-keyword">if</span> (<span class="hljs-string">'ni.VE'</span> + <span class="hljs-keyword">this</span>.nameMap[i].realName == realName || <span class="hljs-string">'ni.QS'</span> + <span class="hljs-keyword">this</span>.nameMap[i].realName.substring(<span class="hljs-number">3</span>) == realName) {
                pname = <span class="hljs-keyword">this</span>.nameMap[i].prettyName;
                <span class="hljs-keyword">break</span>;
            }
        <span class="hljs-keyword">return</span> pname;
    },
    <span class="hljs-attr">getFormElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> gel(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.do'</span>);
    },
    <span class="hljs-attr">getControl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> ge = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (ge) {
            <span class="hljs-keyword">var</span> widget = ge.getElement();
            <span class="hljs-keyword">if</span> (widget) {
                <span class="hljs-keyword">return</span> widget;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getControlByForm(fieldName);
    },
    <span class="hljs-attr">getControlByForm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>.getFormElement();
        <span class="hljs-keyword">if</span> (!form)
            <span class="hljs-keyword">return</span>;
        widget = form[<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName];
        <span class="hljs-keyword">if</span> (!widget)
            widget = form[fieldName];
        <span class="hljs-keyword">if</span> (widget &amp;&amp; <span class="hljs-keyword">typeof</span> widget != <span class="hljs-string">'string'</span> &amp;&amp; widget.length &amp;&amp; widget.tagName != <span class="hljs-string">"SELECT"</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; widget.length; i++) {
                <span class="hljs-keyword">if</span> (widget[i].checked)
                    <span class="hljs-keyword">return</span> widget[i];
            }
            <span class="hljs-keyword">var</span> wt = widget[<span class="hljs-number">0</span>].type;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> wt != <span class="hljs-string">'undefined'</span> &amp;&amp; wt == <span class="hljs-string">'radio'</span>)
                <span class="hljs-keyword">return</span> widget[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">return</span> widget;
    },
    <span class="hljs-attr">_tryLabelRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>._tryLabelRowElement(fieldName);
        <span class="hljs-keyword">if</span> (element)
            <span class="hljs-keyword">return</span> element.innerText || element.textContent;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_tryLabelRowElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> id = <span class="hljs-string">"label_"</span> + fieldName;
        <span class="hljs-keyword">var</span> row = gel(id);
        <span class="hljs-keyword">if</span> (row) {
            <span class="hljs-keyword">var</span> child = row.firstChild;
            <span class="hljs-keyword">if</span> (child) {
                <span class="hljs-keyword">return</span> child;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">getLabelOf</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> fieldid = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        <span class="hljs-keyword">var</span> widgetLabel = <span class="hljs-keyword">this</span>.getLabel(fieldid);
        <span class="hljs-keyword">var</span> labelContent = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (widgetLabel) {
            labelContent = $j(widgetLabel).find(<span class="hljs-string">'.label-text'</span>).text() ||
                widgetLabel.innerText ||
                widgetLabel.textContent;
            <span class="hljs-keyword">if</span> (labelContent.indexOf(<span class="hljs-string">'*'</span>) == <span class="hljs-number">0</span> &amp;&amp;
                <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>)
                labelContent = labelContent.toString().substring(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">if</span> ((labelContent.lastIndexOf(<span class="hljs-string">":"</span>) + <span class="hljs-number">1</span>) == labelContent.length)
                labelContent = labelContent.toString().substring(<span class="hljs-number">0</span>, (labelContent.length - <span class="hljs-number">1</span>));
        }
        <span class="hljs-keyword">if</span> (labelContent == <span class="hljs-literal">null</span> || labelContent == <span class="hljs-string">''</span>)
            labelContent = <span class="hljs-keyword">this</span>._tryLabelRow(fieldName);
        <span class="hljs-keyword">if</span> (labelContent == <span class="hljs-literal">null</span> || labelContent == <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(<span class="hljs-keyword">this</span>.resolvePrettyNameMap(fieldName));
            <span class="hljs-keyword">if</span> (handler)
                labelContent = handler.getObject().getLabelOf(fieldName);
            <span class="hljs-keyword">else</span>
                labelContent = fieldName;
        }
        <span class="hljs-keyword">return</span> labelContent.trim();
    },
    <span class="hljs-attr">setLabelOf</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value</span>) </span>{
        <span class="hljs-keyword">var</span> control = g_form.getControl(fieldName);
        <span class="hljs-keyword">var</span> setLabelOfSomething = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].setLabelOf == <span class="hljs-string">"function"</span>))
            setLabelOfSomething = <span class="hljs-keyword">this</span>.elementHandlers[control.id].setLabelOf(value);
        <span class="hljs-keyword">var</span> labelEl = <span class="hljs-keyword">this</span>._getLabelEl(fieldName);
        <span class="hljs-keyword">if</span> (labelEl) {
            $j(labelEl).find(<span class="hljs-string">'.label-text'</span>).text(value);
            setLabelOfSomething = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> setLabelOfSomething;
    },
    <span class="hljs-attr">_getLabelEl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> fieldID = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        <span class="hljs-keyword">var</span> labelEl = <span class="hljs-keyword">this</span>.getLabel(fieldID);
        <span class="hljs-keyword">if</span> (labelEl)
            <span class="hljs-keyword">return</span> labelEl;
        labelEl = <span class="hljs-keyword">this</span>._tryLabelRowElement(fieldName);
        <span class="hljs-keyword">if</span> (labelEl)
            <span class="hljs-keyword">return</span> labelEl;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_getDecorationsEl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field</span>) </span>{
        <span class="hljs-keyword">var</span> label = (field <span class="hljs-keyword">instanceof</span> jQuery) ? field : $j(<span class="hljs-keyword">this</span>._getLabelEl(field));
        <span class="hljs-keyword">if</span> (!label.length)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> decorations = label.find(<span class="hljs-string">'.field_decorations'</span>);
        <span class="hljs-keyword">if</span> (!decorations.length) {
            $j(<span class="hljs-string">'&lt;span class="field_decorations" data-label-decorations="[]" /&gt;'</span>).prependTo(label);
            decorations = label.find(<span class="hljs-string">'.field_decorations'</span>);
        }
        <span class="hljs-keyword">return</span> decorations;
    },
    <span class="hljs-attr">_getDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> attrName = <span class="hljs-string">'data-label-decorations'</span>;
        <span class="hljs-keyword">var</span> decorations = <span class="hljs-keyword">this</span>._getDecorationsEl(fieldName);
        <span class="hljs-keyword">if</span> (decorations &amp;&amp; decorations.length) {
            <span class="hljs-keyword">var</span> raw = decorations.attr(attrName);
            <span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.parse(raw);
            <span class="hljs-keyword">if</span> (json)
                <span class="hljs-keyword">return</span> json;
        }
        <span class="hljs-keyword">return</span> [];
    },
    <span class="hljs-attr">_setDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, decorations</span>) </span>{
        <span class="hljs-keyword">var</span> isArr = <span class="hljs-built_in">Array</span>.isArray || <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{
            <span class="hljs-keyword">return</span> $j.type(obj) === <span class="hljs-string">"array"</span>;
        };
        <span class="hljs-keyword">if</span> (!isArr(decorations))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> attrName = <span class="hljs-string">'data-label-decorations'</span>;
        <span class="hljs-keyword">var</span> labelEl = <span class="hljs-keyword">this</span>._getLabelEl(fieldName);
        <span class="hljs-keyword">if</span> (labelEl) {
            <span class="hljs-keyword">var</span> raw = <span class="hljs-built_in">JSON</span>.stringify(decorations);
            <span class="hljs-keyword">var</span> decorEl = <span class="hljs-keyword">this</span>._getDecorationsEl($j(labelEl));
            decorEl.empty();
            decorEl.attr(attrName, raw);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; decorations.length; i++) {
                <span class="hljs-keyword">var</span> dec = decorations[i];
                <span class="hljs-keyword">var</span> $dec = $j(<span class="hljs-string">'&lt;span class="field_decoration '</span> + dec.icon + <span class="hljs-string">' '</span> + dec.color + <span class="hljs-string">'" '</span> +
                    <span class="hljs-string">'title="'</span> + dec.text + <span class="hljs-string">'" '</span> +
                    <span class="hljs-string">'data-placement="right" data-container=".touch_scroll"&gt;&lt;/span&gt;'</span>)
                decorEl.append($dec);
                $dec.tooltip().hideFix();
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">addDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field, icon, text, color</span>) </span>{
        text = text || <span class="hljs-string">''</span>;
        color = color || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> decorations = <span class="hljs-keyword">this</span>._getDecorations(field);
        <span class="hljs-keyword">var</span> deco = {
            <span class="hljs-attr">icon</span>: icon,
            <span class="hljs-attr">text</span>: text,
            <span class="hljs-attr">color</span>: color
        };
        <span class="hljs-keyword">var</span> isDuplicate = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> maxi = decorations.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; maxi; i++) {
            <span class="hljs-keyword">var</span> dec = decorations[i];
            <span class="hljs-keyword">if</span> (dec.icon == icon &amp;&amp;
                dec.text == text &amp;&amp;
                dec.color == color) {
                isDuplicate = <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!isDuplicate)
            decorations.push(deco);
        <span class="hljs-keyword">this</span>._setDecorations(field, decorations);
    },
    <span class="hljs-attr">removeDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field, icon, text, color</span>) </span>{
        text = text || <span class="hljs-string">''</span>;
        color = color || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> decorations = <span class="hljs-keyword">this</span>._getDecorations(field);
        <span class="hljs-keyword">var</span> out = [];
        <span class="hljs-keyword">var</span> maxi = decorations.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; maxi; i++) {
            <span class="hljs-keyword">var</span> dec = decorations[i];
            <span class="hljs-keyword">if</span> (!(dec.icon == icon &amp;&amp;
                    dec.text == text &amp;&amp;
                    dec.color == color)) {
                out.push(dec);
            }
        }
        <span class="hljs-keyword">this</span>._setDecorations(field, out);
    },
    <span class="hljs-attr">removeAllDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        $j(<span class="hljs-string">'.field_decorations'</span>).remove();
    },
    <span class="hljs-attr">getSectionNames</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> g_tabs2Sections.tabNames;
    },
    <span class="hljs-attr">setSectionDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, display</span>) </span>{
        <span class="hljs-keyword">var</span> index = g_tabs2Sections.findTabIndexByName(name);
        <span class="hljs-keyword">if</span> (index === <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (display)
            g_tabs2Sections.showTab(index);
        <span class="hljs-keyword">else</span>
            g_tabs2Sections.hideTab(index);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isSectionVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> index = g_tabs2Sections.findTabIndexByName(name);
        <span class="hljs-keyword">if</span> (index !== <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> g_tabs2Sections.isVisible(index);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">activateTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> index = g_tabs2Sections.findTabIndexByName(name);
        <span class="hljs-keyword">if</span> (index !== <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> g_tabs2Sections.setActive(index);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getTabNameForField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">if</span> (!g_form.hasField(fieldName))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> control = g_form.getControl(fieldName);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getTabNameForElement(control);
    },
    <span class="hljs-attr">_getTabNameForElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">var</span> sectionId = $j(element).closest(<span class="hljs-string">'[data-section-id]'</span>).attr(<span class="hljs-string">'id'</span>);
        <span class="hljs-keyword">if</span> (sectionId) {
            <span class="hljs-keyword">var</span> tabIndex = g_tabs2Sections.findTabIndexByID(sectionId);
            <span class="hljs-keyword">return</span> g_tabs2Sections.tabNames[tabIndex];
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">validate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fa = <span class="hljs-keyword">this</span>.elements;
        <span class="hljs-keyword">var</span> rc = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> labels = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fa.length; i++) {
            <span class="hljs-keyword">var</span> ed = fa[i];
            <span class="hljs-keyword">var</span> widgetName = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + ed.fieldName;
            <span class="hljs-keyword">var</span> widget = <span class="hljs-keyword">this</span>.getControl(ed.fieldName);
            <span class="hljs-keyword">if</span> (!widget)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isEditableField(ed, widget))
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (widget.getAttribute(<span class="hljs-string">"validate"</span>) == <span class="hljs-string">"false"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> widgetValue = widget.value;
            <span class="hljs-keyword">var</span> widgetType = ed.type;
            <span class="hljs-keyword">var</span> specialType = widget.getAttribute(<span class="hljs-string">"specialtype"</span>);
            <span class="hljs-keyword">if</span> (specialType)
                widgetType = specialType;
            <span class="hljs-keyword">var</span> validator = <span class="hljs-keyword">this</span>.validators[widgetType];
            <span class="hljs-keyword">if</span> (!validator)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">this</span>.hideFieldMsg(widget);
            <span class="hljs-keyword">var</span> isValid = validator.call(<span class="hljs-keyword">this</span>, widgetValue);
            <span class="hljs-keyword">if</span> (isValid != <span class="hljs-literal">null</span> &amp;&amp; isValid != <span class="hljs-literal">true</span>) {
                <span class="hljs-keyword">var</span> widgetLabel = <span class="hljs-keyword">this</span>.getLabelOf(ed.fieldName);
                labels.push(widgetName);
                rc = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (isValid == <span class="hljs-literal">false</span> || isValid == <span class="hljs-string">"false"</span>)
                    isValid = getMessage(<span class="hljs-string">"Invalid text"</span>);
                <span class="hljs-keyword">this</span>.showFieldMsg(widget, isValid, <span class="hljs-string">'error'</span>);
            }
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.length; i++)
            <span class="hljs-keyword">this</span>.flash(labels[i], <span class="hljs-string">"#FFFACD"</span>, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> rc;
    },
    <span class="hljs-attr">removeCurrentPrefix</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (id) {
            <span class="hljs-keyword">if</span> (id.indexOf(<span class="hljs-string">'current.'</span>) == <span class="hljs-number">0</span>) {
                id = id.substring(<span class="hljs-number">8</span>);
            }
            <span class="hljs-keyword">return</span> id;
        }
    },
    <span class="hljs-attr">isNumeric</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">internaltype</span>) </span>{
        <span class="hljs-keyword">if</span> (internaltype == <span class="hljs-string">'decimal'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (internaltype == <span class="hljs-string">'float'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (internaltype == <span class="hljs-string">'integer'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (internaltype == <span class="hljs-string">'numeric'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isInteger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">internaltype</span>) </span>{
        <span class="hljs-keyword">if</span> (internaltype == <span class="hljs-string">'integer'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">setTemplateValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value, displayValue</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (control)
            control.templateValue = <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">var</span> text = <span class="hljs-string">"Field modified by template"</span>;
        <span class="hljs-keyword">this</span>.setValue(fieldName, value, displayValue);
        <span class="hljs-keyword">this</span>.addDecoration(fieldName, <span class="hljs-string">'icon-success'</span>, text);
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value, displayValue</span>) </span>{
        <span class="hljs-keyword">var</span> oldValue = <span class="hljs-keyword">this</span>.getValue(fieldName);
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().setValue(handler.getFieldName(),
                    value, displayValue);
            <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (control.options &amp;&amp; control.options.length) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; control.options.length; i++) {
                    control.options[i].removeAttribute(<span class="hljs-string">'selected'</span>);
                }
            }
        }
        <span class="hljs-keyword">var</span> previousInternalChangeValue = <span class="hljs-keyword">this</span>._internalChange;
        <span class="hljs-keyword">this</span>._internalChange = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._setValue(fieldName, value, displayValue, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">this</span>._internalChange = previousInternalChangeValue;
        <span class="hljs-keyword">this</span>._opticsInspectorLog(fieldName, oldValue);
    },
    <span class="hljs-attr">getNiBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> niName = <span class="hljs-string">'ni.'</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        <span class="hljs-keyword">return</span> gel(niName);
    },
    <span class="hljs-attr">getDisplayBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> dName, field;
        dName = <span class="hljs-string">'sys_display.'</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName;
        field = gel(dName);
        <span class="hljs-keyword">if</span> (field)
            <span class="hljs-keyword">return</span> field;
        dName = <span class="hljs-string">'sys_display.'</span> + fieldName;
        field = gel(dName);
        <span class="hljs-keyword">if</span> (field)
            <span class="hljs-keyword">return</span> field;
        <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
        <span class="hljs-keyword">if</span> (handler) {
            <span class="hljs-keyword">var</span> handlerObject = handler.getObject();
            <span class="hljs-keyword">return</span> handlerObject.getDisplayBox(handlerObject.removeCurrentPrefix(fieldName));
        }
        <span class="hljs-keyword">return</span>;
    },
    <span class="hljs-attr">clearValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                control = handler.getObject().clearValue(handler.getFieldName());
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!control.options) {
            <span class="hljs-keyword">this</span>._setValue(fieldName, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> selindex = control.selectedIndex;
        <span class="hljs-keyword">if</span> (selindex != <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> option = control.options[selindex];
            option.selected = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">var</span> options = control.options;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">var</span> optval = option.value;
            <span class="hljs-keyword">if</span> (optval == <span class="hljs-string">''</span>) {
                option.selected = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
    },
    <span class="hljs-attr">_sanitizeFieldName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">if</span> (fieldName) {
            fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
            fieldName = <span class="hljs-keyword">this</span>._removeTableName(fieldName);
        }
        <span class="hljs-keyword">return</span> fieldName;
    },
    <span class="hljs-attr">_removeTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">if</span> (fieldName.indexOf(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span>) === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> length = <span class="hljs-keyword">this</span>.tableName.length + <span class="hljs-number">1</span>;
            fieldName = fieldName.substring(length);
        }
        <span class="hljs-keyword">return</span> fieldName;
    },
    <span class="hljs-attr">_setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value, displayValue, updateRelated</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>._sanitizeFieldName(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> control === <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> readOnlyField = gel(<span class="hljs-string">'sys_readonly.'</span> + control.id);
        <span class="hljs-keyword">if</span> (readOnlyField) {
            <span class="hljs-keyword">if</span> (readOnlyField.tagName == <span class="hljs-string">"SPAN"</span>) {
                <span class="hljs-keyword">var</span> fieldType = readOnlyField.getAttribute(<span class="hljs-string">'gsft_fieldtype'</span>);
                <span class="hljs-keyword">if</span> (fieldType &amp;&amp; fieldType.indexOf(<span class="hljs-string">"html"</span>) &gt; <span class="hljs-number">-1</span>)
                    readOnlyField.innerHTML = value;
                <span class="hljs-keyword">else</span>
                    readOnlyField.innerHTML = htmlEscape(value);
            } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">if</span> (displayValue &amp;&amp; readOnlyField.tagName != <span class="hljs-string">"SELECT"</span>)
                readOnlyField.value = displayValue;
            <span class="hljs-keyword">else</span> {
                readOnlyField.value = value;
                <span class="hljs-keyword">if</span> (readOnlyField.tagName == <span class="hljs-string">"SELECT"</span>)
                    $j(readOnlyField).trigger(<span class="hljs-string">'change'</span>);
            }
        } <span class="hljs-keyword">else</span> {
            readOnlyField = gel(control.id + <span class="hljs-string">"_label"</span>);
            <span class="hljs-keyword">if</span> (readOnlyField) {
                displayValue = <span class="hljs-keyword">this</span>._ensureDisplayValue(fieldName, value, displayValue);
                <span class="hljs-keyword">if</span> (readOnlyField.tagName == <span class="hljs-string">'SPAN'</span>)
                    readOnlyField.innerHTML = displayValue;
                <span class="hljs-keyword">else</span>
                    readOnlyField.value = displayValue;
            }
        }
        <span class="hljs-keyword">if</span> (control &amp;&amp; control.id &amp;&amp; <span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].setValue == <span class="hljs-string">"function"</span>)) {
            <span class="hljs-keyword">this</span>.elementHandlers[control.id].setValue(value, displayValue);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">'select2'</span> <span class="hljs-keyword">in</span> $j(control).data()) {
            $j(control).select2(<span class="hljs-string">'val'</span>, value);
            onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (control.options) {
            <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>._getSelectedIndex(control, value, displayValue);
            control.selectedIndex = i;
            onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (control.type == <span class="hljs-string">'hidden'</span>) {
            <span class="hljs-keyword">var</span> nibox = <span class="hljs-keyword">this</span>.getNiBox(fieldName);
            <span class="hljs-keyword">if</span> (nibox &amp;&amp; nibox.type == <span class="hljs-string">'checkbox'</span>) {
                <span class="hljs-keyword">if</span> (value &amp;&amp; value == <span class="hljs-string">'0'</span>)
                    value = <span class="hljs-string">'false'</span>;
                <span class="hljs-keyword">if</span> (value &amp;&amp; value == <span class="hljs-string">'1'</span>)
                    value = <span class="hljs-string">'true'</span>;
                control.value = value;
                onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
                <span class="hljs-keyword">if</span> (value &amp;&amp; value == <span class="hljs-string">'false'</span>)
                    nibox.checked = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value || value == <span class="hljs-string">'true'</span>)
                    nibox.checked = <span class="hljs-string">'true'</span>;
                <span class="hljs-keyword">else</span>
                    nibox.checked = <span class="hljs-literal">null</span>;
                setCheckBox(nibox);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> displaybox = <span class="hljs-keyword">this</span>.getDisplayBox(fieldName);
            <span class="hljs-keyword">if</span> (displaybox) {
                <span class="hljs-keyword">var</span> sel = gel(<span class="hljs-string">"sys_select."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(displayValue) == <span class="hljs-string">'undefined'</span> &amp;&amp; value)
                    displayValue = <span class="hljs-keyword">this</span>._ensureDisplayValue(fieldName, value, displayValue);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(displayValue) != <span class="hljs-string">'undefined'</span>) {
                    control.value = value;
                    displaybox.value = displayValue;
                    onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
                    removeClassName(displaybox, <span class="hljs-string">'ref_invalid'</span>);
                    removeClassName(displaybox, <span class="hljs-string">'ref_dynamic'</span>);
                    displaybox.title = <span class="hljs-string">""</span>;
                    <span class="hljs-keyword">this</span>._setReferenceSelect(control, sel, value, displayValue);
                    refFlipImage(displaybox, control.id);
                    <span class="hljs-keyword">if</span> (updateRelated) {
                        updateRelatedGivenNameAndValue(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName, value);
                    }
                    <span class="hljs-keyword">return</span>;
                }
                control.value = value;
                onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
                <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">null</span> || value == <span class="hljs-string">''</span>) {
                    displaybox.value = <span class="hljs-string">''</span>;
                    <span class="hljs-keyword">this</span>._setReferenceSelect(control, sel, value, <span class="hljs-string">''</span>);
                    refFlipImage(displaybox, control.id);
                    <span class="hljs-keyword">return</span>;
                }
                displaybox.value = displayValue;
                <span class="hljs-keyword">this</span>._setReferenceSelect(control, sel, value, displayValue);
                refFlipImage(displaybox, control.id);
                updateRelatedGivenNameAndValue(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.'</span> + fieldName, value);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($(control).hasClassName(<span class="hljs-string">'glide_destroy_filter'</span>) || $(control).hasClassName(<span class="hljs-string">'glideform-set-value'</span>)) {
                $j(control).val(value);
                onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
            } <span class="hljs-keyword">else</span> {
                control.value = value;
                onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
            }
        } <span class="hljs-keyword">else</span> {
            control.value = value;
            onChange(<span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName);
        }
    },
    <span class="hljs-attr">_setReferenceSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, sel, value, displayValue</span>) </span>{
        <span class="hljs-keyword">if</span> (control &amp;&amp; !control.options &amp;&amp; sel) {
            <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>._getSelectedIndex(sel, value, displayValue);
            sel.selectedIndex = i;
        }
    },
    <span class="hljs-attr">_getSelectedIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, value, displayValue</span>) </span>{
        <span class="hljs-keyword">var</span> options = control.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (option.value == value) {
                <span class="hljs-keyword">return</span> i;
            }
        }
        <span class="hljs-keyword">var</span> dv = value;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(displayValue) != <span class="hljs-string">'undefined'</span>)
            dv = displayValue;
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(dv, value);
        control.options[control.options.length] = newOption;
        <span class="hljs-keyword">return</span> control.options.length - <span class="hljs-number">1</span>;
    },
    <span class="hljs-attr">_ensureDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value, displayValue</span>) </span>{
        <span class="hljs-keyword">if</span> (displayValue)
            <span class="hljs-keyword">return</span> displayValue;
        <span class="hljs-keyword">var</span> ed = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!ed)
            <span class="hljs-keyword">return</span> displayValue;
        <span class="hljs-keyword">if</span> (ed.type != <span class="hljs-string">'reference'</span> &amp;&amp; ed.type != <span class="hljs-string">'domain_id'</span>)
            <span class="hljs-keyword">return</span> displayValue;
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AjaxClientHelper'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getDisplay'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_table'</span>, ed.reference);
        ga.addParam(<span class="hljs-string">'sysparm_value'</span>, value);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer();
    },
    <span class="hljs-attr">getUniqueValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getValue(<span class="hljs-string">'sys_uniqueValue'</span>);
    },
    <span class="hljs-attr">isDatabaseView</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> id = <span class="hljs-keyword">this</span>.getUniqueValue();
        <span class="hljs-keyword">return</span> id &amp;&amp; id.indexOf(<span class="hljs-string">'__ENC__'</span>) == <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">getTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getValue(<span class="hljs-string">'sys_titleValue'</span>);
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                <span class="hljs-keyword">return</span> handler.getObject().getValue(
                    handler.getFieldName());
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getValueFromControl(control);
    },
    <span class="hljs-attr">getDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getValue(<span class="hljs-string">'sys_displayValue'</span>);
    },
    <span class="hljs-attr">_getValueFromControl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control</span>) </span>{
        <span class="hljs-keyword">var</span> value;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementHandlers[control.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[control.id].getValue == <span class="hljs-string">"function"</span>)) {
            value = <span class="hljs-keyword">this</span>.elementHandlers[control.id].getValue();
        } <span class="hljs-keyword">else</span> {
            value = control.value;
        }
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> value !== <span class="hljs-string">'undefined'</span>) ? value.toString() : <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">getIntValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> val = <span class="hljs-keyword">this</span>.getValue(fieldName);
        <span class="hljs-keyword">if</span> (!val || val.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(formatClean(val));
    },
    <span class="hljs-attr">getDecimalValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> val = <span class="hljs-keyword">this</span>.getValue(fieldName);
        <span class="hljs-keyword">if</span> (!val || val.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> fc = formatClean(val);
        fc = fc.replace(<span class="hljs-regexp">/,/g</span>, <span class="hljs-string">'.'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseFloat</span>(fc);
    },
    <span class="hljs-attr">getBooleanValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> val = <span class="hljs-keyword">this</span>.getValue(fieldName);
        val = val ? val + <span class="hljs-string">''</span> : val;
        <span class="hljs-keyword">if</span> (!val || val.length == <span class="hljs-number">0</span> || val == <span class="hljs-string">"false"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">addOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, choiceValue, choiceLabel, choiceIndex</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().addOption(handler.getFieldName(), choiceValue, choiceLabel, choiceIndex);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!control.options)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> len = control.options.length;
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; i++) {
            <span class="hljs-keyword">if</span> (control.options[i].text == choiceLabel) {
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">if</span> (choiceIndex == <span class="hljs-literal">undefined</span>)
            choiceIndex = len;
        <span class="hljs-keyword">if</span> (choiceIndex &lt; <span class="hljs-number">0</span> || choiceIndex &gt; len)
            choiceIndex = len;
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(choiceLabel, choiceValue);
        <span class="hljs-keyword">var</span> value = choiceValue;
        <span class="hljs-keyword">if</span> (len &gt; <span class="hljs-number">0</span>) {
            value = <span class="hljs-keyword">this</span>.getValue(fieldName);
            control.options[len] = <span class="hljs-keyword">new</span> Option(<span class="hljs-string">''</span>, <span class="hljs-string">''</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = len; i &gt; choiceIndex; i--) {
                control.options[i].text = control.options[i - <span class="hljs-number">1</span>].text;
                control.options[i].value = control.options[i - <span class="hljs-number">1</span>].value;
            }
        }
        control.options[choiceIndex] = newOption;
        <span class="hljs-keyword">this</span>.setValue(fieldName, value);
    },
    <span class="hljs-attr">enableOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, choiceValue, choiceLabel</span>) </span>{
        <span class="hljs-keyword">var</span> len = control.options.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = len - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-keyword">if</span> (control.options[i].text == choiceLabel &amp;&amp; control.options[i].value == choiceValue) {
                control.options[i].disabled = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">clearOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(fieldName);
        <span class="hljs-keyword">if</span> (control &amp;&amp; !control.options) {
            <span class="hljs-keyword">var</span> name = <span class="hljs-string">"sys_select."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + fieldName;
            control = gel(name);
        }
        <span class="hljs-keyword">if</span> (!control) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                handler.getObject().clearOptions(handler.getFieldName());
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!control.options)
            <span class="hljs-keyword">return</span>;
        control.innerHTML = <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">getOptionControl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, choiceValue</span>) </span>{
        <span class="hljs-keyword">var</span> noPrefix = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getControl(noPrefix);
        <span class="hljs-keyword">if</span> (control &amp;&amp; !control.options) {
            <span class="hljs-keyword">var</span> name = <span class="hljs-string">"sys_select."</span> + <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span> + noPrefix;
            control = gel(name);
        }
        <span class="hljs-keyword">return</span> control;
    },
    <span class="hljs-attr">removeOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, choiceValue</span>) </span>{
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getOptionControl(fieldName, choiceValue);
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!control.options)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> options = control.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (option.value == choiceValue) {
                control.options[i] = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
    },
    <span class="hljs-attr">getOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, choiceValue</span>) </span>{
        <span class="hljs-keyword">var</span> control = <span class="hljs-keyword">this</span>.getOptionControl(fieldName, choiceValue);
        <span class="hljs-keyword">if</span> (!control)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (!control.options)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> options = control.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (option.value == choiceValue)
                <span class="hljs-keyword">return</span> option;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">removeContextItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemID</span>) </span>{
        <span class="hljs-keyword">for</span> (av <span class="hljs-keyword">in</span> contextMenus) {
            <span class="hljs-keyword">if</span> (contextMenus[av]) {
                <span class="hljs-keyword">var</span> menu = contextMenus[av];
                <span class="hljs-keyword">var</span> c = menu.context;
                <span class="hljs-keyword">if</span> (c)
                    <span class="hljs-keyword">this</span>.removeItem(menu, itemID);
            }
        }
    },
    <span class="hljs-attr">removeItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">menu, itemID</span>) </span>{
        <span class="hljs-keyword">var</span> items = menu.childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.innerHTML == itemID) {
                menu.removeChild(item);
                clearNodes(item);
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span>;
    },
    <span class="hljs-attr">getGlideUIElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.elements.length; i++) {
            <span class="hljs-keyword">var</span> thisElement = <span class="hljs-keyword">this</span>.elements[i];
            <span class="hljs-keyword">if</span> (thisElement.fieldName == fieldName)
                <span class="hljs-keyword">return</span> thisElement;
        }
    },
    <span class="hljs-attr">getDerivedFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> parts = fieldName.split(<span class="hljs-string">"."</span>);
        parts.shift();
        fieldName = parts.join(<span class="hljs-string">"."</span>) + <span class="hljs-string">"."</span>;
        <span class="hljs-keyword">var</span> list = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.elements.length; i++) {
            <span class="hljs-keyword">var</span> thisElement = <span class="hljs-keyword">this</span>.elements[i];
            <span class="hljs-keyword">if</span> (thisElement.fieldName.indexOf(fieldName) == <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">var</span> target = thisElement.fieldName.substring(fieldName.length);
                list.push(target);
            }
        }
        <span class="hljs-keyword">if</span> (list.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> list;
    },
    <span class="hljs-attr">_addDerivedWaiting</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">this</span>.derivedWaiting.push(fieldName);
    },
    <span class="hljs-attr">_isDerivedWaiting</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> tablePrefix = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">"."</span>;
        <span class="hljs-keyword">if</span> (fieldName.startsWith(tablePrefix))
            fieldName = fieldName.substring(tablePrefix.length);
        <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>.derivedWaiting.indexOf(fieldName);
        <span class="hljs-keyword">return</span> (index != <span class="hljs-number">-1</span>);
    },
    <span class="hljs-attr">_removeDerivedWaiting</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>.derivedWaiting.indexOf(fieldName);
        <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">this</span>.derivedWaiting.splice(index, <span class="hljs-number">1</span>);
    },
    <span class="hljs-attr">getReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, callback</span>) </span>{
        <span class="hljs-keyword">var</span> opticsContext = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[<span class="hljs-string">'g_optics_inspect_handler'</span>] &amp;&amp; g_optics_inspect_handler.opticsContextStack.length &gt; <span class="hljs-number">0</span>)
            opticsContext = g_optics_inspect_handler.opticsContextStack[g_optics_inspect_handler.opticsContextStack.length - <span class="hljs-number">1</span>];
        fieldName = <span class="hljs-keyword">this</span>.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">var</span> ed = <span class="hljs-keyword">this</span>.getGlideUIElement(fieldName);
        <span class="hljs-keyword">if</span> (!ed) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(fieldName);
            <span class="hljs-keyword">if</span> (handler)
                <span class="hljs-keyword">return</span> handler.getObject().getReference(handler.getFieldName(), callback);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (ed.type != <span class="hljs-string">'reference'</span> &amp;&amp; ed.type != <span class="hljs-string">'domain_id'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>.getValue(fieldName);
        <span class="hljs-keyword">var</span> gr = <span class="hljs-keyword">new</span> GlideRecord(ed.reference);
        <span class="hljs-keyword">if</span> (value == <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">if</span> (callback)
                callback(gr);
            <span class="hljs-keyword">return</span> gr;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_event_handlers_localCache &amp;&amp; !callback) {
            <span class="hljs-keyword">var</span> cachedObj = <span class="hljs-built_in">window</span>.g_event_handlers_localCache[fieldName];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> cachedObj !== <span class="hljs-string">'undefined'</span> &amp;&amp; cachedObj.sys_id === value) {
                jslog(<span class="hljs-string">"GlideForm: getReference cache hit on "</span> + <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"."</span> + fieldName + <span class="hljs-string">":"</span> + value + <span class="hljs-string">", skipped synchronous ajax call"</span>);
                <span class="hljs-keyword">return</span> cachedObj;
            }
        }
        gr.addQuery(<span class="hljs-string">'sys_id'</span>, value);
        <span class="hljs-keyword">if</span> (callback) {
            <span class="hljs-keyword">var</span> fn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gr</span>) </span>{
                gr.next();
                <span class="hljs-keyword">if</span> (opticsContext)
                    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_put_context'</span>, opticsContext[<span class="hljs-string">"category"</span>], opticsContext[<span class="hljs-string">"name"</span>], opticsContext[<span class="hljs-string">"sys_id"</span>]);
                callback(gr);
                <span class="hljs-keyword">if</span> (opticsContext)
                    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_pop_context'</span>);
            };
            gr.query(fn);
            <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
            sw.jslog(<span class="hljs-string">"*** WARNING *** GlideForm: synchronous getReference call on "</span> + <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">" for "</span> + fieldName);
            <span class="hljs-keyword">if</span> (g_event_handlers_queryTracking) {
                gr.addAdditionalParam(<span class="hljs-string">"sysparm_reference_query_table"</span>, <span class="hljs-keyword">this</span>.getTableName());
                gr.addAdditionalParam(<span class="hljs-string">"sysparm_reference_query_field"</span>, fieldName);
            }
        }
        gr.query();
        gr.next();
        <span class="hljs-keyword">return</span> gr;
    },
    <span class="hljs-attr">submit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">actionName</span>) </span>{
        actionName = actionName || <span class="hljs-string">'sysverb_update'</span>;
        <span class="hljs-keyword">var</span> action = gel(actionName);
        <span class="hljs-keyword">if</span> (!action)
            action = <span class="hljs-keyword">this</span>._getLinkActionByAttribute(actionName);
        <span class="hljs-keyword">if</span> (action)
            <span class="hljs-keyword">return</span> gsftSubmit(action);
    },
    <span class="hljs-attr">_getLinkActionByAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">actionName, attribute</span>) </span>{
        <span class="hljs-keyword">var</span> attr = attribute || <span class="hljs-string">'gsft_action_name'</span>;
        <span class="hljs-keyword">var</span> selector = <span class="hljs-string">'a['</span> + attr + <span class="hljs-string">'="'</span> + actionName + <span class="hljs-string">'"]'</span>;
        <span class="hljs-keyword">var</span> el = $j(selector);
        <span class="hljs-keyword">if</span> (el.length === <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">return</span> el[<span class="hljs-number">0</span>];
    },
    <span class="hljs-attr">save</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.submit(<span class="hljs-string">'sysverb_update_and_stay'</span>);
    },
    <span class="hljs-attr">getActionName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>.getFormElement();
        <span class="hljs-keyword">if</span> (form) {
            <span class="hljs-keyword">var</span> theButton = form.sys_action;
            <span class="hljs-keyword">if</span> (theButton)
                <span class="hljs-keyword">return</span> theButton.value;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.action;
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">getSections</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> $$(<span class="hljs-string">'form span.tabs2_section span[data-header-only="false"]'</span>);
    },
    <span class="hljs-attr">serialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filterFunc</span>) </span>{
        <span class="hljs-keyword">var</span> formName = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.do'</span>;
        <span class="hljs-keyword">if</span> (!filterFunc)
            <span class="hljs-keyword">return</span> Form.serialize(gel(formName)) + <span class="hljs-keyword">this</span>._serializeDisabled();
        <span class="hljs-keyword">var</span> elements = Form.getElements(gel(formName));
        <span class="hljs-keyword">var</span> queryComponents = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; elements.length; i++) {
            <span class="hljs-keyword">if</span> (filterFunc(elements[i])) {
                <span class="hljs-keyword">var</span> queryComponent;
                <span class="hljs-keyword">if</span> (elements[i].disabled)
                    queryComponent = elements[i].id + <span class="hljs-string">'='</span> + <span class="hljs-built_in">encodeURIComponent</span>(elements[i].value);
                <span class="hljs-keyword">else</span>
                    queryComponent = Form.Element.serialize(elements[i]);
                <span class="hljs-keyword">if</span> (queryComponent)
                    queryComponents.push(queryComponent);
            }
        }
        <span class="hljs-keyword">return</span> queryComponents.join(<span class="hljs-string">'&amp;'</span>);
    },
    <span class="hljs-attr">_serializeDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.disabledFields.length;
        <span class="hljs-keyword">var</span> dfa = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) {
            <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.disabledFields[i];
            <span class="hljs-keyword">if</span> (!e.value || !e.id)
                <span class="hljs-keyword">continue</span>;
            dfa.push(e.id + <span class="hljs-string">'='</span> + <span class="hljs-built_in">encodeURIComponent</span>(e.value));
        }
        <span class="hljs-keyword">if</span> (dfa.length)
            <span class="hljs-keyword">return</span> <span class="hljs-string">'&amp;'</span> + dfa.join(<span class="hljs-string">'&amp;'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">serializeChanged</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.serializeTargetFields();
        <span class="hljs-keyword">var</span> f = <span class="hljs-keyword">this</span>.serialize(<span class="hljs-keyword">this</span>.changedFieldsFilter.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (f)
            f = <span class="hljs-string">"&amp;"</span> + f;
        <span class="hljs-keyword">return</span> s + f;
    },
    <span class="hljs-attr">serializeChangedAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.serializeTargetFields();
        <span class="hljs-keyword">var</span> f = <span class="hljs-keyword">this</span>.serialize(<span class="hljs-keyword">this</span>.allChangedFieldsFilter.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (f)
            f = <span class="hljs-string">"&amp;"</span> + f;
        <span class="hljs-keyword">return</span> s + f;
    },
    <span class="hljs-attr">serializeTargetFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._serializeElement(<span class="hljs-string">"sys_target"</span>);
        s += <span class="hljs-keyword">this</span>._serializeElement(<span class="hljs-string">"sys_uniqueValue"</span>);
        s += <span class="hljs-keyword">this</span>._serializeElement(<span class="hljs-string">"sys_row"</span>);
        s += <span class="hljs-keyword">this</span>._serializeElement(<span class="hljs-string">"sysparm_encoded_record"</span>);
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">_serializeElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(id);
        <span class="hljs-keyword">if</span> (e) {
            <span class="hljs-keyword">var</span> queryComponent = Form.Element.serialize(e);
            <span class="hljs-keyword">if</span> (queryComponent)
                <span class="hljs-keyword">return</span> <span class="hljs-string">"&amp;"</span> + queryComponent;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">changedFieldsFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">if</span> (element.changed &amp;&amp;
            element.id.startsWith(<span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"."</span>) &amp;&amp;
            (element.tagName.toUpperCase() != <span class="hljs-string">"TEXTAREA"</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (element.id.startsWith(<span class="hljs-string">"ni.VE"</span>) || element.id.startsWith(<span class="hljs-string">"ni.QS"</span>)) {
            <span class="hljs-keyword">if</span> (element.id.endsWith(<span class="hljs-string">"read_only"</span>))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (element.name.startsWith(<span class="hljs-string">"ni.WATERMARK"</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">allChangedFieldsFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">if</span> (element.changed &amp;&amp; element.id.startsWith(<span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"."</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">flash</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">widgetName, color, count</span>) </span>{
        <span class="hljs-keyword">var</span> row = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> labels = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> realLabel = <span class="hljs-keyword">this</span>.getLabel(widgetName);
        <span class="hljs-keyword">if</span> (realLabel)
            row = $(realLabel.parentNode.parentNode);
        <span class="hljs-keyword">else</span> {
            jslog(<span class="hljs-string">"flash() called for '"</span> + widgetName + <span class="hljs-string">"' but there is no label for it"</span>)
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> temp = row.select(<span class="hljs-string">'.label_left'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; temp.length; i++)
            labels.push(temp[i]);
        temp = row.select(<span class="hljs-string">'.label_right'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; temp.length; i++)
            labels.push(temp[i]);
        temp = row.select(<span class="hljs-string">'.label'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; temp.length; i++)
            labels.push(temp[i]);
        temp = row.select(<span class="hljs-string">'.control-label'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; temp.length; i++)
            labels.push(temp[i]);
        count = count + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.length; i++) {
            <span class="hljs-keyword">var</span> widget = labels[i];
            <span class="hljs-keyword">if</span> (widget) {
                <span class="hljs-keyword">var</span> originalColor = widget.style.backgroundColor;
                widget.style.backgroundColor = color;
            }
        }
        <span class="hljs-keyword">if</span> (count &lt; <span class="hljs-number">4</span>)
            setTimeout(<span class="hljs-string">'g_form.flash("'</span> + widgetName + <span class="hljs-string">'", "'</span> + originalColor + <span class="hljs-string">'", '</span> + count + <span class="hljs-string">')'</span>, <span class="hljs-number">500</span>);
    },
    <span class="hljs-attr">enable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>.getFormElement();
        <span class="hljs-keyword">if</span> (form)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; form.elements.length; i++)
                form.elements[i].disabled = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>.getFormElement();
        <span class="hljs-keyword">if</span> (form)
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; form.elements.length; i++)
                form.elements[i].disabled = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">showRelatedList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'related_lists.show'</span>, listTableName);
    },
    <span class="hljs-attr">hideRelatedList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'related_lists.hide'</span>, listTableName);
    },
    <span class="hljs-attr">getRelatedListNames</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.g_relatedLists)
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.NOW.g_relatedLists.lists;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs2List) {
            <span class="hljs-keyword">var</span> relatedListNames = [];
            <span class="hljs-keyword">var</span> trimmedNames = g_tabs2List.tabIDs;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; trimmedNames.length; i++)
                relatedListNames.push(trimmedNames[i].split(<span class="hljs-string">'.'</span>).slice(<span class="hljs-number">1</span>).join(<span class="hljs-string">'.'</span>));
            <span class="hljs-keyword">return</span> relatedListNames;
        }
        <span class="hljs-keyword">var</span> listWrapper = gel(<span class="hljs-string">"related_lists_wrapper"</span>);
        <span class="hljs-keyword">if</span> (!listWrapper)
            <span class="hljs-keyword">return</span> [];
        <span class="hljs-keyword">var</span> forthcomingTabs = listWrapper.getAttribute(<span class="hljs-string">'data-lists'</span>);
        <span class="hljs-keyword">if</span> (!forthcomingTabs)
            <span class="hljs-keyword">return</span> [];
        <span class="hljs-keyword">return</span> forthcomingTabs.split(<span class="hljs-string">','</span>);
    },
    <span class="hljs-attr">_getRelatedListID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">var</span> relatedList = <span class="hljs-keyword">this</span>.findV2RelatedListName(listTableName);
        <span class="hljs-keyword">var</span> relatedListId;
        <span class="hljs-keyword">if</span> (relatedList)
            relatedListId = relatedList.getAttribute(<span class="hljs-string">"id"</span>);
        <span class="hljs-keyword">if</span> (!relatedListId)
            relatedListId = <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"."</span> + listTableName;
        <span class="hljs-keyword">return</span> relatedListId;
    },
    <span class="hljs-attr">findV2RelatedListName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">var</span> tableName = <span class="hljs-keyword">this</span>.getTableName();
        <span class="hljs-keyword">var</span> compareId = tableName + <span class="hljs-string">"."</span> + listTableName;
        <span class="hljs-keyword">var</span> rlw = gel(<span class="hljs-string">"related_lists_wrapper"</span>);
        <span class="hljs-keyword">if</span> (!rlw)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rlw.childNodes.length; i++) {
            <span class="hljs-keyword">var</span> node = rlw.childNodes[i];
            <span class="hljs-keyword">if</span> (node.nodeName != <span class="hljs-string">"DIV"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> idName = node.getAttribute(<span class="hljs-string">"id"</span>);
            <span class="hljs-keyword">if</span> (idName.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (idName.indexOf(compareId) &gt; <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">return</span> node;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideLists2 == <span class="hljs-string">"undefined"</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> id <span class="hljs-keyword">in</span> GlideLists2) {
            <span class="hljs-keyword">var</span> list = GlideLists2[id];
            <span class="hljs-keyword">if</span> (list.getTableName() == listTableName &amp;&amp; list.getParentTable() == tableName)
                <span class="hljs-keyword">return</span> list.getContainer();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">showRelatedLists</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> listNames = g_form.getRelatedListNames();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; listNames.length; i++) {
            <span class="hljs-keyword">this</span>.showRelatedList(listNames[i]);
        }
    },
    <span class="hljs-attr">hideRelatedLists</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> listNames = g_form.getRelatedListNames();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; listNames.length; i++) {
            <span class="hljs-keyword">this</span>.hideRelatedList(listNames[i]);
        }
    },
    <span class="hljs-attr">addInfoMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, id</span>) </span>{
        <span class="hljs-keyword">this</span>._addFormMessage(msg, <span class="hljs-string">"info"</span>, id);
    },
    <span class="hljs-attr">addWarningMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, id</span>) </span>{
        <span class="hljs-keyword">this</span>._addFormMessage(msg, <span class="hljs-string">"warning"</span>, id);
    },
    <span class="hljs-attr">addErrorMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, id</span>) </span>{
        <span class="hljs-keyword">this</span>._addFormMessage(msg, <span class="hljs-string">"error"</span>, id);
    },
    <span class="hljs-attr">_addFormMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, type, id</span>) </span>{
        GlideUI.get().addOutputMessage({
            <span class="hljs-attr">msg</span>: msg,
            <span class="hljs-attr">type</span>: type,
            <span class="hljs-attr">id</span>: id
        });
        <span class="hljs-keyword">var</span> scrollDiv = getFormContentParent();
        scrollDiv.scrollTop = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">clearMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        GlideUI.get().clearOutputMessages();
    },
    <span class="hljs-attr">showFieldMsg</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">input, message, type, scrollForm, key</span>) </span>{
        <span class="hljs-keyword">var</span> msgClass;
        <span class="hljs-keyword">var</span> msgImage;
        <span class="hljs-keyword">var</span> msgImageAlt;
        <span class="hljs-keyword">var</span> msgRowType;
        <span class="hljs-keyword">switch</span> (type) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"info"</span>:
                msgClass = <span class="hljs-keyword">this</span>.INFO_CLASS;
                msgRowType = <span class="hljs-string">'info'</span> + <span class="hljs-keyword">this</span>.MSG_ROW;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"error"</span>:
                msgClass = <span class="hljs-keyword">this</span>.ERROR_CLASS;
                msgRowType = <span class="hljs-string">'error'</span> + <span class="hljs-keyword">this</span>.MSG_ROW;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">"warning"</span>:
                msgClass = <span class="hljs-keyword">this</span>.WARNING_CLASS;
                msgRowType = <span class="hljs-string">'warning'</span> + <span class="hljs-keyword">this</span>.MSG_ROW;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                type = <span class="hljs-string">'info'</span>;
                msgClass = <span class="hljs-keyword">this</span>.INFO_CLASS;
                msgRowType = <span class="hljs-string">'info'</span> + <span class="hljs-keyword">this</span>.MSG_ROW;
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">var</span> inputElement = input;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(inputElement) == <span class="hljs-string">"string"</span>)
            inputElement = <span class="hljs-keyword">this</span>.getControl(inputElement);
        <span class="hljs-keyword">if</span> (!inputElement) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(input);
            <span class="hljs-keyword">if</span> (handler) {
                <span class="hljs-keyword">var</span> handlerObject = handler.getObject();
                <span class="hljs-keyword">var</span> fieldName = handler.getFieldName();
                <span class="hljs-keyword">var</span> actualName = handlerObject.getActualName(fieldName);
                inputElement = handlerObject.getControl(actualName);
            }
        }
        <span class="hljs-keyword">if</span> (!inputElement || !message) {
            jslog(<span class="hljs-string">"ERROR: invalid field or missing message passed to g_form.showFieldMsg('"</span> + input + <span class="hljs-string">"','"</span> + message + <span class="hljs-string">"')"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (inputElement.id &amp;&amp; <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id].showFieldMsg == <span class="hljs-string">"function"</span>))
            <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id].showFieldMsg(input, message, type);
        <span class="hljs-keyword">var</span> positionedCursor = <span class="hljs-keyword">this</span>._positionCursorAtError(inputElement, message);
        <span class="hljs-keyword">var</span> fieldRowId = <span class="hljs-string">"element."</span> + inputElement.id;
        <span class="hljs-keyword">var</span> fieldRow = <span class="hljs-built_in">document</span>.getElementById(fieldRowId);
        <span class="hljs-keyword">var</span> doc;
        <span class="hljs-keyword">var</span> isVariable = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> variableMsgRow = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (!fieldRow) {
            <span class="hljs-keyword">var</span> parent = inputElement.parentNode;
            <span class="hljs-keyword">while</span> (parent != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">if</span> (parent.nodeName.toUpperCase() == <span class="hljs-string">'TR'</span>) {
                    fieldRow = parent;
                    isVariable = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                }
                parent = parent.parentNode;
            }
        }
        <span class="hljs-keyword">if</span> (!fieldRow) {
            jslog(<span class="hljs-string">"Error adding field message. Couldn't find the row to add the field message to."</span>);
            <span class="hljs-keyword">return</span>;
        }
        doc = fieldRow.ownerDocument;
        <span class="hljs-keyword">var</span> inputContainer = inputElement.up(<span class="hljs-string">'.form-field'</span>);
        <span class="hljs-keyword">if</span> (!inputContainer)
            inputContainer = inputElement.up();
        <span class="hljs-keyword">var</span> fieldMsgContainer = inputContainer.down(<span class="hljs-string">'.fieldmsg-container'</span>);
        <span class="hljs-keyword">if</span> (!fieldMsgContainer) {
            fieldMsgContainer = doc.createElement(<span class="hljs-string">'div'</span>);
            fieldMsgContainer.className = <span class="hljs-string">'fieldmsg-container'</span>;
            <span class="hljs-keyword">if</span> (isVariable)
                fieldMsgContainer.className = <span class="hljs-string">'variable-field-msg'</span>;
            fieldMsgContainer.id = inputElement.id + <span class="hljs-string">'_fieldmsg'</span>;
            fieldMsgContainer.setAttribute(<span class="hljs-string">'aria-live'</span>, <span class="hljs-string">'polite'</span>);
            inputContainer.insert(fieldMsgContainer);
            inputElement.setAttribute(<span class="hljs-string">'aria-describedby'</span>, fieldMsgContainer.id);
            <span class="hljs-keyword">if</span> (inputElement.getAttribute(<span class="hljs-string">'data-type'</span>) === <span class="hljs-string">'glide_element_date_time'</span>) {
                <span class="hljs-keyword">var</span> buttonGroupSiblings = inputElement.siblings(<span class="hljs-string">'.input-group-btn'</span>);
                <span class="hljs-keyword">if</span> (buttonGroupSiblings.length &gt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">var</span> buttonGroup = buttonGroupSiblings[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">var</span> button = buttonGroup.querySelector(<span class="hljs-string">'.date_time_trigger'</span>);
                    <span class="hljs-keyword">if</span> (button) {
                        button.setAttribute(<span class="hljs-string">'aria-describedby'</span>, fieldMsgContainer.id);
                    }
                }
            }
        }
        <span class="hljs-keyword">var</span> fieldMsgRow = doc.createElement(<span class="hljs-string">'DIV'</span>);
        fieldMsgRow.className = msgClass;
        fieldMsgRow.hasFieldmsg = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (key)
            fieldMsgRow.setAttribute(<span class="hljs-string">'data-fieldmsg-key'</span>, inputElement.id + <span class="hljs-string">'_fieldmsg_'</span> + key);
        <span class="hljs-keyword">var</span> fieldmsgMsg = doc.createTextNode(message);
        fieldMsgRow.appendChild(fieldmsgMsg);
        fieldMsgContainer.insert(fieldMsgRow);
        <span class="hljs-keyword">if</span> (!positionedCursor)
            <span class="hljs-keyword">this</span>._scrollToElementTR(fieldRow, fieldMsgRow, scrollForm);
        _frameChanged();
    },
    <span class="hljs-attr">_scrollToElementTR</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelTR, msgTR, scrollForm</span>) </span>{
        <span class="hljs-keyword">var</span> scroll = scrollForm;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> scroll == <span class="hljs-string">"undefined"</span>) {
            <span class="hljs-keyword">var</span> scrollToMsg = gel(<span class="hljs-string">"ni.scroll_to_messsage_field"</span>);
            <span class="hljs-keyword">if</span> (scrollToMsg == <span class="hljs-literal">null</span>)
                scroll = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (scrollToMsg.value != <span class="hljs-string">"false"</span>)
                    scroll = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">else</span>
                    scroll = <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!scroll)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> scrollDiv = getFormContentParent();
        <span class="hljs-keyword">var</span> refControl = gel(<span class="hljs-string">"sys_target"</span>);
        <span class="hljs-keyword">var</span> ref;
        <span class="hljs-keyword">var</span> titleDiv;
        <span class="hljs-keyword">if</span> (refControl != <span class="hljs-literal">null</span>) {
            ref = refControl.value;
            titleDiv = gel(ref + <span class="hljs-string">".form_header"</span>);
        } <span class="hljs-keyword">else</span> {
            titleDiv = gel(<span class="hljs-string">"form_header"</span>);
        }
        <span class="hljs-keyword">var</span> headerHeight = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (titleDiv &amp;&amp; titleDiv.clientHeight)
            headerHeight = titleDiv.clientHeight;
        <span class="hljs-keyword">var</span> topOfLabel = grabOffsetTop(labelTR);
        <span class="hljs-keyword">var</span> needToScroll = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (topOfLabel &gt; scrollDiv.scrollTop + scrollDiv.clientHeight)
            needToScroll = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (topOfLabel &lt; scrollDiv.scrollTop + headerHeight)
            needToScroll = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> topOfMsg = grabOffsetTop(msgTR);
            <span class="hljs-keyword">if</span> (topOfMsg &gt; scrollDiv.scrollTop + scrollDiv.clientHeight)
                needToScroll = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (!needToScroll)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> scrollTopSetting = topOfLabel - headerHeight;
        <span class="hljs-keyword">if</span> (scrollDiv.id)
            setTimeout(<span class="hljs-string">"$('"</span> + scrollDiv.id + <span class="hljs-string">"').scrollTop = "</span> + scrollTopSetting, <span class="hljs-number">100</span>);
        <span class="hljs-keyword">else</span>
            scrollDiv.scrollTop = scrollTopSetting;
    },
    <span class="hljs-attr">showErrorBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">input, message, scrollForm</span>) </span>{
        <span class="hljs-keyword">this</span>.showFieldMsg(input, message, <span class="hljs-string">"error"</span>, scrollForm);
    },
    <span class="hljs-attr">hideFieldMsg</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">input, clearAll, key</span>) </span>{
        <span class="hljs-keyword">var</span> inputElement = input;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(inputElement) == <span class="hljs-string">"string"</span>)
            inputElement = <span class="hljs-keyword">this</span>.getControl(inputElement);
        <span class="hljs-keyword">if</span> (!inputElement) {
            <span class="hljs-keyword">var</span> handler = <span class="hljs-keyword">this</span>.getPrefixHandler(input);
            <span class="hljs-keyword">if</span> (handler) {
                <span class="hljs-keyword">var</span> handlerObject = handler.getObject();
                <span class="hljs-keyword">var</span> fieldName = handler.getFieldName();
                <span class="hljs-keyword">var</span> actualName = handlerObject.getActualName(fieldName);
                inputElement = handlerObject.getControl(actualName);
            }
        }
        <span class="hljs-keyword">if</span> (!inputElement) {
            jslog(<span class="hljs-string">"ERROR: invalid field ('"</span> + input + <span class="hljs-string">"') passed to g_form.hideFieldMsg"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (inputElement.id &amp;&amp; <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id] &amp;&amp; (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id].hideFieldMsg == <span class="hljs-string">"function"</span>))
            <span class="hljs-keyword">this</span>.elementHandlers[inputElement.id].hideFieldMsg(input, clearAll);
        <span class="hljs-keyword">var</span> fieldTrId = <span class="hljs-string">"element."</span> + inputElement.id;
        <span class="hljs-keyword">var</span> tr = <span class="hljs-built_in">document</span>.getElementById(fieldTrId);
        <span class="hljs-keyword">if</span> (!tr) {
            <span class="hljs-keyword">var</span> parent = inputElement.up(<span class="hljs-string">"div.form-field.input_controls"</span>);
            <span class="hljs-keyword">if</span> (!parent)
                parent = inputElement.up(<span class="hljs-string">"td"</span>);
            <span class="hljs-keyword">if</span> (parent) {
                <span class="hljs-keyword">var</span> msgs = $(parent).select(<span class="hljs-string">".variable-field-msg"</span>);
                <span class="hljs-keyword">if</span> (msgs)
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; msgs.length; i++) {
                        <span class="hljs-keyword">try</span> {
                            parent.removeChild(msgs[i]);
                        } <span class="hljs-keyword">catch</span> (err) {
                            msgs[i].parentNode.removeChild(msgs[i]);
                        }
                        <span class="hljs-keyword">if</span> (!clearAll)
                            <span class="hljs-keyword">return</span>;
                    }
            }
        }
        <span class="hljs-keyword">if</span> (tr == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> msgContainer = tr.down(<span class="hljs-string">'.fieldmsg-container'</span>);
        <span class="hljs-keyword">if</span> (!msgContainer)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (clearAll)
            msgContainer.update(<span class="hljs-string">''</span>);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> selector;
            <span class="hljs-keyword">if</span> (key)
                selector = <span class="hljs-string">'[data-fieldmsg-key="'</span> + inputElement.id + <span class="hljs-string">'_fieldmsg_'</span> + key + <span class="hljs-string">'"]'</span>;
            <span class="hljs-keyword">else</span>
                selector = <span class="hljs-string">'.fieldmsg'</span>;
            <span class="hljs-keyword">var</span> messages = msgContainer.select(selector);
            <span class="hljs-keyword">if</span> (messages[<span class="hljs-number">0</span>])
                messages[<span class="hljs-number">0</span>].remove();
        }
    },
    <span class="hljs-attr">hasFieldMsgs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
        <span class="hljs-keyword">var</span> formHasFieldMsgs = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (type) {
            <span class="hljs-keyword">var</span> msgTRs = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">'.fieldmsg.notification-'</span> + type);
            formHasFieldMsgs = msgTRs.length &gt; <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> msgTRs = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">'.fieldmsg'</span>);
            formHasFieldMsgs = msgTRs.length &gt; <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">return</span> formHasFieldMsgs;
    },
    <span class="hljs-attr">hideAllFieldMsgs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
        <span class="hljs-keyword">if</span> (type) {
            <span class="hljs-keyword">var</span> msgTRs = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">'.fieldmsg.notification-'</span> + type);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; msgTRs.length; i++) {
                msgTRs[i].parentNode.removeChild(msgTRs[i]);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> msgTRs = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">'.fieldmsg'</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; msgTRs.length; i++) {
                msgTRs[i].parentNode.removeChild(msgTRs[i]);
            }
        }
        CustomEvent.fire(<span class="hljs-string">'sn.form.hide_all_field_msg'</span>, type);
    },
    <span class="hljs-attr">hideErrorBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">this</span>.hideFieldMsg(input);
    },
    <span class="hljs-attr">setStreamJournalFieldsDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">show</span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'sn.stream.change_input_display'</span>, <span class="hljs-keyword">this</span>.getTableName(), show);
        CustomEvent.fire(<span class="hljs-string">'sn.form.change_input_display'</span>, !show);
    },
    <span class="hljs-attr">_positionCursorAtError</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem, message</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> elem == <span class="hljs-string">"undefined"</span> || elem.disabled)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> index = message.indexOf(<span class="hljs-string">"line ("</span>);
        <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> parenIndex = message.indexOf(<span class="hljs-string">")"</span>, index + <span class="hljs-number">6</span>);
            <span class="hljs-keyword">if</span> (parenIndex &gt; <span class="hljs-number">-1</span>) {
                <span class="hljs-keyword">var</span> lineNo = message.substring(index + <span class="hljs-number">6</span>, parenIndex);
                lineNo = <span class="hljs-built_in">parseInt</span>(lineNo, <span class="hljs-number">10</span>);
                index = message.indexOf(<span class="hljs-string">"("</span>, parenIndex);
                <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>) {
                    parenIndex = message.indexOf(<span class="hljs-string">")"</span>, index);
                    <span class="hljs-keyword">if</span> (parenIndex &gt; <span class="hljs-number">-1</span>) {
                        <span class="hljs-keyword">var</span> columnNo = message.substring(index + <span class="hljs-number">1</span>, parenIndex);
                        columnNo = <span class="hljs-built_in">parseInt</span>(columnNo, <span class="hljs-number">10</span>);
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._setCaretPositionLineColumn(elem, lineNo, columnNo);
                    }
                } <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._setCaretPositionLineColumn(elem, lineNo, <span class="hljs-number">1</span>);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_setCaretPositionLineColumn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem, lineNo, columnNo</span>) </span>{
        <span class="hljs-keyword">var</span> pl = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">var</span> data = elem.value;
        <span class="hljs-keyword">var</span> len = data.length;
        <span class="hljs-keyword">var</span> position = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (pl &lt; lineNo &amp;&amp; position &gt; <span class="hljs-number">-1</span>) {
            position = data.indexOf(<span class="hljs-string">'\n'</span>, position);
            <span class="hljs-keyword">if</span> (position &gt; <span class="hljs-number">-1</span>)
                position++;
            pl++;
        }
        <span class="hljs-keyword">if</span> (position == <span class="hljs-number">-1</span>) {
            jslog(<span class="hljs-string">"Failed to find editor caret position for error"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        position += columnNo - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (elem.createTextRange)
            position -= lineNo - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>._setCaretPosition(elem, position);
        } <span class="hljs-keyword">catch</span> (err) {
            jslog(<span class="hljs-string">"Failed to position cursor at the error"</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_setCaretPosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem, caretPos</span>) </span>{
        <span class="hljs-keyword">if</span> (elem.createTextRange) {
            <span class="hljs-keyword">var</span> range = elem.createTextRange();
            range.move(<span class="hljs-string">'character'</span>, caretPos);
            range.select();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (elem.setSelectionRange) {
                <span class="hljs-keyword">if</span> (caretPos == <span class="hljs-number">0</span>)
                    caretPos = <span class="hljs-number">1</span>;
                elem.setSelectionRange(caretPos, caretPos + <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> (isSafari || isChrome)
                    elem.focus();
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> ev = <span class="hljs-built_in">document</span>.createEvent(<span class="hljs-string">"KeyEvents"</span>);
                    ev.initKeyEvent(<span class="hljs-string">"keypress"</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-built_in">window</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">0</span>, elem.value.charCodeAt(caretPos - <span class="hljs-number">1</span>));
                    elem.dispatchEvent(ev);
                    elem.focus();
                }
            } <span class="hljs-keyword">else</span>
                elem.focus();
        }
    },
    <span class="hljs-attr">disableAttachments</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> icon = gel(<span class="hljs-string">"header_add_attachment"</span>);
        <span class="hljs-keyword">if</span> (icon)
            icon.style.display = <span class="hljs-string">'none'</span>;
        AttachmentUploader.disableAttachments();
    },
    <span class="hljs-attr">enableAttachments</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> icon = gel(<span class="hljs-string">"header_add_attachment"</span>);
        <span class="hljs-keyword">if</span> (icon)
            icon.style.display = <span class="hljs-string">''</span>;
        AttachmentUploader.enableAttachments();
    },
    <span class="hljs-attr">hasField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">return</span> !!<span class="hljs-keyword">this</span>.getControl(fieldName);
    },
    <span class="hljs-attr">setAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">action</span>) </span>{
        <span class="hljs-keyword">this</span>.action = action;
    },
    <span class="hljs-attr">getAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.action;
    },
    <span class="hljs-attr">setScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>) </span>{
        <span class="hljs-keyword">this</span>.scope = scope;
    },
    <span class="hljs-attr">getScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scope;
    },
    <span class="hljs-attr">setLiveUpdating</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">isLiveUpdating</span>) </span>{
        <span class="hljs-keyword">this</span>._isLiveUpdating = isLiveUpdating;
    },
    <span class="hljs-attr">isLiveUpdating</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._isLiveUpdating;
    },
    <span class="hljs-attr">_opticsInspectorLog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, oldValue</span>) </span>{
        <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>.getValue(fieldName);
        opticsLog(<span class="hljs-keyword">this</span>.getTableName(), fieldName, <span class="hljs-string">"Value changed from "</span> +
            (oldValue ? oldValue : <span class="hljs-string">"(empty)"</span>) + <span class="hljs-string">" to "</span> +
            (value ? value : <span class="hljs-string">"(empty)"</span>), oldValue, value);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideForm"</span>
});
<span class="hljs-keyword">var</span> GlideFormPrefixHandler = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handlerObject</span>) </span>{
        <span class="hljs-keyword">this</span>.handlerObject = handlerObject;
        <span class="hljs-keyword">this</span>.fieldName = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">getObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.handlerObject;
    },
    <span class="hljs-attr">getFieldName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.fieldName;
    },
    <span class="hljs-attr">setFieldName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.fieldName = id;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideFormPrefixHandler"</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/GwtContextMenu.js */</span>
<span class="hljs-keyword">var</span> gActiveContext;
<span class="hljs-keyword">var</span> contextMenus = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
<span class="hljs-keyword">var</span> shortcuts = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
<span class="hljs-keyword">var</span> GwtContextMenu = Class.create({
    <span class="hljs-attr">SUBMENU_INDICATOR</span>: <span class="hljs-string">"&lt;i class='icon-chevron-right context_submenu_indicator'/&gt;"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, useBodyAsParent</span>) </span>{
        <span class="hljs-keyword">this</span>.timeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.properties = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.setID(id);
        <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">this</span>.onshow = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onhide = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.beforehide = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.docRoot = <span class="hljs-keyword">this</span>._getDocRoot();
        <span class="hljs-keyword">this</span>.hasItems = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.hideOnlySelf = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.trackSelected = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> useBodyAsParent == <span class="hljs-string">"undefined"</span>)
            useBodyAsParent = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._getParentElement(useBodyAsParent);
    },
    <span class="hljs-attr">isEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !<span class="hljs-keyword">this</span>.hasItems;
    },
    <span class="hljs-attr">_getParentElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">useBodyAsParent</span>) </span>{
        <span class="hljs-keyword">if</span> (useBodyAsParent) {
            <span class="hljs-keyword">this</span>.parentElement = <span class="hljs-built_in">document</span>.body;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.parentElement = getFormContentParent();
    },
    <span class="hljs-attr">_getDocRoot</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> docRoot = <span class="hljs-built_in">window</span>.location.protocol + <span class="hljs-string">"//"</span> + <span class="hljs-built_in">window</span>.location.host;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.location.pathname.indexOf(<span class="hljs-string">"/"</span>) &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> fp = <span class="hljs-built_in">window</span>.location.pathname;
            fp = fp.substring(<span class="hljs-number">0</span>, fp.lastIndexOf(<span class="hljs-string">"/"</span>));
            <span class="hljs-keyword">if</span> (fp.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>).indexOf(<span class="hljs-string">"/"</span>) != <span class="hljs-number">-1</span>)
                docRoot = docRoot + fp;
            <span class="hljs-keyword">else</span>
                docRoot = docRoot + <span class="hljs-string">"/"</span> + fp;
        }
        docRoot += <span class="hljs-string">"/"</span>;
        <span class="hljs-keyword">return</span> docRoot;
    },
    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, id, keys</span>) </span>{
        <span class="hljs-keyword">this</span>.hasItems = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">var</span> d = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        d.setAttribute(<span class="hljs-string">"item_id"</span>, id);
        d.className = <span class="hljs-string">"context_item"</span>;
        d.isMenuItem = <span class="hljs-literal">true</span>;
        d.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'menuitem'</span>);
        d.setAttribute(<span class="hljs-string">'tabindex'</span>, <span class="hljs-string">'-1'</span>);
        <span class="hljs-keyword">var</span> l = !keys ? label : (label + <span class="hljs-string">' ('</span> + keys + <span class="hljs-string">')'</span>);
        d.innerHTML = l;
        <span class="hljs-keyword">if</span> (keys)
            d.setAttribute(<span class="hljs-string">"data-label"</span>, label);
        m.appendChild(d);
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addHref</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, href, img, title, id, keys</span>) </span>{
        keys = <span class="hljs-keyword">this</span>.addKeyShortcut(keys, href);
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.add(label, id, keys);
        d.setAttribute(<span class="hljs-string">"href"</span>, href);
        <span class="hljs-keyword">if</span> (title &amp;&amp; title != <span class="hljs-literal">null</span>)
            d.setAttribute(<span class="hljs-string">"title"</span>, title);
        <span class="hljs-keyword">this</span>.setImage(d, img);
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addFunc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, func, id</span>) </span>{
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.add(label, id);
        d.setAttribute(<span class="hljs-string">"func_set"</span>, <span class="hljs-string">"true"</span>);
        d.func = func;
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addURL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, url, target, id</span>) </span>{
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.add(label, id);
        url = <span class="hljs-keyword">this</span>._updateURL(d, label, url);
        d.setAttribute(<span class="hljs-string">"url"</span>, url);
        <span class="hljs-keyword">if</span> (target)
            d.setAttribute(<span class="hljs-string">"target"</span>, target);
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addHrefNoSort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, href, id</span>) </span>{
        <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">this</span>.addHref(label, href, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, id);
        item.setAttribute(<span class="hljs-string">"not_sortable"</span>, <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">return</span> item;
    },
    <span class="hljs-attr">addHrefNoFilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, href, id</span>) </span>{
        <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">this</span>.addHref(label, href, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, id);
        item.setAttribute(<span class="hljs-string">"not_filterable"</span>, <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">return</span> item;
    },
    <span class="hljs-attr">addMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, menu, id</span>) </span>{
        <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">this</span>.add(label + <span class="hljs-keyword">this</span>.SUBMENU_INDICATOR, id);
        item.setAttribute(<span class="hljs-string">"aria-haspopup"</span>, <span class="hljs-string">"true"</span>);
        item.setAttribute(<span class="hljs-string">"aria-controls"</span>, menu.id);
        item.setAttribute(<span class="hljs-string">"label"</span>, <span class="hljs-string">"true"</span>);
        menu.setParent(<span class="hljs-keyword">this</span>);
        item.subMenu = menu;
        <span class="hljs-keyword">return</span> item;
    },
    <span class="hljs-attr">addAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, action, id</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addHref(label, <span class="hljs-string">"contextAction('"</span> + <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"', '"</span> + action + <span class="hljs-string">"')"</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, id);
    },
    <span class="hljs-attr">addConfirmedAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, action, id</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.addHref(label, <span class="hljs-string">"contextConfirm('"</span> + <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"', '"</span> + action + <span class="hljs-string">"')"</span>, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, id);
    },
    <span class="hljs-attr">addLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hasItems = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">var</span> d = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        d.className = <span class="hljs-string">"context_item_hr"</span>;
        d.isMenuItem = <span class="hljs-literal">true</span>;
        d.disabled = <span class="hljs-string">"disabled"</span>;
        m.appendChild(d);
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, id</span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">var</span> d = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        d.setAttribute(<span class="hljs-string">"item_id"</span>, id);
        d.className = <span class="hljs-string">"context_item"</span>;
        d.isMenuItem = <span class="hljs-literal">true</span>;
        d.innerHTML = label;
        d.disabled = <span class="hljs-string">"disabled"</span>;
        m.appendChild(d);
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">addKeyShortcut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">keys, href</span>) </span>{
        <span class="hljs-keyword">var</span> topWindow = getTopWindow();
        <span class="hljs-keyword">var</span> keyboardEnabled = topWindow.com &amp;&amp; topWindow.com.glide &amp;&amp; topWindow.com.glide.ui &amp;&amp; topWindow.com.glide.ui.keyboard;
        <span class="hljs-keyword">if</span> (!keyboardEnabled)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (!keys)
            <span class="hljs-keyword">return</span> keys;
        <span class="hljs-keyword">if</span> (shortcuts[keys])
            <span class="hljs-keyword">return</span> keys;
        shortcuts[keys] = {};
        <span class="hljs-keyword">var</span> callback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">var</span> start = e.data.href.indexOf(<span class="hljs-string">'javascript:'</span>) == <span class="hljs-number">0</span> ? <span class="hljs-number">11</span> : <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> startParen = e.data.href.indexOf(<span class="hljs-string">'('</span>);
            <span class="hljs-keyword">var</span> functionName = startParen &gt; start ? e.data.href.substring(start, startParen) : {};
            <span class="hljs-keyword">var</span> func = <span class="hljs-built_in">eval</span>(functionName);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> func == <span class="hljs-string">'function'</span>)
                <span class="hljs-built_in">eval</span>(e.data.href);
            <span class="hljs-keyword">else</span>
                <span class="hljs-built_in">document</span>.location.href = e.data.href;
        };
        addLoadEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> keyboard = getTopWindow().com.glide.ui.keyboard;
            <span class="hljs-keyword">var</span> isMainFrame = <span class="hljs-built_in">window</span>.frameElement.id == keyboard.mainFrame;
            <span class="hljs-keyword">var</span> isFormFrame = <span class="hljs-built_in">window</span>.frameElement.id == keyboard.formFrame;
            <span class="hljs-keyword">if</span> (isMainFrame)
                shortcuts[keys] = keyboard.bind(keys, callback, {
                    <span class="hljs-attr">href</span>: href
                }).global(keyboard.formFrame);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFormFrame)
                shortcuts[keys] = keyboard.bind(keys, callback, {
                    <span class="hljs-attr">href</span>: href
                }).formFrame();
            <span class="hljs-keyword">else</span>
                shortcuts[keys] = <span class="hljs-literal">null</span>;
        });
        <span class="hljs-keyword">return</span> keys;
    },
    <span class="hljs-attr">getItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemId</span>) </span>{
        <span class="hljs-keyword">var</span> items = <span class="hljs-keyword">this</span>.getMenu().getElementsByTagName(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.getAttribute(<span class="hljs-string">"item_id"</span>) == itemId)
                <span class="hljs-keyword">return</span> item;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">setImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, img</span>) </span>{
        <span class="hljs-keyword">if</span> (item &amp;&amp; img) {
            item.style.backgroundImage = <span class="hljs-string">"url("</span> + <span class="hljs-keyword">this</span>.docRoot + img + <span class="hljs-string">")"</span>;
            item.style.backgroundRepeat = <span class="hljs-string">"no-repeat"</span>;
        }
    },
    <span class="hljs-attr">setChecked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (item)
            <span class="hljs-keyword">this</span>.setImage(item, <span class="hljs-string">"images/checked.pngx"</span>);
    },
    <span class="hljs-attr">clearImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (item) {
            item.style.backgroundImage = <span class="hljs-string">""</span>;
            item.style.backgroundRepeat = <span class="hljs-string">""</span>;
        }
    },
    <span class="hljs-attr">setDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (!item)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._dullItem(item);
    },
    <span class="hljs-attr">setEnabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (!item)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._undullItem(item);
    },
    <span class="hljs-attr">setHidden</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (!item)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._hideItem(item);
    },
    <span class="hljs-attr">setVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (!item)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._showItem(item);
    },
    <span class="hljs-attr">setLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, label</span>) </span>{
        <span class="hljs-keyword">if</span> (item)
            item.innerHTML = label;
    },
    <span class="hljs-attr">setHideOnlySelf</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hideSelf</span>) </span>{
        <span class="hljs-keyword">this</span>.hideOnlySelf = hideSelf;
    },
    <span class="hljs-attr">clearSelected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> items = <span class="hljs-keyword">this</span>.getMenu().getElementsByTagName(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.isMenuItem)
                <span class="hljs-keyword">this</span>.clearImage(item);
        }
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.getMenu();
        clearNodes(m);
        <span class="hljs-keyword">this</span>._setMinWidth();
        <span class="hljs-keyword">this</span>.hasItems = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.parentElement = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menu.context = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menu.onmouseover = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menu.onmouseout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menu.onclick = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (isMSIE)
            <span class="hljs-keyword">this</span>.menu.outerHTML = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.parentMenu = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onshow = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onhide = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.properties = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.timeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menu = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">display</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.getParent())
            CustomEvent.fireAll(<span class="hljs-string">'body_clicked'</span>, <span class="hljs-literal">null</span>);
        menuSort = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._dullMenu();
        <span class="hljs-keyword">this</span>._toggleMenuItems(<span class="hljs-string">"not_sortable"</span>, <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">'sortable'</span>));
        <span class="hljs-keyword">this</span>._toggleMenuItems(<span class="hljs-string">"not_filterable"</span>, <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">'filterable'</span>));
        <span class="hljs-keyword">this</span>.setFiringObject(<span class="hljs-keyword">this</span>._getElement(e));
        e = <span class="hljs-keyword">this</span>._getRealEvent(e);
        <span class="hljs-keyword">var</span> menu = <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEmpty(menu))
            <span class="hljs-keyword">return</span>;
        menu.style.left = <span class="hljs-string">"0"</span>;
        menu.style.top = <span class="hljs-string">"0"</span>;
        <span class="hljs-keyword">this</span>.parentElement.appendChild(menu);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"top"</span>) &gt; <span class="hljs-number">0</span> &amp;&amp; ((<span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"left"</span>) &gt; <span class="hljs-number">0</span>) || (<span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"right"</span>) &gt; <span class="hljs-number">0</span>))) {
            menu.style.visibility = <span class="hljs-string">'hidden'</span>;
            menu.style.display = <span class="hljs-string">'block'</span>;
            <span class="hljs-keyword">this</span>.moveMenuToXY(e, <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"left"</span>), <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"top"</span>), <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"right"</span>));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getParent()) {
            <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
            menu.style.visibility = <span class="hljs-string">'hidden'</span>;
            menu.style.display = <span class="hljs-string">'block'</span>;
            <span class="hljs-keyword">this</span>.moveMenuToParent(e, x);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
            menu.style.visibility = <span class="hljs-string">'hidden'</span>;
            menu.style.display = <span class="hljs-string">'block'</span>;
            <span class="hljs-keyword">this</span>.moveMenuToCursor(e);
        }
        gActiveContext = <span class="hljs-keyword">this</span>;
        showObject(menu);
        <span class="hljs-keyword">this</span>._focusFirstItem(menu);
    },
    <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        gActiveContext = <span class="hljs-string">""</span>;
        hideObject(<span class="hljs-keyword">this</span>.getMenu());
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getMenu().parentNode)
            <span class="hljs-keyword">this</span>.getMenu().parentNode.removeChild(<span class="hljs-keyword">this</span>.getMenu());
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onhide)
            <span class="hljs-keyword">this</span>.onhide();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getFiringObject())
            <span class="hljs-keyword">this</span>.getFiringObject().focus();
        CustomEvent.fire(<span class="hljs-string">'refresh.event'</span>);
    },
    <span class="hljs-attr">hideAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">while</span> (m) {
            m.hide();
            m = m.getParent();
        }
    },
    <span class="hljs-attr">execute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
        <span class="hljs-keyword">if</span> (x.isMenuItem &amp;&amp; !x.disabled) {
            <span class="hljs-keyword">if</span> (x.getAttribute(<span class="hljs-string">"label"</span>) == <span class="hljs-string">"true"</span>) {
                <span class="hljs-keyword">this</span>._getRealEvent(e).cancelBubble = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (x.getAttribute(<span class="hljs-string">"target"</span>)) {
                <span class="hljs-built_in">window</span>.open(x.getAttribute(<span class="hljs-string">"url"</span>), x.getAttribute(<span class="hljs-string">"target"</span>));
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x.getAttribute(<span class="hljs-string">"href"</span>)) {
                <span class="hljs-keyword">var</span> expression = x.getAttribute(<span class="hljs-string">"href"</span>);
                gActiveContext = <span class="hljs-keyword">this</span>;
                <span class="hljs-built_in">eval</span>(expression);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x.getAttribute(<span class="hljs-string">"func_set"</span>) == <span class="hljs-string">"true"</span>) {
                x.func();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-built_in">window</span>.location = x.getAttribute(<span class="hljs-string">"url"</span>);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.trackSelected) {
                <span class="hljs-keyword">this</span>.clearSelected();
                <span class="hljs-keyword">this</span>.setChecked(x);
            }
        }
        <span class="hljs-keyword">if</span> (x.subMenu)
            x.subMenu.hideAll();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.hideAll();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">menuLowLight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
        <span class="hljs-keyword">this</span>._handleTimeout(<span class="hljs-literal">false</span>, x);
        <span class="hljs-keyword">if</span> (!x.isMenuItem)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!x.subMenu || x.subMenu.getMenu().style.display == <span class="hljs-string">'none'</span>)
            <span class="hljs-keyword">this</span>._disableItem(x);
        <span class="hljs-built_in">window</span>.status = <span class="hljs-string">''</span>;
        CustomEvent.fire(<span class="hljs-string">'refresh.event'</span>);
    },
    <span class="hljs-attr">menuHighLight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
        <span class="hljs-keyword">this</span>._handleTimeout(<span class="hljs-literal">true</span>, x);
        <span class="hljs-keyword">if</span> (!x.isMenuItem)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._hideAllSubs(x.parentNode);
        <span class="hljs-keyword">this</span>._enableItem(x);
        <span class="hljs-keyword">if</span> (x.subMenu)
            <span class="hljs-keyword">this</span>._expandSubMenu(x, e);
    },
    <span class="hljs-attr">_expandSubMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">menu, evt</span>) </span>{
        menu.subMenu.setParent(<span class="hljs-keyword">this</span>);
        menu.subMenu.display(evt);
    },
    <span class="hljs-attr">menuKeyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._getElement(e);
        <span class="hljs-keyword">var</span> handled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">switch</span> (e.keyCode) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-number">27</span>:
                <span class="hljs-keyword">this</span>.hide();
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">13</span>:
                <span class="hljs-keyword">if</span> (x.subMenu)
                    <span class="hljs-keyword">this</span>._expandSubMenu(x, e);
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">this</span>.execute(e)
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">40</span>:
                <span class="hljs-keyword">this</span>._dullMenu();
                <span class="hljs-keyword">this</span>._focusNext(x);
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">38</span>:
                <span class="hljs-keyword">this</span>._dullMenu();
                <span class="hljs-keyword">this</span>._focusPrevious(x);
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">39</span>:
                <span class="hljs-keyword">if</span> (x.subMenu)
                    <span class="hljs-keyword">this</span>._expandSubMenu(x, e);
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">37</span>:
                <span class="hljs-keyword">var</span> parentMenu = <span class="hljs-keyword">this</span>.getParent();
                <span class="hljs-keyword">if</span> (parentMenu &amp;&amp; parentMenu.menu) {
                    <span class="hljs-keyword">var</span> parent = parentMenu.menu.select(<span class="hljs-string">'[aria-controls="'</span> + <span class="hljs-keyword">this</span>.id + <span class="hljs-string">'"]'</span>);
                    parent[<span class="hljs-number">0</span>].focus();
                    <span class="hljs-keyword">this</span>._hideAllSubs(parentMenu.menu);
                }
                handled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">if</span> (handled) {
            e.stopPropagation();
            e.preventDefault();
        }
    },
    <span class="hljs-attr">_focusNext</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">var</span> nextSibling = item.nextSibling;
        <span class="hljs-keyword">while</span> (nextSibling &amp;&amp; (nextSibling.classList.contains(<span class="hljs-string">'context_item_hr'</span>) || nextSibling.style.display == <span class="hljs-string">'none'</span>))
            nextSibling = nextSibling.nextSibling;
        <span class="hljs-keyword">if</span> (nextSibling)
            nextSibling.focus();
    },
    <span class="hljs-attr">_focusPrevious</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">var</span> previousSibling = item.previousSibling;
        <span class="hljs-keyword">while</span> (previousSibling &amp;&amp;
            (previousSibling.classList.contains(<span class="hljs-string">'context_item_hr'</span>) ||
                previousSibling.classList.contains(<span class="hljs-string">'context-menu-minwidth'</span>) ||
                previousSibling.style.display == <span class="hljs-string">'none'</span>)) {
            previousSibling = previousSibling.previousSibling;
        }
        <span class="hljs-keyword">if</span> (previousSibling)
            previousSibling.focus();
    },
    <span class="hljs-attr">moveMenuToXY</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, left, top, right</span>) </span>{
        <span class="hljs-keyword">var</span> menu = <span class="hljs-keyword">this</span>.getMenu();
        <span class="hljs-keyword">if</span> (right)
            left = right - menu.offsetWidth;
        <span class="hljs-keyword">var</span> offsetTop = <span class="hljs-built_in">window</span>.pageYOffset + top;
        <span class="hljs-keyword">var</span> offsetLeft = <span class="hljs-built_in">window</span>.pageXOffset + left;
        <span class="hljs-keyword">this</span>.moveMenu(top, left, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, offsetTop, offsetLeft);
    },
    <span class="hljs-attr">moveMenuToCursor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> offsetTop = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> offsetLeft = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> clientY = e.clientY;
        <span class="hljs-keyword">var</span> clientX = e.clientX;
        <span class="hljs-keyword">if</span> (isTouchDevice) {
            offsetTop = e.pageY;
            offsetLeft = e.pageX;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!e.clientX &amp;&amp; e.target) {
            <span class="hljs-keyword">var</span> $target = $j(e.target);
            <span class="hljs-keyword">var</span> rect = e.target.getBoundingClientRect();
            offsetTop = clientY = rect.top + $target.height();
            offsetLeft = clientX = rect.left + $target.width();
        } <span class="hljs-keyword">else</span> {
            offsetTop = e.clientY;
            offsetLeft = e.clientX;
        }
        <span class="hljs-keyword">this</span>.moveMenu(clientY, clientX, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, offsetTop, offsetLeft);
    },
    <span class="hljs-attr">moveMenuToParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, firingObject</span>) </span>{
        <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.getParent().getMenu();
        <span class="hljs-keyword">var</span> offsetTop = grabOffsetTop(firingObject) - parent.scrollTop;
        <span class="hljs-keyword">var</span> borderLeftWidth = <span class="hljs-built_in">parseInt</span>($j(<span class="hljs-keyword">this</span>.getParent().getMenu()).css(<span class="hljs-string">'border-right-width'</span>), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> offsetLeft = grabOffsetLeft(parent) - borderLeftWidth;
        <span class="hljs-keyword">this</span>.moveMenu(offsetTop, offsetLeft, firingObject.offsetHeight, parent.offsetWidth, offsetTop, offsetLeft);
    },
    <span class="hljs-attr">moveMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">top, left, height, width, offsetTop, offsetLeft</span>) </span>{
        <span class="hljs-keyword">var</span> menu = <span class="hljs-keyword">this</span>.getMenu();
        menu.style.overflowY = <span class="hljs-string">"visible"</span>;
        menu.setAttribute(<span class="hljs-string">'gsft_has_scroll'</span>, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">if</span> (menu.getAttribute(<span class="hljs-string">'gsft_width'</span>))
            menu.style.width = menu.getAttribute(<span class="hljs-string">'gsft_width'</span>) + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">if</span> (menu.getAttribute(<span class="hljs-string">'gsft_height'</span>))
            menu.style.height = menu.getAttribute(<span class="hljs-string">'gsft_height'</span>) + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">var</span> leftPos;
        <span class="hljs-keyword">var</span> viewport = <span class="hljs-keyword">new</span> WindowSize();
        <span class="hljs-keyword">if</span> ((left + width + menu.offsetWidth) &gt; viewport.width)
            leftPos = offsetLeft - menu.offsetWidth;
        <span class="hljs-keyword">else</span>
            leftPos = offsetLeft + width;
        menu.style.left = leftPos + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">var</span> scrollOffsets = <span class="hljs-keyword">this</span>._getScrollOffsets(<span class="hljs-keyword">this</span>.parentElement);
        <span class="hljs-keyword">var</span> scrollTop = scrollOffsets.top;
        <span class="hljs-keyword">var</span> direction = <span class="hljs-string">'down'</span>;
        <span class="hljs-keyword">var</span> clip = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> ((top + menu.offsetHeight) &gt; viewport.height) {
            <span class="hljs-keyword">var</span> bottomClip = menu.offsetHeight - (viewport.height - top);
            <span class="hljs-keyword">var</span> topClip = menu.offsetHeight - top + height;
            <span class="hljs-keyword">if</span> (topClip &lt; bottomClip) {
                direction = <span class="hljs-string">'up'</span>;
                clip = topClip;
            } <span class="hljs-keyword">else</span>
                clip = bottomClip;
        }
        <span class="hljs-keyword">var</span> topPos;
        <span class="hljs-keyword">if</span> (direction == <span class="hljs-string">'up'</span>) {
            <span class="hljs-keyword">var</span> mHeight = menu.offsetHeight;
            <span class="hljs-keyword">var</span> bottomEdge = offsetTop + height;
            topPos = (bottomEdge &gt; mHeight) ? (bottomEdge - mHeight) : <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span>
            topPos = offsetTop;
        <span class="hljs-keyword">if</span> ((topPos - scrollTop + menu.offsetHeight) &gt; viewport.height)
            clip = (topPos - scrollTop + menu.offsetHeight) - viewport.height;
        menu.style.top = topPos + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">if</span> (clip &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (!menu.getAttribute(<span class="hljs-string">'gsft_width'</span>)) {
                menu.setAttribute(<span class="hljs-string">'gsft_width'</span>, menu.offsetWidth);
                menu.setAttribute(<span class="hljs-string">'gsft_height'</span>, menu.offsetHeight);
            }
            menu.setAttribute(<span class="hljs-string">'gsft_has_scroll'</span>, <span class="hljs-literal">true</span>);
            menu.style.overflowY = <span class="hljs-string">"auto"</span>;
            <span class="hljs-keyword">var</span> w = menu.offsetWidth + <span class="hljs-number">18</span>;
            menu.style.width = w + <span class="hljs-string">"px"</span>;
            <span class="hljs-keyword">var</span> h = menu.offsetHeight - clip - <span class="hljs-number">4</span>;
            menu.style.height = h + <span class="hljs-string">"px"</span>;
        }
    },
    <span class="hljs-attr">_getScrollOffsets</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> offsets = {};
        <span class="hljs-keyword">if</span> (e.nodeName.toUpperCase() == <span class="hljs-string">"BODY"</span>) {
            offsets.top = <span class="hljs-built_in">window</span>.pageYOffset || <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop;
            offsets.left = <span class="hljs-built_in">window</span>.pageXOffset || <span class="hljs-built_in">document</span>.documentElement.scrollLeft || <span class="hljs-built_in">document</span>.body.scrollLeft;
        } <span class="hljs-keyword">else</span> {
            offsets.top = e.scrollTop;
            offsets.left = e.scrollLeft;
        }
        <span class="hljs-keyword">return</span> offsets;
    },
    <span class="hljs-attr">getFiringObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.eventObject;
    },
    <span class="hljs-attr">getID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.id;
    },
    <span class="hljs-attr">getMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.menu) {
            <span class="hljs-keyword">this</span>.menu = contextMenus[<span class="hljs-keyword">this</span>.getID()];
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.menu)
                <span class="hljs-keyword">this</span>._createMenu();
            <span class="hljs-keyword">this</span>._setMenuAttrs();
            <span class="hljs-keyword">this</span>._setMinWidth();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.menu;
    },
    <span class="hljs-attr">getParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parentMenu;
    },
    <span class="hljs-attr">getProperty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.properties)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.properties[c];
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">setFiringObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.eventObject = e;
    },
    <span class="hljs-attr">setID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.id = id;
    },
    <span class="hljs-attr">setOnShow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">onshow</span>) </span>{
        <span class="hljs-keyword">this</span>.onshow = onshow;
    },
    <span class="hljs-attr">setOnHide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">oh</span>) </span>{
        <span class="hljs-keyword">this</span>.onhide = oh;
    },
    <span class="hljs-attr">setBeforeHide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">beforeHide</span>) </span>{
        <span class="hljs-keyword">this</span>.beforehide = beforeHide;
    },
    <span class="hljs-attr">setParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">m</span>) </span>{
        <span class="hljs-keyword">this</span>.parentMenu = m;
        <span class="hljs-keyword">this</span>.parentElement = m.parentElement;
    },
    <span class="hljs-attr">setProperty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, v</span>) </span>{
        <span class="hljs-keyword">this</span>.properties[c] = v;
    },
    <span class="hljs-attr">setTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = name;
    },
    <span class="hljs-attr">setTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
        <span class="hljs-keyword">this</span>.timeout = t;
    },
    <span class="hljs-attr">setTrackSelected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.trackSelected = flag;
    },
    <span class="hljs-attr">_createMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.menu = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">this</span>.menu.name = <span class="hljs-keyword">this</span>.menu.id = <span class="hljs-keyword">this</span>.getID();
        contextMenus[<span class="hljs-keyword">this</span>.getID()] = <span class="hljs-keyword">this</span>.menu;
    },
    <span class="hljs-attr">_disableItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (item &amp;&amp; !item.disabled) {
            removeClassName(item, <span class="hljs-string">"context_menu_hover"</span>);
        }
    },
    <span class="hljs-attr">_dullMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> items = <span class="hljs-keyword">this</span>.getMenu().childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">this</span>._disableItem(item);
        }
    },
    <span class="hljs-attr">_enableItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (item &amp;&amp; !item.disabled) {
            addClassName(item, <span class="hljs-string">"context_menu_hover"</span>);
            item.focus();
        }
    },
    <span class="hljs-attr">_getElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> x = e.target;
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (!x.isMenuItem &amp;&amp; x.parentNode.isMenuItem)
                x = x.parentNode;
        } <span class="hljs-keyword">catch</span> (err) {}
        <span class="hljs-keyword">return</span> x;
    },
    <span class="hljs-attr">_getRealEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">return</span> e;
    },
    <span class="hljs-attr">_handleTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lght, firingObject</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"timeout"</span>) &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (lght) {
                clearTimeout(<span class="hljs-keyword">this</span>.timeout);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (!firingObject.subMenu || firingObject.subMenu != gActiveContext)
                    <span class="hljs-keyword">this</span>.timeout = setTimeout(<span class="hljs-string">'contextHide()'</span>, <span class="hljs-keyword">this</span>.getProperty(<span class="hljs-string">"timeout"</span>));
            }
        }
    },
    <span class="hljs-attr">_hideAllSubs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) </span>{
        <span class="hljs-keyword">var</span> list = el.getElementsByTagName(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; list.length; i++) {
            <span class="hljs-keyword">var</span> element = list[i];
            <span class="hljs-keyword">if</span> (element.subMenu) {
                <span class="hljs-keyword">var</span> subMenu = element.subMenu.getMenu();
                <span class="hljs-keyword">this</span>._hideAllSubs(element.subMenu.getMenu());
                hideObject(subMenu);
                <span class="hljs-keyword">this</span>._disableItem(element);
            }
        }
    },
    <span class="hljs-attr">_setMenuAttrs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.menu.context = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">this</span>.menu.className = <span class="hljs-string">"context_menu"</span>;
        <span class="hljs-keyword">this</span>.menu.style.display = <span class="hljs-string">"none"</span>;
        <span class="hljs-keyword">this</span>.menu.style.zIndex = (<span class="hljs-keyword">this</span>.getParent() ? GwtContextMenu.zIndex + <span class="hljs-number">1</span> : GwtContextMenu.zIndex);
        <span class="hljs-keyword">this</span>.menu.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'menu'</span>);
        <span class="hljs-keyword">this</span>.menu.onmouseover = <span class="hljs-keyword">this</span>.menuHighLight.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.menu.onmouseout = <span class="hljs-keyword">this</span>.menuLowLight.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.menu.onkeydown = <span class="hljs-keyword">this</span>.menuKeyDown.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"ontouchstart"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span> &amp;&amp; (<span class="hljs-keyword">typeof</span> FastButton != <span class="hljs-string">'undefined'</span>))
            <span class="hljs-keyword">new</span> FastButton(<span class="hljs-keyword">this</span>.menu, <span class="hljs-keyword">this</span>.execute.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.menu.onclick = <span class="hljs-keyword">this</span>.execute.bind(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_setMinWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> widther = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        widther.style.width = <span class="hljs-string">"120px"</span>;
        widther.style.height = <span class="hljs-string">"1px"</span>;
        widther.style.overflow = <span class="hljs-string">"hidden"</span>;
        widther.className = <span class="hljs-string">'context-menu-minwidth'</span>;
        <span class="hljs-keyword">this</span>.menu.appendChild(widther);
    },
    <span class="hljs-attr">_toggleMenuItems</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attr, enabled</span>) </span>{
        <span class="hljs-keyword">var</span> items = <span class="hljs-keyword">this</span>.getMenu().childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.getAttribute(attr) == <span class="hljs-string">"true"</span>) {
                <span class="hljs-keyword">if</span> (enabled) {
                    <span class="hljs-keyword">this</span>._undullItem(item);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">this</span>._dullItem(item);
                }
            }
        }
    },
    <span class="hljs-attr">_dullItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        item.disabled = <span class="hljs-string">"disabled"</span>;
        item.style.color = <span class="hljs-string">"#cccccc"</span>;
        removeClassName(item, <span class="hljs-string">"context_menu_hover"</span>);
    },
    <span class="hljs-attr">_undullItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        item.disabled = <span class="hljs-string">""</span>;
        item.style.color = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">_hideItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        item.style.display = <span class="hljs-string">'none'</span>;
    },
    <span class="hljs-attr">_showItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        item.style.display = <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">_isEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">menu</span>) </span>{
        <span class="hljs-keyword">if</span> (!menu)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!menu.firstChild)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_updateURL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d, label, url</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope != <span class="hljs-string">'undefined'</span>) {
            GlideTransactionScope.appendTransactionScope(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
                url += <span class="hljs-string">"&amp;"</span> + name + <span class="hljs-string">"="</span> + value;
            });
            <span class="hljs-keyword">return</span> url;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">this</span>.dmap = <span class="hljs-keyword">this</span>.dmap || {};
            <span class="hljs-keyword">this</span>.dmap[label] = d;
            $(g_form.getFormElement()).observe(<span class="hljs-string">'glidescope:initialized'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
                e.memo.gts.appendTransactionScope(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
                    <span class="hljs-keyword">var</span> _d = <span class="hljs-keyword">this</span>.dmap[label];
                    <span class="hljs-keyword">var</span> _url = _d.getAttribute(<span class="hljs-string">"url"</span>);
                    _url += <span class="hljs-string">"&amp;"</span> + name + <span class="hljs-string">"="</span> + value;
                    _d.setAttribute(<span class="hljs-string">"url"</span>, _url);
                }.bind(<span class="hljs-keyword">this</span>));
            }.bind(<span class="hljs-keyword">this</span>));
        }
        <span class="hljs-keyword">return</span> url;
    },
    <span class="hljs-attr">_focusFirstItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">menu</span>) </span>{
        <span class="hljs-keyword">var</span> contextItems = $(menu).select(<span class="hljs-string">'.context_item'</span>);
        <span class="hljs-keyword">var</span> firstItem = contextItems.shift();
        <span class="hljs-keyword">while</span> (firstItem.style.display == <span class="hljs-string">'none'</span> &amp;&amp; contextItems.length &gt; <span class="hljs-number">0</span>)
            firstItem = contextItems.shift();
        <span class="hljs-keyword">if</span> (firstItem)
            firstItem.focus();
    },
    <span class="hljs-attr">z</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}
});
GwtContextMenu.zIndex = <span class="hljs-number">1100</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displayContextMenu</span>(<span class="hljs-params">e, name, filterable</span>) </span>{
    <span class="hljs-keyword">if</span> (!getMenuByName(name))
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> contextMenu = getMenuByName(name).context;
    contextMenu.setProperty(<span class="hljs-string">'sortable'</span>, <span class="hljs-literal">true</span>);
    contextMenu.setProperty(<span class="hljs-string">'filterable'</span>, filterable);
    contextMenu.display(e);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextShow</span>(<span class="hljs-params">e, tableName, timeoutValue, ttop, lleft, rright</span>) </span>{
    <span class="hljs-keyword">var</span> frameWindow = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        frameWindow = <span class="hljs-built_in">window</span>.frameElement;
        <span class="hljs-keyword">if</span> (frameWindow &amp;&amp; frameWindow.id == <span class="hljs-string">"dialog_frame"</span> &amp;&amp; frameWindow.noContext == <span class="hljs-literal">true</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">catch</span> (err) {}
    <span class="hljs-keyword">if</span> (shouldSkipContextMenu(e))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    e = getRealEvent(e);
    menuTable = tableName;
    <span class="hljs-keyword">var</span> name = tableName;
    <span class="hljs-keyword">if</span> (name &amp;&amp; name.substring(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) != <span class="hljs-string">"context_"</span>)
        name = <span class="hljs-string">"context_"</span> + name;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.readyState &amp;&amp; <span class="hljs-built_in">document</span>.readyState != <span class="hljs-string">"complete"</span> &amp;&amp; <span class="hljs-built_in">document</span>.readyState != <span class="hljs-string">"interactive"</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.g_hasCompleted == <span class="hljs-string">"undefined"</span>) {
        jslog(<span class="hljs-string">"Ignored context menu show for "</span> + name + <span class="hljs-string">" because document was not ready"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-built_in">window</span>.g_hasCompleted = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (getMenuByName(name)) {
        <span class="hljs-keyword">var</span> contextMenu = getMenuByName(name).context;
        contextMenu.setProperty(<span class="hljs-string">'timeout'</span>, timeoutValue);
        contextMenu.setProperty(<span class="hljs-string">'top'</span>, ttop);
        contextMenu.setProperty(<span class="hljs-string">'left'</span>, lleft);
        contextMenu.setProperty(<span class="hljs-string">'right'</span>, rright);
        <span class="hljs-keyword">if</span> (contextMenu.menu.style.display == <span class="hljs-string">"block"</span>)
            contextMenu.menu.style.display = <span class="hljs-string">"none"</span>;
        <span class="hljs-keyword">else</span>
            contextMenu.display(e);
        <span class="hljs-keyword">if</span> (contextMenu.onshow)
            contextMenu.onshow();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextQuestionLabel</span>(<span class="hljs-params">e, sys_id, type</span>) </span>{
    <span class="hljs-keyword">if</span> (shouldSkipContextMenu(e))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    e = getRealEvent(e);
    <span class="hljs-keyword">var</span> name = <span class="hljs-string">"context_question_label"</span>;
    menuTable = <span class="hljs-string">"not_important"</span>;
    menuField = <span class="hljs-string">"not_important"</span>;
    rowSysId = sys_id;
    addQuestionActionItems(rowSysId, type);
    <span class="hljs-keyword">if</span> (getMenuByName(name)) {
        <span class="hljs-keyword">var</span> contextMenu = getMenuByName(name).context;
        contextMenu.setProperty(<span class="hljs-string">'sysparm_sys_id'</span>, sys_id);
        contextMenu.display(e);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addQuestionActionItems</span>(<span class="hljs-params">id, type</span>) </span>{
    <span class="hljs-keyword">var</span> jr = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AJAXJellyRunner"</span>, <span class="hljs-string">"AJAXJellyRunner.do"</span>);
    jr.addParam(<span class="hljs-string">'template'</span>, <span class="hljs-string">'variable_context.xml'</span>);
    jr.addParam(<span class="hljs-string">'sysparm_catalog_id'</span>, g_form.getUniqueValue());
    jr.addParam(<span class="hljs-string">'sysparm_variable_id'</span>, id);
    jr.addParam(<span class="hljs-string">'sysparm_variable_type'</span>, type);
    jr.addParam(<span class="hljs-string">'sysparm_contextual_security'</span>, g_form.hasAttribute(<span class="hljs-string">'contextual_security'</span>));
    jr.setWantRequestObject(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">var</span> response = jr.getXMLWait();
    <span class="hljs-keyword">if</span> (!response)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> html = response.responseText;
    html.evalScripts(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> gcm;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shouldSkipContextMenu</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.ctrlKey &amp;&amp; trustCtrlKeyResponse())
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trustCtrlKeyResponse</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> isMacintosh || !isSafari;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextTimeout</span>(<span class="hljs-params">e, tableName, waitCount</span>) </span>{
    <span class="hljs-keyword">var</span> name = <span class="hljs-string">"context_"</span> + tableName;
    <span class="hljs-keyword">if</span> (!getMenuByName(name))
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> contextMenu = getMenuByName(name).context;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> waitCount == <span class="hljs-string">"undefined"</span>)
        waitCount = <span class="hljs-number">500</span>;
    contextMenu.setProperty(<span class="hljs-string">"timeout"</span>, waitCount);
    <span class="hljs-keyword">var</span> hideParam;
    <span class="hljs-keyword">if</span> (contextMenu.hideOnlySelf == <span class="hljs-literal">true</span>)
        hideParam = <span class="hljs-string">'"'</span> + name + <span class="hljs-string">'"'</span>;
    contextMenu.setTimeout(setTimeout(<span class="hljs-string">'contextHide('</span> + hideParam + <span class="hljs-string">')'</span>, waitCount));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMenuByName</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">return</span> contextMenus[name];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRowID</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> id = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> cell = e.srcElement;
    <span class="hljs-keyword">if</span> (cell == <span class="hljs-literal">null</span>)
        cell = e.target;
    <span class="hljs-keyword">var</span> row = cell.parentNode;
    <span class="hljs-keyword">var</span> id = row.id;
    <span class="hljs-keyword">if</span> (id == <span class="hljs-literal">null</span> || id.length == <span class="hljs-number">0</span>)
        id = row.parentNode.id;
    <span class="hljs-keyword">return</span> id;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextHide</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">if</span> (!gActiveContext)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> name != <span class="hljs-string">"undefined"</span> &amp;&amp; gActiveContext.getID() != name)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (gActiveContext.beforehide) {
        <span class="hljs-keyword">if</span> (gActiveContext.beforehide() == <span class="hljs-literal">false</span>)
            <span class="hljs-keyword">return</span>;
    }
    gActiveContext.hideAll();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">elementAction</span>(<span class="hljs-params">e, event, gcm</span>) </span>{
    <span class="hljs-keyword">var</span> type = e.getAttribute(<span class="hljs-string">"type"</span>);
    <span class="hljs-keyword">var</span> choice = e.getAttribute(<span class="hljs-string">"choice"</span>);
    <span class="hljs-keyword">var</span> id = e.id;
    <span class="hljs-keyword">var</span> fName = id.substring(id.indexOf(<span class="hljs-string">'.'</span>) + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> tableName = fName.substring(<span class="hljs-number">0</span>, fName.indexOf(<span class="hljs-string">'.'</span>));
    <span class="hljs-keyword">var</span> haveAccess = $(<span class="hljs-string">"personalizer_"</span> + tableName);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_user) != <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">var</span> count = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (!gcm)
            gcm = addActionItems(fName, tableName, type, choice);
        <span class="hljs-keyword">if</span> (gcm)
            <span class="hljs-keyword">return</span> contextShow(event, gcm.getID(), <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addActionItems</span>(<span class="hljs-params">id, table, type, choice</span>) </span>{
    <span class="hljs-keyword">var</span> jr = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AJAXJellyRunner"</span>, <span class="hljs-string">"AJAXJellyRunner.do"</span>);
    jr.addParam(<span class="hljs-string">'template'</span>, <span class="hljs-string">'element_context.xml'</span>);
    jr.addParam(<span class="hljs-string">'sysparm_id'</span>, id);
    jr.addParam(<span class="hljs-string">'sysparm_table'</span>, table);
    jr.addParam(<span class="hljs-string">'sysparm_type'</span>, type);
    jr.addParam(<span class="hljs-string">'sysparm_choice'</span>, choice);
    jr.addParam(<span class="hljs-string">'sysparm_contextual_security'</span>, g_form.hasAttribute(<span class="hljs-string">'contextual_security'</span>));
    jr.setWantRequestObject(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">var</span> response = jr.getXMLWait();
    <span class="hljs-keyword">if</span> (!response)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> html = response.responseText;
    html.evalScripts(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> gcm;
}
Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">'unload'</span>, clearMenus, <span class="hljs-literal">false</span>);
Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">'scroll'</span>, debounceContextScroll(<span class="hljs-number">100</span>));

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounceContextScroll</span>(<span class="hljs-params">ms</span>) </span>{
    <span class="hljs-keyword">var</span> timeout;
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (timeout)
            clearTimeout(timeout);
        timeout = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            contextMenuHide();
            timeout = <span class="hljs-literal">null</span>;
        }, ms);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearMenus</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (av <span class="hljs-keyword">in</span> contextMenus) {
        <span class="hljs-keyword">if</span> (contextMenus[av]) {
            <span class="hljs-keyword">var</span> c = contextMenus[av].context;
            <span class="hljs-keyword">if</span> (c) {
                c.destroy();
            }
            contextMenus[av] = <span class="hljs-literal">null</span>;
        }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> keys <span class="hljs-keyword">in</span> shortcuts) {
        <span class="hljs-keyword">if</span> (shortcuts[keys])
            shortcuts[keys].clear();
    }
    shortcuts = <span class="hljs-literal">null</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/functions.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDoctype</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gsftSubmitBack</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> backButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'sysverb_back'</span>);
    checkDirtyForm(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (isDirtyFormAutosave())
            gsftSubmit(backButton);
        <span class="hljs-keyword">else</span>
            gsftSubmit(<span class="hljs-literal">null</span>, $j(backButton).closest(<span class="hljs-string">'form'</span>)[<span class="hljs-number">0</span>], <span class="hljs-string">'sysverb_check_save'</span>);
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">discard</span>(<span class="hljs-params"></span>) </span>{
        gsftSubmit(backButton);
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gsftSubmit</span>(<span class="hljs-params">control, form, action_name</span>) </span>{
    <span class="hljs-keyword">var</span> f;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form == <span class="hljs-string">"undefined"</span>) {
        f = findParentByTag(control, <span class="hljs-string">'form'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form == <span class="hljs-string">"undefined"</span>) {
            <span class="hljs-keyword">var</span> sectionFormId = $(<span class="hljs-string">"section_form_id"</span>);
            <span class="hljs-keyword">if</span> (sectionFormId)
                f = $(sectionFormId.value);
        }
    } <span class="hljs-keyword">else</span>
        f = form;
    <span class="hljs-keyword">if</span> (g_submitted)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action_name == <span class="hljs-string">"undefined"</span> &amp;&amp; control)
        action_name = control.id;
    <span class="hljs-keyword">if</span> (action_name == <span class="hljs-string">'sysverb_delete'</span>) {
        <span class="hljs-keyword">if</span> (!confirm(getMessage(<span class="hljs-string">"Delete this record"</span>) + <span class="hljs-string">"?"</span>)) {
            g_submitted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    f.sys_action.value = action_name;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> f.onsubmit == <span class="hljs-string">"function"</span> &amp;&amp; action_name != <span class="hljs-string">'sysverb_back'</span>) {
        <span class="hljs-keyword">var</span> rc = f.onsubmit();
        <span class="hljs-keyword">if</span> (rc === <span class="hljs-literal">false</span>) {
            g_submitted = g_form.submitted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">if</span> (control &amp;&amp; control.getAttribute(<span class="hljs-string">'gsft_id'</span>)) {
        action_name = control.getAttribute(<span class="hljs-string">'gsft_id'</span>);
        f.sys_action.value = action_name;
    }
    <span class="hljs-keyword">if</span> (action_name == <span class="hljs-string">'sysverb_back'</span>)
        g_submitted = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">else</span>
        g_submitted = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">'undefined'</span> &amp;&amp; g_form &amp;&amp; g_submitted)
        g_form.enableUIPolicyFields();
    CustomEvent.fire(<span class="hljs-string">"glide:form_submitted"</span>);
    <span class="hljs-keyword">try</span> {
        GlideAjax.disableSessionMessages();
        f.submit();
    } <span class="hljs-keyword">catch</span> (ex) {
        GlideAjax.enableSessionMessages();
        <span class="hljs-keyword">if</span> (ex.message.indexOf(<span class="hljs-string">'Unspecified'</span>) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">throw</span> ex;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckBox</span>(<span class="hljs-params">box</span>) </span>{
    <span class="hljs-keyword">var</span> name = box.name;
    <span class="hljs-keyword">var</span> id = name.substring(<span class="hljs-number">3</span>);
    <span class="hljs-keyword">var</span> frm = box.form;
    <span class="hljs-keyword">if</span> (frm)
        frm[id].value = box.checked;
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> widget = $(id);
        <span class="hljs-keyword">if</span> (widget)
            widget.value = box.checked;
    }
    <span class="hljs-keyword">if</span> (box[<span class="hljs-string">'onchange'</span>])
        box.onchange();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">populateParmQuery</span>(<span class="hljs-params">form, prefix, defaultNULL, action</span>) </span>{
    <span class="hljs-keyword">var</span> keys = [<span class="hljs-string">'No records selected'</span>, <span class="hljs-string">'Delete the selected item?'</span>, <span class="hljs-string">'Delete these'</span>, <span class="hljs-string">'items?'</span>];
    <span class="hljs-keyword">var</span> msgs = getMessages(keys);
    <span class="hljs-keyword">var</span> keyset = getChecked(form);
    <span class="hljs-keyword">if</span> (!action)
        action = form.sys_action.value;
    <span class="hljs-keyword">if</span> (action.indexOf(<span class="hljs-string">"sysverb"</span>) != <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (keyset == <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">if</span> (!alert(msgs[<span class="hljs-string">"No records selected"</span>]))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (action == <span class="hljs-string">"delete_checked"</span>) {
                <span class="hljs-keyword">var</span> items = keyset.split(<span class="hljs-string">","</span>);
                <span class="hljs-keyword">if</span> (items.length == <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">if</span> (!confirm(msgs[<span class="hljs-string">"Delete the selected item?"</span>]))
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (items.length &gt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (!confirm(msgs[<span class="hljs-string">"Delete these"</span>] + <span class="hljs-string">" "</span> + items.length + <span class="hljs-string">" "</span> + msgs[<span class="hljs-string">"items?"</span>]))
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            }
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (form.sys_action.value == <span class="hljs-string">"sysverb_new"</span>) {
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_id'</span>, <span class="hljs-string">'-1'</span>);
    }
    <span class="hljs-keyword">if</span> (keyset == <span class="hljs-string">''</span> &amp;&amp; defaultNULL)
        keyset = defaultNULL;
    <span class="hljs-keyword">if</span> (prefix)
        keyset = prefix + keyset;
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_checked_items'</span>, keyset);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getChecked</span>(<span class="hljs-params">form</span>) </span>{
    <span class="hljs-keyword">var</span> keyset = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> lookup = form;
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; lookup.elements.length; i++) {
        <span class="hljs-keyword">if</span> (lookup.elements[i].type != <span class="hljs-string">"checkbox"</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> v = lookup.elements[i];
        <span class="hljs-keyword">if</span> (v.checked) {
            <span class="hljs-keyword">var</span> id = v.id.substring(<span class="hljs-number">3</span>);
            <span class="hljs-keyword">var</span> skip = v.name.substring(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);
            <span class="hljs-keyword">if</span> (skip == <span class="hljs-string">"SKIP"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (id == <span class="hljs-string">"all"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (keyset == <span class="hljs-string">''</span>)
                keyset = id;
            <span class="hljs-keyword">else</span>
                keyset = keyset + <span class="hljs-string">','</span> + id;
        }
    }
    <span class="hljs-keyword">return</span> keyset;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">iterateList</span>(<span class="hljs-params">e, row, value, update</span>) </span>{
    update = (<span class="hljs-keyword">typeof</span> update === <span class="hljs-string">'undefined'</span>) ? <span class="hljs-literal">true</span> : update;
    <span class="hljs-keyword">if</span> (update)
        g_form.setMandatoryOnlyIfModified(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">var</span> form = g_form.getFormElement();
    form.sys_action.value = value;
    <span class="hljs-keyword">var</span> query = e.getAttribute(<span class="hljs-string">"query"</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_record_row'</span>, row);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_record_list'</span>, query);
    <span class="hljs-keyword">if</span> (update &amp;&amp; <span class="hljs-keyword">typeof</span> form.onsubmit == <span class="hljs-string">"function"</span>) {
        <span class="hljs-keyword">var</span> rc = form.onsubmit();
        <span class="hljs-keyword">if</span> (!rc) {
            g_submitted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">try</span> {
        form.submit();
    } <span class="hljs-keyword">catch</span> (ex) {
        <span class="hljs-keyword">if</span> (ex.message.indexOf(<span class="hljs-string">'Unspecified'</span>) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">throw</span> ex;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refreshNav</span>(<span class="hljs-params"></span>) </span>{
    CustomEvent.fireTop(<span class="hljs-string">'navigator.refresh'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkSave</span>(<span class="hljs-params">tableName, urlBase, idField, refKey, viewOverride</span>) </span>{
    <span class="hljs-keyword">var</span> sysid = <span class="hljs-built_in">document</span>.getElementsByName(idField)[<span class="hljs-number">0</span>].value;
    checkSaveID(tableName, urlBase, sysid, refKey, viewOverride);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkSaveID</span>(<span class="hljs-params">tableName, urlBase, sysid, refKey, viewOverride</span>) </span>{
    sysid = trim(sysid);
    <span class="hljs-keyword">var</span> url = urlBase + <span class="hljs-string">"?sys_id="</span> + sysid;
    <span class="hljs-keyword">if</span> (refKey)
        url += <span class="hljs-string">"&amp;sysparm_refkey="</span> + refKey;
    <span class="hljs-keyword">if</span> (viewOverride) {
        url += <span class="hljs-string">"&amp;sysparm_view="</span> + viewOverride;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> view = $(<span class="hljs-string">'sysparm_view'</span>);
        <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {
            view = view.value;
            <span class="hljs-keyword">if</span> (view != <span class="hljs-string">''</span>)
                url += <span class="hljs-string">"&amp;sysparm_view="</span> + view;
        }
    }
    <span class="hljs-keyword">var</span> nameOfStack = $(<span class="hljs-string">'sysparm_nameofstack'</span>);
    <span class="hljs-keyword">if</span> (nameOfStack != <span class="hljs-literal">null</span>) {
        nameOfStack = nameOfStack.value;
        <span class="hljs-keyword">if</span> (nameOfStack != <span class="hljs-string">''</span>)
            url += <span class="hljs-string">"&amp;sysparm_nameofstack="</span> + nameOfStack;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope != <span class="hljs-string">'undefined'</span>) {
        GlideTransactionScope.appendTransactionScope(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
            url += <span class="hljs-string">"&amp;"</span> + name + <span class="hljs-string">"="</span> + value;
        });
    }
    <span class="hljs-keyword">return</span> checkSaveURL(tableName, url);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDirtyFormAutosave</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> !<span class="hljs-built_in">window</span>.g_form_dirty_support || <span class="hljs-built_in">window</span>.g_form_dirty_autosave || !<span class="hljs-built_in">window</span>.g_form || !g_form.modified;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkDirtyForm</span>(<span class="hljs-params">successCallback, discardCallback</span>) </span>{
    <span class="hljs-keyword">if</span> (isDirtyFormAutosave()) {
        successCallback();
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> gm = <span class="hljs-keyword">new</span> GlideModal(<span class="hljs-string">'dirty_form_modal_confirmation'</span>);
    gm.setSize(<span class="hljs-number">200</span>);
    gm.setTitle(getMessage(<span class="hljs-string">'Save changes'</span>));
    <span class="hljs-keyword">var</span> content = $j(<span class="hljs-keyword">new</span> XMLTemplate(<span class="hljs-string">'dirty_form_modal'</span>).evaluate({
        <span class="hljs-attr">displayValue</span>: g_form.getDisplayValue()
    }));
    content.on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'button'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> button = evt.target;
        <span class="hljs-keyword">if</span> (button.getAttribute(<span class="hljs-string">'data-action'</span>) == <span class="hljs-string">'discard'</span>) {
            g_form.modified = <span class="hljs-literal">false</span>;
            discardCallback();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (button.getAttribute(<span class="hljs-string">'data-action'</span>) == <span class="hljs-string">'save'</span>) {
            successCallback();
        }
    });
    gm.renderWithContent(content);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkSaveURL</span>(<span class="hljs-params">tableName, url</span>) </span>{
    checkDirtyForm(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">save</span>(<span class="hljs-params"></span>) </span>{
        saveAndRedirect(tableName, url);
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">discard</span>(<span class="hljs-params"></span>) </span>{
        g_navigation.open(url);
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveAndRedirect</span>(<span class="hljs-params">tableName, url</span>) </span>{
    <span class="hljs-keyword">if</span> (g_submitted)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> f = <span class="hljs-built_in">document</span>.getElementById(tableName + <span class="hljs-string">".do"</span>);
    <span class="hljs-keyword">if</span> (g_form.getTableName() == tableName) {
        <span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">document</span>.forms;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; fs.length; z++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fs[z].sys_uniqueValue != <span class="hljs-string">'undefined'</span>) {
                f = fs[z];
                <span class="hljs-keyword">break</span>;
            }
        }
    }
    <span class="hljs-keyword">if</span> (!g_form.isNewRecord())
        g_form.setMandatoryOnlyIfModified(<span class="hljs-literal">true</span>);
    f.sys_action.value = <span class="hljs-string">'sysverb_check_save'</span>;
    addInput(f, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_goto_url'</span>, url);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> f.onsubmit == <span class="hljs-string">"function"</span>) {
        <span class="hljs-keyword">var</span> rc = f.onsubmit();
        <span class="hljs-keyword">if</span> (!rc) {
            g_submitted = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    g_submitted = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">'undefined'</span> &amp;&amp; g_form)
        g_form.enableUIPolicyFields();
    f.submit();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">submitTextSearch</span>(<span class="hljs-params">event, tableName</span>) </span>{
    <span class="hljs-keyword">if</span> (event != <span class="hljs-literal">true</span> &amp;&amp; event.keyCode != <span class="hljs-number">13</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> form = getControlForm(tableName);
    addHidden(form, <span class="hljs-string">'sysverb_textsearch'</span>, form[<span class="hljs-string">'sys_searchtext'</span>].value);
    addHidden(form, <span class="hljs-string">'sysparm_query'</span>, <span class="hljs-string">''</span>);
    addHidden(form, <span class="hljs-string">'sysparm_referring_url'</span>, <span class="hljs-string">''</span>);
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getControlForm</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[name + <span class="hljs-string">'_control'</span>];
    <span class="hljs-keyword">if</span> (isSafari || isChrome) {
        <span class="hljs-keyword">if</span> (form) {
            <span class="hljs-keyword">var</span> collectionType = form.toString();
            <span class="hljs-keyword">if</span> (collectionType != <span class="hljs-string">"[object HTMLFormElement]"</span>)
                form = form[<span class="hljs-number">0</span>];
        }
    }
    <span class="hljs-keyword">return</span> form;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormForList</span>(<span class="hljs-params">listId</span>) </span>{
    <span class="hljs-keyword">return</span> $(listId + <span class="hljs-string">"_control"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormForElement</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">var</span> f = element.form;
    <span class="hljs-keyword">if</span> (f)
        <span class="hljs-keyword">return</span> f;
    <span class="hljs-keyword">return</span> findParentByTag(element, <span class="hljs-string">"form"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideReveal</span>(<span class="hljs-params">sectionName, imagePrefix, snap</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(sectionName);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> $s = $j(<span class="hljs-string">'#section-'</span> + sectionName);
    <span class="hljs-keyword">if</span> ($s.length == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> _hideRevealDirect(sectionName, imagePrefix, snap);
    <span class="hljs-keyword">var</span> $b = $j(<span class="hljs-string">".section-content"</span>, $s);
    <span class="hljs-keyword">if</span> ($s.hasClass(<span class="hljs-string">"state-closed"</span>))
        $b.show(<span class="hljs-string">"medium"</span>);
    <span class="hljs-keyword">else</span>
        $b.hide(<span class="hljs-string">"medium"</span>);
    $s.toggleClass(<span class="hljs-string">'state-closed'</span>);
    setPreference(<span class="hljs-string">"collapse.section."</span> + sectionName, $s.hasClass(<span class="hljs-string">'state-closed'</span>) ? <span class="hljs-string">"true"</span> : <span class="hljs-string">"false"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_hideRevealDirect</span>(<span class="hljs-params">sectionName, imagePrefix, snap</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(sectionName);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> img = $(<span class="hljs-string">"img."</span> + sectionName);
    <span class="hljs-keyword">var</span> imageName = <span class="hljs-string">"section"</span>;
    <span class="hljs-keyword">if</span> (imagePrefix)
        imageName = imagePrefix;
    <span class="hljs-keyword">if</span> (el.style.display == <span class="hljs-string">"block"</span>) {
        hide(el);
        <span class="hljs-keyword">if</span> (img) {
            img.src = <span class="hljs-string">"images/"</span> + imageName + <span class="hljs-string">"_hide.gifx"</span>;
            img.alt = getMessage(<span class="hljs-string">"Display / Hide"</span>);
        }
    } <span class="hljs-keyword">else</span> {
        show(el);
        <span class="hljs-keyword">if</span> (img) {
            img.src = <span class="hljs-string">"images/"</span> + imageName + <span class="hljs-string">"_reveal.gifx"</span>;
            img.alt = getMessage(<span class="hljs-string">"Display / Hide"</span>);
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideRevealWithTitle</span>(<span class="hljs-params">name, hideMsg, showMsg</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(name);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> img = $(<span class="hljs-string">"img."</span> + name);
    <span class="hljs-keyword">if</span> (el.style.display == <span class="hljs-string">"block"</span>) {
        el.style.display = <span class="hljs-string">"none"</span>;
        img.src = <span class="hljs-string">"images/section_hide.gifx"</span>
        img.title = showMsg;
        img.alt = showMsg;
    } <span class="hljs-keyword">else</span> {
        el.style.display = <span class="hljs-string">"block"</span>;
        img.src = <span class="hljs-string">"images/section_reveal.gifx"</span>
        img.title = hideMsg;
        img.alt = hideMsg;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forceHideWithTitle</span>(<span class="hljs-params">name, msg</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(name);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> img = $(<span class="hljs-string">"img."</span> + name);
    el.style.display = <span class="hljs-string">"none"</span>;
    img.src = <span class="hljs-string">"images/section_hide.gifx"</span>
    img.title = msg;
    img.alt = msg;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forceHide</span>(<span class="hljs-params">sectionName</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(sectionName);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> img = $(<span class="hljs-string">"img."</span> + sectionName);
    el.style.display = <span class="hljs-string">"none"</span>;
    img.src = <span class="hljs-string">"images/section_hide.gifx"</span>;
    img.alt = getMessage(<span class="hljs-string">"Collapse"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">forceReveal</span>(<span class="hljs-params">sectionName, sectionNameStarts, tagName</span>) </span>{
    <span class="hljs-keyword">var</span> els = $$(tagName);
    <span class="hljs-keyword">if</span> (els) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c &lt; els.length; ++c) {
            <span class="hljs-keyword">if</span> (els[c].id.indexOf(sectionNameStarts) == <span class="hljs-number">0</span>) {
                forceHide(els[c].id);
            }
        }
    }
    <span class="hljs-keyword">var</span> el = $(sectionName);
    <span class="hljs-keyword">if</span> (!el)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> img = $(<span class="hljs-string">"img."</span> + sectionName);
    el.style.display = <span class="hljs-string">"block"</span>;
    img.src = <span class="hljs-string">"images/section_reveal.gif"</span>;
    img.alt = getMessage(<span class="hljs-string">"Expand"</span>);
    <span class="hljs-built_in">window</span>.location = <span class="hljs-string">'#'</span> + sectionName;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertAtCursor</span>(<span class="hljs-params">textField, value</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.selection) {
        textField.focus();
        sel = <span class="hljs-built_in">document</span>.selection.createRange();
        sel.text = value;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (textField.selectionStart || textField.selectionStart == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> startPos = textField.selectionStart;
        <span class="hljs-keyword">var</span> endPos = textField.selectionEnd;
        textField.value = textField.value.substring(<span class="hljs-number">0</span>, startPos) + value +
            textField.value.substring(endPos, textField.value.length);
    } <span class="hljs-keyword">else</span> {
        textField.value += value;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertScriptVar</span>(<span class="hljs-params">textBoxName, selectBoxName</span>) </span>{
    <span class="hljs-keyword">var</span> textBox = $(textBoxName);
    <span class="hljs-keyword">var</span> select = $(selectBoxName);
    <span class="hljs-keyword">var</span> options = select.options;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != select.length; i++) {
        <span class="hljs-keyword">var</span> option = options[i];
        <span class="hljs-keyword">if</span> (!option.selected)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> label = option.text;
        <span class="hljs-keyword">var</span> v = option.value.split(<span class="hljs-string">'.'</span>);
        v = <span class="hljs-string">'current.'</span> + v[<span class="hljs-number">1</span>];
        insertAtCursor(textBox, v);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fieldTyped</span>(<span class="hljs-params">me</span>) </span>{
    formChangeKeepAlive();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPreference</span>(<span class="hljs-params">name, value, func</span>) </span>{
    <span class="hljs-keyword">var</span> u = getActiveUser();
    <span class="hljs-keyword">if</span> (u)
        u.setPreference(name, value);
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"UserPreference"</span>);
    url.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"set"</span>);
    url.addParam(<span class="hljs-string">"sysparm_name"</span>, name);
    url.addParam(<span class="hljs-string">"sysparm_value"</span>, value);
    url.getXML(func);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deletePreference</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> u = getActiveUser();
    <span class="hljs-keyword">if</span> (u)
        u.deletePreference(name);
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"UserPreference"</span>);
    url.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"delete"</span>);
    url.addParam(<span class="hljs-string">"sysparm_name"</span>, name);
    url.getXML(doNothing);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPreference</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> u = getActiveUser();
    <span class="hljs-keyword">if</span> (u) {
        <span class="hljs-keyword">var</span> opinion = u.getPreference(name);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> opinion != <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span> opinion;
    }
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"UserPreference"</span>);
    url.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"get"</span>);
    url.addParam(<span class="hljs-string">"sysparm_name"</span>, name);
    <span class="hljs-keyword">var</span> xml = url.getXMLWait();
    <span class="hljs-keyword">if</span> (!xml)
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
        <span class="hljs-keyword">var</span> item = items[i];
        <span class="hljs-keyword">var</span> value = item.getAttribute(<span class="hljs-string">"value"</span>);
        <span class="hljs-keyword">if</span> (u)
            u.setPreference(name, value);
        <span class="hljs-keyword">return</span> value;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getActiveUser</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> getTopWindow().g_active_user || <span class="hljs-built_in">window</span>.g_user;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">labelClicked</span>(<span class="hljs-params">label, elementType</span>) </span>{
    <span class="hljs-keyword">var</span> hFor = label.htmlFor;
    <span class="hljs-keyword">if</span> (hFor) {
        <span class="hljs-keyword">var</span> elpaco = $(<span class="hljs-string">"sys_display."</span> + hFor);
        <span class="hljs-keyword">if</span> (!elpaco || elpaco.type == <span class="hljs-string">"hidden"</span>)
            elpaco = $(hFor);
        <span class="hljs-keyword">if</span> (elpaco &amp;&amp; elpaco.type != <span class="hljs-string">"hidden"</span> &amp;&amp; elpaco.style.visibility != <span class="hljs-string">"hidden"</span>) {
            <span class="hljs-keyword">if</span> (elpaco.disabled != <span class="hljs-literal">true</span>) {
                <span class="hljs-keyword">if</span> (elementType == <span class="hljs-string">"html"</span> || elementType == <span class="hljs-string">"translated_html"</span>) {
                    <span class="hljs-keyword">var</span> handler = g_form.elementHandlers[hFor];
                    <span class="hljs-keyword">if</span> (handler &amp;&amp; handler.focusEditor) {
                        handler.focusEditor();
                    }
                } <span class="hljs-keyword">else</span> {
                    elpaco.focus();
                }
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertFieldName</span>(<span class="hljs-params">textBoxName, label</span>) </span>{
    <span class="hljs-keyword">var</span> textBox = $(textBoxName);
    <span class="hljs-keyword">var</span> index = label.indexOf(<span class="hljs-string">":"</span>);
    <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>)
        insertAtCursor(textBox, <span class="hljs-string">"\n"</span> + label);
    <span class="hljs-keyword">else</span>
        insertAtCursor(textBox, label);
    <span class="hljs-keyword">var</span> form = textBox.up(<span class="hljs-string">'form'</span>);
    <span class="hljs-keyword">if</span> (form) {
        <span class="hljs-keyword">var</span> onChangeData = {
            <span class="hljs-attr">id</span>: textBox.id,
            <span class="hljs-attr">value</span>: textBox.value,
            <span class="hljs-attr">modified</span>: <span class="hljs-literal">true</span>
        };
        form.fire(<span class="hljs-string">'glideform:onchange'</span>, onChangeData);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replaceRegEx</span>(<span class="hljs-params">text, doc, tableName</span>) </span>{
    <span class="hljs-keyword">var</span> s = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> re = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"%\\{\\w+[\\}]"</span>);
    <span class="hljs-keyword">var</span> m = re.exec(text);
    <span class="hljs-keyword">if</span> (m != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; m.length; i++) {
            s = s + m[i];
        }
    }
    <span class="hljs-keyword">if</span> (tableName.indexOf(<span class="hljs-string">'.'</span>) &gt; <span class="hljs-number">0</span>)
        tableName = tableName.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (s.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> field = s.substring(<span class="hljs-number">2</span>, s.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">var</span> obj = doc.getElementById(<span class="hljs-string">"sys_display."</span> + tableName + <span class="hljs-string">"."</span> + field);
        <span class="hljs-keyword">var</span> val = <span class="hljs-string">"?"</span>;
        <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span>)
            val = obj.value;
        <span class="hljs-keyword">if</span> (val.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> labelText = <span class="hljs-string">"?"</span>;
            <span class="hljs-keyword">var</span> labels = doc.getElementsByTagName(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; labels.length; i++) {
                <span class="hljs-keyword">if</span> (labels[i].htmlFor == tableName + <span class="hljs-string">"."</span> + field) {
                    labelText = labels[i].innerHTML;
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (labelText.indexOf(<span class="hljs-string">':'</span>) &gt; <span class="hljs-number">0</span>)
                labelText = labelText.split(<span class="hljs-string">':'</span>)[<span class="hljs-number">0</span>];
            val = labelText;
        }
        re = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"%\\{"</span> + field + <span class="hljs-string">"[\\}]"</span>, <span class="hljs-string">"g"</span>);
        <span class="hljs-keyword">var</span> result = text.replace(re, val);
        <span class="hljs-keyword">if</span> (result.indexOf(<span class="hljs-string">"%{"</span>) &gt; <span class="hljs-number">0</span>)
            result = replaceRegEx(result, doc, tableName);
        <span class="hljs-keyword">return</span> result;
    }
    <span class="hljs-keyword">return</span> text;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleInline</span>(<span class="hljs-params">name</span>) </span>{
    _toggleDisplay(name, <span class="hljs-string">'inline'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_toggleDisplay</span>(<span class="hljs-params">name, displayType</span>) </span>{
    <span class="hljs-keyword">var</span> e = $(name);
    <span class="hljs-keyword">if</span> (e.style.display == <span class="hljs-string">'none'</span>) {
        e.style.display = displayType;
        setPreference(name, displayType, <span class="hljs-literal">null</span>);
    } <span class="hljs-keyword">else</span> {
        e.style.display = <span class="hljs-string">'none'</span>;
        setPreference(name, <span class="hljs-string">'none'</span>, <span class="hljs-literal">null</span>);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">textareaResizer</span>(<span class="hljs-params">id, change</span>) </span>{
    objectResizer(id, change, <span class="hljs-string">'rows'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">textareaSizer</span>(<span class="hljs-params">id, rows</span>) </span>{
    <span class="hljs-keyword">var</span> element = $(id);
    <span class="hljs-keyword">if</span> (element)
        setAttributeValue(element, <span class="hljs-string">'rows'</span>, rows);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selectResizer</span>(<span class="hljs-params">id, change</span>) </span>{
    objectResizer(id, change, <span class="hljs-string">'size'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">objectResizer</span>(<span class="hljs-params">id, change, attrName</span>) </span>{
    <span class="hljs-keyword">var</span> element = $(id);
    <span class="hljs-keyword">if</span> (!element)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> value = <span class="hljs-built_in">parseInt</span>(element.style.height, <span class="hljs-number">10</span>)
    value += change;
    <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">1</span>)
        value = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (element.tagName == <span class="hljs-string">'INPUT'</span>) {
        element = $(<span class="hljs-string">"div."</span> + id);
        <span class="hljs-keyword">if</span> (element) {
            <span class="hljs-keyword">if</span> (change &gt; <span class="hljs-number">0</span>) {
                element.show();
            } <span class="hljs-keyword">else</span> {
                element.hide();
                value = <span class="hljs-number">1</span>;
            }
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> oldRows = element.rows;
        element.style.height = value + <span class="hljs-string">'px'</span>;
        handleMaxMinHeights(element, value);
        resizeTextAreaIframe(<span class="hljs-literal">true</span>, id, value);
    }
    setPreference(<span class="hljs-string">'rows.'</span> + id, value);
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleMaxMinHeights</span>(<span class="hljs-params">element, height</span>) </span>{
    <span class="hljs-keyword">if</span> (!element || !height)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> $element = $(element),
        maxHeight = <span class="hljs-built_in">parseInt</span>($element.getStyle(<span class="hljs-string">'maxHeight'</span>), <span class="hljs-number">10</span>),
        minHeight = <span class="hljs-built_in">parseInt</span>($element.getStyle(<span class="hljs-string">'minHeight'</span>), <span class="hljs-number">10</span>),
        id = getAttributeValue($element, <span class="hljs-string">'id'</span>);
    <span class="hljs-keyword">if</span> (height &gt;= maxHeight) {
        $(<span class="hljs-string">'sizer_plus_'</span> + id).addClassName(<span class="hljs-string">'disabled'</span>);
        $element.setStyle({
            <span class="hljs-attr">overflowY</span>: <span class="hljs-string">'auto'</span>
        });
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (height &lt;= minHeight) {
        $(<span class="hljs-string">'sizer_minus_'</span> + id).addClassName(<span class="hljs-string">'disabled'</span>);
        <span class="hljs-keyword">return</span>;
    }
    $(<span class="hljs-string">'sizer_plus_'</span> + id).removeClassName(<span class="hljs-string">'disabled'</span>);
    $(<span class="hljs-string">'sizer_minus_'</span> + id).removeClassName(<span class="hljs-string">'disabled'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resizeTextAreaIframe</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>),
        tf = $(<span class="hljs-string">"textarea_iframe."</span> + id),
        doctype = args[<span class="hljs-number">0</span>],
        id = args[<span class="hljs-number">1</span>],
        height,
        oldRows,
        rows;
    <span class="hljs-keyword">if</span> (doctype) {
        height = args[<span class="hljs-number">2</span>];
    } <span class="hljs-keyword">else</span> {
        rows = args[<span class="hljs-number">2</span>];
        oldRows = args[<span class="hljs-number">3</span>];
    }
    <span class="hljs-keyword">if</span> (!tf) {
        tf = $(id + <span class="hljs-string">'_ifr'</span>);
        <span class="hljs-keyword">if</span> (!tf)
            tf = $(<span class="hljs-string">'textarea_iframe.'</span> + id);
        <span class="hljs-keyword">if</span> (tf) {
            <span class="hljs-keyword">var</span> tbl = $(id + <span class="hljs-string">'_tbl'</span>);
            <span class="hljs-keyword">var</span> readOnlyDiv = $(id + <span class="hljs-string">'_readOnlyDiv'</span>);
            <span class="hljs-keyword">if</span> (doctype) {
                tf.style.height = (height + <span class="hljs-number">60</span>) + <span class="hljs-string">"px"</span>;
                <span class="hljs-keyword">if</span> (tbl) {
                    tbl.style.height = (height + <span class="hljs-number">60</span>) + <span class="hljs-string">"px"</span>;
                }
                <span class="hljs-keyword">if</span> (readOnlyDiv) {
                    readOnlyDiv.style.height = (height + <span class="hljs-number">60</span>) + <span class="hljs-string">"px"</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> elHeight = <span class="hljs-built_in">parseInt</span>(tf.clientHeight);
                <span class="hljs-keyword">if</span> (elHeight == <span class="hljs-number">0</span> &amp;&amp; readOnlyDiv)
                    elHeight = <span class="hljs-built_in">parseInt</span>(readOnlyDiv.style.height);
                <span class="hljs-keyword">var</span> pixelsPerRow = <span class="hljs-number">12</span>;
                <span class="hljs-keyword">var</span> newHeight = elHeight + (rows - oldRows) * pixelsPerRow;
                tf.style.height = newHeight + <span class="hljs-string">"px"</span>;
                <span class="hljs-keyword">if</span> (tbl) {
                    tbl.style.height = (<span class="hljs-built_in">parseInt</span>(tbl.style.height) + (newHeight - elHeight)) + <span class="hljs-string">"px"</span>;
                }
                <span class="hljs-keyword">if</span> (readOnlyDiv) {
                    readOnlyDiv.style.height = newHeight + <span class="hljs-string">"px"</span>;
                }
            }
        }
    }
    <span class="hljs-keyword">if</span> (!tf)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!tf.parentNode)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!tf.parentNode.nextSibling)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> nid = tf.parentNode.nextSibling.id;
    <span class="hljs-keyword">if</span> (nid != id)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> elHeight = tf.clientHeight;
    <span class="hljs-keyword">var</span> pixelsPerRow = <span class="hljs-built_in">Math</span>.round(elHeight / oldRows);
    tf.style.height = rows * pixelsPerRow + <span class="hljs-string">"px"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleQuestionRows</span>(<span class="hljs-params">thisclass, display, fl</span>) </span>{
    forcelabels = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (fl == <span class="hljs-literal">true</span>)
        forcelabels = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> rows = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">'.'</span> + thisclass);
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; rows.length; i++) {
        <span class="hljs-keyword">var</span> element = rows[i];
        <span class="hljs-keyword">var</span> id = element.id;
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'CATEGORY_LABEL'</span> != id || forcelabels)
            element.style.display = display;
    }
    <span class="hljs-keyword">var</span> openStyle = <span class="hljs-string">'none'</span>;
    <span class="hljs-keyword">var</span> closedStyle = <span class="hljs-string">'none'</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'none'</span> == display)
        openStyle = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">else</span>
        closedStyle = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> s = $(thisclass + <span class="hljs-string">'CLOSED'</span>);
    s.style.display = closedStyle;
    s = $(thisclass + <span class="hljs-string">'OPEN'</span>);
    s.style.display = openStyle;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleWorkflow</span>(<span class="hljs-params">id, expandPref</span>) </span>{
    <span class="hljs-keyword">var</span> map = getMessages([<span class="hljs-string">'Expand'</span>, <span class="hljs-string">'Collapse'</span>]);
    <span class="hljs-keyword">var</span> table = $(<span class="hljs-string">"workflow."</span> + id);
    <span class="hljs-keyword">var</span> spans = table.getElementsByTagName(<span class="hljs-string">"span"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != spans.length; i++) {
        <span class="hljs-keyword">var</span> span = spans[i];
        <span class="hljs-keyword">if</span> (!span.getAttribute(<span class="hljs-string">"stage"</span>))
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> spanImage = $(span.id + <span class="hljs-string">'.image'</span>);
        <span class="hljs-keyword">var</span> spanText = $(span.id + <span class="hljs-string">'.text'</span>);
        <span class="hljs-keyword">if</span> (span.getAttribute(<span class="hljs-string">"selected"</span>) == <span class="hljs-string">'true'</span>)
            spanText.style.color = <span class="hljs-string">"#2050d0"</span>;
        <span class="hljs-keyword">var</span> filterImg = $(<span class="hljs-string">'filterimg.'</span> + id);
        <span class="hljs-keyword">if</span> (expandPref == <span class="hljs-string">"false"</span>) {
            span.style.display = <span class="hljs-string">""</span>;
            spanText.style.display = <span class="hljs-string">"none"</span>;
            filterImg.src = <span class="hljs-string">"images/filter_hide16.gifx"</span>;
            filterImg.title = map[<span class="hljs-string">"Expand"</span>];
            filterImg.alt = map[<span class="hljs-string">"Expand"</span>];
            span.setAttribute(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"false"</span>);
        } <span class="hljs-keyword">else</span> {
            span.style.display = <span class="hljs-string">"block"</span>;
            spanText.style.display = <span class="hljs-string">""</span>;
            span.setAttribute(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"true"</span>);
            filterImg.src = <span class="hljs-string">"images/filter_reveal16.gifx"</span>;
            filterImg.title = map[<span class="hljs-string">"Collapse"</span>];
            filterImg.alt = map[<span class="hljs-string">"Collapse"</span>];
        }
    }
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">togglePreference</span>(<span class="hljs-params">id</span>) </span>{
    toggleItems(id);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleItems</span>(<span class="hljs-params">id, force</span>) </span>{
    <span class="hljs-keyword">var</span> tables = $$(<span class="hljs-string">"table"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; tables.length; i++) {
        <span class="hljs-keyword">var</span> tableId = tables[i].id;
        <span class="hljs-keyword">if</span> (tableId.indexOf(<span class="hljs-string">"workflow."</span>) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> idParts = tables[i].id.split(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">if</span> (id &amp;&amp; tableId != <span class="hljs-string">"workflow."</span> + id)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> pref = getPref(idParts[<span class="hljs-number">1</span>]);
        <span class="hljs-keyword">if</span> (force != pref)
            toggleWorkflow(idParts[<span class="hljs-number">1</span>], pref);
        <span class="hljs-keyword">if</span> (id)
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getPref</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> filterImgSrc = $(<span class="hljs-string">'filterimg.'</span> + id).src
    <span class="hljs-keyword">if</span> (filterImgSrc.indexOf(<span class="hljs-string">'filter_hide'</span>) != <span class="hljs-number">-1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"true"</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">"false"</span>;
}
<span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">'keyup'</span>, checkForClientKeystroke);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkForClientKeystroke</span>(<span class="hljs-params">evt</span>) </span>{
    <span class="hljs-keyword">if</span> (evt.keyCode == <span class="hljs-number">27</span> &amp;&amp; <span class="hljs-built_in">window</span>.g_popup_manager) {
        g_popup_manager.destroypopDiv();
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (evt.shiftKey &amp;&amp; evt.ctrlKey &amp;&amp; evt.keyCode == <span class="hljs-number">74</span>) {
        <span class="hljs-keyword">var</span> gWindow = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">"client_js"</span>);
        gWindow.setTitle(<span class="hljs-string">"JavaScript Executor"</span>);
        gWindow.setPreference(<span class="hljs-string">'table'</span>, <span class="hljs-string">'javascript_executor'</span>);
        gWindow.render();
        Event.stop(evt);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> parent.navVisible == <span class="hljs-string">"function"</span>) {
            <span class="hljs-keyword">if</span> (evt.ctrlKey &amp;&amp; evt.keyCode == <span class="hljs-number">190</span> &amp;&amp; !evt.shiftKey &amp;&amp; !evt.altKey) {
                Event.stop(evt);
                <span class="hljs-keyword">if</span> (parent.navVisible()) {
                    parent.hideNav();
                    parent.hide(<span class="hljs-string">"banner_top_left"</span>);
                    parent.hide(<span class="hljs-string">"banner_top_right"</span>);
                } <span class="hljs-keyword">else</span> {
                    parent.showNav();
                    parent.show(<span class="hljs-string">"banner_top_left"</span>);
                    parent.show(<span class="hljs-string">"banner_top_right"</span>);
                }
            }
        }
    } <span class="hljs-keyword">catch</span> (e) {}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleHelp</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> wrapper = $(<span class="hljs-string">'help_'</span> + name + <span class="hljs-string">'_wrapper'</span>);
    <span class="hljs-keyword">var</span> image = $(<span class="hljs-string">'img.help_'</span> + name + <span class="hljs-string">'_wrapper'</span>);
    <span class="hljs-keyword">if</span> (wrapper.style.display == <span class="hljs-string">"block"</span>) {
        wrapper.style.display = <span class="hljs-string">"none"</span>;
        image.src = <span class="hljs-string">"images/filter_hide16.gifx"</span>;
    } <span class="hljs-keyword">else</span> {
        wrapper.style.display = <span class="hljs-string">"block"</span>;
        image.src = <span class="hljs-string">"images/filter_reveal16.gifx"</span>;
    }
    image.alt = getMessage(<span class="hljs-string">"Display / Hide"</span>);
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateHex</span>(<span class="hljs-params">field</span>) </span>{
    <span class="hljs-keyword">var</span> num = field.value;
    <span class="hljs-keyword">var</span> valid = isHex(num);
    <span class="hljs-keyword">if</span> (!valid) {
        <span class="hljs-keyword">var</span> sName = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (field.name != <span class="hljs-literal">null</span>)
            sName = <span class="hljs-string">' of '</span> + field.name + <span class="hljs-string">' '</span>;
        alert(<span class="hljs-string">"The entered value "</span> + sName + <span class="hljs-string">"is not hex.  Please correct."</span>);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isHex</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">var</span> str = num.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'[0-9a-fA-F]'</span>, <span class="hljs-string">'g'</span>), <span class="hljs-string">''</span>);
    <span class="hljs-keyword">if</span> (str.length &gt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setLightWeightLink</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> v = $(name);
    <span class="hljs-keyword">if</span> (!v)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> link = $(name + <span class="hljs-string">"LINK"</span>);
    <span class="hljs-keyword">if</span> (!link)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> vis = <span class="hljs-string">"hidden"</span>;
    <span class="hljs-keyword">if</span> (v.value != <span class="hljs-string">''</span>)
        vis = <span class="hljs-string">""</span>;
    link.style.visibility = vis;
    link.style.display = vis == <span class="hljs-string">'hidden'</span> ? <span class="hljs-string">'none'</span> : <span class="hljs-string">''</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleDebug</span>(<span class="hljs-params">id</span>) </span>{
    id = id.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
        <span class="hljs-keyword">var</span> widgetName = <span class="hljs-string">'debug.'</span> + id + <span class="hljs-string">'.'</span> + i;
        <span class="hljs-keyword">var</span> w = $(widgetName);
        <span class="hljs-keyword">if</span> (!w)
            <span class="hljs-keyword">return</span>;
        w.toggle();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">enterSubmitsForm</span>(<span class="hljs-params">e, enter_submits_form</span>) </span>{
    <span class="hljs-keyword">if</span> (e.keyCode != <span class="hljs-number">13</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (e.ctrlKey == <span class="hljs-literal">true</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> source = Event.element(e);
    <span class="hljs-keyword">if</span> (source.getAttribute(<span class="hljs-string">"data-type"</span>) &amp;&amp; e.keyCode == <span class="hljs-number">13</span> &amp;&amp; source.getAttribute(<span class="hljs-string">"data-type"</span>) == <span class="hljs-string">'ac_reference_input'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (source &amp;&amp; source.type == <span class="hljs-string">"textarea"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (source &amp;&amp; source.type == <span class="hljs-string">"submit"</span>) {
        <span class="hljs-keyword">if</span> (source.disabled == <span class="hljs-literal">false</span> &amp;&amp; source.onclick) {
            source.onclick();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">if</span> (enter_submits_form == <span class="hljs-string">'false'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> headerElements = $(<span class="hljs-built_in">document</span>.body).select(<span class="hljs-string">".header"</span>);
    <span class="hljs-keyword">var</span> eSize = headerElements.length;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; eSize; i++) {
        <span class="hljs-keyword">var</span> element = headerElements[i];
        <span class="hljs-keyword">if</span> (element.type == <span class="hljs-string">"submit"</span>) {
            <span class="hljs-keyword">if</span> (element.disabled == <span class="hljs-literal">false</span>) {
                source.blur();
                setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    element.onclick();
                }, <span class="hljs-number">0</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gsftPrompt</span>(<span class="hljs-params">title, question, onPromptComplete, onPromptCancel</span>) </span>{
    <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'glide_prompt'</span>, <span class="hljs-literal">false</span>);
    dialog.setTitle(title);
    dialog.setPreference(<span class="hljs-string">'title'</span>, question);
    dialog.setPreference(<span class="hljs-string">'onPromptComplete'</span>, onPromptComplete);
    dialog.setPreference(<span class="hljs-string">'onPromptCancel'</span>, onPromptCancel);
    dialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gsftConfirm</span>(<span class="hljs-params">title, question, onPromptSave, onPromptCancel, onPromptDiscard</span>) </span>{
    <span class="hljs-keyword">var</span> width, dialogClass = GlideDialogWindow;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.GlideModal) {
        dialogClass = GlideModal;
        width = <span class="hljs-number">400</span>;
    }
    <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> dialogClass(<span class="hljs-string">'glide_confirm'</span>, <span class="hljs-literal">false</span>, width);
    dialog.setTitle(title);
    dialog.setPreference(<span class="hljs-string">'title'</span>, question);
    dialog.setPreference(<span class="hljs-string">'onPromptSave'</span>, onPromptSave);
    dialog.setPreference(<span class="hljs-string">'onPromptCancel'</span>, onPromptCancel);
    dialog.setPreference(<span class="hljs-string">'onPromptDiscard'</span>, onPromptDiscard);
    dialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tsIndexCreatorPopup</span>(<span class="hljs-params">tableName</span>) </span>{
    <span class="hljs-keyword">var</span> gDialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">"dialog_text_index_creator"</span>);
    gDialog.setSize(<span class="hljs-number">400</span>, <span class="hljs-number">250</span>);
    gDialog.setPreference(<span class="hljs-string">"table_name"</span>, tableName);
    <span class="hljs-keyword">if</span> (tableName != <span class="hljs-string">""</span>)
        gDialog.setTitle(<span class="hljs-string">'Generate Text Index'</span>);
    <span class="hljs-keyword">else</span>
        gDialog.setTitle(<span class="hljs-string">'Regenerate All Text Indexes'</span>);
    gDialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTextDirectionRTL</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> g_text_direction == <span class="hljs-string">'rtl'</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">simpleRemoveOption</span>(<span class="hljs-params">sourceSelect</span>) </span>{
    <span class="hljs-keyword">var</span> sourceOptions = sourceSelect.options;
    <span class="hljs-keyword">var</span> selectedIds = [];
    <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; sourceSelect.length; i++) {
        option = sourceOptions[i];
        <span class="hljs-keyword">if</span> (option.selected) {
            selectedIds[index] = i;
            index++;
        }
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = selectedIds.length - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">-1</span>; i--)
        sourceSelect.remove(selectedIds[i]);
    sourceSelect.disabled = <span class="hljs-literal">true</span>;
    sourceSelect.disabled = <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveAllSelected</span>(<span class="hljs-params">fromSelectArray, toArray, delim, escape, emptyLabel, doEscape</span>) </span>{
    <span class="hljs-keyword">var</span> translatedEmptyLabel = getMessage(emptyLabel);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fromSelectArray.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fromSelectArray[i] == <span class="hljs-string">'undefined'</span>) {
            toArray[i].value = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">continue</span>;
        }
        <span class="hljs-keyword">var</span> toValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; fromSelectArray[i].length; j++) {
            <span class="hljs-keyword">if</span> (!(fromSelectArray[i].length == <span class="hljs-number">1</span> &amp;&amp; fromSelectArray[i].options[<span class="hljs-number">0</span>].value == translatedEmptyLabel)) {
                <span class="hljs-keyword">var</span> val = fromSelectArray[i].options[j].value;
                <span class="hljs-keyword">if</span> (doEscape)
                    val = <span class="hljs-built_in">encodeURIComponent</span>(val);
                toValue += val.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(delim, <span class="hljs-string">"g"</span>), <span class="hljs-built_in">escape</span> + delim);
            }
            <span class="hljs-keyword">if</span> (j + <span class="hljs-number">1</span> &lt; fromSelectArray[i].length)
                toValue += delim;
        }
        toArray[i].value = toValue;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sortSelect</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">var</span> maxSort = obj.getAttribute(<span class="hljs-string">"max_sort"</span>);
    <span class="hljs-keyword">if</span> (!maxSort || maxSort == <span class="hljs-number">0</span>)
        maxSort = <span class="hljs-number">500</span>;
    <span class="hljs-keyword">if</span> (obj.length &gt; maxSort &amp;&amp; isMSIE &amp;&amp; !isMSIE9) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (!sortSupported(obj)) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (!hasOptions(obj)) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> o = [];
    <span class="hljs-keyword">var</span> o2 = [];
    <span class="hljs-keyword">var</span> o3 = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; obj.options.length; i++) {
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(obj.options[i].text, obj.options[i].value, obj.options[i].defaultSelected, obj.options[i].selected);
        copyAttributes(obj.options[i], newOption);
        <span class="hljs-keyword">if</span> (newOption.value.indexOf(<span class="hljs-string">'split'</span>) &gt; <span class="hljs-number">0</span>)
            o2[o2.length] = newOption;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (newOption.value &amp;&amp; newOption.value.substr(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) !== <span class="hljs-string">"u_"</span> &amp;&amp; (newOption.value.indexOf(<span class="hljs-string">'formatter'</span>) &gt; <span class="hljs-number">0</span> || newOption.value.indexOf(<span class="hljs-string">'component'</span>) &gt; <span class="hljs-number">0</span> ||
                newOption.value.indexOf(<span class="hljs-string">'annotation'</span>) &gt; <span class="hljs-number">0</span> || newOption.value.indexOf(<span class="hljs-string">'chart'</span>) &gt; <span class="hljs-number">0</span>))
            o3[o3.length] = newOption;
        <span class="hljs-keyword">else</span>
            o[o.length] = newOption;
    }
    <span class="hljs-keyword">if</span> (o.length == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span>;
    o = o.sort(
        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">if</span> ((a.text.toLowerCase() + <span class="hljs-string">""</span>) &lt; (b.text.toLowerCase() + <span class="hljs-string">""</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
            }
            <span class="hljs-keyword">if</span> ((a.text.toLowerCase() + <span class="hljs-string">""</span>) &gt; (b.text.toLowerCase() + <span class="hljs-string">""</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    );
    o3 = o3.sort(
        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">if</span> ((a.text.toLowerCase() + <span class="hljs-string">""</span>) &lt; (b.text.toLowerCase() + <span class="hljs-string">""</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
            }
            <span class="hljs-keyword">if</span> ((a.text.toLowerCase() + <span class="hljs-string">""</span>) &gt; (b.text.toLowerCase() + <span class="hljs-string">""</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    );
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; o.length; i++) {
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(o[i].text, o[i].value, o[i].defaultSelected, o[i].selected);
        copyAttributes(o[i], newOption);
        obj.options[i] = newOption;
    }
    <span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = o.length; i &lt; (o.length + o2.length); i++) {
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(o2[counter].text, o2[counter].value, o2[counter].defaultSelected, o2[counter].selected);
        copyAttributes(o2[counter], newOption);
        obj.options[i] = newOption;
        counter++;
    }
    <span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = (o.length + o2.length); i &lt; (o.length + o2.length + o3.length); i++) {
        <span class="hljs-keyword">var</span> newOption = <span class="hljs-keyword">new</span> Option(o3[counter].text, o3[counter].value, o3[counter].defaultSelected, o3[counter].selected);
        copyAttributes(o3[counter], newOption);
        obj.options[i] = newOption;
        counter++;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copyAttributes</span>(<span class="hljs-params">from, to</span>) </span>{
    <span class="hljs-keyword">var</span> attributes = <span class="hljs-keyword">from</span>.attributes;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>; n &lt; attributes.length; n++) {
        <span class="hljs-keyword">var</span> attr = attributes[n];
        <span class="hljs-keyword">var</span> aname = attr.nodeName;
        <span class="hljs-keyword">var</span> avalue = attr.nodeValue;
        to.setAttribute(aname, avalue);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">from</span>.style.cssText)
        to.style.cssText = <span class="hljs-keyword">from</span>.style.cssText;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasOptions</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">if</span> (obj != <span class="hljs-literal">null</span> &amp;&amp; obj.options != <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sortSupported</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">if</span> (obj == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> noSort = obj.no_sort || obj.getAttribute(<span class="hljs-string">'no_sort'</span>);
    <span class="hljs-keyword">if</span> (noSort) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/scoped_object_generators.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ScopedGlideAjaxGenerator</span>(<span class="hljs-params">scope</span>) </span>{
    <span class="hljs-keyword">var</span> ScopedGlideAjax = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ScopedGlideAjax.prototype.initialize.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
    };
    ScopedGlideAjax.prototype = classExtendForScope({}, <span class="hljs-built_in">window</span>.GlideAjax.prototype, {
        <span class="hljs-attr">scope</span>: scope,
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">endpoint, url</span>) </span>{
            GlideAjax.prototype.initialize.call(<span class="hljs-keyword">this</span>, endpoint, url);
            <span class="hljs-keyword">this</span>.setScope(<span class="hljs-keyword">this</span>.scope);
        },
        <span class="hljs-attr">getXMLWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> err_options = {
                <span class="hljs-attr">text</span>: <span class="hljs-string">"Access to getXMLWait is not available in scoped applications."</span>,
                <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
                <span class="hljs-attr">attributes</span>: {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
                }
            };
            notifyFromWrappedScopedObject(err_options);
        },
        <span class="hljs-attr">setScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newScope</span>) </span>{
            <span class="hljs-keyword">if</span> (newScope != <span class="hljs-keyword">this</span>.scope &amp;&amp; newScope !== <span class="hljs-string">"global"</span>) {
                <span class="hljs-keyword">var</span> err_options = {
                    <span class="hljs-attr">text</span>: <span class="hljs-string">"Scoped applications cannot impersonate other scopes."</span>,
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
                    <span class="hljs-attr">attributes</span>: {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
                    }
                };
                notifyFromWrappedScopedObject(err_options);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">return</span> GlideAjax.prototype.setScope.call(<span class="hljs-keyword">this</span>, scope);
        },
        <span class="hljs-attr">addParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">param, value</span>) </span>{
            <span class="hljs-keyword">if</span> (param == <span class="hljs-string">"sysparm_scope"</span> &amp;&amp; value != <span class="hljs-keyword">this</span>.scope &amp;&amp; value != <span class="hljs-string">"global"</span>) {
                <span class="hljs-keyword">var</span> err_options = {
                    <span class="hljs-attr">text</span>: <span class="hljs-string">"Scoped applications cannot impersonate other scopes."</span>,
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
                    <span class="hljs-attr">attributes</span>: {
                        <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
                    }
                };
                notifyFromWrappedScopedObject(err_options);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.GlideAjax.prototype.addParam.call(<span class="hljs-keyword">this</span>, param, value);
        }
    })
    <span class="hljs-keyword">return</span> ScopedGlideAjax;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ScopedGFormGenerator</span>(<span class="hljs-params">scope</span>) </span>{
    <span class="hljs-keyword">var</span> ScopedGForm = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
    <span class="hljs-keyword">if</span> (<span class="hljs-string">"undefined"</span> == <span class="hljs-keyword">typeof</span> g_form) {
        <span class="hljs-keyword">return</span> ScopedGForm;
    }
    ScopedGForm.prototype = g_form;
    <span class="hljs-keyword">var</span> scoped_g_form = <span class="hljs-keyword">new</span> ScopedGForm();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inScope</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (scope == g_form.getGlideUIElement(fieldName).getScope())
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (g_form.getGlideUIElement(fieldName).isInherited &amp;&amp; (scope == g_form.getScope()))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        } <span class="hljs-keyword">catch</span> (e) {
            jslog(e);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_noCallbackError</span>(<span class="hljs-params">displayName, fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> text = displayName + <span class="hljs-string">" for "</span> + fieldName + <span class="hljs-string">" not allowed: missing callback function as parameter"</span>;
        <span class="hljs-keyword">var</span> err_options = {
            <span class="hljs-attr">text</span>: text,
            <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
            <span class="hljs-attr">attributes</span>: {
                <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
            }
        }
        notifyFromWrappedScopedObject(err_options);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_showScopeError</span>(<span class="hljs-params">displayName, fieldName, value</span>) </span>{
        <span class="hljs-keyword">var</span> text = displayName + <span class="hljs-string">" "</span> + value + <span class="hljs-string">" not set on field "</span> + fieldName + <span class="hljs-string">": cross-scope access denied."</span>;
        <span class="hljs-keyword">var</span> err_options = {
            <span class="hljs-attr">text</span>: text,
            <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
            <span class="hljs-attr">attributes</span>: {
                <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
            }
        }
        opticsLog(scoped_g_form.getTableName(), fieldName, text);
        notifyFromWrappedScopedObject(err_options);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validField</span>(<span class="hljs-params">fieldName</span>) </span>{
        fieldName = g_form.removeCurrentPrefix(fieldName);
        <span class="hljs-keyword">return</span> g_form.hasField(fieldName) || g_form.getPrefixHandler(fieldName);
    }
    scoped_g_form.setReadOnly = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inScope(fieldName))
            <span class="hljs-keyword">return</span> g_form.setReadOnly(fieldName, disabled);
        _showScopeError(<span class="hljs-string">"ReadOnly"</span>, fieldName, disabled);
    }
    scoped_g_form.setReadonly = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inScope(fieldName))
            <span class="hljs-keyword">return</span> g_form.setReadonly(fieldName, disabled);
        _showScopeError(<span class="hljs-string">"ReadOnly"</span>, fieldName, disabled);
    }
    scoped_g_form.setMandatory = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, mandatory</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inScope(fieldName))
            <span class="hljs-keyword">return</span> g_form.setMandatory(fieldName, mandatory);
        _showScopeError(<span class="hljs-string">"Mandatory"</span>, fieldName, mandatory);
    }
    scoped_g_form.setDisplay = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, display</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inScope(fieldName))
            <span class="hljs-keyword">return</span> g_form.setDisplay(fieldName, display);
        _showScopeError(<span class="hljs-string">"Display"</span>, fieldName, display);
    }
    scoped_g_form.setDisabled = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (inScope(fieldName))
            <span class="hljs-keyword">return</span> g_form.setDisabled(fieldName, disabled);
        _showScopeError(<span class="hljs-string">"Disabled"</span>, fieldName, disabled);
    }
    scoped_g_form.getReference = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, callBack</span>) </span>{
        <span class="hljs-keyword">if</span> (!validField(fieldName))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'function'</span> == <span class="hljs-keyword">typeof</span> callBack)
            <span class="hljs-keyword">return</span> g_form.getReference(fieldName, callBack);
        _noCallbackError(<span class="hljs-string">"getReference"</span>, fieldName, <span class="hljs-literal">false</span>);
    }
    <span class="hljs-keyword">return</span> scoped_g_form;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ScopedGlideDialogWindowGenerator</span>(<span class="hljs-params">scope</span>) </span>{
    <span class="hljs-keyword">var</span> extendFrom = <span class="hljs-built_in">window</span>.GlideDialogWindow ? GlideDialogWindow.prototype : GlideModal.prototype;
    <span class="hljs-keyword">var</span> ScopedGlideDialogWindow = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        ScopedGlideDialogWindow.prototype.initialize.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
    };
    ScopedGlideDialogWindow.prototype = classExtendForScope({}, extendFrom, {
        <span class="hljs-attr">scope</span>: scope,
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, readOnly, width, height</span>) </span>{
            extendFrom.initialize.call(<span class="hljs-keyword">this</span>, id, readOnly, width, height);
            <span class="hljs-keyword">this</span>.setScope(<span class="hljs-keyword">this</span>.scope);
        }
    });
    <span class="hljs-keyword">return</span> ScopedGlideDialogWindow;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">classExtendForScope</span>(<span class="hljs-params">extended, defaults, options</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.jQuery)
        <span class="hljs-keyword">return</span> jQuery.extend(extended, defaults, options);
    <span class="hljs-keyword">var</span> prop;
    <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> defaults) {
        extended[prop] = defaults[prop];
    }
    <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> options) {
        extended[prop] = options[prop];
    }
    <span class="hljs-keyword">return</span> extended;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notifyFromWrappedScopedObject</span>(<span class="hljs-params">msgObject</span>) </span>{
    jslog(msgObject.text);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> nowapi !== <span class="hljs-string">'undefined'</span> &amp;&amp; nowapi &amp;&amp; <span class="hljs-keyword">typeof</span> nowapi.hasOwnProperty(<span class="hljs-string">'g_notification'</span>))
        nowapi.g_notification.show(msgObject.attributes.type, msgObject.text);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideUI != <span class="hljs-string">'undefined'</span>)
        GlideUI.get().display(<span class="hljs-keyword">new</span> GlideUINotification(msgObject));
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_reference.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateAndFlip</span>(<span class="hljs-params">select, elementName</span>) </span>{
    <span class="hljs-keyword">var</span> option = setSelectValue(select, elementName);
    onChange(elementName);
    refFlipImage(option, elementName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSelectValue</span>(<span class="hljs-params">select, elementName</span>) </span>{
    <span class="hljs-keyword">var</span> value = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> text = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> option;
    <span class="hljs-keyword">if</span> (select.selectedIndex != <span class="hljs-number">-1</span>) {
        option = select.options[select.selectedIndex];
        value = option.value;
        text = option.text;
    }
    <span class="hljs-keyword">var</span> id = gel(elementName);
    id.value = value;
    <span class="hljs-keyword">var</span> idd = gel(<span class="hljs-string">'sys_display.'</span> + elementName);
    <span class="hljs-keyword">if</span> (value == <span class="hljs-string">''</span>)
        idd.value = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">else</span>
        idd.value = text;
    <span class="hljs-keyword">return</span> option;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refFlipImage</span>(<span class="hljs-params">element, elementName, useText</span>) </span>{
    <span class="hljs-keyword">var</span> viewField = gel(<span class="hljs-string">"view."</span> + elementName);
    <span class="hljs-keyword">if</span> (!viewField)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> viewRField = gel(<span class="hljs-string">"viewr."</span> + elementName);
    <span class="hljs-keyword">var</span> viewHideField = gel(<span class="hljs-string">"view."</span> + elementName + <span class="hljs-string">".no"</span>);
    <span class="hljs-keyword">var</span> refid = gel(elementName);
    <span class="hljs-keyword">var</span> value = element.value;
    <span class="hljs-keyword">if</span> (!value) {
        hideObject(viewField);
        hideObject(viewRField);
        showObjectInline(viewHideField);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (isDoctype()) {
            showObjectInlineBlock(viewField);
            showObjectInlineBlock(viewRField);
        } <span class="hljs-keyword">else</span> {
            showObjectInline(viewField);
            showObjectInline(viewRField);
        }
        hideObject(viewHideField);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refFlipImageDisplay</span>(<span class="hljs-params">element, dsp</span>) </span>{
    <span class="hljs-keyword">if</span> (element)
        element.style.display = dsp;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_onchange.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> eChanged,
        eOriginal,
        eDisplay,
        isMappingField = ifFieldHasElementMappingPrefix(elementName);
    <span class="hljs-keyword">if</span> (isMappingField) {
        elementName = removeMappingPrefix(elementName);
        eChanged = gel(elementName);
        eOriginal = gel(<span class="hljs-string">"sys_mapping.original."</span> + elementName);
        eDisplay = gel(<span class="hljs-string">"sys_mapping."</span> + elementName);
    } <span class="hljs-keyword">else</span> {
        eChanged = gel(elementName);
        eOriginal = gel(<span class="hljs-string">"sys_original."</span> + elementName);
        eDisplay = gel(<span class="hljs-string">"sys_display."</span> + elementName);
        <span class="hljs-keyword">if</span> (eOriginal == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span>;
        }
    }
    <span class="hljs-keyword">var</span> vOriginal = eOriginal.value;
    <span class="hljs-keyword">var</span> vChanged = eChanged.value;
    <span class="hljs-keyword">var</span> vDisplay = eDisplay ? eDisplay.value : <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (isMappingField &amp;&amp; !isFilterField(eChanged))
        eChanged.changed = (vDisplay != vOriginal);
    <span class="hljs-keyword">else</span>
        eChanged.changed = (vOriginal != vChanged);
    <span class="hljs-keyword">if</span> (!elementName.startsWith(<span class="hljs-string">"IO:"</span>) &amp;&amp; !elementName.startsWith(<span class="hljs-string">"ni.VE"</span>) &amp;&amp; !elementName.startsWith(<span class="hljs-string">"ni.QS"</span>)) {
        onChangeLabelProcess(elementName);
    }
    setMandatoryExplained();
    <span class="hljs-keyword">if</span> (hasDepends != <span class="hljs-literal">null</span> &amp;&amp; hasDepends(elementName))
        onSelChange(elementName);
    clientScriptOnChange(elementName, eChanged, vOriginal, vChanged);
    fieldChanged(elementName, eChanged.changed);
    <span class="hljs-keyword">var</span> onChangeData = {
        <span class="hljs-attr">id</span>: elementName,
        <span class="hljs-attr">value</span>: vChanged,
        <span class="hljs-attr">modified</span>: eChanged.changed
    };
    <span class="hljs-keyword">if</span> (vDisplay)
        onChangeData.displayValue = vDisplay;
    <span class="hljs-keyword">var</span> parentForm = $(elementName).up(<span class="hljs-string">'form'</span>);
    parentForm &amp;&amp; parentForm.fire(<span class="hljs-string">'glideform:onchange'</span>, onChangeData);
    CustomEvent.fire(<span class="hljs-string">"refFieldPreviewButtonChange"</span>, elementName, vChanged, vDisplay);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFilterField</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">if</span> (element &amp;&amp; element.nextSibling)
        <span class="hljs-keyword">return</span> element.nextSibling.getAttribute(<span class="hljs-string">'gsft_template'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ifFieldHasElementMappingPrefix</span>(<span class="hljs-params">fieldName</span>) </span>{
    <span class="hljs-keyword">if</span> (fieldName === <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> fieldName.indexOf(<span class="hljs-string">'sys_mapping.'</span>) !== <span class="hljs-number">-1</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeMappingPrefix</span>(<span class="hljs-params">fieldName</span>) </span>{
    <span class="hljs-keyword">return</span> fieldName.replace(<span class="hljs-string">"sys_mapping."</span>, <span class="hljs-string">""</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChangeLabelProcess</span>(<span class="hljs-params">elementName, value</span>) </span>{
    <span class="hljs-keyword">var</span> el = gel(elementName);
    <span class="hljs-keyword">var</span> statusNode = gel(<span class="hljs-string">'status.'</span> + elementName);
    onChangeLabelProcessByEl(el, statusNode, value);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChangeLabelProcessByEl</span>(<span class="hljs-params">elementNode, statusLabel, value</span>) </span>{
    <span class="hljs-keyword">if</span> (!elementNode || !statusLabel)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> mandatory = elementNode.getAttribute(<span class="hljs-string">"mandatory"</span>) + <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> readonly = elementNode.disabled || hasClassName(elementNode, <span class="hljs-string">'disabled'</span>);
    <span class="hljs-keyword">if</span> (mandatory == <span class="hljs-literal">null</span> || mandatory == <span class="hljs-string">"null"</span>)
        mandatory = statusLabel.getAttribute(<span class="hljs-string">"mandatory"</span>) + <span class="hljs-string">""</span>;
    <span class="hljs-keyword">else</span> {
        statusLabel.setAttribute(<span class="hljs-string">"mandatory"</span>, mandatory);
        elementNode.setAttribute(<span class="hljs-string">"aria-required"</span>, mandatory);
        <span class="hljs-keyword">var</span> displayNode = gel(<span class="hljs-string">"sys_display."</span> + elementNode.id);
        <span class="hljs-keyword">if</span> (displayNode)
            displayNode.setAttribute(<span class="hljs-string">"aria-required"</span>, mandatory);
    }
    <span class="hljs-keyword">var</span> newClassName = statusLabel.getAttribute(<span class="hljs-string">"oclass"</span>);
    <span class="hljs-keyword">var</span> newFieldClassName = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> newTitle = statusLabel.getAttribute(<span class="hljs-string">"title"</span>);
    <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">undefined</span>)
        value = elementNode.value;
    <span class="hljs-keyword">if</span> (mandatory == <span class="hljs-string">"true"</span>) {
        <span class="hljs-keyword">var</span> currencySuffix = <span class="hljs-string">";0.00"</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value != <span class="hljs-string">'undefined'</span> &amp;&amp; (value == <span class="hljs-string">""</span> || value.indexOf(currencySuffix, value.length - currencySuffix.length) != <span class="hljs-number">-1</span>)) {
            newClassName = <span class="hljs-string">"mandatory"</span>;
            newFieldClassName = <span class="hljs-string">"is-required"</span>;
            newTitle = getMessage(<span class="hljs-string">"Mandatory - must be populated before Submit"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (elementNode.changed) {
            newClassName = <span class="hljs-string">"changed"</span>;
            newFieldClassName = <span class="hljs-string">"is-filled"</span>;
            newTitle = getMessage(<span class="hljs-string">"Field value has changed since last update"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!readonly) {
            newClassName = <span class="hljs-string">"mandatory_populated"</span>;
            newFieldClassName = <span class="hljs-string">"is-prefilled"</span>;
            newTitle = getMessage(<span class="hljs-string">"Mandatory - preloaded with saved data"</span>);
        } <span class="hljs-keyword">else</span> {
            newClassName = <span class="hljs-string">"read_only"</span>;
            newTitle = getMessage(<span class="hljs-string">"Read only - cannot be modified"</span>);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (elementNode.changed) {
            newClassName = <span class="hljs-string">"changed"</span>;
            newTitle = getMessage(<span class="hljs-string">"Field value has changed since last update"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (readonly) {
            newClassName = <span class="hljs-string">"read_only"</span>;
            <span class="hljs-keyword">if</span> (newTitle == <span class="hljs-string">""</span> || newTitle == <span class="hljs-literal">null</span>)
                newTitle = <span class="hljs-string">"Read only - cannot be modified"</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (newClassName != <span class="hljs-string">"read_only"</span> &amp;&amp; newClassName != <span class="hljs-string">"changed"</span>) {
            newClassName = <span class="hljs-string">""</span>;
            newTitle = <span class="hljs-string">""</span>;
        }
    }
    <span class="hljs-keyword">var</span> slm = gel(<span class="hljs-string">"section508."</span> + elementNode.id);
    <span class="hljs-keyword">if</span> (slm) {
        slm.setAttribute(<span class="hljs-string">"title"</span>, statusLabel.getAttribute(<span class="hljs-string">"title"</span>));
        slm.setAttribute(<span class="hljs-string">"alt"</span>, statusLabel.getAttribute(<span class="hljs-string">"title"</span>));
    }
    newClassName += <span class="hljs-string">' label_description'</span>;
    <span class="hljs-keyword">if</span> (statusLabel.className == newClassName)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> parentElement = gel(<span class="hljs-string">"element."</span> + elementNode.id);
    <span class="hljs-keyword">if</span> (statusLabel.className.indexOf(<span class="hljs-string">"required-marker"</span>) &gt; <span class="hljs-number">-1</span>)
        <span class="hljs-keyword">var</span> previousMandatory = <span class="hljs-literal">true</span>;
    statusLabel.className = newClassName;
    <span class="hljs-keyword">if</span> (previousMandatory &amp;&amp; statusLabel.className.indexOf(<span class="hljs-string">"required-marker"</span>) == <span class="hljs-number">-1</span> &amp;&amp; parentElement &amp;&amp; parentElement.className.indexOf(<span class="hljs-string">"is-required"</span>) &gt; <span class="hljs-number">-1</span>)
        gel(<span class="hljs-string">"element."</span> + elementNode.id).className = parentElement.className.replace(<span class="hljs-string">"is-required"</span>, <span class="hljs-string">""</span>);
    statusLabel.setAttribute(<span class="hljs-string">"title"</span>, newTitle);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>) {
        <span class="hljs-keyword">if</span> (mandatory == <span class="hljs-string">'true'</span>) {
            statusLabel.className = <span class="hljs-string">"required-marker label_description"</span>;
        }
        <span class="hljs-keyword">if</span> (newFieldClassName) {
            <span class="hljs-keyword">var</span> formGroup = elementNode.up(<span class="hljs-string">'.form-group'</span>);
            formGroup.removeClassName(<span class="hljs-string">'is-prefilled'</span>);
            formGroup.removeClassName(<span class="hljs-string">'is-required'</span>);
            formGroup.removeClassName(<span class="hljs-string">'is-filled'</span>);
            formGroup.addClassName(newFieldClassName);
        }
        statusLabel.setAttribute(<span class="hljs-string">'aria-label'</span>, newTitle);
    }
    CustomEvent.fire(<span class="hljs-string">"mandatory.changed"</span>, elementNode.id, newClassName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clientScriptOnChange</span>(<span class="hljs-params">elementName, eChanged, vOriginal, vChanged</span>) </span>{
    <span class="hljs-keyword">var</span> splitMe = elementName.split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">var</span> tableName = splitMe[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> fieldName = splitMe.slice(<span class="hljs-number">1</span>).join(<span class="hljs-string">'.'</span>);
    callChangeHandlers(tableName, fieldName, eChanged, vOriginal, vChanged);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callChangeHandlers</span>(<span class="hljs-params">tableName, fieldName, eChanged, vOriginal, vChanged</span>) </span>{
    <span class="hljs-keyword">var</span> widgetName = tableName + <span class="hljs-string">"."</span> + fieldName;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_form) != <span class="hljs-string">"undefined"</span>)
        g_form.hideFieldMsg(fieldName, <span class="hljs-literal">true</span>);
    template = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (eChanged.templateValue == <span class="hljs-string">'true'</span>)
        template = <span class="hljs-literal">true</span>;
    eChanged.templateValue = <span class="hljs-string">'false'</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; g_event_handlers.length; i++) {
        <span class="hljs-keyword">var</span> handler = g_event_handlers[i];
        <span class="hljs-keyword">if</span> (handler.fieldName != widgetName &amp;&amp; handler.fieldName != fieldName)
            <span class="hljs-keyword">continue</span>;
        callChangeHandler(handler, <span class="hljs-keyword">this</span>, eChanged, vOriginal, vChanged, <span class="hljs-literal">false</span>, template);
    }
    CustomEvent.fire(<span class="hljs-string">"change.handlers.run"</span>, tableName, fieldName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireAllChangeHandlers</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; g_event_handlers.length; x++) {
        <span class="hljs-keyword">var</span> handler = g_event_handlers[x];
        <span class="hljs-keyword">var</span> elementName = handler.fieldName;
        <span class="hljs-keyword">var</span> theWidget = gel(elementName);
        <span class="hljs-keyword">if</span> (!theWidget)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> original = gel(<span class="hljs-string">"sys_original."</span> + elementName);
        <span class="hljs-keyword">var</span> oldVal = <span class="hljs-string">'unknown'</span>;
        <span class="hljs-keyword">if</span> (original)
            oldVal = original.value;
        <span class="hljs-keyword">var</span> newVal;
        <span class="hljs-keyword">if</span> ($(theWidget).getAttribute(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"radio"</span>) {
            newVal = oldVal;
            <span class="hljs-keyword">var</span> elems = $$(<span class="hljs-string">'#'</span> + $(theWidget).getAttribute(<span class="hljs-string">"id"</span>)).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) </span>{
                <span class="hljs-keyword">var</span> checkedValue = el.getAttribute(<span class="hljs-string">"checked"</span>);
                <span class="hljs-keyword">if</span> (checkedValue != <span class="hljs-literal">null</span> &amp;&amp; checkedValue.length &gt; <span class="hljs-number">0</span>)
                    newVal = el.value;
            });
        } <span class="hljs-keyword">else</span>
            newVal = theWidget.value;
        callChangeHandler(handler, <span class="hljs-keyword">this</span>, theWidget, oldVal, newVal, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>);
    }
    CustomEvent.fire(<span class="hljs-string">"change.handlers.run.all"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callChangeHandler</span>(<span class="hljs-params">handler, control, theWidget, oldVal, newVal, loading, template</span>) </span>{
    <span class="hljs-keyword">try</span> {
        callChangeHandler0(handler, control, theWidget, oldVal, newVal, loading, template);
    } <span class="hljs-keyword">catch</span> (ex) {
        <span class="hljs-keyword">if</span> (g_user.hasRole(<span class="hljs-string">'client_script_admin'</span>)) {
            g_form.showFieldMsg(theWidget, <span class="hljs-string">"onChange script error: "</span> + ex.toString() + <span class="hljs-string">"\n"</span> +
                handler.handler.toString(), <span class="hljs-string">"error"</span>, <span class="hljs-literal">false</span>);
        } <span class="hljs-keyword">else</span> {
            g_form.showFieldMsg(theWidget,
                <span class="hljs-string">"Script error encountered when changing this field - please contact your System Administrator"</span>,
                <span class="hljs-string">"error"</span>, <span class="hljs-literal">false</span>);
        }
        CustomEvent.fire(<span class="hljs-string">'glideform:script_error'</span>, <span class="hljs-string">"onChange script error: "</span> + ex.toString() + <span class="hljs-string">"\n"</span> + handler.handler.toString());
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">callChangeHandler0</span>(<span class="hljs-params">handler, control, theWidget, oldVal, newVal, loading, template</span>) </span>{
    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_put_cs_context'</span>, handler.handlerName, <span class="hljs-string">'change'</span>);
    <span class="hljs-keyword">var</span> startTimer = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    handler.handler.call(control, theWidget, oldVal, newVal, loading, template);
    <span class="hljs-keyword">var</span> n = g_event_handlers_onChange[handler.handlerName];
    <span class="hljs-keyword">if</span> (n)
        CustomEvent.fire(<span class="hljs-string">'page_timing'</span>, {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'CSOC'</span>,
            <span class="hljs-attr">child</span>: {
                <span class="hljs-attr">description</span>: n,
                <span class="hljs-attr">sys_id</span>: g_event_handler_ids[handler.handlerName],
                <span class="hljs-attr">source_table</span>: <span class="hljs-string">'sys_script_client'</span>
            },
            <span class="hljs-attr">startTime</span>: startTimer,
            <span class="hljs-attr">win</span>: <span class="hljs-built_in">window</span>
        });
    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_pop_cs_context'</span>, handler.handlerName, <span class="hljs-string">'change'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiKeyDown</span>(<span class="hljs-params">me</span>) </span>{
    <span class="hljs-keyword">if</span> ($(me.id).getAttribute(<span class="hljs-string">"isquestionhtml"</span>) == <span class="hljs-string">"true"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> eOriginal = <span class="hljs-string">'g_'</span> + me.id.replace(<span class="hljs-regexp">/\./g</span>, <span class="hljs-string">'_'</span>);
    <span class="hljs-keyword">var</span> eOriginalSet = <span class="hljs-built_in">eval</span>(<span class="hljs-string">"typeof "</span> + eOriginal + <span class="hljs-string">" != 'undefined'"</span>);
    <span class="hljs-keyword">if</span> (eOriginalSet)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> oValue = <span class="hljs-built_in">escape</span>(me.value);
    <span class="hljs-built_in">eval</span>(eOriginal + <span class="hljs-string">'="'</span> + oValue + <span class="hljs-string">'";'</span>);
    <span class="hljs-keyword">var</span> form = findParentByTag(me, <span class="hljs-string">"form"</span>);
    <span class="hljs-keyword">if</span> (me.id &amp;&amp; form) {
        <span class="hljs-keyword">var</span> elementName = me.id;
        <span class="hljs-keyword">if</span> (gel(<span class="hljs-string">"sys_original."</span> + elementName)) {
            gel(<span class="hljs-string">"sys_original."</span> + elementName).value = <span class="hljs-string">"XXmultiChangeXX"</span>
        } <span class="hljs-keyword">else</span> {
            addInput(form, <span class="hljs-string">'hidden'</span>, <span class="hljs-string">"sys_original."</span> + elementName, <span class="hljs-string">"XXmultiChangeXX"</span>);
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiModified</span>(<span class="hljs-params">me, type, currentValue</span>) </span>{
    <span class="hljs-keyword">if</span> ($(me.id).getAttribute(<span class="hljs-string">"isquestionhtml"</span>) == <span class="hljs-string">"true"</span>) {
        $(me.id).onchange();
        <span class="hljs-keyword">return</span>;
    }
    multiKeyDown(me);
    <span class="hljs-keyword">var</span> form = findParentByTag(me, <span class="hljs-string">"form"</span>);
    <span class="hljs-keyword">var</span> changeFlag = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (me.id &amp;&amp; form) {
        <span class="hljs-keyword">var</span> elementName = me.id;
        <span class="hljs-keyword">var</span> vOriginal = <span class="hljs-built_in">unescape</span>(<span class="hljs-built_in">eval</span>(<span class="hljs-string">'g_'</span> + me.id.replace(<span class="hljs-regexp">/\./g</span>, <span class="hljs-string">'_'</span>)));
        <span class="hljs-keyword">if</span> (currentValue == <span class="hljs-literal">undefined</span>)
            currentValue = me.value;
        <span class="hljs-keyword">if</span> (type == <span class="hljs-literal">undefined</span>)
            type = <span class="hljs-string">'htmlarea'</span>;
        <span class="hljs-keyword">if</span> (currentValue == vOriginal)
            changeFlag = <span class="hljs-literal">false</span>;
        me.changed = changeFlag;
        onChangeLabelProcess(elementName, currentValue);
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'tinymce'</span> || (type.baseURL &amp;&amp; type.baseURL.indexOf(<span class="hljs-string">'tinymce'</span>) &gt; <span class="hljs-number">-1</span>)) {
            clientScriptOnChange(elementName, me, <span class="hljs-string">'unknown'</span>, currentValue);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> me.isFocused) == <span class="hljs-string">"boolean"</span>)
                <span class="hljs-keyword">if</span> (me.isFocused == <span class="hljs-literal">false</span>)
                    clientScriptOnChange(elementName, me, <span class="hljs-string">'unknown'</span>, currentValue);
        }
    }
    fieldChanged(elementName, changeFlag);
    <span class="hljs-keyword">var</span> onChangeData = {
        <span class="hljs-attr">id</span>: me.id,
        <span class="hljs-attr">value</span>: me.value,
        <span class="hljs-attr">modified</span>: me.changed
    };
    $(me.up(<span class="hljs-string">'form'</span>)).fire(<span class="hljs-string">'glideform:onchange'</span>, onChangeData);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formChangeKeepAlive</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> AJAX_KEEPALIVE_TIMEOUT = <span class="hljs-number">900</span>;
    <span class="hljs-keyword">var</span> nowsecs = <span class="hljs-built_in">parseInt</span>((<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()).getTime() / <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">var</span> secs = <span class="hljs-built_in">parseInt</span>(lastActivity.getTime() / <span class="hljs-number">1000</span>);
    <span class="hljs-keyword">var</span> difference = nowsecs - secs;
    <span class="hljs-keyword">if</span> (difference &gt; AJAX_KEEPALIVE_TIMEOUT) {
        <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"GlideSystemAjax"</span>);
        aj.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"isLoggedIn"</span>);
        aj.getXML(doNothing);
        lastActivity = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fieldChanged</span>(<span class="hljs-params">elementName, changeFlag</span>) </span>{
    formChangeKeepAlive();
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_form) != <span class="hljs-string">"undefined"</span>)
        g_form.fieldChanged(elementName, changeFlag);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOnChangeEvent</span>(<span class="hljs-params">fields, tableName, callfunc</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fields.length; i++) {
        <span class="hljs-keyword">var</span> field = fields[i];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> field == <span class="hljs-string">"string"</span>) {
            <span class="hljs-keyword">if</span> (tableName)
                field = tableName + <span class="hljs-string">"."</span> + field;
            field = gel(field);
        }
        <span class="hljs-keyword">if</span> (field &amp;&amp; field.tagName)
            Event.observe(field, <span class="hljs-string">'change'</span>, callfunc);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setColorSwatch</span>(<span class="hljs-params">fieldName</span>) </span>{
    <span class="hljs-keyword">var</span> colorValue = $(fieldName).value;
    <span class="hljs-keyword">var</span> colorDisplay = $(<span class="hljs-string">"color_swatch."</span> + fieldName);
    <span class="hljs-keyword">try</span> {
        colorDisplay.style.backgroundColor = colorValue;
    } <span class="hljs-keyword">catch</span> (ex) {
        g_form.showErrorBox(fieldName, getMessage(<span class="hljs-string">"Invalid color"</span>) + <span class="hljs-string">":"</span> + colorValue);
        $(fieldName).value = <span class="hljs-string">""</span>;
        colorDisplay.style.backgroundColor = <span class="hljs-string">""</span>;
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_fontsizer.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPreferredFontSize</span>(<span class="hljs-params">increment</span>) </span>{
    <span class="hljs-keyword">var</span> ruleStart = <span class="hljs-string">"BODY, TABLE, INPUT, SELECT, BUTTON, INPUT.TEXT, TEXTAREA, INPUT.button {font-size: "</span>
    <span class="hljs-keyword">var</span> ruleEnd = <span class="hljs-string">"}"</span>;
    <span class="hljs-keyword">var</span> t = g_fontSize;
    <span class="hljs-keyword">if</span> (g_fontSizePreference)
        t = g_fontSizePreference;
    <span class="hljs-keyword">var</span> t = t.split(<span class="hljs-string">'p'</span>)[<span class="hljs-number">0</span>];
    t = <span class="hljs-built_in">parseInt</span>(t) + increment;
    <span class="hljs-keyword">if</span> (<span class="hljs-number">6</span> &gt; t || t &gt; <span class="hljs-number">18</span>)
        <span class="hljs-keyword">return</span>;
    t += <span class="hljs-string">"pt"</span>;
    <span class="hljs-keyword">if</span> (g_fontSizePreference != t) {
        g_fontSizePreference = t;
        setPreference(<span class="hljs-string">'font-size'</span>, g_fontSizePreference);
        <span class="hljs-keyword">var</span> al = getFontWindowList();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != al.length; i++) {
            <span class="hljs-keyword">var</span> w = al[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> w.deleteStyleSheet == <span class="hljs-string">'function'</span>) {
                w.deleteStyleSheet(<span class="hljs-string">"font_size"</span>);
                w.createStyleSheet(ruleStart + t + ruleEnd, <span class="hljs-string">"font_size"</span>);
            }
        }
    }
    deleteStyleSheet(<span class="hljs-string">"font_size"</span>);
    createStyleSheet(ruleStart + t + ruleEnd, <span class="hljs-string">"font_size"</span>);
    <span class="hljs-keyword">if</span> (increment) {
        <span class="hljs-keyword">var</span> e = $(<span class="hljs-string">"font_pref_text"</span>);
        <span class="hljs-keyword">if</span> (e)
            e.innerHTML = <span class="hljs-string">"("</span> + g_fontSizePreference + <span class="hljs-string">")"</span>;
    }
    CustomEvent.fireAll(<span class="hljs-string">"fontsize.change"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFontWindowList</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> m = getMainWindow();
    <span class="hljs-keyword">if</span> (m)
        answer.push(m);
    <span class="hljs-keyword">var</span> m = getMainFormWindow();
    <span class="hljs-keyword">if</span> (m)
        answer.push(m);
    <span class="hljs-keyword">var</span> m = getNavWindow();
    <span class="hljs-keyword">if</span> (m)
        answer.push(m);
    <span class="hljs-keyword">return</span> answer;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteStyleSheet</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> sheet = <span class="hljs-built_in">document</span>.getElementById(id);
    <span class="hljs-keyword">if</span> (sheet) {
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>];
        head.removeChild(sheet);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createStyleSheet</span>(<span class="hljs-params">cssText, id</span>) </span>{
    <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"head"</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> rules = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"style"</span>);
    rules.setAttribute(<span class="hljs-string">"type"</span>, <span class="hljs-string">"text/css"</span>);
    <span class="hljs-keyword">if</span> (id)
        rules.setAttribute(<span class="hljs-string">"id"</span>, id);
    <span class="hljs-keyword">if</span> (navigator.userAgent.toLowerCase().indexOf(<span class="hljs-string">"msie"</span>) &gt;= <span class="hljs-number">0</span>) {
        head.appendChild(rules);
        <span class="hljs-keyword">var</span> ss = rules.styleSheet;
        ss.cssText = cssText;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">try</span> {
            rules.appendChild(<span class="hljs-built_in">document</span>.createTextNode(cssText));
        } <span class="hljs-keyword">catch</span> (e) {
            rules.cssText = cssText;
        }
        head.appendChild(rules);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPreferredFont</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> t = getPreference(<span class="hljs-string">'font-size'</span>);
    <span class="hljs-keyword">if</span> (!t)
        <span class="hljs-keyword">return</span>;
    g_fontSizePreference = t;
    setPreferredFontSize(<span class="hljs-number">0</span>);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_attachments.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAttachmentNameToForm</span>(<span class="hljs-params">sysid, name, hoverText, image, showRename, showView, showPopup</span>) </span>{
    <span class="hljs-keyword">var</span> modified = $(<span class="hljs-string">"attachments_modified"</span>);
    <span class="hljs-keyword">if</span> (modified)
        modified.value = <span class="hljs-string">"true"</span>;
    showObjectInline($(<span class="hljs-string">"header_attachment_list_label"</span>));
    <span class="hljs-keyword">var</span> line = $(<span class="hljs-string">"header_attachment_line"</span>);
    <span class="hljs-keyword">if</span> (line)
        line.setStyle({
            <span class="hljs-attr">visibility</span>: <span class="hljs-string">'visible'</span>,
            <span class="hljs-attr">display</span>: <span class="hljs-string">''</span>
        });
    <span class="hljs-keyword">var</span> span = $(cel(<span class="hljs-string">'span'</span>));
    span.id = <span class="hljs-string">"attachment_"</span> + sysid;
    span.style.marginRight = <span class="hljs-string">"10px"</span>;
    span.innerHTML = <span class="hljs-string">'&lt;a href="sys_attachment.do?sys_id='</span> + sysid + <span class="hljs-string">'" title="'</span> + hoverText + <span class="hljs-string">'" style="margin-right:4px;"&gt;&lt;img src="'</span> + image + <span class="hljs-string">'" alt="" /&gt;&lt;/a&gt;'</span>;
    <span class="hljs-keyword">var</span> txt = $(cel(<span class="hljs-string">'a'</span>));
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'innerText'</span> <span class="hljs-keyword">in</span> txt)
        txt.innerText = name;
    <span class="hljs-keyword">else</span>
        txt.textContent = name;
    txt.href = <span class="hljs-string">'#'</span>;
    txt.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">return</span> allowInPlaceEditModification(txt, event);
    };
    getMessage(<span class="hljs-string">"Download {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        txt.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, name));
    });
    txt.href = <span class="hljs-string">'sys_attachment.do?sys_id='</span> + sysid;
    txt.setAttribute(<span class="hljs-string">'data-id'</span>, sysid);
    txt.style.display = <span class="hljs-string">'inline'</span>;
    txt.inPlaceEdit({
        <span class="hljs-attr">selectOnStart</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">turnClickEditingOff</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">onBeforeEdit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            txt.lastAriaLabel = txt.getAttribute(<span class="hljs-string">"aria-label"</span>);
            txt.removeAttribute(<span class="hljs-string">"aria-label"</span>);
            txt.setAttribute(<span class="hljs-string">"role"</span>, <span class="hljs-string">"textbox"</span>);
        },
        <span class="hljs-attr">onEditCancelled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            txt.removeAttribute(<span class="hljs-string">"role"</span>);
            <span class="hljs-keyword">if</span> (txt.lastAriaLabel) {
                txt.setAttribute(<span class="hljs-string">"aria-label"</span>, txt.lastAriaLabel);
            }
        },
        <span class="hljs-attr">onAfterEdit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newName</span>) </span>{
            <span class="hljs-keyword">var</span> oldName = <span class="hljs-keyword">this</span>.oldValue;
            <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'initialRename'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_value'</span>, sysid);
            ga.addParam(<span class="hljs-string">'sysparm_name'</span>, newName);
            ga.getXML(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
                <span class="hljs-keyword">var</span> answer = response.responseXML.documentElement.getAttribute(<span class="hljs-string">"answer"</span>);
                <span class="hljs-keyword">if</span> (answer !== <span class="hljs-string">'0'</span>)
                    alert(<span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"Renaming attachment {0} to new name {1} is not allowed"</span>, oldName, newName));
                $$(<span class="hljs-string">'a[data-id="'</span> + sysid + <span class="hljs-string">'"]'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-string">'innerText'</span> <span class="hljs-keyword">in</span> elem)
                        elem.innerText = (answer === <span class="hljs-string">'0'</span>) ? newName : oldName;
                    <span class="hljs-keyword">else</span>
                        elem.textContent = (answer === <span class="hljs-string">'0'</span>) ? newName : oldName;
                });
                updateAriaLabels(sysid, newName);
            });
            txt.removeAttribute(<span class="hljs-string">"role"</span>);
        }
    });
    txt.style.marginRight = <span class="hljs-string">"5px"</span>;
    span.appendChild(txt);
    <span class="hljs-keyword">if</span> (showRename == <span class="hljs-string">'true'</span>) {
        <span class="hljs-keyword">var</span> renameAttachment = $(cel(<span class="hljs-string">'a'</span>));
        renameAttachment.className = <span class="hljs-string">'attachment rename_'</span> + sysid;
        renameAttachment.href = <span class="hljs-string">"#"</span>;
        renameAttachment.setAttribute(<span class="hljs-string">"role"</span>, <span class="hljs-string">"button"</span>);
        getMessage(<span class="hljs-string">"Rename {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            renameAttachment.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, name));
        });
        renameAttachment.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            txt.beginEdit();
        };
        renameAttachment.innerHTML = getMessage(<span class="hljs-string">'[rename]'</span>);
        span.appendChild(renameAttachment);
    }
    <span class="hljs-keyword">if</span> (showView == <span class="hljs-string">"true"</span>) {
        <span class="hljs-keyword">var</span> blank = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span>);
        span.appendChild(blank);
        <span class="hljs-keyword">var</span> view = cel(<span class="hljs-string">"a"</span>);
        view.href = <span class="hljs-string">"#"</span>;
        getMessage(<span class="hljs-string">"View {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            view.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, name));
        });
        <span class="hljs-keyword">var</span> newText = <span class="hljs-built_in">document</span>.createTextNode(getMessage(<span class="hljs-string">'[view]'</span>));
        view.appendChild(newText);
        view.className = <span class="hljs-string">"attachment view_"</span> + sysid;
        <span class="hljs-keyword">if</span> (showPopup == <span class="hljs-string">"false"</span>)
            view.href = <span class="hljs-string">"sys_attachment.do?sys_id="</span> + sysid + <span class="hljs-string">"&amp;view=true"</span>;
        <span class="hljs-keyword">else</span>
            view.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                tearOffAttachment(sysid)
            };
        span.appendChild(view);
        span.appendChild(blank);
    }
    <span class="hljs-keyword">var</span> storage = cel(<span class="hljs-string">'li'</span>);
    storage.className = <span class="hljs-string">'attachment_list_items'</span>;
    storage.appendChild(span);
    <span class="hljs-keyword">var</span> attachList = $(<span class="hljs-string">"header_attachment_list"</span>);
    <span class="hljs-keyword">if</span> (attachList)
        attachList.appendChild(storage);
    <span class="hljs-keyword">var</span> header_attachment = $(<span class="hljs-string">'header_attachment'</span>);
    <span class="hljs-keyword">if</span> (header_attachment) {
        _frameChanged();
    }
    <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
    ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'attachmentParentSysId'</span>);
    ga.addParam(<span class="hljs-string">'sysparm_value'</span>, sysid);
    ga.getXMLAnswer(changeCount, <span class="hljs-literal">null</span>, <span class="hljs-string">'increase'</span>);
    addEllipsesToAttachments();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateAriaLabels</span>(<span class="hljs-params">sysid, newName</span>) </span>{
    getMessage([<span class="hljs-string">"Download {0}"</span>, <span class="hljs-string">"View {0}"</span>, <span class="hljs-string">"Rename {0}"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-keyword">var</span> newDownloadText = <span class="hljs-keyword">new</span> GwtMessage().format(msg[<span class="hljs-string">"Download {0}"</span>], newName);
        <span class="hljs-keyword">var</span> newViewText = <span class="hljs-keyword">new</span> GwtMessage().format(msg[<span class="hljs-string">"View {0}"</span>], newName);
        <span class="hljs-keyword">var</span> newRenameText = <span class="hljs-keyword">new</span> GwtMessage().format(msg[<span class="hljs-string">"Rename {0}"</span>], newName);
        $$(<span class="hljs-string">'a[data-id="'</span> + sysid + <span class="hljs-string">'"]'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
            elem.setAttribute(<span class="hljs-string">"aria-label"</span>, newDownloadText);
        })
        $$(<span class="hljs-string">'.view_'</span> + sysid).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
            elem.setAttribute(<span class="hljs-string">"aria-label"</span>, newViewText);
        })
        $$(<span class="hljs-string">'.rename_'</span> + sysid).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
            elem.setAttribute(<span class="hljs-string">"aria-label"</span>, newRenameText);
        })
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addEllipsesToAttachments</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> list = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'header_attachment_list'</span>);
    <span class="hljs-keyword">if</span> (!list)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> more = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'more_attachments'</span>);
    <span class="hljs-keyword">if</span> (list.scrollHeight &gt; list.clientHeight * <span class="hljs-number">2</span>)
        setElementStyle(more, <span class="hljs-string">'display:block'</span>);
    <span class="hljs-keyword">else</span>
        setElementStyle(more, <span class="hljs-string">'display:none'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setElementStyle</span>(<span class="hljs-params">elm, rules</span>) </span>{
    <span class="hljs-built_in">window</span>.requestAnimationFrame(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        elm.style.cssText = rules;
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addAttachmentNameToDialog</span>(<span class="hljs-params">id, fileName, canDelete, createdBy, createdOn, contentType, iconPath</span>) </span>{
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'attachment'</span>) == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> encryptCheck = gel(<span class="hljs-string">"encrypt_checkbox"</span>);
    <span class="hljs-keyword">if</span> (encryptCheck) {
        encryptCheck.checked = <span class="hljs-literal">false</span>;
        $(<span class="hljs-string">'sysparm_encryption_context'</span>).value = <span class="hljs-string">""</span>;
    }
    gel(<span class="hljs-string">"please_wait"</span>).style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id == <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> noAttachments = gel(<span class="hljs-string">"no_attachments"</span>);
    <span class="hljs-keyword">if</span> (noAttachments.style.display == <span class="hljs-string">"block"</span>)
        noAttachments.style.display = <span class="hljs-string">"none"</span>;
    <span class="hljs-keyword">var</span> table = gel(<span class="hljs-string">"attachment_table_body"</span>);
    <span class="hljs-keyword">var</span> tr = cel(<span class="hljs-string">"tr"</span>);
    <span class="hljs-keyword">var</span> td = cel(<span class="hljs-string">"td"</span>);
    td.style.whiteSpace = <span class="hljs-string">"nowrap"</span>;
    td.colspan = <span class="hljs-string">"2"</span>;
    <span class="hljs-keyword">if</span> (canDelete) {
        <span class="hljs-keyword">var</span> input = cel(<span class="hljs-string">"input"</span>);
        <span class="hljs-keyword">var</span> checkId = <span class="hljs-string">"sys_id_"</span> + id;
        input.name = checkId;
        input.id = checkId;
        input.type = <span class="hljs-string">"checkbox"</span>;
        input.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            setRemoveButton(gel(checkId));
        };
        td.appendChild(input);
        gel(<span class="hljs-string">"delete_button_span"</span>).style.display = <span class="hljs-string">"inline"</span>;
        <span class="hljs-keyword">var</span> text = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span>);
        td.appendChild(text);
        input = cel(<span class="hljs-string">"input"</span>);
        input.type = <span class="hljs-string">"hidden"</span>;
        input.name = <span class="hljs-string">"Name"</span>;
        input.value = <span class="hljs-string">"false"</span>;
        td.appendChild(input);
    }
    <span class="hljs-keyword">var</span> anchor = cel(<span class="hljs-string">"a"</span>);
    anchor.style.marginRight = <span class="hljs-string">"4px"</span>;
    anchor.href = <span class="hljs-string">"sys_attachment.do?sys_id="</span> + id;
    anchor.title = <span class="hljs-string">" "</span> + createdBy + <span class="hljs-string">"  "</span> + createdOn;
    <span class="hljs-keyword">var</span> imgSrc = iconPath;
    <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">"img"</span>);
    img.src = imgSrc;
    img.alt = anchor.title;
    anchor.appendChild(img);
    <span class="hljs-keyword">var</span> text = $(cel(<span class="hljs-string">'a'</span>));
    text.style.display = <span class="hljs-string">"inline"</span>;
    getMessage(<span class="hljs-string">"Download {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        text.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, fileName));
    });
    text.href = <span class="hljs-string">'#'</span>;
    text.href = <span class="hljs-string">"sys_attachment.do?sys_id="</span> + id;
    text.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">return</span> allowInPlaceEditModification(text, event);
    };
    text.style.marginRight = <span class="hljs-string">"5px"</span>;
    text.style.maxWidth = <span class="hljs-string">"75%"</span>;
    text.style.display = <span class="hljs-string">"inline-block"</span>;
    text.style.overflow = <span class="hljs-string">"hidden"</span>;
    text.style.verticalAlign = <span class="hljs-string">"middle"</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'innerText'</span> <span class="hljs-keyword">in</span> text)
        text.innerText = fileName;
    <span class="hljs-keyword">else</span>
        text.textContent = fileName;
    text.setAttribute(<span class="hljs-string">"data-id"</span>, id);
    text.inPlaceEdit({
        <span class="hljs-attr">selectOnStart</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">turnClickEditingOff</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">onBeforeEdit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            text.lastAriaLabel = txt.getAttribute(<span class="hljs-string">"aria-label"</span>);
            text.removeAttribute(<span class="hljs-string">"aria-label"</span>);
            text.setAttribute(<span class="hljs-string">"role"</span>, <span class="hljs-string">"textbox"</span>);
        },
        <span class="hljs-attr">onEditCancelled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            text.removeAttribute(<span class="hljs-string">"role"</span>);
            <span class="hljs-keyword">if</span> (text.lastAriaLabel) {
                text.setAttribute(<span class="hljs-string">"aria-label"</span>, txt.lastAriaLabel);
            }
        },
        <span class="hljs-attr">onAfterEdit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newName</span>) </span>{
            <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'rename'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_value'</span>, id);
            ga.addParam(<span class="hljs-string">'sysparm_name'</span>, newName);
            ga.getXML();
            $$(<span class="hljs-string">'a[data-id="'</span> + id + <span class="hljs-string">'"]'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-string">'innerText'</span> <span class="hljs-keyword">in</span> elem)
                    elem.innerText = newName;
                <span class="hljs-keyword">else</span>
                    elem.textContent = newName;
            });
            $$(<span class="hljs-string">'span[data-id="'</span> + id + <span class="hljs-string">'"]'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-string">'innerText'</span> <span class="hljs-keyword">in</span> el)
                    el.innerText = newName;
                <span class="hljs-keyword">else</span>
                    el.textContent = newName;
            });
            updateAriaLabels(id, newname);
            txt.removeAttribute(<span class="hljs-string">"role"</span>);
        }
    });
    <span class="hljs-keyword">if</span> (contentType == <span class="hljs-string">"text/html"</span>)
        anchor.target = <span class="hljs-string">"_blank"</span>;
    td.appendChild(anchor);
    td.appendChild(text);
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'ni.show_rename_link'</span>).value) {
        <span class="hljs-keyword">var</span> renameAttachment = $(cel(<span class="hljs-string">'a'</span>));
        renameAttachment.className = <span class="hljs-string">'attachment'</span>;
        renameAttachment.href = <span class="hljs-string">'#'</span>;
        renameAttachment.setAttribute(<span class="hljs-string">"role"</span>, <span class="hljs-string">"button"</span>);
        getMessage(<span class="hljs-string">"Rename {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            renameAttachment.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, fileName));
        })
        renameAttachment.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            text.beginEdit();
        };
        renameAttachment.innerHTML = getMessage(<span class="hljs-string">'[rename]'</span>);
        td.appendChild(renameAttachment);
    }
    <span class="hljs-keyword">var</span> showView = gel(<span class="hljs-string">"ni.show_attachment_view"</span>).value;
    <span class="hljs-keyword">if</span> (showView == <span class="hljs-string">"true"</span>) {
        <span class="hljs-keyword">var</span> blank = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">" "</span>);
        tr.appendChild(blank);
        <span class="hljs-keyword">var</span> view = cel(<span class="hljs-string">"a"</span>);
        href = <span class="hljs-string">"#"</span>;
        getMessage(<span class="hljs-string">"View {0}"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            view.setAttribute(<span class="hljs-string">"aria-label"</span>, <span class="hljs-keyword">new</span> GwtMessage().format(msg, fileName));
        })
        <span class="hljs-keyword">var</span> newText = <span class="hljs-built_in">document</span>.createTextNode(getMessage(<span class="hljs-string">"[view]"</span>));
        view.appendChild(newText);
        view.className = <span class="hljs-string">"attachment"</span>;
        <span class="hljs-keyword">if</span> (showPopup == <span class="hljs-string">"false"</span>)
            view.href = <span class="hljs-string">"sys_attachment.do?sys_id="</span> + id + <span class="hljs-string">"&amp;view=true"</span>;
        <span class="hljs-keyword">else</span>
            view.onclick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                tearOffAttachment(id)
            };
        td.appendChild(blank);
        td.appendChild(view);
    }
    <span class="hljs-keyword">var</span> showPopup = gel(<span class="hljs-string">"ni.show_attachment_popup"</span>).value;
    tr.appendChild(td);
    table.appendChild(tr);
    <span class="hljs-keyword">var</span> alert508 = <span class="hljs-string">"$[GlideAccessibility.isEnabled()]"</span>;
    <span class="hljs-keyword">if</span> (alert508 == <span class="hljs-string">'true'</span>)
        alert(fileName + <span class="hljs-string">" "</span> + anchor.title);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeAttachmentWidth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> temp = $(<span class="hljs-string">'header_attachment_list'</span>).select(<span class="hljs-string">'li'</span>);
    <span class="hljs-keyword">var</span> totalWidth = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; temp.length; i++) {
        totalWidth += temp[i].getWidth();
    }
    <span class="hljs-keyword">return</span> totalWidth;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateAttachmentCount</span>(<span class="hljs-params">sysid</span>) </span>{
    <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
    ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'attachmentCount'</span>);
    ga.addParam(<span class="hljs-string">'sysparm_value'</span>, sysid);
    ga.getXMLAnswer(numberOfAttachments, <span class="hljs-literal">null</span>, sysid);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">numberOfAttachments</span>(<span class="hljs-params">answer, sysid</span>) </span>{
    <span class="hljs-keyword">var</span> number = <span class="hljs-built_in">parseInt</span>(answer);
    <span class="hljs-keyword">var</span> buttons = $$(<span class="hljs-string">'.attachmentNumber_'</span> + sysid);
    <span class="hljs-keyword">if</span> (buttons[<span class="hljs-number">0</span>] == <span class="hljs-literal">undefined</span>)
        $(<span class="hljs-string">'header_attachment_list_label'</span>).down().innerHTML = number;
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; buttons.length; i++) {
            buttons[i].innerHTML = number;
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCurrentAttachmentNumber</span>(<span class="hljs-params">sysid</span>) </span>{
    <span class="hljs-keyword">if</span> ($$(<span class="hljs-string">'.attachmentNumber_'</span> + sysid)[<span class="hljs-number">0</span>] == <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'header_attachment_list_label'</span>) == <span class="hljs-literal">undefined</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> $(<span class="hljs-string">'header_attachment_list_label'</span>).down().innerHTML;
    }
    <span class="hljs-keyword">return</span> $$(<span class="hljs-string">'.attachmentNumber_'</span> + sysid)[<span class="hljs-number">0</span>].innerHTML;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateAttachmentCount2</span>(<span class="hljs-params">number, sysid</span>) </span>{
    <span class="hljs-keyword">var</span> buttons = $$(<span class="hljs-string">'.attachmentNumber_'</span> + sysid);
    <span class="hljs-keyword">if</span> (buttons[<span class="hljs-number">0</span>] == <span class="hljs-literal">undefined</span>)
        $(<span class="hljs-string">'header_attachment_list_label'</span>).down().innerHTML = number;
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; buttons.length; i++) {
            buttons[i].innerHTML = number;
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeCount</span>(<span class="hljs-params">sysid, type</span>) </span>{
    <span class="hljs-keyword">var</span> number = getCurrentAttachmentNumber(sysid);
    <span class="hljs-keyword">if</span> (number != <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'increase'</span>)
            number++;
        <span class="hljs-keyword">else</span>
            number--;
        updateAttachmentCount2(number, sysid);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteAttachment</span>(<span class="hljs-params">sysid</span>) </span>{
    <span class="hljs-keyword">var</span> gr = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'sys_attachment'</span>);
    <span class="hljs-keyword">var</span> parentRecord = recordAttachmentBelongsTo(sysid);
    gr.addQuery(<span class="hljs-string">'sys_id'</span>, sysid);
    gr.query();
    <span class="hljs-keyword">if</span> (gr.next()) {
        <span class="hljs-keyword">if</span> (confirmDeletion(gr.file_name, sysid)) {
            <span class="hljs-keyword">var</span> ol = GlideOverlay.get(<span class="hljs-string">'attachment_manager_overlay'</span>);
            alert(ol._box.select(<span class="hljs-string">'div[data-id="'</span> + sysid + <span class="hljs-string">'"]'</span>)[<span class="hljs-number">0</span>].up().up().inspect());
            ol._box.select(<span class="hljs-string">'div[data-id="'</span> + sysid + <span class="hljs-string">'"]'</span>)[<span class="hljs-number">0</span>].up().up().remove();
            ol.autoDimension();
            $(<span class="hljs-string">"attachment_"</span> + sysid).remove();
            <span class="hljs-keyword">if</span> (numberOfAttachments(gr.table_sys_id) == <span class="hljs-number">1</span>) {
                hideObject($(<span class="hljs-string">"header_attachment_list_label"</span>));
                <span class="hljs-keyword">var</span> line = $(<span class="hljs-string">"header_attachment_line"</span>);
                <span class="hljs-keyword">if</span> (line) {
                    line.setStyle({
                        <span class="hljs-attr">visibility</span>: <span class="hljs-string">"hidden"</span>,
                        <span class="hljs-attr">display</span>: <span class="hljs-string">"none"</span>
                    });
                }
                $(<span class="hljs-string">"header_attachment"</span>).style.height = <span class="hljs-string">"auto"</span>;
                ol.close();
            }
            gr.deleteRecord();
            updateAttachmentCount(parentRecord);
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveAttachment</span>(<span class="hljs-params">tableName, sys_id, allowAttachment</span>) </span>{
    <span class="hljs-keyword">var</span> g_dialog = <span class="hljs-keyword">new</span> GlideModal(<span class="hljs-string">'attachment'</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">500</span>);
    g_dialog.setTitle(getMessage(<span class="hljs-string">'Attachments'</span>));
    g_dialog.setPreference(<span class="hljs-string">'target_table'</span>, tableName);
    g_dialog.setPreference(<span class="hljs-string">'target_sys_id'</span>, sys_id);
    <span class="hljs-keyword">if</span> (allowAttachment)
        g_dialog.setPreference(<span class="hljs-string">'sc_override'</span>, <span class="hljs-string">'true'</span>);
    g_dialog.setPreference(<span class="hljs-string">'attachment_disabled'</span>,
        (<span class="hljs-built_in">window</span>[<span class="hljs-string">"AttachmentUploader"</span>] ? AttachmentUploader.isAttachmentDisabled() : <span class="hljs-string">"false"</span>));
    g_dialog.on(<span class="hljs-string">"closeconfirm"</span>, _saveAttachmentConfirm);
    g_dialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_saveAttachmentConfirm</span>(<span class="hljs-params">dialog</span>) </span>{
    <span class="hljs-keyword">var</span> attachmentRows = $$(<span class="hljs-string">'.attachmentRow'</span>);
    <span class="hljs-keyword">var</span> value = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; attachmentRows.length; i++) {
        <span class="hljs-keyword">if</span> (isMSIE) {
            <span class="hljs-keyword">var</span> files = attachmentRows[i].select(<span class="hljs-string">'input'</span>)[<span class="hljs-number">0</span>].getValue();
            <span class="hljs-keyword">if</span> (!files.empty())
                value += files + <span class="hljs-string">"\n"</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> files = attachmentRows[i].select(<span class="hljs-string">'input'</span>)[<span class="hljs-number">0</span>].files;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; files.length; j++) {
                <span class="hljs-keyword">if</span> (files[j] != <span class="hljs-literal">null</span>) {
                    value += files[j].name + <span class="hljs-string">"\n"</span>;
                }
            }
        }
    }
    <span class="hljs-keyword">if</span> (!value.empty())
        <span class="hljs-keyword">if</span> (!confirm(getMessage(<span class="hljs-string">"Close before uploading attachments?"</span>) + <span class="hljs-string">"\n"</span> + value.substring(<span class="hljs-number">0</span>, value.length - <span class="hljs-number">1</span>)))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    _saveAttachmentClose();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_saveAttachmentClose</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> modified = $(<span class="hljs-string">"attachments_modified"</span>);
    <span class="hljs-keyword">if</span> (modified) {
        <span class="hljs-keyword">var</span> attachmentsModified = modified.value;
        <span class="hljs-keyword">if</span> (attachmentsModified != <span class="hljs-string">"true"</span>)
            <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form == <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (g_form.newRecord)
        g_form.modified = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideLists2 == <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> id <span class="hljs-keyword">in</span> GlideLists2) {
        <span class="hljs-keyword">var</span> list = GlideLists2[id];
        <span class="hljs-keyword">if</span> (list.getTableName() === <span class="hljs-string">'sys_attachment'</span>)
            list.refresh();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">allowInPlaceEditModification</span>(<span class="hljs-params">elem, event</span>) </span>{
    <span class="hljs-keyword">var</span> length = (elem.textContent != <span class="hljs-literal">null</span>) ? elem.textContent.length : elem.innerText.length;
    <span class="hljs-keyword">var</span> max_length = maximumCharacterLimit();
    <span class="hljs-keyword">if</span> (length &gt;= max_length) {
        <span class="hljs-keyword">var</span> keyCode = (event) ? event.keyCode : <span class="hljs-built_in">window</span>.event.keyCode;
        <span class="hljs-keyword">switch</span> (keyCode) {
            <span class="hljs-keyword">case</span> Event.KEY_LEFT:
            <span class="hljs-keyword">case</span> Event.KEY_RIGHT:
            <span class="hljs-keyword">case</span> Event.KEY_UP:
            <span class="hljs-keyword">case</span> Event.KEY_DOWN:
            <span class="hljs-keyword">case</span> Event.KEY_BACKSPACE:
            <span class="hljs-keyword">case</span> Event.KEY_DELETE:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">var</span> key = <span class="hljs-string">"Filename has reached the character limit of {0}"</span>;
                <span class="hljs-keyword">var</span> gMessage = <span class="hljs-keyword">new</span> GwtMessage();
                gMessage.fetch([key], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msgs</span>) </span>{
                    <span class="hljs-keyword">var</span> msg = gMessage.format(msgs[key], max_length);
                    alert(msg);
                });
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">maximumCharacterLimit</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> f = $(<span class="hljs-string">'header_attachment_list'</span>);
    <span class="hljs-keyword">if</span> (f)
        <span class="hljs-keyword">return</span> f.getAttribute(<span class="hljs-string">'data-max-filename-length'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-number">100</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">confirmDeletion</span>(<span class="hljs-params">file_name, sysid</span>) </span>{
    <span class="hljs-keyword">var</span> r = confirm(<span class="hljs-string">"Are you sure you want to delete "</span> +
        file_name +
        <span class="hljs-string">"?"</span>);
    <span class="hljs-keyword">return</span> r;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_calendar.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nextCalendarAction</span>(<span class="hljs-params">duration, year, month, day, calendarID, styleField, event</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'dash_form'</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (form) {
        <span class="hljs-keyword">var</span> name = form.dashboard_name.value;
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">"sys_dashboard_template.do?"</span>;
        url += <span class="hljs-string">"sysparm_query=name="</span> + name;
        url += <span class="hljs-string">"&amp;sysparm_calview="</span> + duration;
        url += <span class="hljs-string">"&amp;sysparm_year="</span> + year;
        url += <span class="hljs-string">"&amp;sysparm_month="</span> + month;
        url += <span class="hljs-string">"&amp;sysparm_day="</span> + day;
        <span class="hljs-keyword">var</span> viewwidget = form[<span class="hljs-string">'sysparm_view'</span>];
        <span class="hljs-keyword">if</span> (viewwidget)
            url += <span class="hljs-string">'&amp;sysparm_view='</span> + viewwidget.value;
        <span class="hljs-built_in">window</span>.location = url;
    } <span class="hljs-keyword">else</span> {
        form = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'calendarform'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (form == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> $j != <span class="hljs-string">"undefined"</span> &amp;&amp; calendarID != <span class="hljs-literal">null</span> &amp;&amp; calendarID.length) {
                <span class="hljs-keyword">var</span> element = event.srcElement;
                <span class="hljs-keyword">if</span> (!element)
                    element = event.target;
                <span class="hljs-keyword">var</span> content = $j(element).closest(<span class="hljs-string">".report_content"</span>);
                <span class="hljs-keyword">if</span> (content.length) {
                    <span class="hljs-keyword">var</span> cstyle = <span class="hljs-literal">null</span>;
                    media = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'sysparm_calstyle_choice'</span>);
                    <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>) {
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; media.length; i++) {
                            <span class="hljs-keyword">var</span> r = media[i];
                            <span class="hljs-keyword">if</span> (r.checked) {
                                cstyle = r.value;
                                <span class="hljs-keyword">break</span>;
                            }
                        }
                    }
                    <span class="hljs-keyword">if</span> (!cstyle) {
                        media = $(<span class="hljs-string">"sysparm_calstyle"</span> + calendarID);
                        <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>)
                            cstyle = media.value;
                    }
                    <span class="hljs-keyword">var</span> params = <span class="hljs-string">"sysparm_calview="</span> + duration;
                    params += <span class="hljs-string">"&amp;sysparm_year="</span> + year;
                    params += <span class="hljs-string">"&amp;sysparm_month="</span> + month;
                    params += <span class="hljs-string">"&amp;sysparm_day="</span> + day;
                    params += <span class="hljs-string">"&amp;sysparm_calstyle="</span> + cstyle;
                    drillReport(content.parent(), calendarID, <span class="hljs-string">""</span>, params);
                    <span class="hljs-keyword">return</span>;
                }
            }
            form = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'reportform_control'</span>)[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">if</span> (form == <span class="hljs-literal">null</span>) {
            form = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'history'</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">if</span> (form != <span class="hljs-literal">null</span>) {
                addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_stack'</span>, <span class="hljs-string">"no"</span>);
            }
        }
        <span class="hljs-keyword">if</span> (form != <span class="hljs-literal">null</span>) {
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_calview'</span>, duration);
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_year'</span>, year);
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_month'</span>, month);
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_day'</span>, day);
            <span class="hljs-keyword">var</span> media = $(<span class="hljs-string">'sysparm_media'</span>);
            <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>) {
                addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_media'</span>, media.value);
            }
            media = $(<span class="hljs-string">'sysparm_view'</span>);
            <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>) {
                addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_view'</span>, media.value);
            }
            media = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">'sysparm_calstyle_choice'</span>);
            <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; media.length; i++) {
                    <span class="hljs-keyword">var</span> r = media[i];
                    <span class="hljs-keyword">if</span> (r.checked) {
                        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_calstyle'</span>, r.value);
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            media = $(<span class="hljs-string">'sysparm_calstyle'</span>);
            <span class="hljs-keyword">if</span> (media != <span class="hljs-literal">null</span>) {
                addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_calstyle'</span>, media.value);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form.onsubmit == <span class="hljs-string">"function"</span>)
                form.onsubmit();
            form.submit();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> url = <span class="hljs-string">"calendar_view.do?"</span>;
            url += <span class="hljs-string">"sysparm_calview="</span> + duration;
            url += <span class="hljs-string">"&amp;sysparm_year="</span> + year;
            url += <span class="hljs-string">"&amp;sysparm_month="</span> + month;
            url += <span class="hljs-string">"&amp;sysparm_day="</span> + day;
            <span class="hljs-keyword">if</span> (styleField)
                url += <span class="hljs-string">"&amp;sysparm_calstyle="</span> + styleField;
            <span class="hljs-built_in">window</span>.location = url;
        }
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_email.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sendEmail</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'emailclient'</span>];
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'EMAIL-CLIENT'</span>, <span class="hljs-string">'send'</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form.onsubmit == <span class="hljs-string">"function"</span>) {
        form.onsubmit();
    }
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mailTo</span>(<span class="hljs-params">field</span>) </span>{
    <span class="hljs-keyword">var</span> nameField = $(field);
    <span class="hljs-keyword">if</span> (nameField &amp;&amp; nameField.value) {
        <span class="hljs-built_in">window</span>.top.location = <span class="hljs-string">"mailto:"</span> + nameField.value;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCannedText</span>(<span class="hljs-params">selectBox, isPlainText</span>) </span>{
    <span class="hljs-keyword">var</span> theOption = selectBox.options[selectBox.selectedIndex];
    <span class="hljs-keyword">var</span> messageText = theOption.value;
    <span class="hljs-keyword">var</span> body = $(<span class="hljs-string">'message.text'</span>);
    <span class="hljs-keyword">if</span> (tiny_html_editor &amp;&amp; <span class="hljs-keyword">typeof</span> tinymce != <span class="hljs-string">"undefined"</span>) {
        <span class="hljs-keyword">if</span> (isPlainText) {
            tinymce.EditorManager.activeEditor.setContent(<span class="hljs-string">""</span>);
            tinymce.EditorManager.activeEditor.plugins.paste.clipboard.pasteText(messageText)
        } <span class="hljs-keyword">else</span>
            tinymce.EditorManager.activeEditor.setContent(messageText);
    } <span class="hljs-keyword">else</span> {
        body.value = messageText;
        <span class="hljs-keyword">if</span> (body.htmlArea)
            body.htmlArea._doc.body.innerHTML = messageText;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isEmailValid</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">var</span> problemMsg = isEmailValidWithReason(value);
    <span class="hljs-keyword">if</span> (problemMsg != <span class="hljs-string">""</span>) {
        jslog(<span class="hljs-string">"isEmailValid: "</span> + problemMsg);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isEmailValidWithReason</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">var</span> localPartChars = <span class="hljs-string">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!#$%*/?|^{}`~&amp;'+-=_."</span>;
    <span class="hljs-keyword">var</span> domainChars = <span class="hljs-string">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_."</span>;
    <span class="hljs-keyword">if</span> (value.indexOf(<span class="hljs-string">"@"</span>) == <span class="hljs-number">-1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"missing @ sign"</span>;
    <span class="hljs-keyword">var</span> s = value.split(<span class="hljs-string">"@"</span>);
    <span class="hljs-keyword">if</span> (s.length != <span class="hljs-number">2</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"too many at signs"</span>;
    <span class="hljs-keyword">if</span> (!containsOnlyChars(localPartChars, s[<span class="hljs-number">0</span>]))
        <span class="hljs-keyword">return</span> <span class="hljs-string">"invalid character before the at sign"</span>;
    <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>].length &lt; <span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"at least one character must be before the at sign"</span>;
    <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>].substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) == <span class="hljs-string">"."</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"period cannot be the first character"</span>;
    <span class="hljs-keyword">if</span> (s[<span class="hljs-number">0</span>].substr(s[<span class="hljs-number">0</span>].length - <span class="hljs-number">1</span>, <span class="hljs-number">1</span>) == <span class="hljs-string">"."</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"period cannot be the last character before the at sign"</span>;
    <span class="hljs-keyword">if</span> (!containsOnlyChars(domainChars, s[<span class="hljs-number">1</span>]))
        <span class="hljs-keyword">return</span> <span class="hljs-string">"invalid character after the at sign"</span>;
    <span class="hljs-keyword">var</span> periodIndex = s[<span class="hljs-number">1</span>].indexOf(<span class="hljs-string">"."</span>);
    <span class="hljs-keyword">if</span> (periodIndex == <span class="hljs-number">-1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"missing period after the at sign"</span>;
    <span class="hljs-keyword">if</span> (periodIndex == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"period cannot be the first character after the at sign"</span>;
    <span class="hljs-keyword">var</span> periods = s[<span class="hljs-number">1</span>].split(<span class="hljs-string">"."</span>);
    <span class="hljs-keyword">var</span> lastPeriod = periods[periods.length - <span class="hljs-number">1</span>];
    <span class="hljs-keyword">if</span> (lastPeriod.length &lt; <span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"must be at least 1 character after the last period"</span>;
    <span class="hljs-keyword">if</span> (!isAlphaNum(s[<span class="hljs-number">1</span>].substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)))
        <span class="hljs-keyword">return</span> <span class="hljs-string">"the first character after the at sign must be alphanumeric"</span>;
    <span class="hljs-keyword">if</span> (!isAlphaNum(s[<span class="hljs-number">1</span>].substr(s[<span class="hljs-number">1</span>].length - <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)))
        <span class="hljs-keyword">return</span> <span class="hljs-string">"the last character must be alphanumeric"</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_user_image.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveUserImage</span>(<span class="hljs-params">tableName, gotourl</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[tableName + <span class="hljs-string">'.do'</span>];
    <span class="hljs-keyword">var</span> viewwidget = form[<span class="hljs-string">'sysparm_view'</span>];
    <span class="hljs-keyword">if</span> (viewwidget)
        gotourl += <span class="hljs-string">'&amp;sysparm_view='</span> + viewwidget.value;
    form.sys_action.value = <span class="hljs-string">'sysverb_check_save'</span>;
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_goto_url'</span>, gotourl);
    <span class="hljs-keyword">var</span> okToSubmit = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form.onsubmit == <span class="hljs-string">"function"</span>)
        okToSubmit = form.onsubmit();
    <span class="hljs-keyword">if</span> (okToSubmit)
        form.submit();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateVideoFileName</span>(<span class="hljs-params">fileExtensions</span>) </span>{
    <span class="hljs-keyword">var</span> fileName = getAttachedFileName();
    <span class="hljs-keyword">var</span> isvalid = validateWithExtensions(fileName, fileExtensions);
    <span class="hljs-keyword">if</span> (!isvalid) {
        alert(fileName + <span class="hljs-string">" isn't a recognized video format"</span>);
    }
    <span class="hljs-keyword">return</span> isvalid;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateAudioFileName</span>(<span class="hljs-params">fileExtensions</span>) </span>{
    <span class="hljs-keyword">var</span> fileName = getAttachedFileName();
    <span class="hljs-keyword">var</span> isvalid = validateWithExtensions(fileName, fileExtensions);
    <span class="hljs-keyword">if</span> (!isvalid) {
        alert(fileName + <span class="hljs-string">" isn't a recognized audio format"</span>);
    }
    <span class="hljs-keyword">return</span> isvalid;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttachedFileName</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> widget = $(<span class="hljs-string">"attachFile"</span>);
    <span class="hljs-keyword">if</span> (!widget)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> widget.value;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateWithExtensions</span>(<span class="hljs-params">fileName, fileExtensions</span>) </span>{
    <span class="hljs-keyword">var</span> action = $(<span class="hljs-string">'sys_action'</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'sysverb_cancel'</span> == action.value)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> endsWithVideoExtension(fileName, fileExtensions);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endsWithVideoExtension</span>(<span class="hljs-params">fileName, fileExtensions</span>) </span>{
    <span class="hljs-keyword">var</span> extensionArray = fileExtensions.split(<span class="hljs-string">","</span>);
    <span class="hljs-keyword">var</span> dot = fileName.lastIndexOf(<span class="hljs-string">'.'</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> suffix = fileName.substring(dot);
    suffix = suffix.toLowerCase();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; extensionArray.length; i++) {
        <span class="hljs-keyword">var</span> element = extensionArray[i];
        <span class="hljs-keyword">if</span> (element == suffix)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateImageFileName</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> action = $(<span class="hljs-string">'sys_action'</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'sysverb_cancel'</span> == action.value)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> widget = $(<span class="hljs-string">"attachFile"</span>);
    <span class="hljs-keyword">if</span> (!widget)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> filename = widget.value;
    <span class="hljs-keyword">var</span> isvalid = endsWithImageExtension(filename);
    <span class="hljs-keyword">if</span> (!isvalid) {
        alert(filename + <span class="hljs-string">" isn't a recognized image file format"</span>);
    }
    <span class="hljs-keyword">return</span> isvalid;
}
<span class="hljs-keyword">var</span> VALID_IMAGE_SUFFIX = [<span class="hljs-string">"jpg"</span>, <span class="hljs-string">"jpeg"</span>, <span class="hljs-string">"png"</span>, <span class="hljs-string">"bmp"</span>, <span class="hljs-string">"gif"</span>, <span class="hljs-string">"ico"</span>, <span class="hljs-string">"svg"</span>];

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endsWithImageExtension</span>(<span class="hljs-params">filename</span>) </span>{
    <span class="hljs-keyword">var</span> dot = filename.lastIndexOf(<span class="hljs-string">'.'</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> suffix = filename.substring(dot);
    suffix = suffix.toLowerCase();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; VALID_IMAGE_SUFFIX.length; i++) {
        <span class="hljs-keyword">var</span> element = VALID_IMAGE_SUFFIX[i];
        element = element.toLowerCase();
        <span class="hljs-keyword">if</span> (element == suffix)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteUserImage</span>(<span class="hljs-params">image_id, replacement</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AttachmentAjax"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, image_id);
    ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"delete"</span>);
    ajax.getXML(doNothing);
    <span class="hljs-keyword">var</span> image = $(image_id);
    <span class="hljs-keyword">if</span> (image) {
        image.src = <span class="hljs-string">"images/s.gif"</span>;
        image.alt = <span class="hljs-string">""</span>;
    }
    <span class="hljs-keyword">var</span> delspan = $(image_id + <span class="hljs-string">"_delete"</span>);
    <span class="hljs-keyword">if</span> (delspan)
        delspan.innerHTML = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> addanchor = $(image_id + <span class="hljs-string">"_update"</span>);
    <span class="hljs-keyword">if</span> (addanchor)
        addanchor.innerHTML = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> imagespan = $(image_id + <span class="hljs-string">"_image"</span>);
    <span class="hljs-keyword">if</span> (imagespan)
        imagespan.style.visibiity = <span class="hljs-string">"hidden"</span>;
    <span class="hljs-keyword">var</span> noimagespan = $(image_id + <span class="hljs-string">"_noimage"</span>);
    <span class="hljs-keyword">if</span> (noimagespan)
        noimagespan.style.visibility = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/formatting.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatPhone</span>(<span class="hljs-params">field</span>) </span>{
    field.value = trim(field.value);
    <span class="hljs-keyword">var</span> ov = field.value;
    <span class="hljs-keyword">var</span> v = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> &lt; ov.length &amp;&amp; <span class="hljs-string">'+'</span> != ov.charAt(<span class="hljs-number">0</span>)) {
        <span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'1'</span> == ov.charAt(<span class="hljs-number">0</span>)) {
            ov = ov.substring(<span class="hljs-number">1</span>, ov.length);
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; ov.length; i++) {
            <span class="hljs-keyword">var</span> ch = ov.charAt(i);
            <span class="hljs-keyword">if</span> (ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) {
                <span class="hljs-keyword">if</span> (n == <span class="hljs-number">0</span>) v += <span class="hljs-string">"("</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">3</span>) v += <span class="hljs-string">") "</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (n == <span class="hljs-number">6</span>) v += <span class="hljs-string">"-"</span>;
                v += ch;
                n++;
            }
            <span class="hljs-keyword">if</span> (!(ch &gt;= <span class="hljs-string">'0'</span> &amp;&amp; ch &lt;= <span class="hljs-string">'9'</span>) &amp;&amp; ch != <span class="hljs-string">' '</span> &amp;&amp; ch != <span class="hljs-string">'-'</span> &amp;&amp; ch != <span class="hljs-string">'.'</span> &amp;&amp; ch != <span class="hljs-string">'('</span> &amp;&amp; ch != <span class="hljs-string">')'</span>) {
                x = i;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (x &gt;= <span class="hljs-number">0</span>) v += <span class="hljs-string">" "</span> + ov.substring(x, ov.length);
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">10</span> &amp;&amp; v.length &lt;= <span class="hljs-number">40</span>) field.value = v;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatClean</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">var</span> sVal = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> nVal = num.length;
    <span class="hljs-keyword">var</span> sChar = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; nVal; i++) {
            sChar = num.charAt(i);
            nChar = sChar.charCodeAt(<span class="hljs-number">0</span>);
            <span class="hljs-keyword">if</span> (sChar == <span class="hljs-string">'-'</span> || sChar == getDecimalSeparator() || ((nChar &gt;= <span class="hljs-number">48</span>) &amp;&amp; (nChar &lt;= <span class="hljs-number">57</span>))) {
                sVal += num.charAt(i);
            }
        }
    } <span class="hljs-keyword">catch</span> (exception) {
        alertError(<span class="hljs-string">"formatClean"</span>, exception);
    }
    <span class="hljs-keyword">return</span> sVal;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatCurrency</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">var</span> sVal = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> minus = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (num.lastIndexOf(<span class="hljs-string">"-"</span>) == <span class="hljs-number">0</span>) {
        minus = <span class="hljs-string">'-'</span>;
    }
    <span class="hljs-keyword">if</span> (num.lastIndexOf(<span class="hljs-string">"."</span>) &lt; <span class="hljs-number">0</span>) {
        num = num + <span class="hljs-string">'00'</span>;
    }
    num = formatClean(num);
    sVal = minus + formatDollar(num, getGroupingSeparator()) + getDecimalSeparator() + formatCents(num);
    <span class="hljs-keyword">return</span> sVal;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatNumber</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">if</span> (num.length == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> num;
    num = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(num);
    <span class="hljs-keyword">var</span> sVal = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> minus = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (num.lastIndexOf(<span class="hljs-string">"-"</span>) == <span class="hljs-number">0</span>) {
            minus = <span class="hljs-string">'-'</span>;
        }
        num = formatClean(num);
        <span class="hljs-keyword">if</span> (num.indexOf(<span class="hljs-string">"-"</span>) == <span class="hljs-number">0</span>)
            num = num.substring(<span class="hljs-number">1</span>);
        num = <span class="hljs-string">"0"</span> + num;
        <span class="hljs-keyword">var</span> fraction = parseFraction(<span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(num));
        num = <span class="hljs-built_in">parseInt</span>(num, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> samount = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(num);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">Math</span>.floor((samount.length - (<span class="hljs-number">1</span> + i)) / <span class="hljs-number">3</span>); i++) {
            samount = samount.substring(<span class="hljs-number">0</span>, samount.length - (<span class="hljs-number">4</span> * i + <span class="hljs-number">3</span>)) + getGroupingSeparator() + samount.substring(samount.length - (<span class="hljs-number">4</span> * i + <span class="hljs-number">3</span>));
        }
        <span class="hljs-keyword">if</span> (fraction.length &gt; <span class="hljs-number">0</span>) {
            fraction = getDecimalSeparator() + fraction;
            samount += fraction;
        }
    } <span class="hljs-keyword">catch</span> (exception) {
        alertError(<span class="hljs-string">"Format Number"</span>, exception);
    }
    <span class="hljs-keyword">return</span> minus + samount;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseFraction</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">var</span> index = num.indexOf(getDecimalSeparator());
    <span class="hljs-keyword">if</span> (index == <span class="hljs-number">-1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    <span class="hljs-keyword">return</span> num.substring(index + <span class="hljs-number">1</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatCents</span>(<span class="hljs-params">amount</span>) </span>{
    <span class="hljs-keyword">var</span> cents = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">try</span> {
        amount = <span class="hljs-built_in">parseInt</span>(amount, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> samount = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(amount);
        <span class="hljs-keyword">if</span> (samount.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'00'</span>;
        }
        <span class="hljs-keyword">if</span> (samount.length == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">'0'</span> + samount;
        }
        <span class="hljs-keyword">if</span> (samount.length == <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">return</span> samount;
        }
        cents = samount.substring(samount.length - <span class="hljs-number">2</span>, samount.length);
    } <span class="hljs-keyword">catch</span> (exception) {
        alertError(<span class="hljs-string">"Format Cents"</span>, e);
    }
    <span class="hljs-keyword">return</span> cents;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatDollar</span>(<span class="hljs-params">amount</span>) </span>{
    <span class="hljs-keyword">try</span> {
        amount = <span class="hljs-built_in">parseInt</span>(amount, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> samount = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(amount);
        <span class="hljs-keyword">if</span> (samount.length &lt; <span class="hljs-number">3</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        samount = samount.substring(<span class="hljs-number">0</span>, samount.length - <span class="hljs-number">2</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">Math</span>.floor((samount.length - (<span class="hljs-number">1</span> + i)) / <span class="hljs-number">3</span>); i++) {
            samount = samount.substring(<span class="hljs-number">0</span>, samount.length - (<span class="hljs-number">4</span> * i + <span class="hljs-number">3</span>)) + getGroupingSeparator() + samount.substring(samount.length - (<span class="hljs-number">4</span> * i + <span class="hljs-number">3</span>));
        }
    } <span class="hljs-keyword">catch</span> (exception) {
        alertError(<span class="hljs-string">"Format Dollar"</span>, e);
    }
    <span class="hljs-keyword">return</span> samount;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">padLeft</span>(<span class="hljs-params">value, width, fill</span>) </span>{
    value = value + <span class="hljs-string">''</span>;
    <span class="hljs-keyword">while</span> (value.length &lt; width)
        value = fill + value;
    <span class="hljs-keyword">return</span> value;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDecimalSeparator</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (g_user_decimal_separator)
        <span class="hljs-keyword">return</span> g_user_decimal_separator;
    <span class="hljs-keyword">return</span> <span class="hljs-string">"."</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getGroupingSeparator</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (g_user_grouping_separator)
        <span class="hljs-keyword">return</span> g_user_grouping_separator;
    <span class="hljs-keyword">return</span> <span class="hljs-string">","</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">alertError</span>(<span class="hljs-params">MethodName, e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.description == <span class="hljs-literal">null</span>) {
        alert(MethodName + <span class="hljs-string">" Exception: "</span> + e.message);
    } <span class="hljs-keyword">else</span> {
        alert(MethodName + <span class="hljs-string">" Exception: "</span> + e.description);
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/utils14.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doNothing</span>(<span class="hljs-params"></span>) </span>{}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">valueExistsInArray</span>(<span class="hljs-params">val, array</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++) {
        <span class="hljs-keyword">if</span> (val == array[i])
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doubleDigitFormat</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">return</span> padLeft(num, <span class="hljs-number">2</span>, <span class="hljs-string">"0"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tripleDigitFormat</span>(<span class="hljs-params">num</span>) </span>{
    <span class="hljs-keyword">return</span> padLeft(num, <span class="hljs-number">3</span>, <span class="hljs-string">"0"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sGetHours</span>(<span class="hljs-params">totalSecs</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(totalSecs / (<span class="hljs-number">60</span> * <span class="hljs-number">60</span>), <span class="hljs-number">10</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sGetMinutes</span>(<span class="hljs-params">totalSecs</span>) </span>{
    totalSecs -= (<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * sGetHours(totalSecs);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(totalSecs / <span class="hljs-number">60</span>, <span class="hljs-number">10</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sGetSeconds</span>(<span class="hljs-params">totalSecs</span>) </span>{
    totalSecs -= (<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * sGetHours(totalSecs);
    totalSecs -= (<span class="hljs-number">60</span>) * sGetMinutes(totalSecs);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(totalSecs, <span class="hljs-number">10</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNumber</span>(<span class="hljs-params">test</span>) </span>{
    <span class="hljs-keyword">if</span> (!test)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    test = <span class="hljs-keyword">new</span> <span class="hljs-built_in">String</span>(test);
    <span class="hljs-keyword">var</span> _numer = test.search(<span class="hljs-string">"[^0-9]"</span>);
    <span class="hljs-keyword">return</span> _numer == <span class="hljs-number">-1</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAlphaNum</span>(<span class="hljs-params">thchar</span>) </span>{
    <span class="hljs-keyword">return</span> isAlpha(thchar) || isDigit(thchar);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAlpha</span>(<span class="hljs-params">thchar</span>) </span>{
    <span class="hljs-keyword">return</span> (thchar &gt;= <span class="hljs-string">'a'</span> &amp;&amp; thchar &lt;= <span class="hljs-string">'z\uffff'</span>) ||
        (thchar &gt;= <span class="hljs-string">'A'</span> &amp;&amp; thchar &lt;= <span class="hljs-string">'Z\uffff'</span>) || thchar == <span class="hljs-string">'_'</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDigit</span>(<span class="hljs-params">thchar</span>) </span>{
    <span class="hljs-keyword">return</span> (thchar &gt;= <span class="hljs-string">'0'</span> &amp;&amp; thchar &lt;= <span class="hljs-string">'9'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">containsOnlyChars</span>(<span class="hljs-params">validChars, sText</span>) </span>{
    <span class="hljs-keyword">if</span> (!sText)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; sText.length; i++) {
        <span class="hljs-keyword">var</span> c = sText.charAt(i);
        <span class="hljs-keyword">if</span> (validChars.indexOf(c) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttributeValue</span>(<span class="hljs-params">element, attrName</span>) </span>{
    <span class="hljs-keyword">return</span> element.getAttribute(attrName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setAttributeValue</span>(<span class="hljs-params">element, attrName, value</span>) </span>{
    element.setAttribute(attrName, value);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleDivDisplayAndReturn</span>(<span class="hljs-params">divName</span>) </span>{
    <span class="hljs-keyword">if</span> (!divName)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> div = $(divName);
    <span class="hljs-keyword">if</span> (!div)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (div.style.display == <span class="hljs-string">"none"</span>)
        showObject(div);
    <span class="hljs-keyword">else</span>
        hideObject(div);
    <span class="hljs-keyword">return</span> div;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleDivDisplay</span>(<span class="hljs-params">divName</span>) </span>{
    toggleDivDisplayAndReturn(divName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findParentByTag</span>(<span class="hljs-params">element, tag</span>) </span>{
    <span class="hljs-keyword">var</span> ret;
    <span class="hljs-keyword">while</span> (element &amp;&amp; element.parentNode &amp;&amp; element.parentNode.tagName) {
        element = element.parentNode;
        <span class="hljs-keyword">if</span> (element.tagName.toLowerCase() == tag.toLowerCase())
            <span class="hljs-keyword">return</span> element;
    }
    <span class="hljs-keyword">return</span> ret;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replaceAll</span>(<span class="hljs-params">str, from, to</span>) </span>{
    <span class="hljs-keyword">var</span> idx = str.indexOf(<span class="hljs-keyword">from</span>);
    <span class="hljs-keyword">while</span> (idx &gt; <span class="hljs-number">-1</span>) {
        str = str.replace(<span class="hljs-keyword">from</span>, to);
        idx = str.indexOf(<span class="hljs-keyword">from</span>);
    }
    <span class="hljs-keyword">return</span> str;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useAnimation</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (isTouchDevice)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandEffect</span>(<span class="hljs-params">el, duration, steps, stepCallback, completionCallback</span>) </span>{
    <span class="hljs-keyword">if</span> (!useAnimation()) {
        showObject(el);
        <span class="hljs-keyword">if</span> (completionCallback)
            completionCallback(el);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> h;
    <span class="hljs-keyword">if</span> (el.originalHeight)
        h = el.originalHeight;
    <span class="hljs-keyword">else</span> {
        h = getHeight(el);
        <span class="hljs-keyword">if</span> (h == <span class="hljs-number">0</span>) {
            showObject(el);
            <span class="hljs-keyword">return</span>;
        }
        el.originalHeight = h;
    }
    <span class="hljs-keyword">if</span> (!duration)
        duration = <span class="hljs-number">70</span>;
    <span class="hljs-keyword">if</span> (!steps)
        steps = <span class="hljs-number">14</span>;
    el.style.overflow = <span class="hljs-string">"hidden"</span>;
    el.style.height = <span class="hljs-string">"1px"</span>;
    el.style.display = <span class="hljs-string">"block"</span>;
    el.style.visibility = <span class="hljs-string">"visible"</span>;
    expandAnimationEffect(el, h, duration, steps, stepCallback,
        completionCallback);
    <span class="hljs-keyword">return</span> h;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandAnimationEffect</span>(<span class="hljs-params">el, height, duration, steps, stepCallback,
    completionCallback</span>) </span>{
    <span class="hljs-keyword">new</span> Rico.Effect.Size(el.id, <span class="hljs-literal">null</span>, height, duration, steps, {
        <span class="hljs-attr">step</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (stepCallback)
                stepCallback(el);
        },
        <span class="hljs-attr">complete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            _expandComplete(el, completionCallback);
        }
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_expandComplete</span>(<span class="hljs-params">el, completionCallback</span>) </span>{
    el.style.overflow = <span class="hljs-string">""</span>;
    el.style.height = <span class="hljs-string">"auto"</span>;
    <span class="hljs-keyword">if</span> (completionCallback)
        completionCallback(el);
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collapseEffect</span>(<span class="hljs-params">el, duration, steps</span>) </span>{
    <span class="hljs-keyword">if</span> (!useAnimation()) {
        hideObject(el);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> h;
    <span class="hljs-keyword">if</span> (el.originalHeight)
        h = el.originalHeight;
    <span class="hljs-keyword">else</span> {
        h = el.offsetHeight;
        el.originalHeight = h;
    }
    <span class="hljs-keyword">if</span> (!duration)
        duration = <span class="hljs-number">70</span>;
    <span class="hljs-keyword">if</span> (!steps)
        steps = <span class="hljs-number">14</span>;
    <span class="hljs-keyword">if</span> (!h)
        h = el.offsetHeight;
    el.style.overflow = <span class="hljs-string">"hidden"</span>;
    collapseAnimationEffect(el, h, duration, steps);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collapseAnimationEffect</span>(<span class="hljs-params">el, height, duration, steps</span>) </span>{
    <span class="hljs-keyword">new</span> Rico.Effect.Size(el.id, <span class="hljs-literal">null</span>, <span class="hljs-number">1</span>, duration, steps, {
        <span class="hljs-attr">complete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            _collapseComplete(el, height);
        }
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_collapseComplete</span>(<span class="hljs-params">el, height</span>) </span>{
    el.style.display = <span class="hljs-string">"none"</span>;
    el.style.overflow = <span class="hljs-string">""</span>;
    el.style.height = height;
    _frameChanged();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHeight</span>(<span class="hljs-params">el</span>) </span>{
    <span class="hljs-keyword">var</span> item;
    <span class="hljs-keyword">try</span> {
        item = el.cloneNode(<span class="hljs-literal">true</span>);
    } <span class="hljs-keyword">catch</span> (e) {
        jslog(<span class="hljs-string">"getHeight blew up... we caught the error and returned 0"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">var</span> height = <span class="hljs-number">0</span>;
    item.style.visibility = <span class="hljs-string">"hidden"</span>;
    item.style.display = <span class="hljs-string">"block"</span>;
    item.style.position = <span class="hljs-string">"absolute"</span>;
    item.style.top = <span class="hljs-number">0</span>;
    item.style.left = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">document</span>.body.appendChild(item);
    height = item.offsetHeight;
    <span class="hljs-built_in">document</span>.body.removeChild(item);
    <span class="hljs-keyword">return</span> height;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWidth</span>(<span class="hljs-params">el</span>) </span>{
    <span class="hljs-keyword">var</span> item = el.cloneNode(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">var</span> width = <span class="hljs-number">0</span>;
    item.style.visibility = <span class="hljs-string">"hidden"</span>;
    item.style.display = <span class="hljs-string">"block"</span>;
    item.style.position = <span class="hljs-string">"absolute"</span>;
    item.style.top = <span class="hljs-number">0</span>;
    item.style.left = <span class="hljs-number">0</span>;
    <span class="hljs-built_in">document</span>.body.appendChild(item);
    width = item.offsetWidth;
    <span class="hljs-built_in">document</span>.body.removeChild(item);
    <span class="hljs-keyword">return</span> width;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grabOffsetLeft</span>(<span class="hljs-params">item</span>) </span>{
    <span class="hljs-keyword">return</span> getOffset(item, <span class="hljs-string">"offsetLeft"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grabOffsetTop</span>(<span class="hljs-params">item</span>) </span>{
    <span class="hljs-keyword">return</span> getOffset(item, <span class="hljs-string">"offsetTop"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOffset</span>(<span class="hljs-params">item, attr</span>) </span>{
    <span class="hljs-keyword">var</span> parentElement = getFormContentParent();
    <span class="hljs-keyword">var</span> wb = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (item) {
        wb += item[attr];
        item = item.offsetParent;
        <span class="hljs-keyword">if</span> (item == parentElement)
            <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-keyword">return</span> wb;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grabScrollLeft</span>(<span class="hljs-params">item</span>) </span>{
    <span class="hljs-keyword">return</span> getScrollOffset(item, <span class="hljs-string">"scrollLeft"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grabScrollTop</span>(<span class="hljs-params">item</span>) </span>{
    <span class="hljs-keyword">return</span> getScrollOffset(item, <span class="hljs-string">"scrollTop"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getScrollOffset</span>(<span class="hljs-params">item, attr</span>) </span>{
    <span class="hljs-keyword">var</span> parentElement = getFormContentParent();
    <span class="hljs-keyword">var</span> wb = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (item &amp;&amp; item.tagName &amp;&amp; item != parentElement) {
        wb += item[attr];
        <span class="hljs-keyword">if</span> (isMSIE)
            item = item.offsetParent;
        <span class="hljs-keyword">else</span>
            item = item.parentNode;
    }
    <span class="hljs-keyword">return</span> wb;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getValue</span>(<span class="hljs-params">evt</span>) </span>{
    <span class="hljs-keyword">var</span> elem = evt.target;
    <span class="hljs-keyword">if</span> (!elem)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> elem.options[elem.selectedIndex].value;
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">var</span> msg = (<span class="hljs-keyword">typeof</span> e == <span class="hljs-string">"string"</span>) ? e : ((e.message) ? e.message :
            <span class="hljs-string">"Unknown Error"</span>);
        alert(<span class="hljs-string">"Unable to get data:\n"</span> + msg);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEvent</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-keyword">return</span> event;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getEventCoords</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> fudge = getFormContentParent();
    <span class="hljs-keyword">var</span> answer = Event.pointer(e);
    answer = <span class="hljs-keyword">new</span> Point(answer.x, answer.y);
    <span class="hljs-keyword">if</span> (fudge == <span class="hljs-built_in">document</span>.body)
        <span class="hljs-keyword">return</span> answer;
    answer.x += fudge.scrollLeft;
    answer.y += fudge.scrollTop;
    <span class="hljs-keyword">var</span> fudgeTop = fudge.getStyle(<span class="hljs-string">'top'</span>);
    <span class="hljs-keyword">var</span> fudgePos = fudge.getStyle(<span class="hljs-string">'position'</span>);
    <span class="hljs-keyword">if</span> (fudgePos == <span class="hljs-string">'absolute'</span> &amp;&amp; fudgeTop &amp;&amp; fudgeTop.indexOf(<span class="hljs-string">'px'</span>))
        answer.y -= <span class="hljs-built_in">parseInt</span>(fudgeTop.replace(<span class="hljs-string">'px'</span>, <span class="hljs-string">''</span>));
    <span class="hljs-keyword">return</span> answer;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRelativeTop</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> port = <span class="hljs-built_in">document</span>.viewport;
    <span class="hljs-keyword">var</span> topLeft = <span class="hljs-keyword">new</span> Point(port.getScrollOffsets().left, port
        .getScrollOffsets().top)
    <span class="hljs-keyword">var</span> fudge = getFormContentParent();
    <span class="hljs-keyword">if</span> (fudge != <span class="hljs-built_in">document</span>.body) {
        topLeft.x += fudge.scrollLeft;
        topLeft.y += fudge.scrollTop;
    }
    <span class="hljs-keyword">return</span> topLeft;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRealEvent</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (isTouchDevice &amp;&amp; isTouchEvent(e)) {
        e = e.changedTouches[<span class="hljs-number">0</span>];
    }
    <span class="hljs-keyword">return</span> e;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTouchEvent</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> e == <span class="hljs-string">'undefined'</span> || <span class="hljs-keyword">typeof</span> e.changedTouches == <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isTouchRightClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (!isTouchEvent(e))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> hasTwoFingers = e.changedTouches.length &gt; <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> hasTwoFingers;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTextValue</span>(<span class="hljs-params">node</span>) </span>{
    <span class="hljs-keyword">if</span> (node.textContent)
        <span class="hljs-keyword">return</span> node.textContent;
    <span class="hljs-keyword">var</span> firstNode = node.childNodes[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (!firstNode)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (firstNode.data)
        <span class="hljs-keyword">return</span> firstNode.data;
    <span class="hljs-keyword">return</span> firstNode.nodeValue;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getScrollX</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.pageXOffset;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getScrollY</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.pageYOffset;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSrcElement</span>(<span class="hljs-params">evt</span>) </span>{
    <span class="hljs-keyword">return</span> evt.target;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addForm</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> form = cel(<span class="hljs-string">'form'</span>);
    <span class="hljs-built_in">document</span>.body.appendChild(form);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_ck)
        addHidden(form, <span class="hljs-string">"sysparm_ck"</span>, g_ck);
    <span class="hljs-keyword">return</span> form;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addHidden</span>(<span class="hljs-params">form, name, value</span>) </span>{
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, name, value);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addInput</span>(<span class="hljs-params">form, type, name, value</span>) </span>{
    <span class="hljs-keyword">var</span> inputs = Form.getInputs(form, <span class="hljs-string">''</span>, name);
    <span class="hljs-keyword">if</span> (inputs.length &gt; <span class="hljs-number">0</span>) {
        inputs[<span class="hljs-number">0</span>].value = value;
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> opt = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'input'</span>);
    opt.type = type;
    opt.name = name;
    opt.id = name;
    opt.value = value;
    form.appendChild(opt);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getHiddenInputValuesMap</span>(<span class="hljs-params">parent</span>) </span>{
    <span class="hljs-keyword">var</span> valuesMap = {}
    <span class="hljs-keyword">var</span> inputs = parent.getElementsByTagName(<span class="hljs-string">'input'</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; inputs.length; i++) {
        <span class="hljs-keyword">var</span> input = inputs[i];
        <span class="hljs-keyword">if</span> (input.type.toLowerCase() != <span class="hljs-string">"hidden"</span>)
            <span class="hljs-keyword">continue</span>;
        valuesMap[input.id] = input.value;
    }
    <span class="hljs-keyword">return</span> valuesMap;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">appendSelectOption</span>(<span class="hljs-params">select, value, label, index</span>) </span>{
    <span class="hljs-keyword">var</span> opt = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"option"</span>);
    opt.value = value;
    opt.appendChild(label);
    <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index != select.length)
        select.insertBefore(opt, select.children[index]);
    <span class="hljs-keyword">else</span>
        select.appendChild(opt);
    <span class="hljs-keyword">return</span> opt;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copySelectOptionToIndex</span>(<span class="hljs-params">select, opt, index</span>) </span>{
    <span class="hljs-keyword">var</span> label = opt.text;
    opt.innerHTML = <span class="hljs-string">""</span>;
    opt.appendChild(<span class="hljs-built_in">document</span>.createTextNode(label));
    <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index != select.length)
        select.insertBefore(opt, select.children[index]);
    <span class="hljs-keyword">else</span>
        select.appendChild(opt);
    <span class="hljs-keyword">return</span> opt;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selectMenuItem</span>(<span class="hljs-params">id, selectName</span>) </span>{
    <span class="hljs-keyword">var</span> selectMenu = <span class="hljs-built_in">document</span>.getElementById(selectName);
    <span class="hljs-keyword">if</span> (!selectMenu)
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">var</span> options = selectMenu.options;
    <span class="hljs-keyword">var</span> selectItem = selectMenu.selectedIndex;
    <span class="hljs-keyword">if</span> (id) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">var</span> option = options[i];
            <span class="hljs-keyword">if</span> (option.value == id) {
                selectItem = i;
                <span class="hljs-keyword">break</span>;
            }
        }
    }
    <span class="hljs-keyword">if</span> (selectItem &gt; <span class="hljs-number">0</span>) {
        selectMenu.selectedIndex = selectItem;
        <span class="hljs-keyword">if</span> (selectMenu[<span class="hljs-string">"onchange"</span>]) {
            selectMenu.onchange();
        }
    }
    <span class="hljs-keyword">return</span> selectItem;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">menuIsEmpty</span>(<span class="hljs-params">selectName</span>) </span>{
    <span class="hljs-keyword">var</span> selectMenu = <span class="hljs-built_in">document</span>.getElementById(selectName);
    <span class="hljs-keyword">if</span> (!selectMenu || selectMenu.selectedIndex &lt;= <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBounds</span>(<span class="hljs-params">obj, addScroll</span>) </span>{
    <span class="hljs-keyword">var</span> x = grabOffsetLeft(obj);
    <span class="hljs-keyword">var</span> y = grabOffsetTop(obj);
    <span class="hljs-keyword">if</span> (addScroll) {
        x += getScrollX();
        y += getScrollY();
    }
    <span class="hljs-keyword">this</span>.absoluteRect = {
        <span class="hljs-attr">top</span>: y,
        <span class="hljs-attr">left</span>: x,
        <span class="hljs-attr">bottom</span>: y + obj.offsetHeight,
        <span class="hljs-attr">right</span>: x + obj.offsetWidth,
        <span class="hljs-attr">height</span>: obj.offsetHeight,
        <span class="hljs-attr">width</span>: obj.offsetWidth,
        <span class="hljs-attr">middleX</span>: x + (obj.offsetWidth / <span class="hljs-number">2</span>),
        <span class="hljs-attr">middleY</span>: y + (obj.offsetHeight / <span class="hljs-number">2</span>),
        <span class="hljs-attr">cbottom</span>: y + obj.clientHeight,
        <span class="hljs-attr">cright</span>: x + obj.clientWidth
    };
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.absoluteRect;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">guid</span>(<span class="hljs-params">l</span>) </span>{
    <span class="hljs-keyword">var</span> l = l || <span class="hljs-number">32</span>,
        strResult = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">while</span> (strResult.length &lt; l)
        strResult += (((<span class="hljs-number">1</span> + <span class="hljs-built_in">Math</span>.random() + <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()) * <span class="hljs-number">0x10000</span>) | <span class="hljs-number">0</span>)
        .toString(<span class="hljs-number">16</span>).substring(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> strResult.substr(<span class="hljs-number">0</span>, l);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stopSelection</span>(<span class="hljs-params">e</span>) </span>{
    e.onselectstart = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    };
    e.style.MozUserSelect = <span class="hljs-string">"none"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">restoreSelection</span>(<span class="hljs-params">e</span>) </span>{
    e.onselectstart = <span class="hljs-literal">null</span>;
    e.style.MozUserSelect = <span class="hljs-string">""</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAttributeValue</span>(<span class="hljs-params">element, name</span>) </span>{
    <span class="hljs-keyword">if</span> (!element.attributes)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> v = element.attributes.getNamedItem(name);
    <span class="hljs-keyword">if</span> (v == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> v.nodeValue;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createImage</span>(<span class="hljs-params">src, title, object, onClick</span>) </span>{
    <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">'input'</span>);
    img.type = <span class="hljs-string">'image'</span>;
    img.src = src;
    img.title = title;
    img.alt = title;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">4</span>)
        img.onclick = onClick.bindAsEventListener(object);
    <span class="hljs-keyword">return</span> img;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createIcon</span>(<span class="hljs-params">cls, title, object, onClick</span>) </span>{
    <span class="hljs-keyword">var</span> icn = cel(<span class="hljs-string">'a'</span>);
    icn.addClassName(cls);
    icn.setAttribute(<span class="hljs-string">'title'</span>, title);
    icn.setAttribute(<span class="hljs-string">'aria-label'</span>, title);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">4</span>)
        icn.onclick = onClick.bindAsEventListener(object);
    <span class="hljs-keyword">return</span> icn;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getXMLString</span>(<span class="hljs-params">node</span>) </span>{
    <span class="hljs-keyword">var</span> xml = <span class="hljs-string">"???"</span>;
    <span class="hljs-keyword">if</span> (node.xml) {
        xml = node.xml;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.XMLSerializer) {
        xml = (<span class="hljs-keyword">new</span> XMLSerializer()).serializeToString(node);
    }
    <span class="hljs-keyword">return</span> xml;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isLeftClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">return</span> e.button == <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatMessage</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> str = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] == <span class="hljs-string">'object'</span> &amp;&amp;
        <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {
        args = [<span class="hljs-string">''</span>].concat(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>]);
    }
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (++i &lt; args.length) {
        str = str.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'\\{'</span> + (i - <span class="hljs-number">1</span>) + <span class="hljs-string">'\\}'</span>, <span class="hljs-string">'g'</span>), args[i]);
    }
    <span class="hljs-keyword">return</span> str;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormattedDateAndTime</span>(<span class="hljs-params">date</span>) </span>{
    <span class="hljs-keyword">return</span> getFormattedDate(date) + <span class="hljs-string">" "</span> + getFormattedTime(date);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormattedDate</span>(<span class="hljs-params">date</span>) </span>{
    <span class="hljs-keyword">var</span> d = (date ? date : <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());
    <span class="hljs-keyword">var</span> curr_mon = d.getMonth() + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> curr_day = d.getDate();
    <span class="hljs-keyword">var</span> curr_year = d.getYear() - <span class="hljs-number">100</span>;
    <span class="hljs-keyword">return</span> doubleDigitFormat(curr_mon) + <span class="hljs-string">"/"</span> + doubleDigitFormat(curr_day) +
        <span class="hljs-string">"/"</span> + doubleDigitFormat(curr_year)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormattedTime</span>(<span class="hljs-params">date</span>) </span>{
    <span class="hljs-keyword">var</span> d = (date ? date : <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>());
    <span class="hljs-keyword">var</span> curr_hour = d.getHours();
    <span class="hljs-keyword">var</span> curr_min = d.getMinutes();
    <span class="hljs-keyword">var</span> curr_sec = d.getSeconds();
    <span class="hljs-keyword">var</span> curr_msec = d.getMilliseconds();
    <span class="hljs-keyword">return</span> doubleDigitFormat(curr_hour) + <span class="hljs-string">":"</span> + doubleDigitFormat(curr_min) +
        <span class="hljs-string">":"</span> + doubleDigitFormat(curr_sec) + <span class="hljs-string">" ("</span> +
        tripleDigitFormat(curr_msec) + <span class="hljs-string">")"</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showGoToLine</span>(<span class="hljs-params">textAreaID</span>) </span>{
    <span class="hljs-keyword">var</span> e = gel(<span class="hljs-string">"go_to_"</span> + textAreaID)
    <span class="hljs-keyword">if</span> (e) {
        showObjectInline(e);
        gel(<span class="hljs-string">"go_to_input_"</span> + textAreaID).focus();
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gotoLineKeyPress</span>(<span class="hljs-params">evt, textAreaObject, input</span>) </span>{
    <span class="hljs-keyword">if</span> (evt.keyCode == <span class="hljs-number">13</span>) {
        Event.stop(evt);
        gotoLinePopup(textAreaObject, input.value);
        input.value = <span class="hljs-string">""</span>;
        hideObject(input.parentNode);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gotoLinePopup</span>(<span class="hljs-params">textAreaObject, lineText</span>) </span>{
    <span class="hljs-keyword">if</span> (lineText) {
        lineText = trim(lineText);
        <span class="hljs-keyword">if</span> (lineText) {
            <span class="hljs-keyword">var</span> line = <span class="hljs-built_in">parseInt</span>(lineText, <span class="hljs-number">10</span>);
            g_form._setCaretPositionLineColumn(textAreaObject, line, <span class="hljs-number">1</span>);
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBrowserWindowHeight</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.innerHeight;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBrowserWindowWidth</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.innerWidth;
}
<span class="hljs-keyword">var</span> WindowSize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">width</span>: getBrowserWindowWidth(),
        <span class="hljs-attr">height</span>: getBrowserWindowHeight()
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getScrollBarWidthPx</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> inner = cel(<span class="hljs-string">"p"</span>);
    inner.style.width = <span class="hljs-string">"100%"</span>;
    inner.style.height = <span class="hljs-string">"200px"</span>;
    <span class="hljs-keyword">var</span> outer = cel(<span class="hljs-string">"div"</span>);
    outer.style.position = <span class="hljs-string">"absolute"</span>;
    outer.style.top = <span class="hljs-string">"0px"</span>;
    outer.style.left = <span class="hljs-string">"0px"</span>;
    outer.style.visibility = <span class="hljs-string">"hidden"</span>;
    outer.style.width = <span class="hljs-string">"200px"</span>;
    outer.style.height = <span class="hljs-string">"150px"</span>;
    outer.style.overflow = <span class="hljs-string">"hidden"</span>;
    outer.appendChild(inner);
    <span class="hljs-built_in">document</span>.body.appendChild(outer);
    <span class="hljs-keyword">var</span> w1 = inner.offsetWidth;
    outer.style.overflow = <span class="hljs-string">"scroll"</span>;
    <span class="hljs-keyword">var</span> w2 = inner.offsetWidth;
    <span class="hljs-keyword">if</span> (w1 == w2)
        w2 = outer.clientWidth;
    <span class="hljs-built_in">document</span>.body.removeChild(outer);
    <span class="hljs-keyword">return</span> (w1 - w2);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showOpticsDebugger</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> mainWindow = getMainWindow();
    <span class="hljs-keyword">if</span> (mainWindow)
        mainWindow.CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_window_open'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">opticsLog</span>(<span class="hljs-params">tablename, fieldname, message, oldvalue, newvalue</span>) </span>{
    <span class="hljs-keyword">if</span> (tablename === <span class="hljs-string">"ni"</span>) {
        tablename = g_form.getUniqueValue();
        fieldname = g_form.resolveNameMap(fieldname) || fieldname;
    }
    <span class="hljs-keyword">var</span> info = {};
    info.table = tablename;
    info.field = fieldname;
    info.message = message;
    info.message_type = <span class="hljs-string">"static"</span>;
    <span class="hljs-keyword">if</span> (oldvalue &amp;&amp; newvalue) {
        info.oldvalue = oldvalue;
        info.newvalue = newvalue;
        info.message_type = <span class="hljs-string">"change"</span>;
    }
    info.type = <span class="hljs-string">'log'</span>;
    info.startTime = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">if</span> (g_form._pushAction)
        g_form._pushAction(info);
    CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_log_message'</span>, info);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/accessibility_tabindex.js */</span>
addLoadEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">'keydown'</span>, <span class="hljs-string">'*[tabindex], .glide_ref_item_link'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">if</span> (event.keyCode != Event.KEY_RETURN)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> element = event.element();
        <span class="hljs-keyword">if</span> (!element.hasAttribute(<span class="hljs-string">'tabindex'</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (element.click)
            element.click();
        event.stop();
    });
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> jQuery != <span class="hljs-string">'undefined'</span>) {
        jQuery(<span class="hljs-string">'[click-on-enter]'</span>).on(<span class="hljs-string">'keydown'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> keyCode = event.keyCode || event.which;
            <span class="hljs-keyword">if</span> (keyCode != <span class="hljs-number">13</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> $<span class="hljs-keyword">this</span> = jQuery(<span class="hljs-keyword">this</span>);
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                $<span class="hljs-keyword">this</span>.trigger(<span class="hljs-string">'click'</span>);
            }, <span class="hljs-number">200</span>);
        });
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/accessibility_readonly.js */</span>
addLateLoadEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">document</span>.body.on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'input.disabled'</span>, blockValueChange);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">blockValueChange</span>(<span class="hljs-params">evt, element</span>) </span>{
        <span class="hljs-keyword">var</span> type = element.type;
        <span class="hljs-keyword">if</span> (type.match(<span class="hljs-string">'radio|checkbox'</span>)) {
            element.checked = !element.checked;
            evt.stop();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/GlideURL.js */</span>
<span class="hljs-keyword">var</span> GlideURL = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">contextPath</span>) </span>{
        <span class="hljs-keyword">this</span>.contextPath = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.params = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.encodedString = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.encode = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.setFromString(contextPath ? contextPath : <span class="hljs-string">''</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope != <span class="hljs-string">'undefined'</span>)
            GlideTransactionScope.appendTransactionScope(<span class="hljs-keyword">this</span>.addParam.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">setFromCurrent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.setFromString(<span class="hljs-built_in">window</span>.location.href);
    },
    <span class="hljs-attr">setFromString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">href</span>) </span>{
        <span class="hljs-keyword">var</span> pos = href.indexOf(<span class="hljs-string">'?'</span>);
        <span class="hljs-keyword">if</span> (pos &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.contextPath = href;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.contextPath = href.slice(<span class="hljs-number">0</span>, pos);
        <span class="hljs-keyword">var</span> hashes = href.slice(pos + <span class="hljs-number">1</span>).split(<span class="hljs-string">'&amp;'</span>);
        <span class="hljs-keyword">var</span> i = hashes.length;
        <span class="hljs-keyword">while</span> (i--) {
            <span class="hljs-keyword">var</span> pos = hashes[i].indexOf(<span class="hljs-string">'='</span>);
            <span class="hljs-keyword">this</span>.params[hashes[i].substring(<span class="hljs-number">0</span>, pos)] = hashes[i].substring(++pos);
        }
    },
    <span class="hljs-attr">getContexPath</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.contextPath;
    },
    <span class="hljs-attr">getContextPath</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.contextPath;
    },
    <span class="hljs-attr">setContextPath</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">this</span>.contextPath = c;
    },
    <span class="hljs-attr">getParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.params[p];
    },
    <span class="hljs-attr">getParams</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.params;
    },
    <span class="hljs-attr">addParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">this</span>.params[name] = value;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">addToken</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span> &amp;&amp; g_ck != <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_ck'</span>, g_ck);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">deleteParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.params[name];
    },
    <span class="hljs-attr">addEncodedString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">if</span> (!s)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (s.substr(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) != <span class="hljs-string">"&amp;"</span>)
            <span class="hljs-keyword">this</span>.encodedString += <span class="hljs-string">"&amp;"</span>;
        <span class="hljs-keyword">this</span>.encodedString += s;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">getQueryString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">additionalParams</span>) </span>{
        qs = <span class="hljs-keyword">this</span>._getParamsForURL(<span class="hljs-keyword">this</span>.params);
        qs += <span class="hljs-keyword">this</span>._getParamsForURL(additionalParams);
        qs += <span class="hljs-keyword">this</span>.encodedString;
        <span class="hljs-keyword">if</span> (qs.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">return</span> qs.substring(<span class="hljs-number">1</span>);
    },
    <span class="hljs-attr">_getParamsForURL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">params</span>) </span>{
        <span class="hljs-keyword">if</span> (!params)
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> params) {
            <span class="hljs-keyword">var</span> p = params[n] || <span class="hljs-string">''</span>;
            url += <span class="hljs-string">'&amp;'</span> + n + <span class="hljs-string">'='</span> + (<span class="hljs-keyword">this</span>.encode ? <span class="hljs-keyword">this</span>._encodeUriQuery(p + <span class="hljs-string">''</span>) : p);
        }
        <span class="hljs-keyword">return</span> url;
    },
    <span class="hljs-attr">_encodeUriQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">encodeURIComponent</span>(val).
        replace(<span class="hljs-regexp">/%40/gi</span>, <span class="hljs-string">'@'</span>).
        replace(<span class="hljs-regexp">/%3A/gi</span>, <span class="hljs-string">':'</span>);
    },
    <span class="hljs-attr">getURL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">additionalParams</span>) </span>{
        <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">this</span>.contextPath;
        <span class="hljs-keyword">var</span> qs = <span class="hljs-keyword">this</span>.getQueryString(additionalParams);
        <span class="hljs-keyword">if</span> (qs)
            url += <span class="hljs-string">"?"</span> + qs;
        <span class="hljs-keyword">return</span> url;
    },
    <span class="hljs-attr">setEncode</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">this</span>.encode = b;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideURL'</span>;
    }
});
GlideURL.refresh = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">window</span>.location.replace(<span class="hljs-built_in">window</span>.location.href);
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/ga_batch/js_includes_batchedga.js */</span>
<span class="hljs-comment">/*! RESOURCE: /scripts/ga_batch/batchedGlideAjax.js */</span>
<span class="hljs-built_in">window</span>.NOW.batchedGlideAjax = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">batchedGlideAjax</span>(<span class="hljs-params">toProcess</span>) </span>{
    <span class="hljs-keyword">var</span> batchGA = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"AJAXXMLHttpAggregator"</span>);
    batchGA.disableRunInBatch();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">batchErrorHandler</span>(<span class="hljs-params">onCompletionFn</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"BatchedGlideAjax: Got error"</span>, error);
            toProcess.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ga</span>) </span>{
                handleChildResponseError({
                    <span class="hljs-attr">status</span>: <span class="hljs-number">500</span>,
                    <span class="hljs-attr">glideAjax</span>: ga,
                    <span class="hljs-attr">error</span>: <span class="hljs-string">"Batch failed"</span>
                });
            });
            <span class="hljs-keyword">if</span> (onCompletionFn)
                onCompletionFn([]);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">batchResponseHandler</span>(<span class="hljs-params">onCompletionFn</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"BatchedGlideAjax: Got response"</span>, response);
            <span class="hljs-keyword">if</span> (!response || !response.responseXML) {
                batchErrorHandler(onCompletionFn)(response);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> doc = response.responseXML.documentElement;
            <span class="hljs-keyword">if</span> (!doc || !doc.childNodes) {
                batchErrorHandler(onCompletionFn)(response);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> unprocessedGas = processIndividualResponses(<span class="hljs-built_in">Array</span>.prototype.slice.apply(doc.childNodes));
            <span class="hljs-keyword">if</span> (onCompletionFn)
                onCompletionFn(unprocessedGas);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processIndividualResponses</span>(<span class="hljs-params">nodes</span>) </span>{
        <span class="hljs-keyword">var</span> processedIndicies = [];
        nodes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">var</span> response = responseNode(node);
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span> (response.succeeded)
                    handleChildResponseSuccess(response);
                <span class="hljs-keyword">else</span>
                    handleChildResponseError(response);
            } <span class="hljs-keyword">catch</span> (e) {
                <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"BatchedGlideAjax: Error processing child response"</span>, response, <span class="hljs-string">":"</span>, e);
            } <span class="hljs-keyword">finally</span> {
                processedIndicies.push(response.queueIndex);
            }
        });
        <span class="hljs-keyword">return</span> toProcess.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ga, idx</span>) </span>{
            <span class="hljs-keyword">return</span> processedIndicies.indexOf(idx) &lt; <span class="hljs-number">0</span>;
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">responseNode</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> processorIdx = ~~node.getAttribute(<span class="hljs-string">"sysparm_processor_index"</span>);
        <span class="hljs-keyword">if</span> (processorIdx &lt; <span class="hljs-number">0</span> || processorIdx &gt;= toProcess.length) {
            <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"BatchedGlideAjax: Processor index "</span> + processorIdx + <span class="hljs-string">" out of bounds for batch queue"</span>, toProcess);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">var</span> ga = toProcess[processorIdx];
        <span class="hljs-keyword">var</span> status = ~~node.getAttribute(<span class="hljs-string">"status"</span>);
        <span class="hljs-keyword">var</span> error = node.getAttribute(<span class="hljs-string">"error"</span>);
        <span class="hljs-keyword">var</span> answer = node.getAttribute(<span class="hljs-string">"answer"</span>);
        <span class="hljs-keyword">var</span> responseDocument = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">queueIndex</span>: processorIdx,
            <span class="hljs-attr">status</span>: status,
            <span class="hljs-attr">error</span>: error,
            <span class="hljs-attr">answer</span>: answer,
            <span class="hljs-attr">glideAjax</span>: ga,
            <span class="hljs-attr">succeeded</span>: status &gt;= <span class="hljs-number">200</span> &amp;&amp; status &lt; <span class="hljs-number">300</span>,
            get responseDocument() {
                <span class="hljs-keyword">if</span> (responseDocument == <span class="hljs-literal">null</span>) {
                    responseDocument = <span class="hljs-built_in">document</span>.implementation.createDocument(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-literal">null</span>);
                    <span class="hljs-keyword">var</span> clonedNode = responseDocument.importNode(node, <span class="hljs-literal">true</span>);
                    responseDocument.appendChild(clonedNode);
                }
                <span class="hljs-keyword">return</span> responseDocument;
            }
        };
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleChildResponseError</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">var</span> errorObject = {
            <span class="hljs-attr">status</span>: response.status,
            <span class="hljs-attr">statusText</span>: response.error,
            <span class="hljs-attr">error</span>: response.error,
            <span class="hljs-attr">description</span>: response.error,
            <span class="hljs-attr">responseText</span>: response.error
        };
        <span class="hljs-keyword">var</span> ga = response.glideAjax;
        <span class="hljs-keyword">if</span> (ga.errorCallbackFunction)
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                ga.errorCallbackFunction(errorObject, ga.callbackArgs)
            }, <span class="hljs-number">0</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleChildResponseSuccess</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">var</span> ga = response.glideAjax;
        <span class="hljs-keyword">if</span> (!ga.callbackFunction)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (ga.wantAnswer) {
            <span class="hljs-keyword">var</span> answer = response.answer;
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                ga.callbackFunction(answer, ga.callbackArgs);
            }, <span class="hljs-number">0</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> requestObject = {
                <span class="hljs-attr">responseXML</span>: response.responseDocument,
                <span class="hljs-attr">status</span>: status
            };
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                ga.callbackFunction(requestObject, ga.callbackArgs)
            }, <span class="hljs-number">0</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addParamsToBatch</span>(<span class="hljs-params">params, index</span>) </span>{
        <span class="hljs-keyword">var</span> param;
        <span class="hljs-keyword">if</span> (!params)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">for</span> (param <span class="hljs-keyword">in</span> params) {
            <span class="hljs-keyword">if</span> (!params.hasOwnProperty(param))
                <span class="hljs-keyword">continue</span>;
            batchGA.addParam(index + <span class="hljs-string">'.'</span> + param, params[param]);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addCustomQueryStringToBatch</span>(<span class="hljs-params">qs, index</span>) </span>{
        <span class="hljs-keyword">if</span> (!qs)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (qs.startsWith(<span class="hljs-string">'?'</span>))
            qs = qs.substring(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">var</span> params = qs.split(<span class="hljs-string">'&amp;'</span>);
        params.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">param</span>) </span>{
            <span class="hljs-keyword">var</span> nameValuePair = param.split(<span class="hljs-string">'='</span>);
            <span class="hljs-keyword">var</span> name = <span class="hljs-built_in">decodeURIComponent</span>(nameValuePair[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">var</span> value = <span class="hljs-built_in">decodeURIComponent</span>(nameValuePair[<span class="hljs-number">1</span>]);
            batchGA.addParam(index + <span class="hljs-string">'.'</span> + name, value);
        });
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">execute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">unprocessedCallback</span>) </span>{
            toProcess.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ga, idx</span>) </span>{
                addParamsToBatch(ga.params, idx);
                addParamsToBatch(ga.additionalProcessorParams, idx);
                addCustomQueryStringToBatch(ga.postString, idx);
            });
            batchGA.addParam(<span class="hljs-string">"sysparm_aggregation_size"</span>, toProcess.length);
            batchGA.setErrorCallback(batchErrorHandler(unprocessedCallback));
            batchGA.getXML(batchResponseHandler(unprocessedCallback));
        }
    }
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/ga_batch/glideAjaxBatchQueue.js */</span>
<span class="hljs-built_in">window</span>.NOW.GlideAjaxBatchRequestQueue = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> queue = [];
    <span class="hljs-keyword">var</span> startProcessingTimeout;
    <span class="hljs-keyword">var</span> MAX_TIME_IN_QUEUE = <span class="hljs-built_in">window</span>.NOW.batch_glide_ajax_requests_max_time_in_queue || <span class="hljs-number">50</span>;
    <span class="hljs-keyword">if</span> (MAX_TIME_IN_QUEUE &lt; <span class="hljs-number">0</span>)
        MAX_TIME_IN_QUEUE = <span class="hljs-number">50</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processQueue</span>(<span class="hljs-params"></span>) </span>{
        clearProcessingTimeout();
        <span class="hljs-keyword">var</span> toProcess = queue.slice(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (toProcess.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> batchGa = <span class="hljs-built_in">window</span>.NOW.batchedGlideAjax(toProcess);
        batchGa.execute(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">requeueUnprocessed</span>(<span class="hljs-params">unprocessedGas</span>) </span>{
            queue = unprocessedGas.concat(queue);
            processQueue();
        });
        queue.length = <span class="hljs-number">0</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearProcessingTimeout</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (startProcessingTimeout) {
            clearTimeout(startProcessingTimeout);
            startProcessingTimeout = <span class="hljs-literal">undefined</span>;
        }
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">enqueue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">glideAjax</span>) </span>{
            queue.push(glideAjax);
            <span class="hljs-keyword">if</span> (!startProcessingTimeout)
                startProcessingTimeout = setTimeout(processQueue, MAX_TIME_IN_QUEUE);
        },
        <span class="hljs-attr">processQueue</span>: processQueue
    }
})();;;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/GlideAjax.js */</span>
<span class="hljs-keyword">var</span> GlideAjax = Class.create(GlideURL, {
    <span class="hljs-attr">URL</span>: <span class="hljs-string">"xmlhttp.do"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initialize</span>(<span class="hljs-params">$super, processor, url</span>) </span>{
        <span class="hljs-keyword">var</span> u = <span class="hljs-keyword">this</span>.URL;
        <span class="hljs-keyword">if</span> (url)
            u = url;
        $<span class="hljs-keyword">super</span>(u);
        <span class="hljs-keyword">this</span>.setProcessor(processor);
        <span class="hljs-keyword">this</span>.callbackFunction;
        <span class="hljs-keyword">this</span>.callbackArgs;
        <span class="hljs-keyword">this</span>.additionalProcessorParams;
        <span class="hljs-keyword">this</span>.errorCallbackFunction;
        <span class="hljs-keyword">this</span>.wantRequestObject = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.setScope(<span class="hljs-string">"global"</span>);
        <span class="hljs-keyword">this</span>.setWantSessionMessages(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope != <span class="hljs-string">'undefined'</span>)
            GlideTransactionScope.appendTransactionScope(<span class="hljs-keyword">this</span>.addParam.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">this</span>.runRequestInBatch = <span class="hljs-built_in">window</span>.NOW.batch_glide_ajax_requests;
    },
    <span class="hljs-attr">disableRunInBatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.runRequestInBatch = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getProcessor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.processor;
    },
    <span class="hljs-attr">getAnswer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span>.requestObject &amp;&amp; <span class="hljs-keyword">this</span>.requestObject.responseXML))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.requestObject.responseXML.documentElement.getAttribute(<span class="hljs-string">"answer"</span>);
    },
    <span class="hljs-attr">setProcessor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p</span>) </span>{
        <span class="hljs-keyword">this</span>.processor = p;
        <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">"sysparm_processor"</span>, p);
    },
    <span class="hljs-attr">setQueryString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">qs</span>) </span>{
        <span class="hljs-keyword">this</span>.queryString = qs;
    },
    <span class="hljs-attr">preventLoadingIcon</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._preventLoadingIcon = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">preventCancelNotification</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._suppressCancelNotification = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">getXMLWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">additionalParams</span>) </span>{
        <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">"sysparm_synch"</span>, <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">this</span>.additionalProcessorParams = additionalParams;
        <span class="hljs-keyword">this</span>.async = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
        <span class="hljs-keyword">this</span>._makeRequest();
        <span class="hljs-keyword">var</span> m = <span class="hljs-string">"*** WARNING *** GlideAjax.getXMLWait - synchronous function - processor: "</span> + <span class="hljs-keyword">this</span>.processor
        sw.jslog(m);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.console &amp;&amp; <span class="hljs-built_in">window</span>.console.log)
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"%c "</span> + m, <span class="hljs-string">'background: darkred; color: white;'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.requestObject.status != <span class="hljs-number">200</span>)
            <span class="hljs-keyword">this</span>._handleError();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._responseReceived();
    },
    <span class="hljs-attr">getXML</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback, additionalParams, responseParams</span>) </span>{
        <span class="hljs-keyword">this</span>.wantAnswer = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._getXML0(callback, additionalParams, responseParams);
    },
    <span class="hljs-attr">getXMLAnswer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback, additionalParams, responseParams</span>) </span>{
        <span class="hljs-keyword">this</span>.wantAnswer = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._getXML0(callback, additionalParams, responseParams);
    },
    <span class="hljs-attr">_getXML0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback, additionalParams, responseParams</span>) </span>{
        <span class="hljs-keyword">this</span>.callbackFunction = callback;
        <span class="hljs-keyword">this</span>.callbackArgs = responseParams;
        <span class="hljs-keyword">this</span>.additionalProcessorParams = additionalParams;
        <span class="hljs-keyword">this</span>.async = <span class="hljs-literal">true</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>._makeRequest();
        }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">_makeRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.requestObject = <span class="hljs-keyword">this</span>._getRequestObject();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.requestObject == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (!GlideAjax.want_session_messages)
            <span class="hljs-keyword">this</span>.setWantSessionMessages(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">var</span> refUrl = <span class="hljs-keyword">this</span>._buildReferringURL();
        <span class="hljs-keyword">if</span> (refUrl != <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'ni.nolog.x_referer'</span>, <span class="hljs-string">'ignore'</span>);
            <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'x_referer'</span>, refUrl);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_autoRequest != <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-string">'true'</span> == g_autoRequest)
            <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_auto_request'</span>, g_autoRequest);
        <span class="hljs-keyword">this</span>.postString = <span class="hljs-keyword">this</span>.getQueryString(<span class="hljs-keyword">this</span>.additionalProcessorParams);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.queryString) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.postString)
                <span class="hljs-keyword">this</span>.postString += <span class="hljs-string">"&amp;"</span>;
            <span class="hljs-keyword">this</span>.postString += <span class="hljs-keyword">this</span>.queryString;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isEligibleForBatching())
            <span class="hljs-keyword">this</span>._enqueueBatchRequest();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>._sendRequest();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.requestObject;
    },
    <span class="hljs-attr">_isEligibleForBatching</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.async &amp;&amp;
            <span class="hljs-keyword">this</span>.runRequestInBatch &amp;&amp;
            <span class="hljs-built_in">window</span>.NOW.batch_glide_ajax_requests &amp;&amp;
            <span class="hljs-keyword">this</span>.contextPath === <span class="hljs-keyword">this</span>.URL;
    },
    <span class="hljs-attr">_enqueueBatchRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW &amp;&amp; <span class="hljs-built_in">window</span>.NOW.GlideAjaxBatchRequestQueue)
            <span class="hljs-built_in">window</span>.NOW.GlideAjaxBatchRequestQueue.enqueue(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"GlideAjaxBatchRequestQueue not available, falling back to immediate dispatch"</span>);
            <span class="hljs-built_in">console</span>.debug(<span class="hljs-string">"Add scripts/ga_batch/js_includes_batchga.js to your page to enable batching"</span>);
            <span class="hljs-keyword">this</span>._sendRequest();
        }
    },
    <span class="hljs-attr">_sendRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._showLoading();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.async)
            <span class="hljs-keyword">this</span>.requestObject.onreadystatechange = <span class="hljs-keyword">this</span>._processReqChange.bind(<span class="hljs-keyword">this</span>);
        CustomEvent.fireTop(<span class="hljs-string">"request_start"</span>, <span class="hljs-built_in">document</span>);
        <span class="hljs-keyword">this</span>.requestObject.open(<span class="hljs-string">"POST"</span>, <span class="hljs-keyword">this</span>.contextPath, <span class="hljs-keyword">this</span>.async);
        <span class="hljs-keyword">this</span>.requestObject.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/x-www-form-urlencoded; charset=UTF-8'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span> &amp;&amp; g_ck != <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.requestObject.setRequestHeader(<span class="hljs-string">'X-UserToken'</span>, g_ck);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>.requestObject.send(<span class="hljs-keyword">this</span>.postString);
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.async || (<span class="hljs-keyword">this</span>.callbackFunction == <span class="hljs-literal">null</span>))
            <span class="hljs-keyword">this</span>._hideLoading();
    },
    <span class="hljs-attr">_processReqChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.requestObject.readyState != <span class="hljs-number">4</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.requestObject.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
        <span class="hljs-keyword">this</span>._hideLoading();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._errorCheck()) {
            <span class="hljs-keyword">this</span>._responseReceived();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">this</span>._handleError();
        } <span class="hljs-keyword">catch</span> (e) {
            jslog(<span class="hljs-string">"GlideAjax error: "</span> + e);
        }
    },
    <span class="hljs-attr">_errorCheck</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._cancelErrorXML = <span class="hljs-keyword">this</span>._getCancelError();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._getResponseCode() != <span class="hljs-number">200</span> || <span class="hljs-keyword">this</span>._wasCanceled();
    },
    <span class="hljs-attr">_handle401Error</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (getTopWindow().loggingOut)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> sessionLoggedIn = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-SessionLoggedIn"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> != sessionLoggedIn) {
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.confirm(<span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"ajax_session_timeout_goto_login_confirm"</span>))) {
                getTopWindow().location.href = <span class="hljs-string">"/navpage.do"</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> allowResubmit = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-UserToken-AllowResubmit"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> == allowResubmit) {
                <span class="hljs-keyword">var</span> autoResubmit = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-AutoResubmit"</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> == autoResubmit) {
                    <span class="hljs-keyword">this</span>._sendRequest();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.confirm(<span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"ajax_session_timeout_resubmit_request_confirm"</span>))) {
                    <span class="hljs-keyword">this</span>._sendRequest();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> == sessionLoggedIn)
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"ajax_session_timeout_refresh_screen"</span>);
                <span class="hljs-keyword">if</span> (!msg)
                    msg = <span class="hljs-string">"Your session has expired. Click OK to continue."</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.confirm(msg)) {
                    getTopWindow().location.href = <span class="hljs-string">"/navpage.do"</span>;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_handleError</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> responseCode = <span class="hljs-keyword">this</span>._getResponseCode();
        <span class="hljs-keyword">if</span> (responseCode == <span class="hljs-number">401</span>) {
            <span class="hljs-keyword">var</span> requestedToken = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-UserToken-Request"</span>);
            <span class="hljs-keyword">var</span> respondedToken = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-UserToken-Response"</span>);
            <span class="hljs-keyword">if</span> (requestedToken &amp;&amp; respondedToken &amp;&amp; requestedToken != respondedToken)
                CustomEvent.fireAll(<span class="hljs-string">"ck_updated"</span>, respondedToken);
            <span class="hljs-keyword">var</span> handleTimeOut = <span class="hljs-keyword">this</span>.requestObject.getResponseHeader(<span class="hljs-string">"X-HandleTimeOut"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> == handleTimeOut)
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._handle401Error())
                    <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (responseCode == <span class="hljs-number">404</span> &amp;&amp; <span class="hljs-keyword">this</span>._outOfScope()) {
            <span class="hljs-keyword">var</span> err_options = {
                <span class="hljs-attr">text</span>: <span class="hljs-string">"Access to Script Include "</span> + <span class="hljs-keyword">this</span>.processor + <span class="hljs-string">" blocked from scope: "</span> + (<span class="hljs-keyword">this</span>.getParam(<span class="hljs-string">"sysparm_scope"</span>) ? <span class="hljs-keyword">this</span>.getParam(<span class="hljs-string">"sysparm_scope"</span>) : <span class="hljs-string">"global"</span>),
                <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
                <span class="hljs-attr">attributes</span>: {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
                }
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideUI != <span class="hljs-string">'undefined'</span>)
                GlideUI.get().fire(<span class="hljs-keyword">new</span> GlideUINotification(err_options));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._wasCanceled() &amp;&amp; <span class="hljs-keyword">this</span>.callbackFunction &amp;&amp; !<span class="hljs-keyword">this</span>._getSuppressCancelNotification()) {
            <span class="hljs-keyword">var</span> err_options = {
                <span class="hljs-attr">text</span>: <span class="hljs-keyword">this</span>._getCancelErrorText(),
                <span class="hljs-attr">type</span>: <span class="hljs-string">"system"</span>,
                <span class="hljs-attr">attributes</span>: {
                    <span class="hljs-attr">type</span>: <span class="hljs-string">"error"</span>
                }
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideUI != <span class="hljs-string">'undefined'</span>)
                GlideUI.get().fire(<span class="hljs-keyword">new</span> GlideUINotification(err_options));
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.errorCallbackFunction)
            <span class="hljs-keyword">this</span>.errorCallbackFunction(<span class="hljs-keyword">this</span>.requestObject, <span class="hljs-keyword">this</span>.callbackArgs);
    },
    <span class="hljs-attr">_getRequestObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> req = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.XMLHttpRequest)
            req = <span class="hljs-keyword">new</span> XMLHttpRequest();
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.ActiveXObject)
            req = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Microsoft.XMLHTTP"</span>);
        <span class="hljs-keyword">return</span> req;
    },
    <span class="hljs-attr">_getResponseCode</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.requestObject.status;
    },
    <span class="hljs-attr">_wasCanceled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._cancelErrorXML)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">this</span>._cancelErrorXML.getAttribute(<span class="hljs-string">'transaction_canceled'</span>);
        <span class="hljs-keyword">return</span> answer == <span class="hljs-string">'true'</span>;
    },
    <span class="hljs-attr">_getSuppressCancelNotification</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._suppressCancelNotification)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._cancelErrorXML) {
            <span class="hljs-keyword">var</span> suppress = <span class="hljs-keyword">this</span>._cancelErrorXML.getAttribute(<span class="hljs-string">"suppress_notification"</span>);
            <span class="hljs-keyword">if</span> (suppress &amp;&amp; suppress == <span class="hljs-string">'true'</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_getCancelErrorText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._cancelErrorXML) {
            <span class="hljs-keyword">var</span> cancelMessage = <span class="hljs-keyword">this</span>._cancelErrorXML.getAttribute(<span class="hljs-string">'cancel_message'</span>);
            <span class="hljs-keyword">if</span> (cancelMessage)
                <span class="hljs-keyword">return</span> cancelMessage;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Information could not be downloaded from the server because the transaction was canceled."</span>;
    },
    <span class="hljs-attr">_getCancelError</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> xml = <span class="hljs-keyword">this</span>.requestObject.responseXML;
        <span class="hljs-keyword">if</span> (!xml) {
            <span class="hljs-keyword">var</span> responseText = <span class="hljs-keyword">this</span>.requestObject.responseText;
            <span class="hljs-keyword">var</span> errorPattern = <span class="hljs-regexp">/&lt;xml?[^&gt;]*id="transaction_canceled_island"?[^&gt;]*&gt;/</span>;
            <span class="hljs-keyword">var</span> matches = responseText.match(errorPattern);
            <span class="hljs-keyword">if</span> (!matches)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            xml = loadXML(matches[<span class="hljs-number">0</span>]);
        }
        <span class="hljs-keyword">return</span> xml.documentElement;
    },
    <span class="hljs-attr">_outOfScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> callerScope = <span class="hljs-keyword">this</span>.getParam(<span class="hljs-string">"sysparm_scope"</span>) ? <span class="hljs-keyword">this</span>.getParam(<span class="hljs-string">"sysparm_scope"</span>) : <span class="hljs-string">"global"</span>;
        <span class="hljs-keyword">var</span> isAppScope = callerScope != <span class="hljs-string">"global"</span>;
        <span class="hljs-keyword">return</span> isAppScope &amp;&amp; <span class="hljs-keyword">this</span>.requestObject.responseXML.documentElement.getAttribute(<span class="hljs-string">"error"</span>).indexOf(<span class="hljs-string">"HTTP Processor class not found"</span>) == <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">_responseReceived</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        lastActivity = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        CustomEvent.fireTop(<span class="hljs-string">"request_complete"</span>, <span class="hljs-built_in">document</span>);
        <span class="hljs-keyword">this</span>._fireUINotifications();
        <span class="hljs-keyword">this</span>._showSessionNotifications();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.callbackFunction) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.wantAnswer)
                <span class="hljs-keyword">this</span>.callbackFunction(<span class="hljs-keyword">this</span>.getAnswer(), <span class="hljs-keyword">this</span>.callbackArgs);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.callbackFunction(<span class="hljs-keyword">this</span>.requestObject, <span class="hljs-keyword">this</span>.callbackArgs);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.wantRequestObject)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.requestObject;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.requestObject ? <span class="hljs-keyword">this</span>.requestObject.responseXML : <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_showLoading</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preventLoadingIcon)
            CustomEvent.fireAll(<span class="hljs-string">"ajax.loading.start"</span>, <span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_hideLoading</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._preventLoadingIcon &amp;&amp; <span class="hljs-built_in">window</span>.CustomEvent)
            CustomEvent.fireAll(<span class="hljs-string">"ajax.loading.end"</span>, <span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_buildReferringURL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> path = location.pathname;
        <span class="hljs-keyword">var</span> args = location.search;
        <span class="hljs-keyword">if</span> (path.substring(path.length - <span class="hljs-number">1</span>) == <span class="hljs-string">'/'</span>) {
            <span class="hljs-keyword">if</span> (args)
                <span class="hljs-keyword">return</span> args;
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">return</span> path.substring(path.lastIndexOf(<span class="hljs-string">'/'</span>) + <span class="hljs-number">1</span>) + args;
    },
    <span class="hljs-attr">_fireUINotifications</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.requestObject || !<span class="hljs-keyword">this</span>.requestObject.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> notifications = <span class="hljs-keyword">this</span>.requestObject.responseXML.getElementsByTagName(<span class="hljs-string">'ui_notifications'</span>);
        <span class="hljs-keyword">if</span> (!notifications || notifications.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> spans = notifications[<span class="hljs-number">0</span>].childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
            <span class="hljs-keyword">var</span> span = spans[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideUI != <span class="hljs-string">'undefined'</span>)
                GlideUI.get().fire(<span class="hljs-keyword">new</span> GlideUINotification({
                    <span class="hljs-attr">xml</span>: span
                }));
        }
        $(<span class="hljs-built_in">document</span>).fire(<span class="hljs-string">'glide-notification:clear'</span>, {
            <span class="hljs-attr">spans</span>: spans
        });
    },
    <span class="hljs-attr">_showSessionNotifications</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.requestObject || !<span class="hljs-keyword">this</span>.requestObject.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> notifications = <span class="hljs-keyword">this</span>.requestObject.responseXML.getElementsByTagName(<span class="hljs-string">'session_notifications'</span>);
        <span class="hljs-keyword">if</span> (!notifications || notifications.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> spans = notifications[<span class="hljs-number">0</span>].childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
            <span class="hljs-keyword">var</span> span = spans[i];
            <span class="hljs-keyword">var</span> type = span.getAttribute(<span class="hljs-string">"data-type"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideUI != <span class="hljs-string">'undefined'</span>) {
                <span class="hljs-keyword">if</span> (type !== <span class="hljs-string">'nav'</span>)
                    GlideUI.get().addOutputMessage({
                        <span class="hljs-attr">msg</span>: span.getAttribute(<span class="hljs-string">"data-text"</span>),
                        <span class="hljs-attr">type</span>: type
                    });
            }
        }
    },
    <span class="hljs-attr">setScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>) </span>{
        <span class="hljs-keyword">if</span> (scope) {
            <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_scope'</span>, scope);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">setErrorCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
        <span class="hljs-keyword">this</span>.errorCallbackFunction = callback;
    },
    <span class="hljs-attr">setWantRequestObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">want</span>) </span>{
        <span class="hljs-keyword">this</span>.wantRequestObject = want;
    },
    <span class="hljs-attr">setWantSessionMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">want</span>) </span>{
        <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_want_session_messages'</span>, want);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideAjax"</span>;
    }
});
GlideAjax.disableSessionMessages = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    GlideAjax.want_session_messages = <span class="hljs-literal">false</span>;
};
GlideAjax.enableSessionMessages = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    GlideAjax.want_session_messages = <span class="hljs-literal">true</span>;
};
GlideAjax.enableSessionMessages();;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/GlideAjaxForm.js */</span>
<span class="hljs-keyword">var</span> GlideAjaxForm = Class.create(GlideAjax, {
    <span class="hljs-attr">PROCESSOR</span>: <span class="hljs-string">'RenderInfo'</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, templateName</span>) </span>{
        $<span class="hljs-keyword">super</span>(<span class="hljs-keyword">this</span>.PROCESSOR);
        <span class="hljs-keyword">this</span>._formPreferences = {};
        <span class="hljs-keyword">this</span>._templateName = templateName;
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'renderer'</span>, <span class="hljs-string">'RenderForm'</span>);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'type'</span>, <span class="hljs-string">'direct'</span>);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'table'</span>, templateName);
        <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_name'</span>, templateName);
        <span class="hljs-keyword">this</span>.addParam(<span class="hljs-string">'sysparm_value'</span>, <span class="hljs-keyword">this</span>.getSysparmValue());
    },
    <span class="hljs-attr">getRenderedBodyText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
        <span class="hljs-keyword">this</span>._renderedBodyCallback = callback;
        <span class="hljs-keyword">this</span>.getXML(<span class="hljs-keyword">this</span>._parseTemplate.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">_parseTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        s = response.responseText;
        s = s.substring(s.indexOf(<span class="hljs-string">'&lt;rendered_body&gt;'</span>) + <span class="hljs-number">15</span>);
        s = s.substring(<span class="hljs-number">0</span>, s.indexOf(<span class="hljs-string">'&lt;/rendered_body&gt;'</span>));
        s = s.replace(<span class="hljs-regexp">/&amp;lt;/g</span>, <span class="hljs-string">"&lt;"</span>).replace(<span class="hljs-regexp">/&amp;gt;/g</span>, <span class="hljs-string">"&gt;"</span>).replace(<span class="hljs-regexp">/&amp;amp;/g</span>, <span class="hljs-string">"&amp;"</span>).replace(<span class="hljs-regexp">/&amp;apos;/g</span>, <span class="hljs-string">"'"</span>);
        <span class="hljs-keyword">this</span>._renderedBodyCallback(s);
    },
    <span class="hljs-attr">setPreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">k, v</span>) </span>{
        <span class="hljs-keyword">this</span>._formPreferences[k] = v;
    },
    <span class="hljs-attr">getPreferences</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._formPreferences;
    },
    <span class="hljs-attr">getSysparmValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> gxml = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'gxml'</span>);
        <span class="hljs-keyword">var</span> sec = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'section'</span>);
        sec.setAttribute(<span class="hljs-string">'name'</span>, <span class="hljs-keyword">this</span>._templateName);
        gxml.appendChild(sec);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._formPreferences) {
            <span class="hljs-keyword">var</span> e = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'preference'</span>);
            e.setAttribute(<span class="hljs-string">'name'</span>, i);
            e.setAttribute(<span class="hljs-string">'value'</span>, <span class="hljs-keyword">this</span>._formPreferences[i]);
            sec.appendChild(e);
        }
        <span class="hljs-keyword">return</span> gxml.innerHTML;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideAjaxForm'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/calendar.js */</span>
<span class="hljs-keyword">var</span> MONTH_NAMES = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'January'</span>, <span class="hljs-string">'February'</span>, <span class="hljs-string">'March'</span>, <span class="hljs-string">'April'</span>, <span class="hljs-string">'May'</span>, <span class="hljs-string">'June'</span>, <span class="hljs-string">'July'</span>, <span class="hljs-string">'August'</span>, <span class="hljs-string">'September'</span>, <span class="hljs-string">'October'</span>, <span class="hljs-string">'November'</span>, <span class="hljs-string">'December'</span>, <span class="hljs-string">'Jan'</span>, <span class="hljs-string">'Feb'</span>, <span class="hljs-string">'Mar'</span>, <span class="hljs-string">'Apr'</span>, <span class="hljs-string">'May'</span>, <span class="hljs-string">'Jun'</span>, <span class="hljs-string">'Jul'</span>, <span class="hljs-string">'Aug'</span>, <span class="hljs-string">'Sep'</span>, <span class="hljs-string">'Oct'</span>, <span class="hljs-string">'Nov'</span>, <span class="hljs-string">'Dec'</span>);
<span class="hljs-keyword">var</span> DAY_NAMES = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'Sunday'</span>, <span class="hljs-string">'Monday'</span>, <span class="hljs-string">'Tuesday'</span>, <span class="hljs-string">'Wednesday'</span>, <span class="hljs-string">'Thursday'</span>, <span class="hljs-string">'Friday'</span>, <span class="hljs-string">'Saturday'</span>, <span class="hljs-string">'Sun'</span>, <span class="hljs-string">'Mon'</span>, <span class="hljs-string">'Tue'</span>, <span class="hljs-string">'Wed'</span>, <span class="hljs-string">'Thu'</span>, <span class="hljs-string">'Fri'</span>, <span class="hljs-string">'Sat'</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LZ</span>(<span class="hljs-params">x</span>) </span>{
    <span class="hljs-keyword">return</span> (x &lt; <span class="hljs-number">0</span> || x &gt; <span class="hljs-number">9</span> ? <span class="hljs-string">""</span> : <span class="hljs-string">"0"</span>) + x
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDate</span>(<span class="hljs-params">val, format</span>) </span>{
    <span class="hljs-keyword">var</span> date = getDateFromFormat(val, format);
    <span class="hljs-keyword">if</span> (date == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareDates</span>(<span class="hljs-params">date1, dateformat1, date2, dateformat2</span>) </span>{
    <span class="hljs-keyword">var</span> d1 = getDateFromFormat(date1, dateformat1);
    <span class="hljs-keyword">var</span> d2 = getDateFromFormat(date2, dateformat2);
    <span class="hljs-keyword">if</span> (d1 == <span class="hljs-number">0</span> || d2 == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d1 &gt; d2) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatDateServer</span>(<span class="hljs-params">date, format</span>) </span>{
    <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"DateTimeUtils"</span>);
    ga.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"formatCalendarDate"</span>);
    <span class="hljs-keyword">var</span> browserOffset = date.getTimezoneOffset() * <span class="hljs-number">60000</span>;
    <span class="hljs-keyword">var</span> utcTime = date.getTime() - browserOffset;
    <span class="hljs-keyword">var</span> userDateTime = utcTime - g_tz_offset;
    ga.addParam(<span class="hljs-string">"sysparm_value"</span>, userDateTime);
    ga.getXMLWait();
    <span class="hljs-keyword">return</span> ga.getAnswer();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatDate</span>(<span class="hljs-params">date, format</span>) </span>{
    <span class="hljs-keyword">if</span> (format.indexOf(<span class="hljs-string">"z"</span>) &gt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> formatDateServer(date, format);
    format = format + <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> result = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> i_format = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> c = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> token = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> y = date.getYear() + <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> M = date.getMonth() + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> d = date.getDate();
    <span class="hljs-keyword">var</span> E = date.getDay();
    <span class="hljs-keyword">var</span> H = date.getHours();
    <span class="hljs-keyword">var</span> m = date.getMinutes();
    <span class="hljs-keyword">var</span> s = date.getSeconds();
    <span class="hljs-keyword">var</span> yyyy, yy, MMM, MM, dd, hh, h, mm, ss, ampm, HH, H, KK, K, kk, k;
    <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    value[<span class="hljs-string">"M"</span>] = M;
    value[<span class="hljs-string">"MM"</span>] = LZ(M);
    value[<span class="hljs-string">"MMM"</span>] = MONTH_NAMES[M + <span class="hljs-number">11</span>];
    value[<span class="hljs-string">"NNN"</span>] = MONTH_NAMES[M + <span class="hljs-number">11</span>];
    value[<span class="hljs-string">"MMMM"</span>] = MONTH_NAMES[M - <span class="hljs-number">1</span>];
    value[<span class="hljs-string">"d"</span>] = d;
    value[<span class="hljs-string">"dd"</span>] = LZ(d);
    value[<span class="hljs-string">"E"</span>] = DAY_NAMES[E + <span class="hljs-number">7</span>];
    value[<span class="hljs-string">"EE"</span>] = DAY_NAMES[E];
    value[<span class="hljs-string">"H"</span>] = H;
    value[<span class="hljs-string">"HH"</span>] = LZ(H);
    <span class="hljs-keyword">if</span> (format.indexOf(<span class="hljs-string">'w'</span>) != <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">var</span> wk = date.getWeek();
        <span class="hljs-keyword">if</span> (wk &gt;= <span class="hljs-number">52</span> &amp;&amp; M == <span class="hljs-number">1</span>) {
            y = date.getYear();
            y--;
            y = y + <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">if</span> (wk == <span class="hljs-number">1</span> &amp;&amp; M == <span class="hljs-number">12</span>) {
            y = date.getYear();
            y++;
            y = y + <span class="hljs-string">""</span>;
        }
        value[<span class="hljs-string">"w"</span>] = wk;
        value[<span class="hljs-string">"ww"</span>] = LZ(wk);
    }
    <span class="hljs-keyword">var</span> dayOfWeek = (<span class="hljs-number">7</span> + (E + <span class="hljs-number">1</span>) - (g_first_day_of_week - <span class="hljs-number">1</span>)) % <span class="hljs-number">7</span>;
    <span class="hljs-keyword">if</span> (dayOfWeek == <span class="hljs-number">0</span>)
        dayOfWeek = <span class="hljs-number">7</span>;
    value[<span class="hljs-string">"D"</span>] = dayOfWeek;
    <span class="hljs-keyword">if</span> (y.length &lt; <span class="hljs-number">4</span>) {
        y = <span class="hljs-string">""</span> + (y - <span class="hljs-number">0</span> + <span class="hljs-number">1900</span>);
    }
    value[<span class="hljs-string">"y"</span>] = <span class="hljs-string">""</span> + y;
    value[<span class="hljs-string">"yyyy"</span>] = y;
    value[<span class="hljs-string">"yy"</span>] = y.substring(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>);
    <span class="hljs-keyword">if</span> (H == <span class="hljs-number">0</span>) {
        value[<span class="hljs-string">"h"</span>] = <span class="hljs-number">12</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (H &gt; <span class="hljs-number">12</span>) {
        value[<span class="hljs-string">"h"</span>] = H - <span class="hljs-number">12</span>;
    } <span class="hljs-keyword">else</span> {
        value[<span class="hljs-string">"h"</span>] = H;
    }
    value[<span class="hljs-string">"hh"</span>] = LZ(value[<span class="hljs-string">"h"</span>]);
    <span class="hljs-keyword">if</span> (H &gt; <span class="hljs-number">11</span>) {
        value[<span class="hljs-string">"K"</span>] = H - <span class="hljs-number">12</span>;
    } <span class="hljs-keyword">else</span> {
        value[<span class="hljs-string">"K"</span>] = H;
    }
    value[<span class="hljs-string">"k"</span>] = H + <span class="hljs-number">1</span>;
    value[<span class="hljs-string">"KK"</span>] = LZ(value[<span class="hljs-string">"K"</span>]);
    value[<span class="hljs-string">"kk"</span>] = LZ(value[<span class="hljs-string">"k"</span>]);
    <span class="hljs-keyword">if</span> (H &gt; <span class="hljs-number">11</span>) {
        value[<span class="hljs-string">"a"</span>] = <span class="hljs-string">"PM"</span>;
    } <span class="hljs-keyword">else</span> {
        value[<span class="hljs-string">"a"</span>] = <span class="hljs-string">"AM"</span>;
    }
    value[<span class="hljs-string">"m"</span>] = m;
    value[<span class="hljs-string">"mm"</span>] = LZ(m);
    value[<span class="hljs-string">"s"</span>] = s;
    value[<span class="hljs-string">"ss"</span>] = LZ(s);
    <span class="hljs-keyword">while</span> (i_format &lt; format.length) {
        c = format.charAt(i_format);
        token = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">while</span> ((format.charAt(i_format) == c) &amp;&amp; (i_format &lt; format.length)) {
            token += format.charAt(i_format++);
        }
        <span class="hljs-keyword">if</span> (value[token] != <span class="hljs-literal">null</span>) {
            result = result + value[token];
        } <span class="hljs-keyword">else</span> {
            result = result + token;
        }
    }
    <span class="hljs-keyword">return</span> result;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_isInteger</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">var</span> digits = <span class="hljs-string">"1234567890"</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; val.length; i++) {
        <span class="hljs-keyword">if</span> (digits.indexOf(val.charAt(i)) == <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_getInt</span>(<span class="hljs-params">str, i, minlength, maxlength</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = maxlength; x &gt;= minlength; x--) {
        <span class="hljs-keyword">var</span> token = str.substring(i, i + x);
        <span class="hljs-keyword">if</span> (token.length &lt; minlength) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (_isInteger(token)) {
            <span class="hljs-keyword">return</span> token;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
<span class="hljs-built_in">Date</span>.prototype.getWeek = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> newYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.getFullYear(), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> day = newYear.getDay() - (g_first_day_of_week - <span class="hljs-number">1</span>);
    day = (day &gt;= <span class="hljs-number">0</span> ? day : day + <span class="hljs-number">7</span>);
    <span class="hljs-keyword">var</span> dayNum = <span class="hljs-built_in">Math</span>.floor((<span class="hljs-keyword">this</span>.getTime() - newYear.getTime() - (<span class="hljs-keyword">this</span>.getTimezoneOffset() - newYear.getTimezoneOffset()) * <span class="hljs-number">60000</span>) / <span class="hljs-number">86400000</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> weekNum;
    <span class="hljs-keyword">if</span> (day &lt; <span class="hljs-number">4</span>) {
        weekNum = <span class="hljs-built_in">Math</span>.floor((dayNum + day - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>) + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (weekNum &gt; <span class="hljs-number">52</span>)
            weekNum = <span class="hljs-keyword">this</span>._checkNextYear(weekNum);
        <span class="hljs-keyword">return</span> weekNum;
    }
    weekNum = <span class="hljs-built_in">Math</span>.floor((dayNum + day - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>);
    <span class="hljs-keyword">if</span> (weekNum &lt; <span class="hljs-number">1</span>)
        weekNum = <span class="hljs-keyword">this</span>._lastWeekOfYear();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (weekNum &gt; <span class="hljs-number">52</span>)
        weekNum = <span class="hljs-keyword">this</span>._checkNextYear(weekNum);
    <span class="hljs-keyword">return</span> weekNum;
}
<span class="hljs-built_in">Date</span>.prototype._lastWeekOfYear = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> newYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.getFullYear() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> endOfYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.getFullYear() - <span class="hljs-number">1</span>, <span class="hljs-number">11</span>, <span class="hljs-number">31</span>);
    <span class="hljs-keyword">var</span> day = newYear.getDay() - (g_first_day_of_week - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> dayNum = <span class="hljs-built_in">Math</span>.floor((endOfYear.getTime() - newYear.getTime() - (endOfYear.getTimezoneOffset() - newYear.getTimezoneOffset()) * <span class="hljs-number">60000</span>) / <span class="hljs-number">86400000</span>) + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> day &lt; <span class="hljs-number">4</span> ? <span class="hljs-built_in">Math</span>.floor((dayNum + day - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>) + <span class="hljs-number">1</span> : <span class="hljs-built_in">Math</span>.floor((dayNum + day - <span class="hljs-number">1</span>) / <span class="hljs-number">7</span>);
}
<span class="hljs-built_in">Date</span>.prototype._checkNextYear = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> nYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.getFullYear() + <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> nDay = nYear.getDay() - (g_first_day_of_week - <span class="hljs-number">1</span>);
    nDay = nDay &gt;= <span class="hljs-number">0</span> ? nDay : nDay + <span class="hljs-number">7</span>;
    <span class="hljs-keyword">return</span> nDay &lt; <span class="hljs-number">4</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">53</span>;
}
<span class="hljs-built_in">Date</span>.prototype.setWeek = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">weekNum</span>) </span>{
    weekNum--;
    <span class="hljs-keyword">var</span> startOfYear = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-keyword">this</span>.getFullYear(), <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> day = startOfYear.getDay() - (g_first_day_of_week - <span class="hljs-number">1</span>);
    <span class="hljs-keyword">if</span> (day &gt; <span class="hljs-number">0</span> &amp;&amp; day &lt; <span class="hljs-number">4</span>) {
        <span class="hljs-keyword">this</span>.setFullYear(startOfYear.getFullYear() - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.setDate(<span class="hljs-number">31</span> - day + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">this</span>.setMonth(<span class="hljs-number">11</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (day &gt; <span class="hljs-number">3</span>)
        <span class="hljs-keyword">this</span>.setDate(startOfYear.getDate() + (<span class="hljs-number">7</span> - day));
    <span class="hljs-keyword">this</span>.setDate(<span class="hljs-keyword">this</span>.getDate() + (<span class="hljs-number">7</span> * weekNum));
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDateFromFormat</span>(<span class="hljs-params">val, format</span>) </span>{
    val = val + <span class="hljs-string">""</span>;
    format = format + <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> i_val = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> i_format = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> c = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> token = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> token2 = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> x, y;
    <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">var</span> year = now.getYear();
    <span class="hljs-keyword">var</span> month = now.getMonth() + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> date = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> hh = now.getHours();
    <span class="hljs-keyword">var</span> mm = now.getMinutes();
    <span class="hljs-keyword">var</span> ss = now.getSeconds();
    <span class="hljs-keyword">var</span> ampm = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> week = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">while</span> (i_format &lt; format.length) {
        c = format.charAt(i_format);
        token = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">while</span> ((format.charAt(i_format) == c) &amp;&amp; (i_format &lt; format.length)) {
            token += format.charAt(i_format++);
        }
        <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"yyyy"</span> || token == <span class="hljs-string">"yy"</span> || token == <span class="hljs-string">"y"</span>) {
            <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"yyyy"</span>) {
                x = <span class="hljs-number">4</span>;
                y = <span class="hljs-number">4</span>;
            }
            <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"yy"</span>) {
                x = <span class="hljs-number">2</span>;
                y = <span class="hljs-number">2</span>;
            }
            <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"y"</span>) {
                x = <span class="hljs-number">2</span>;
                y = <span class="hljs-number">4</span>;
            }
            year = _getInt(val, i_val, x, y);
            <span class="hljs-keyword">if</span> (year == <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += year.length;
            <span class="hljs-keyword">if</span> (year.length == <span class="hljs-number">2</span>) {
                <span class="hljs-keyword">if</span> (year &gt; <span class="hljs-number">70</span>) {
                    year = <span class="hljs-number">1900</span> + (year - <span class="hljs-number">0</span>);
                } <span class="hljs-keyword">else</span> {
                    year = <span class="hljs-number">2000</span> + (year - <span class="hljs-number">0</span>);
                }
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"MMM"</span> || token == <span class="hljs-string">"NNN"</span>) {
            month = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; MONTH_NAMES.length; i++) {
                <span class="hljs-keyword">var</span> month_name = MONTH_NAMES[i];
                <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + month_name.length).toLowerCase() == month_name.toLowerCase()) {
                    <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"MMM"</span> || (token == <span class="hljs-string">"NNN"</span> &amp;&amp; i &gt; <span class="hljs-number">11</span>)) {
                        month = i + <span class="hljs-number">1</span>;
                        <span class="hljs-keyword">if</span> (month &gt; <span class="hljs-number">12</span>) {
                            month -= <span class="hljs-number">12</span>;
                        }
                        i_val += month_name.length;
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            <span class="hljs-keyword">if</span> ((month &lt; <span class="hljs-number">1</span>) || (month &gt; <span class="hljs-number">12</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"EE"</span> || token == <span class="hljs-string">"E"</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; DAY_NAMES.length; i++) {
                <span class="hljs-keyword">var</span> day_name = DAY_NAMES[i];
                <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + day_name.length).toLowerCase() == day_name.toLowerCase()) {
                    <span class="hljs-keyword">if</span> (week) {
                        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> || i == <span class="hljs-number">7</span>)
                            date += <span class="hljs-number">6</span>;
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">2</span> || i == <span class="hljs-number">9</span>)
                            date += <span class="hljs-number">1</span>;
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">3</span> || i == <span class="hljs-number">10</span>)
                            date += <span class="hljs-number">2</span>;
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">4</span> || i == <span class="hljs-number">11</span>)
                            date += <span class="hljs-number">3</span>;
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span> || i == <span class="hljs-number">12</span>)
                            date += <span class="hljs-number">4</span>;
                        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i == <span class="hljs-number">6</span> || i == <span class="hljs-number">13</span>)
                            date += <span class="hljs-number">5</span>;
                    }
                    i_val += day_name.length;
                    <span class="hljs-keyword">break</span>;
                }
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"MM"</span> || token == <span class="hljs-string">"M"</span>) {
            month = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (month == <span class="hljs-literal">null</span> || (month &lt; <span class="hljs-number">1</span>) || (month &gt; <span class="hljs-number">12</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += month.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"dd"</span> || token == <span class="hljs-string">"d"</span>) {
            date = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (date == <span class="hljs-literal">null</span> || (date &lt; <span class="hljs-number">1</span>) || (date &gt; <span class="hljs-number">31</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += date.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"hh"</span> || token == <span class="hljs-string">"h"</span>) {
            hh = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">1</span>) || (hh &gt; <span class="hljs-number">12</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += hh.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"HH"</span> || token == <span class="hljs-string">"H"</span>) {
            hh = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">0</span>) || (hh &gt; <span class="hljs-number">23</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += hh.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"KK"</span> || token == <span class="hljs-string">"K"</span>) {
            hh = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">0</span>) || (hh &gt; <span class="hljs-number">11</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += hh.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"kk"</span> || token == <span class="hljs-string">"k"</span>) {
            hh = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">1</span>) || (hh &gt; <span class="hljs-number">24</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += hh.length;
            hh--;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"mm"</span> || token == <span class="hljs-string">"m"</span>) {
            mm = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (mm == <span class="hljs-literal">null</span> || (mm &lt; <span class="hljs-number">0</span>) || (mm &gt; <span class="hljs-number">59</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += mm.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"ss"</span> || token == <span class="hljs-string">"s"</span>) {
            ss = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">if</span> (ss == <span class="hljs-literal">null</span> || (ss &lt; <span class="hljs-number">0</span>) || (ss &gt; <span class="hljs-number">59</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += ss.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"a"</span>) {
            <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + <span class="hljs-number">2</span>).toLowerCase() == <span class="hljs-string">"am"</span>) {
                ampm = <span class="hljs-string">"AM"</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + <span class="hljs-number">2</span>).toLowerCase() == <span class="hljs-string">"pm"</span>) {
                ampm = <span class="hljs-string">"PM"</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
            i_val += <span class="hljs-number">2</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"w"</span> || token == <span class="hljs-string">"ww"</span>) {
            <span class="hljs-keyword">var</span> weekNum = _getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
            week = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (weekNum != <span class="hljs-literal">null</span>) {
                <span class="hljs-keyword">var</span> temp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
                temp.setWeek(<span class="hljs-built_in">parseInt</span>(weekNum, <span class="hljs-number">10</span>));
                year = temp.getFullYear();
                month = temp.getMonth() + <span class="hljs-number">1</span>;
                date = temp.getDate();
            }
            weekNum += <span class="hljs-string">""</span>;
            i_val += weekNum.length;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"D"</span>) {
            <span class="hljs-keyword">if</span> (week) {
                <span class="hljs-keyword">var</span> day = _getInt(val, i_val, token.length, <span class="hljs-number">1</span>);
                <span class="hljs-keyword">if</span> ((day == <span class="hljs-literal">null</span>) || (day &lt;= <span class="hljs-number">0</span>) || (day &gt; <span class="hljs-number">7</span>))
                    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
                <span class="hljs-keyword">var</span> temp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month - <span class="hljs-number">1</span>, date, hh, mm, ss);
                <span class="hljs-keyword">var</span> dayOfWeek = temp.getDay();
                day = <span class="hljs-built_in">parseInt</span>(day, <span class="hljs-number">10</span>);
                day = (day + g_first_day_of_week - <span class="hljs-number">1</span>) % <span class="hljs-number">7</span>;
                <span class="hljs-keyword">if</span> (day == <span class="hljs-number">0</span>)
                    day = <span class="hljs-number">7</span>;
                day--;
                <span class="hljs-keyword">if</span> (day &lt; dayOfWeek)
                    day = <span class="hljs-number">7</span> - (dayOfWeek - day);
                <span class="hljs-keyword">else</span>
                    day -= dayOfWeek;
                <span class="hljs-keyword">if</span> (day &gt; <span class="hljs-number">0</span>) {
                    temp.setDate(temp.getDate() + day);
                    year = temp.getFullYear();
                    month = temp.getMonth() + <span class="hljs-number">1</span>;
                    date = temp.getDate();
                }
                i_val++;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"z"</span>)
            i_val += <span class="hljs-number">3</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + token.length) != token) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            } <span class="hljs-keyword">else</span> {
                i_val += token.length;
            }
        }
    }
    <span class="hljs-keyword">if</span> (i_val != val.length) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">if</span> (month == <span class="hljs-number">2</span>) {
        <span class="hljs-keyword">if</span> (((year % <span class="hljs-number">4</span> == <span class="hljs-number">0</span>) &amp;&amp; (year % <span class="hljs-number">100</span> != <span class="hljs-number">0</span>)) || (year % <span class="hljs-number">400</span> == <span class="hljs-number">0</span>)) {
            <span class="hljs-keyword">if</span> (date &gt; <span class="hljs-number">29</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (date &gt; <span class="hljs-number">28</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            }
        }
    }
    <span class="hljs-keyword">if</span> ((month == <span class="hljs-number">4</span>) || (month == <span class="hljs-number">6</span>) || (month == <span class="hljs-number">9</span>) || (month == <span class="hljs-number">11</span>)) {
        <span class="hljs-keyword">if</span> (date &gt; <span class="hljs-number">30</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
    }
    <span class="hljs-keyword">if</span> (hh &lt; <span class="hljs-number">12</span> &amp;&amp; ampm == <span class="hljs-string">"PM"</span>) {
        hh = hh - <span class="hljs-number">0</span> + <span class="hljs-number">12</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (hh &gt; <span class="hljs-number">11</span> &amp;&amp; ampm == <span class="hljs-string">"AM"</span>) {
        hh -= <span class="hljs-number">12</span>;
    }
    <span class="hljs-keyword">var</span> newdate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(year, month - <span class="hljs-number">1</span>, date, hh, mm, ss);
    <span class="hljs-keyword">return</span> newdate.getTime();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseDate</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">var</span> preferEuro = (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">2</span>) ? <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>] : <span class="hljs-literal">false</span>;
    generalFormats = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'y-M-d'</span>, <span class="hljs-string">'MMM d, y'</span>, <span class="hljs-string">'MMM d,y'</span>, <span class="hljs-string">'y-MMM-d'</span>, <span class="hljs-string">'d-MMM-y'</span>, <span class="hljs-string">'MMM d'</span>);
    monthFirst = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'M/d/y'</span>, <span class="hljs-string">'M-d-y'</span>, <span class="hljs-string">'M.d.y'</span>, <span class="hljs-string">'MMM-d'</span>, <span class="hljs-string">'M/d'</span>, <span class="hljs-string">'M-d'</span>);
    dateFirst = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'d/M/y'</span>, <span class="hljs-string">'d-M-y'</span>, <span class="hljs-string">'d.M.y'</span>, <span class="hljs-string">'d-MMM'</span>, <span class="hljs-string">'d/M'</span>, <span class="hljs-string">'d-M'</span>);
    yearFirst = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'yyyyw.F'</span>, <span class="hljs-string">'yyw.F'</span>);
    <span class="hljs-keyword">var</span> checkList = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-string">'generalFormats'</span>, preferEuro ? <span class="hljs-string">'dateFirst'</span> : <span class="hljs-string">'monthFirst'</span>, preferEuro ? <span class="hljs-string">'monthFirst'</span> : <span class="hljs-string">'dateFirst'</span>, <span class="hljs-string">'yearFirst'</span>);
    <span class="hljs-keyword">var</span> d = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; checkList.length; i++) {
        <span class="hljs-keyword">var</span> l = <span class="hljs-built_in">window</span>[checkList[i]];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; l.length; j++) {
            d = getDateFromFormat(val, l[j]);
            <span class="hljs-keyword">if</span> (d != <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(d);
            }
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDurationString</span>(<span class="hljs-params">ms</span>) </span>{
    <span class="hljs-keyword">var</span> sec = <span class="hljs-built_in">Math</span>.floor(ms / <span class="hljs-number">1000</span>),
        s = <span class="hljs-string">''</span>,
        days = <span class="hljs-built_in">Math</span>.floor(sec / <span class="hljs-number">86400</span>);
    <span class="hljs-keyword">if</span> (days &gt;= <span class="hljs-number">1</span>) {
        s += days + <span class="hljs-string">' day'</span> + (days &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>);
        sec -= days * <span class="hljs-number">86400</span>;
    }
    <span class="hljs-keyword">var</span> hours = <span class="hljs-built_in">Math</span>.floor(sec / <span class="hljs-number">3600</span>);
    <span class="hljs-keyword">if</span> (hours &gt;= <span class="hljs-number">1</span>) {
        s += (days &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">' '</span> : <span class="hljs-string">''</span>) + hours + <span class="hljs-string">' hour'</span> + (hours &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>);
        sec -= hours * <span class="hljs-number">3600</span>;
    }
    <span class="hljs-keyword">var</span> min = <span class="hljs-built_in">Math</span>.floor(sec / <span class="hljs-number">60</span>);
    <span class="hljs-keyword">if</span> (days == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (min &gt;= <span class="hljs-number">1</span>) {
            s += (hours &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">' '</span> : <span class="hljs-string">''</span>) + min + <span class="hljs-string">' minute'</span> + (min &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>);
            <span class="hljs-keyword">if</span> (hours &lt; <span class="hljs-number">1</span>) {
                sec -= min * <span class="hljs-number">60</span>;
                <span class="hljs-keyword">if</span> (sec &gt; <span class="hljs-number">0</span> &amp;&amp; min &lt;= <span class="hljs-number">10</span>)
                    s += <span class="hljs-string">' '</span> + sec + <span class="hljs-string">' second'</span> + (sec &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>);
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (hours == <span class="hljs-number">0</span> &amp;&amp; sec &gt; <span class="hljs-number">0</span>)
            s += sec + <span class="hljs-string">' second'</span> + (sec &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>);
    }
    <span class="hljs-keyword">return</span> s;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUserDateTime</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> browserDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">var</span> browserOffset = browserDate.getTimezoneOffset() * <span class="hljs-number">60000</span>;
    <span class="hljs-keyword">var</span> utcTime = browserDate.getTime() + browserOffset;
    <span class="hljs-keyword">var</span> userDateTime = utcTime + g_tz_offset;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(userDateTime);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertUtcTimeToUserTimeMs</span>(<span class="hljs-params">utcTimeMs</span>) </span>{
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(utcTimeMs) + (d.getTimezoneOffset() * <span class="hljs-number">60000</span>) + g_tz_offset;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">convertUserTimeToUtcTimeMs</span>(<span class="hljs-params">userTimeMs</span>) </span>{
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(userTimeMs) - (d.getTimezoneOffset() * <span class="hljs-number">60000</span>) - g_tz_offset;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/functions_clipboard.js */</span>
<span class="hljs-built_in">window</span>.NOW = <span class="hljs-built_in">window</span>.NOW || {};
<span class="hljs-built_in">window</span>.NOW.g_clipboard = {};
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">exports</span>) </span>{
    <span class="hljs-keyword">var</span> browserReturnsErroneousStatus = navigator.userAgent.indexOf(<span class="hljs-string">'MSIE 9'</span>) != <span class="hljs-number">-1</span> ||
        navigator.userAgent.indexOf(<span class="hljs-string">'MSIE 10'</span>) != <span class="hljs-number">-1</span> ||
        navigator.userAgent.indexOf(<span class="hljs-string">'rv:11'</span>) != <span class="hljs-number">-1</span>;
    exports.copyToClipboard = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, messageMethod</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.execCommand &amp;&amp; isCapableMessageMethod(messageMethod)) {
            <span class="hljs-keyword">var</span> v = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'textarea'</span>);
            v.innerHTML = str;
            v.className = <span class="hljs-string">"sr-only"</span>;
            <span class="hljs-built_in">document</span>.body.appendChild(v);
            v.select();
            <span class="hljs-keyword">var</span> result = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">try</span> {
                result = <span class="hljs-built_in">document</span>.execCommand(<span class="hljs-string">'copy'</span>);
                <span class="hljs-keyword">if</span> (result &amp;&amp; browserReturnsErroneousStatus) {
                    <span class="hljs-keyword">var</span> checkDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'textarea'</span>);
                    checkDiv.className = <span class="hljs-string">"sr-only"</span>;
                    <span class="hljs-built_in">document</span>.body.appendChild(checkDiv);
                    checkDiv.select();
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-built_in">document</span>.execCommand(<span class="hljs-string">'paste'</span>);
                        result = checkDiv.value == str;
                    } <span class="hljs-keyword">finally</span> {
                        <span class="hljs-built_in">document</span>.body.removeChild(checkDiv);
                    }
                }
            } <span class="hljs-keyword">catch</span> (e) {
                result = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.jslog)
                    jslog(<span class="hljs-string">"Couldn't access clipboard "</span> + e);
            } <span class="hljs-keyword">finally</span> {
                <span class="hljs-built_in">document</span>.body.removeChild(v);
            }
            <span class="hljs-keyword">if</span> (result) {
                fireCopiedMessage(messageMethod);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        legacyClipboardCopy(str);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isCapableMessageMethod</span>(<span class="hljs-params">messageMethod</span>) </span>{
        <span class="hljs-keyword">if</span> (messageMethod == <span class="hljs-string">'custom'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideUI'</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireCopiedMessage</span>(<span class="hljs-params">messageMethod</span>) </span>{
        <span class="hljs-keyword">if</span> (!messageMethod || messageMethod == <span class="hljs-string">'GlideUI'</span>) {
            <span class="hljs-keyword">var</span> span = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'span'</span>);
            span.setAttribute(<span class="hljs-string">'data-type'</span>, <span class="hljs-string">'info'</span>);
            span.setAttribute(<span class="hljs-string">'data-text'</span>, <span class="hljs-string">'Copied to clipboard'</span>);
            span.setAttribute(<span class="hljs-string">'data-duration'</span>, <span class="hljs-string">'2500'</span>);
            GlideUI.get().fire(<span class="hljs-keyword">new</span> GlideUINotification({
                <span class="hljs-attr">xml</span>: span
            }));
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">legacyClipboardCopy</span>(<span class="hljs-params">meintext</span>) </span>{
        prompt(<span class="hljs-string">"Because of a browser limitation the URL can not be placed directly in the clipboard. "</span> +
            <span class="hljs-string">"Please use Ctrl-C to copy the data and escape to dismiss this dialog"</span>, meintext);
    }
})(<span class="hljs-built_in">window</span>.NOW.g_clipboard);;
<span class="hljs-comment">/*! RESOURCE: /scripts/context_actions.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">switchView</span>(<span class="hljs-params">type, tableName, viewName</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/classes/GlideViewManager.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'list'</span>)
            <span class="hljs-keyword">new</span> GlideViewManager(tableName, viewName).refreshList();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">new</span> GlideViewManager(tableName, viewName).refreshDetail();
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copyRowToClipboard</span>(<span class="hljs-params">base, ref, sysId, view</span>) </span>{
    <span class="hljs-keyword">var</span> url = base + <span class="hljs-string">"nav_to.do?uri="</span> + ref + <span class="hljs-string">".do?sys_id="</span> + sysId;
    <span class="hljs-keyword">if</span> (view)
        url += <span class="hljs-string">"%26sysparm_view="</span> + view;
    copyToClipboard(url);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doUpdate</span>(<span class="hljs-params">scope</span>) </span>{
    <span class="hljs-keyword">var</span> name = gActiveContext.getTableName();
    <span class="hljs-keyword">var</span> temp = name + <span class="hljs-string">'_update.do'</span>;
    <span class="hljs-keyword">var</span> form = getControlForm(name);
    <span class="hljs-keyword">var</span> msg = [<span class="hljs-string">'There are no rows selected'</span>, <span class="hljs-string">'Update the entire list?'</span>, <span class="hljs-string">'records'</span>];
    <span class="hljs-keyword">var</span> answer = getMessages(msg);
    <span class="hljs-keyword">if</span> (scope == <span class="hljs-string">'selected'</span> &amp;&amp; getChecked(form) == <span class="hljs-string">''</span>) {
        alert(answer[<span class="hljs-string">'There are no rows selected'</span>]);
        <span class="hljs-keyword">return</span>;
    }
    form.action = temp;
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action'</span>, <span class="hljs-string">'sysverb_multiple_update'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_multiple'</span>, <span class="hljs-string">'true'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_nostack'</span>, <span class="hljs-string">'yes'</span>);
    <span class="hljs-keyword">if</span> (scope == <span class="hljs-string">'selected'</span>)
        populateParmQuery(form, <span class="hljs-string">'sys_idIN'</span>, <span class="hljs-string">'NULL'</span>);
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (!confirm(answer[<span class="hljs-string">'Update the entire list?'</span>] + <span class="hljs-string">" ("</span> +
                form.sysparm_total_rows.value + <span class="hljs-string">" "</span> + answer[<span class="hljs-string">'records'</span>] + <span class="hljs-string">")"</span>)) {
            <span class="hljs-keyword">return</span>;
        }
    }
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextAction</span>(<span class="hljs-params">tableName, actionName</span>) </span>{
    <span class="hljs-keyword">var</span> form = getControlForm(tableName);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action'</span>, actionName);
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">contextConfirm</span>(<span class="hljs-params">tableName, actionName</span>) </span>{
    <span class="hljs-keyword">var</span> sysparm_rows = gel(<span class="hljs-string">'sysparm_total_rows'</span>).value;
    <span class="hljs-keyword">var</span> num_rows = <span class="hljs-built_in">parseInt</span>(sysparm_rows);
    <span class="hljs-keyword">var</span> sysparm_query = gel(<span class="hljs-string">'sysparm_query'</span>);
    <span class="hljs-keyword">if</span> (sysparm_query)
        sysparm_query = sysparm_query.value;
    <span class="hljs-keyword">else</span>
        sysparm_query = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> sysparm_view = getView(tableName);
    <span class="hljs-keyword">if</span> (num_rows &lt; g_export_warn_threshold) {
        <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GwtPollDialog(tableName, sysparm_query, sysparm_rows, sysparm_view, actionName);
        dialog.execute();
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GwtExportScheduleDialog(tableName, sysparm_query, sysparm_rows, sysparm_view, actionName);
    dialog.execute();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executeRecentSearch</span>(<span class="hljs-params">searchTerm, url</span>) </span>{
    parent.document.getElementById(<span class="hljs-string">'sysparm_search'</span>).value = <span class="hljs-built_in">decodeURIComponent</span>(searchTerm);
    <span class="hljs-built_in">window</span>.open(url, <span class="hljs-string">'gsft_main'</span>);
    CustomEvent.fire(<span class="hljs-string">'adjustsearch'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getView</span>(<span class="hljs-params">tableName</span>) </span>{
    <span class="hljs-keyword">var</span> sysparm_view = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (isReport()) {
        <span class="hljs-keyword">var</span> form = getControlForm(tableName);
        <span class="hljs-keyword">if</span> (form) {
            <span class="hljs-keyword">var</span> temp = form[<span class="hljs-string">'sysparm_view'</span>];
            <span class="hljs-keyword">if</span> (temp)
                sysparm_view = temp.value;
        }
    }
    <span class="hljs-keyword">if</span> (sysparm_view != <span class="hljs-string">''</span>)
        <span class="hljs-keyword">return</span> sysparm_view;
    <span class="hljs-keyword">var</span> sp = gel(<span class="hljs-string">'sysparm_view'</span>);
    <span class="hljs-keyword">if</span> (sp)
        sysparm_view = sp.value;
    <span class="hljs-keyword">return</span> sysparm_view;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isReport</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> list = gel(<span class="hljs-string">'reportform_control'</span>);
        <span class="hljs-keyword">if</span> (list)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
<span class="hljs-keyword">var</span> copyToClipboard = <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.NOW.g_clipboard !== <span class="hljs-string">'undefined'</span> ? <span class="hljs-built_in">window</span>.NOW.g_clipboard.copyToClipboard : <span class="hljs-literal">null</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showQuickForm</span>(<span class="hljs-params">id, action, width, height</span>) </span>{
    <span class="hljs-keyword">var</span> form;
    <span class="hljs-keyword">var</span> tableName;
    <span class="hljs-keyword">var</span> srcElement;
    <span class="hljs-keyword">var</span> keyset;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.lastEvent) {
        srcElement = getSrcElement(<span class="hljs-built_in">window</span>.lastEvent);
        form = srcElement.form;
        <span class="hljs-keyword">if</span> (srcElement.tagName == <span class="hljs-string">"SELECT"</span>) {
            <span class="hljs-keyword">var</span> o = srcElement.options[srcElement.selectedIndex];
            tableName = o.getAttribute(<span class="hljs-string">"table"</span>);
        } <span class="hljs-keyword">else</span>
            tableName = srcElement.getAttribute(<span class="hljs-string">"table"</span>);
        <span class="hljs-keyword">if</span> ((action == <span class="hljs-literal">undefined</span> || action == <span class="hljs-string">''</span>) &amp;&amp; srcElement.value)
            action = srcElement.value;
        <span class="hljs-keyword">if</span> (!form)
            keyset = g_list.getChecked();
        <span class="hljs-keyword">else</span>
            keyset = getChecked(form);
        <span class="hljs-built_in">window</span>.lastEvent = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">if</span> (tableName == <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(gcm) == <span class="hljs-string">'undefined'</span>)
            gcm = crumbMenu;
        tableName = gcm.getTableName();
        form = getFormForList(tableName);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(rowSysId) != <span class="hljs-string">'undefined'</span>)
            keyset = rowSysId;
        <span class="hljs-keyword">else</span>
            keyset = getChecked(form);
        gcm.setFiringObject();
    }
    <span class="hljs-keyword">if</span> ((!form &amp;&amp; !tableName) || (!tableName &amp;&amp; g_list))
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!keyset || keyset == <span class="hljs-string">''</span>) {
        alert(<span class="hljs-string">"No records selected"</span>);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> gForm = <span class="hljs-keyword">new</span> GlideDialogForm(<span class="hljs-string">""</span>, tableName + <span class="hljs-string">"_update"</span>);
    <span class="hljs-keyword">if</span> (width &amp;&amp; height)
        gForm.setDialogSize(width, height);
    gForm.addParm(<span class="hljs-string">'sysparm_view'</span>, id);
    gForm.setMultiple(form);
    gForm.addParm(<span class="hljs-string">'sysparm_checked_items'</span>, <span class="hljs-string">"sys_idIN"</span> + keyset);
    <span class="hljs-keyword">if</span> (action &amp;&amp; action != <span class="hljs-string">''</span>)
        gForm.addParm(<span class="hljs-string">'sysparm_action_name'</span>, action);
    gForm.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeResponses</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> parts = id.split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">var</span> mytable = parts[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> myfield = parts[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">var</span> myreferurl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'sysparm_this_url_enc'</span>);
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">"response_list.do?sysparm_name="</span> + mytable +
        <span class="hljs-string">"&amp;sysparm_element="</span> + myfield +
        <span class="hljs-string">"&amp;sysparm_target="</span> + id +
        <span class="hljs-string">"&amp;sysparm_view=sys_response_tailor"</span>;
    <span class="hljs-keyword">if</span> (myreferurl)
        url += <span class="hljs-string">"&amp;sysparm_referring_url="</span> + myreferurl.value;
    self.location = url;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeChoices</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> mytable = id.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> mydependent = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'ni.dependent_reverse.'</span> + id);
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideURL(<span class="hljs-string">"slushbucket_choice.do"</span>);
    url.addParam(<span class="hljs-string">'sysparm_ref'</span>, id);
    url.addParam(<span class="hljs-string">'sysparm_form'</span>, <span class="hljs-string">'sys_choice'</span>);
    url.addParam(<span class="hljs-string">'sysparm_dependent'</span>, (mydependent ? mydependent.value : <span class="hljs-string">""</span>));
    url.addParam(<span class="hljs-string">'sysparm_stack'</span>, <span class="hljs-string">'no'</span>);
    <span class="hljs-keyword">if</span> (mydependent != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> el = <span class="hljs-built_in">document</span>.getElementsByName(mytable + <span class="hljs-string">"."</span> + mydependent.value)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (el != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> selectValue;
            <span class="hljs-keyword">if</span> (el.options)
                selectValue = el.options[el.selectedIndex].value;
            <span class="hljs-keyword">else</span>
                selectValue = el.value;
            url.addParam(<span class="hljs-string">'sysparm_dependent_value'</span>, selectValue);
        }
    }
    self.location = url.getURL();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeControl</span>(<span class="hljs-params">strIdent, id, query</span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">'sys_ui_list_control.do?sys_id='</span> + id;
    <span class="hljs-keyword">if</span> (query &amp;&amp; query != <span class="hljs-string">''</span>)
        url += <span class="hljs-string">"&amp;sysparm_query="</span> + query;
    <span class="hljs-built_in">window</span>.location = url;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizer</span>(<span class="hljs-params">strIdent, strForm, strSysId</span>) </span>{
    <span class="hljs-keyword">if</span> (strIdent == <span class="hljs-string">'auto'</span> &amp;&amp; <span class="hljs-built_in">window</span>.$j) {
        strIdent = $j(<span class="hljs-string">'[data-section-id]'</span>).first().attr(<span class="hljs-string">'data-section-id'</span>);
    }
    <span class="hljs-keyword">var</span> parentForm = getControlForm(strIdent);
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    <span class="hljs-keyword">if</span> (parentForm &amp;&amp; parentForm[<span class="hljs-string">'sysparm_collection_relationship'</span>])
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection_relationship'</span>, parentForm[<span class="hljs-string">'sysparm_collection_relationship'</span>].value);
    <span class="hljs-keyword">else</span>
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection_relationship'</span>, <span class="hljs-string">''</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_list'</span>, strIdent);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_form'</span>, strForm);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_sys_id'</span>, strSysId);
    <span class="hljs-keyword">if</span> (parentForm &amp;&amp; parentForm[<span class="hljs-string">'sysparm_collection'</span>])
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection'</span>, parentForm[<span class="hljs-string">'sysparm_collection'</span>].value);
    <span class="hljs-keyword">var</span> scopeElement = gel(<span class="hljs-string">'sysparm_domain_scope'</span>);
    <span class="hljs-keyword">if</span> (scopeElement &amp;&amp; scopeElement.value) {
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_domain_scope'</span>, scopeElement.value);
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope != <span class="hljs-string">'undefined'</span>) {
        GlideTransactionScope.appendTransactionScope(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, name, value);
        });
    }
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeList</span>(<span class="hljs-params">listId, tableName</span>) </span>{
    <span class="hljs-keyword">var</span> parentForm = getFormForList(listId);
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    <span class="hljs-keyword">if</span> (parentForm &amp;&amp; parentForm[<span class="hljs-string">'sysparm_collection_relationship'</span>])
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection_relationship'</span>, parentForm[<span class="hljs-string">'sysparm_collection_relationship'</span>].value);
    <span class="hljs-keyword">else</span>
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection_relationship'</span>, <span class="hljs-string">''</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_list'</span>, tableName);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_form'</span>, <span class="hljs-string">'list'</span>);
    <span class="hljs-keyword">if</span> (parentForm &amp;&amp; parentForm[<span class="hljs-string">'sysparm_collection'</span>])
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection'</span>, parentForm[<span class="hljs-string">'sysparm_collection'</span>].value);
    <span class="hljs-keyword">else</span>
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_collection'</span>, <span class="hljs-string">''</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> GlideTransactionScope !== <span class="hljs-string">'undefined'</span>) {
        GlideTransactionScope.appendTransactionScope(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
            addInput(form, <span class="hljs-string">'HIDDEN'</span>, name, value);
        });
    }
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeField</span>(<span class="hljs-params">identifier, formName</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    <span class="hljs-keyword">var</span> fields = <span class="hljs-string">'name.element.language'</span>;
    <span class="hljs-keyword">if</span> (formName &amp;&amp; formName.indexOf(<span class="hljs-string">'sys_dictionary'</span>) == <span class="hljs-number">0</span>)
        fields = <span class="hljs-string">'name.element'</span>;
    addQueryFilter(form, fields, identifier, <span class="hljs-string">''</span>, formName);
    form.action = formName;
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeFields</span>(<span class="hljs-params">identifier, formName</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    addQueryFilter(form, <span class="hljs-string">'name'</span>, identifier);
    form.action = formName;
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">personalizeSecurity</span>(<span class="hljs-params">identifier, field_name</span>) </span>{
    <span class="hljs-keyword">var</span> a = field_name.split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">var</span> g_dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'security_mechanic'</span>);
    g_dialog.setPreference(<span class="hljs-string">'table_name'</span>, a[<span class="hljs-number">0</span>]);
    g_dialog.setPreference(<span class="hljs-string">'field_name'</span>, a[<span class="hljs-number">1</span>]);
    g_dialog.setSize(<span class="hljs-number">600</span>, <span class="hljs-string">''</span>);
    g_dialog.setTitle(<span class="hljs-string">'Security Mechanic'</span>);
    g_dialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showDictionary</span>(<span class="hljs-params">identifier, field_id</span>) </span>{
    <span class="hljs-keyword">var</span> a = field_id.split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">var</span> g_dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'dictionary_viewer'</span>);
    g_dialog.setPreference(<span class="hljs-string">'table_name'</span>, a[<span class="hljs-number">0</span>]);
    g_dialog.setPreference(<span class="hljs-string">'field_name'</span>, a[<span class="hljs-number">1</span>]);
    g_dialog.setTitle(<span class="hljs-string">'Dictionary Info: '</span> + field_id);
    g_dialog.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listSecurity</span>(<span class="hljs-params">identifier, field_name</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    addQueryFilter(form, <span class="hljs-string">'CALCULATED:SecurityQueryCalculator'</span>, field_name);
    form.action = <span class="hljs-string">"sys_security_acl_list.do"</span>;
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listCollection</span>(<span class="hljs-params">coll_table, coll_field, of_table, view_name</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[<span class="hljs-string">'sys_personalize'</span>];
    addQueryFilter(form, <span class="hljs-string">'CALCULATED:CollectionQueryCalculator'</span>, of_table + <span class="hljs-string">','</span> + coll_field + <span class="hljs-string">','</span> + view_name);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_domain_restore'</span>, <span class="hljs-string">'false'</span>);
    form.action = coll_table + <span class="hljs-string">"_list.do"</span>;
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exportToPDF</span>(<span class="hljs-params">table, sys_id, isLandscape, sysparm_view</span>) </span>{
    <span class="hljs-keyword">var</span> relatedListFilters = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs2List &amp;&amp; g_tabs2List.tabIDs) {
        <span class="hljs-keyword">var</span> relatedLists = g_tabs2List.tabIDs;
        <span class="hljs-keyword">var</span> relatedListCount = relatedLists.length;
        <span class="hljs-keyword">if</span> (relatedListCount &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; relatedListCount; i++) {
                <span class="hljs-keyword">var</span> relatedListName = relatedLists[i].substring(<span class="hljs-number">0</span>, relatedLists[i].lastIndexOf(<span class="hljs-string">"_list"</span>));
                <span class="hljs-keyword">var</span> filter = getFilter(relatedListName);
                <span class="hljs-keyword">if</span> (filter &amp;&amp; filter.length &gt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (i == relatedListCount - <span class="hljs-number">1</span>)
                        relatedListFilters += relatedListName + <span class="hljs-string">"="</span> + <span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-built_in">encodeURIComponent</span>(filter));
                    <span class="hljs-keyword">else</span>
                        relatedListFilters += relatedListName + <span class="hljs-string">"="</span> + <span class="hljs-built_in">encodeURIComponent</span>(<span class="hljs-built_in">encodeURIComponent</span>(filter)) + <span class="hljs-string">"^"</span>;
                }
            }
        }
    }
    <span class="hljs-keyword">var</span> url = table + <span class="hljs-string">".do?sys_id="</span> + sys_id + <span class="hljs-string">"&amp;PDF"</span> + <span class="hljs-string">"&amp;sysparm_view="</span> + sysparm_view + <span class="hljs-string">"&amp;related_list_filter="</span> + relatedListFilters;
    <span class="hljs-keyword">if</span> (isLandscape)
        url += <span class="hljs-string">"&amp;landscape=true"</span>;
    <span class="hljs-built_in">window</span>.location = url;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showList</span>(<span class="hljs-params">tableName, fields, ids</span>) </span>{
    <span class="hljs-keyword">if</span> (!ids)
        ids = gActiveContext.getTableName();
    self.location = tableName + <span class="hljs-string">"_list.do?sysparm_query="</span> + addQueryFilter(<span class="hljs-string">''</span>, fields, ids, tableName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showItem</span>(<span class="hljs-params">tableName, fields, ids, view</span>) </span>{
    <span class="hljs-keyword">if</span> (!ids)
        ids = gActiveContext.getTableName();
    <span class="hljs-keyword">var</span> url = tableName + <span class="hljs-string">".do?sysparm_query="</span> + addQueryFilter(<span class="hljs-string">''</span>, fields, ids, tableName);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(view) != <span class="hljs-string">"undefined"</span>) {
        url += <span class="hljs-string">"&amp;sysparm_view="</span> + view;
    }
    self.location = url;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addQueryFilter</span>(<span class="hljs-params">form, names, values, table, formName</span>) </span>{
    <span class="hljs-keyword">var</span> tableName = table;
    <span class="hljs-keyword">if</span> ((names == <span class="hljs-string">''</span> || names == <span class="hljs-literal">null</span>) || (values == <span class="hljs-string">''</span> || values == <span class="hljs-literal">null</span>))
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (names.indexOf(<span class="hljs-string">"CALCULATED"</span>) == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">var</span> ec = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (names.indexOf(<span class="hljs-string">"CollectionQueryCalculator"</span>) &gt; <span class="hljs-number">0</span>)
            ec = collectionQueryCalculator(values);
        <span class="hljs-keyword">else</span>
            ec = securityQueryCalculator(values);
        addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_query"</span>, ec);
        addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_query_encoced"</span>, ec);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> vNames = names.split(<span class="hljs-string">"."</span>);
    <span class="hljs-keyword">var</span> vValues = values.split(<span class="hljs-string">"."</span>);
    <span class="hljs-keyword">if</span> (names.indexOf(<span class="hljs-string">"name.element"</span>) == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (vValues.length &gt; <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">var</span> tableElement = TableElement.get(values);
            vValues[<span class="hljs-number">0</span>] = tableElement.getTableName();
            vValues[<span class="hljs-number">1</span>] = tableElement.getName();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> tableR = <span class="hljs-keyword">new</span> Table(vValues[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">var</span> element = tableR.getElement(vValues[<span class="hljs-number">1</span>]);
            <span class="hljs-keyword">var</span> label = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (formName &amp;&amp; formName.indexOf(<span class="hljs-string">"sys_documentation"</span>) == <span class="hljs-number">0</span>)
                label = getTableLabel(tableR.getName(), element.getName());
            <span class="hljs-keyword">if</span> (label == <span class="hljs-string">''</span> &amp;&amp; element != <span class="hljs-literal">null</span>)
                vValues[<span class="hljs-number">0</span>] = element.getTableName();
        }
    }
    <span class="hljs-keyword">if</span> (names.indexOf(<span class="hljs-string">"name.element.language"</span>) == <span class="hljs-number">0</span>) {
        vValues[<span class="hljs-number">2</span>] = g_lang;
    }
    <span class="hljs-keyword">var</span> query = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; vNames.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"sys_choice"</span> == tableName &amp;&amp; <span class="hljs-string">"name"</span> == vNames[i]) {
            query.push(<span class="hljs-string">"nameINjavascript:getTableExtensions('"</span> + vValues[i] + <span class="hljs-string">"')"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"sys_ui_style"</span> == tableName &amp;&amp; <span class="hljs-string">"name"</span> == vNames[i]) {
            query.push(buildQueryClause(values.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>], <span class="hljs-string">"name"</span>));
        } <span class="hljs-keyword">else</span>
            query.push(vNames[i] + <span class="hljs-string">"="</span> + vValues[i]);
    }
    <span class="hljs-keyword">if</span> (tableName)
        <span class="hljs-keyword">return</span> query.join(<span class="hljs-string">'^'</span>);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_query"</span>, query.join(<span class="hljs-string">'^'</span>));
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_query_encoded"</span>, query.join(<span class="hljs-string">'^'</span>));
    setStack(form);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTableLabel</span>(<span class="hljs-params">tabel, element</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'ContextActionsAjax'</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"getLabel"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, tabel);
    ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, element);
    ajax.getXMLWait();
    <span class="hljs-keyword">return</span> ajax.getAnswer();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collectionQueryCalculator</span>(<span class="hljs-params">args</span>) </span>{
    <span class="hljs-keyword">var</span> sa = args.split(<span class="hljs-string">","</span>);
    <span class="hljs-keyword">var</span> tableName = sa[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> collField = sa[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">return</span> buildQueryClause(tableName, collField);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildQueryClause</span>(<span class="hljs-params">tableName, collField</span>) </span>{
    <span class="hljs-keyword">var</span> tableDef = Table.get(tableName);
    <span class="hljs-keyword">var</span> tables = tableDef.getTables();
    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    result.push(collField);
    result.push(<span class="hljs-string">"="</span>);
    result.push(tableName);
    result.push(<span class="hljs-string">"^OR"</span>);
    result.push(collField);
    result.push(<span class="hljs-string">"IN"</span>);
    result.push(tables.join());
    <span class="hljs-keyword">return</span> result.join(<span class="hljs-string">""</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">securityQueryCalculator</span>(<span class="hljs-params">values</span>) </span>{
    <span class="hljs-keyword">var</span> sa = values.split(<span class="hljs-string">"."</span>);
    <span class="hljs-keyword">var</span> fieldName = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> element = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> tableName = sa[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (sa.length &gt; <span class="hljs-number">1</span>)
        fieldName = sa[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">var</span> allTables = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> table = <span class="hljs-keyword">new</span> Table(tableName);
    <span class="hljs-keyword">if</span> (fieldName == <span class="hljs-literal">null</span>)
        allTables = table.getTables();
    <span class="hljs-keyword">else</span> {
        allTables.push(tableName);
        element = table.getElement(fieldName);
        <span class="hljs-keyword">if</span> (element != <span class="hljs-literal">null</span> &amp;&amp; element.getTableName() != tableName)
            allTables.push(element.getTableName());
        allTables.push(<span class="hljs-string">"*"</span>);
    }
    <span class="hljs-keyword">var</span> rc = getRules(allTables, fieldName);
    <span class="hljs-keyword">return</span> rc;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRules</span>(<span class="hljs-params">allTables, fieldName</span>) </span>{
    <span class="hljs-keyword">var</span> rules = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (fieldName == <span class="hljs-literal">null</span>) {
        rules = <span class="hljs-string">"name=*^ORnameSTARTSWITH*."</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; allTables.length; i++)
            rules += <span class="hljs-string">"^ORname="</span> + allTables[i] + <span class="hljs-string">"^ORnameSTARTSWITH"</span> + allTables[i] + <span class="hljs-string">"."</span>;
        <span class="hljs-keyword">return</span> rules;
    }
    <span class="hljs-keyword">var</span> rc = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; allTables.length; x++) {
        <span class="hljs-keyword">var</span> tableName = allTables[x];
        rc.push(tableName);
        rc.push(tableName + <span class="hljs-string">".*"</span>);
        <span class="hljs-keyword">if</span> (fieldName != <span class="hljs-literal">null</span>)
            rc.push(tableName + <span class="hljs-string">"."</span> + fieldName);
    }
    rules = <span class="hljs-string">"nameIN"</span> + rc.join();
    <span class="hljs-keyword">return</span> rules;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setWatchField</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'ContextActionsAjax'</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"setWatchField"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_id"</span>, id);
    ajax.getXML(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_watchfield'</span>, id)
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showWatchField</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'ContextActionsAjax'</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"setWatchField"</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_id"</span>, id);
    ajax.getXML(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_show_watchfield'</span>, id)
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearWatchField</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'ContextActionsAjax'</span>);
    ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"clearWatchField"</span>);
    ajax.getXML();
    ajax.getXML(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        CustomEvent.fire(<span class="hljs-string">'glide_optics_inspect_clear_watchfield'</span>, id)
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setStack</span>(<span class="hljs-params">form</span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideURL(<span class="hljs-built_in">window</span>.location.href);
    <span class="hljs-keyword">var</span> stack = url.getParam(<span class="hljs-string">'sysparm_nameofstack'</span>);
    <span class="hljs-keyword">if</span> (stack)
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_nameofstack'</span>, stack);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/depends.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNameFromElement</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> names = elementName.split(<span class="hljs-string">"."</span>);
    names = names.slice(<span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> names.join(<span class="hljs-string">"."</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadFilterColumns</span>(<span class="hljs-params">fname, dependent</span>) </span>{
    <span class="hljs-keyword">var</span> value = resolveDependentValue(fname, dependent);
    <span class="hljs-keyword">var</span> names = fname.split(<span class="hljs-string">"."</span>);
    serverRequest(<span class="hljs-string">"xmlhttp.do?sysparm_include_sysid=true&amp;sysparm_processor=SysMeta&amp;sysparm_table_name=false&amp;sysparm_type=column&amp;sysparm_nomax=true&amp;sysparm_value="</span> + names[<span class="hljs-number">0</span>], getFilterColumnsResponse, [fname, dependent]);
    CustomEvent.fire(<span class="hljs-string">'conditions:dependent_change'</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFilterColumnsResponse</span>(<span class="hljs-params">evt, args</span>) </span>{
    <span class="hljs-keyword">var</span> fname = args[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> dep = args[<span class="hljs-number">1</span>];
    <span class="hljs-keyword">var</span> hinput = <span class="hljs-built_in">document</span>.getElementById(fname);
    filterExpanded = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> table = resolveDependentValue(fname, dep);
    <span class="hljs-keyword">var</span> xfilter = <span class="hljs-built_in">unescape</span>(hinput.value);
    <span class="hljs-keyword">var</span> form = findParentByTag(hinput, <span class="hljs-string">"FORM"</span>);
    <span class="hljs-keyword">if</span> (table) {
        firstTable = table;
        createCondFilter(table + <span class="hljs-string">"."</span> + fname, xfilter, fname);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onSelChange</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> elementId = elementName.replace(<span class="hljs-string">"sys_select."</span>, <span class="hljs-string">""</span>);
    <span class="hljs-keyword">var</span> df = <span class="hljs-keyword">new</span> DerivedFields(elementId);
    df.clearRelated();
    df.updateRelated(gel(elementName).value);
    <span class="hljs-keyword">var</span> vName = <span class="hljs-string">"ni.dependent."</span> + getNameFromElement(elementName);
    <span class="hljs-keyword">var</span> eDeps = <span class="hljs-built_in">document</span>.getElementsByName(vName);
    jslog(<span class="hljs-string">"*************----&gt;"</span> + eDeps.length);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; eDeps.length; i++) {
        <span class="hljs-keyword">var</span> eDep = eDeps[i];
        <span class="hljs-keyword">if</span> (eDep == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> f = eDep.attributes.getNamedItem(<span class="hljs-string">'onDependentChange'</span>);
        <span class="hljs-keyword">if</span> (f) {
            <span class="hljs-built_in">eval</span>(f.nodeValue);
            <span class="hljs-keyword">continue</span>;
        }
        <span class="hljs-keyword">var</span> name = eDep.value;
        <span class="hljs-keyword">var</span> eChanged = gel(elementName);
        <span class="hljs-keyword">var</span> value;
        <span class="hljs-keyword">if</span> (eChanged.options) {
            <span class="hljs-keyword">var</span> selected = eChanged.selectedIndex;
            value = eChanged.options[selected].value;
        } <span class="hljs-keyword">else</span>
            value = eChanged.value;
        <span class="hljs-keyword">var</span> retFunc = selResponse;
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"set_from_attributes"</span>);
        <span class="hljs-keyword">var</span> argCnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ac = <span class="hljs-number">0</span>; ac &lt; eDep.attributes.length; ac++) {
            <span class="hljs-keyword">var</span> itemName = eDep.attributes[ac].name;
            <span class="hljs-keyword">if</span> (itemName.substring(<span class="hljs-number">0</span>, <span class="hljs-number">7</span>).toLowerCase() == <span class="hljs-string">"sysparm"</span>) {
                <span class="hljs-keyword">var</span> pvalue = eDep.attributes[ac].value;
                ajax.addParam(itemName, pvalue);
                argCnt++;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (itemName == <span class="hljs-string">"function"</span>) {
                <span class="hljs-keyword">var</span> fdef = eDep.attributes[ac].value;
                <span class="hljs-keyword">var</span> index = fdef.indexOf(<span class="hljs-string">"("</span>);
                <span class="hljs-keyword">if</span> (index == <span class="hljs-number">-1</span>)
                    retFunc = <span class="hljs-built_in">eval</span>(eDep.attributes[ac].value);
                <span class="hljs-keyword">else</span>
                    retFunc = fdef;
            }
        }
        <span class="hljs-keyword">if</span> (argCnt == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">continue</span>;
        ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, value);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, name);
        ajax.addParam(<span class="hljs-string">"sysparm_chars"</span>, <span class="hljs-string">"*"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_nomax"</span>, <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">var</span> scopeElement = gel(<span class="hljs-string">'sysparm_domain_scope'</span>);
        <span class="hljs-keyword">if</span> (scopeElement &amp;&amp; scopeElement.value) {
            ajax.addParam(<span class="hljs-string">"sysparm_domain_scope"</span>, scopeElement.value);
        }
        <span class="hljs-keyword">var</span> domainElement = gel(<span class="hljs-string">'sysparm_domain'</span>);
        <span class="hljs-keyword">if</span> (domainElement &amp;&amp; domainElement.value) {
            ajax.addParam(<span class="hljs-string">"sysparm_domain"</span>, domainElement.value);
        }
        ajax.getXML(retFunc, <span class="hljs-literal">null</span>, eChanged);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selResponse</span>(<span class="hljs-params">request</span>) </span>{
    <span class="hljs-keyword">if</span> (!request || !request.responseXML)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> e = request.responseXML.documentElement;
    <span class="hljs-keyword">var</span> elementName = e.getAttribute(<span class="hljs-string">"sysparm_name"</span>);
    <span class="hljs-keyword">var</span> processorName = e.getAttribute(<span class="hljs-string">"sysparm_processor"</span>);
    <span class="hljs-keyword">var</span> defaultOption = e.getAttribute(<span class="hljs-string">"default_option"</span>);
    <span class="hljs-keyword">var</span> selectedItem = e.getAttribute(<span class="hljs-string">"select_option"</span>);
    <span class="hljs-keyword">var</span> select = gel(elementName);
    <span class="hljs-keyword">var</span> currentValue = select.value;
    <span class="hljs-keyword">try</span> {
        select.options.length = <span class="hljs-number">0</span>;
    } <span class="hljs-keyword">catch</span> (e) {}
    <span class="hljs-keyword">if</span> (processorName == <span class="hljs-string">"PickList"</span>)
        appendSelectOption(select, <span class="hljs-string">""</span>, <span class="hljs-built_in">document</span>.createTextNode((defaultOption ? defaultOption : getMessage(<span class="hljs-string">'-- None --'</span>))));
    <span class="hljs-keyword">var</span> items = request.responseXML.getElementsByTagName(<span class="hljs-string">"item"</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
        <span class="hljs-keyword">var</span> item = items[i];
        <span class="hljs-keyword">var</span> t = item.getAttribute(<span class="hljs-string">"value"</span>);
        <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
        <span class="hljs-keyword">var</span> hint = item.getAttribute(<span class="hljs-string">"hint"</span>);
        <span class="hljs-keyword">var</span> opt = appendSelectOption(select, t, <span class="hljs-built_in">document</span>.createTextNode(label));
        <span class="hljs-keyword">if</span> (hint != <span class="hljs-string">''</span>)
            opt.title = hint;
        <span class="hljs-keyword">if</span> (selectedItem &amp;&amp; label == selectedItem)
            opt.selected = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (currentValue &amp;&amp; t == currentValue) {
            opt.selected = <span class="hljs-literal">true</span>;
            currentValue = <span class="hljs-string">''</span>;
        }
    }
    <span class="hljs-keyword">if</span> (select[<span class="hljs-string">'onchange'</span>])
        select.onchange();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasDepends</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> vName = <span class="hljs-string">"ni.dependent."</span> + getNameFromElement(elementName);
    <span class="hljs-keyword">var</span> eDep = <span class="hljs-built_in">document</span>.getElementsByName(vName)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">return</span> eDep;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolveDependentValue</span>(<span class="hljs-params">id, depname, deptable</span>) </span>{
    <span class="hljs-keyword">var</span> systable = id.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> table = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> dep = <span class="hljs-built_in">document</span>.getElementById(systable + <span class="hljs-string">'.'</span> + depname);
    <span class="hljs-keyword">if</span> (dep != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (dep.tagName == <span class="hljs-string">'SELECT'</span>)
            table = dep.options[dep.selectedIndex].value
        <span class="hljs-keyword">else</span>
            table = dep.value;
        table = table.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>];
    } <span class="hljs-keyword">else</span> {
        table = deptable;
    }
    <span class="hljs-keyword">if</span> (table == <span class="hljs-string">'*'</span> || table == <span class="hljs-string">''</span> || table == <span class="hljs-string">'null'</span>)
        table = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> table;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadFields</span>(<span class="hljs-params">fname, dependent, types, script_types, ref_types, script_ref_types, script_ref_types_dependent, field_choices_script, show_field_name_on_label, access_table</span>) </span>{
    <span class="hljs-keyword">var</span> depValue = resolveDependentValue(fname, dependent, dependent);
    loadFieldsWithValue(fname, depValue, types, script_types, ref_types, script_ref_types, script_ref_types_dependent, field_choices_script, show_field_name_on_label, access_table);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadFieldsWithValue</span>(<span class="hljs-params">fname, table, types, script_types, ref_types, script_ref_types, script_ref_types_dependent, field_choices_script, show_field_name_on_label, access_table</span>) </span>{
    <span class="hljs-keyword">var</span> script_ref_types_dependent_value = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (script_ref_types_dependent) {
        <span class="hljs-keyword">var</span> systable = fname.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> s_dep = gel(systable + <span class="hljs-string">'.'</span> + script_ref_types_dependent);
        <span class="hljs-keyword">if</span> (s_dep != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (s_dep.tagName == <span class="hljs-string">'SELECT'</span>)
                script_ref_types_dependent_value = s_dep.options[s_dep.selectedIndex].value;
            <span class="hljs-keyword">else</span>
                script_ref_types_dependent_value = s_dep.value;
        }
    }
    <span class="hljs-keyword">if</span> (table != <span class="hljs-literal">null</span>)
        getTableColumns(table, fname, types, script_types, ref_types, script_ref_types, script_ref_types_dependent_value, field_choices_script, show_field_name_on_label, access_table);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTableColumns</span>(<span class="hljs-params">table, ref, types, script_types, ref_types, script_ref_types, script_ref_types_dependent_value, field_choices_script, show_field_name_on_label, access_table</span>) </span>{
    <span class="hljs-keyword">if</span> (!types)
        types = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (!script_types)
        script_types = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (!ref_types)
        ref_types = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (!script_ref_types)
        script_ref_types = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (!script_ref_types_dependent_value)
        script_ref_types_dependent_value = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> serverRequestString = <span class="hljs-string">"xmlhttp.do?sysparm_include_sysid=true&amp;sysparm_processor=SysMeta&amp;sysparm_table_name=false&amp;sysparm_type=column&amp;sysparm_nomax=true"</span> +
        <span class="hljs-string">"&amp;sysparm_value="</span> + table +
        <span class="hljs-string">"&amp;sysparm_types="</span> + types +
        <span class="hljs-string">"&amp;sysparm_script_types="</span> + script_types +
        <span class="hljs-string">"&amp;sysparm_script_ref_types_dependent_value="</span> + script_ref_types_dependent_value +
        <span class="hljs-string">"&amp;sysparm_script_ref_types="</span> + script_ref_types +
        <span class="hljs-string">"&amp;sysparm_ref_types="</span> + ref_types +
        <span class="hljs-string">"&amp;sysparm_containing_table="</span> + $(<span class="hljs-string">'sys_target'</span>).value;
    <span class="hljs-keyword">if</span> (field_choices_script &amp;&amp; field_choices_script != <span class="hljs-string">""</span>)
        serverRequestString += <span class="hljs-string">"&amp;sysparm_field_choices_script="</span> + field_choices_script;
    <span class="hljs-keyword">if</span> (show_field_name_on_label &amp;&amp; show_field_name_on_label != <span class="hljs-string">""</span>)
        serverRequestString += <span class="hljs-string">"&amp;sysparm_show_field_name_on_label="</span> + show_field_name_on_label;
    <span class="hljs-keyword">if</span> (access_table)
        serverRequestString += <span class="hljs-string">"&amp;sysparm_access_table="</span> + access_table;
    serverRequestString += <span class="hljs-string">"&amp;sysparm_ref_field="</span> + <span class="hljs-built_in">encodeURIComponent</span>(ref);
    serverRequest(serverRequestString, getTableColumnsResponse, ref);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTableColumnsResponse</span>(<span class="hljs-params">request, ref</span>) </span>{
    <span class="hljs-keyword">var</span> fname = ref;
    <span class="hljs-keyword">var</span> tcols = request.responseXML;
    <span class="hljs-keyword">var</span> scols = gel(fname);
    <span class="hljs-keyword">var</span> currentvis = scols.style.visibility;
    scols.style.visibility = <span class="hljs-string">"hidden"</span>;
    <span class="hljs-keyword">var</span> cfield = gel(<span class="hljs-string">'sys_original.'</span> + fname);
    cValue = cfield.value;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> scols.options === <span class="hljs-string">'undefined'</span>)
        scols.options = [];
    <span class="hljs-keyword">else</span>
        scols.options.length = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> includeNone = scols.attributes.getNamedItem(<span class="hljs-string">'include_none'</span>);
    <span class="hljs-keyword">if</span> (includeNone) {
        <span class="hljs-keyword">if</span> (includeNone.nodeValue == <span class="hljs-string">'true'</span>)
            scols.options[scols.options.length] = <span class="hljs-keyword">new</span> Option(getMessage(<span class="hljs-string">'-- None --'</span>), <span class="hljs-string">''</span>);
    }
    <span class="hljs-keyword">var</span> items = tcols.getElementsByTagName(<span class="hljs-string">"item"</span>);
    <span class="hljs-keyword">var</span> sindex = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != items.length; i++) {
        <span class="hljs-keyword">var</span> item = items[i];
        <span class="hljs-keyword">var</span> value = item.getAttribute(<span class="hljs-string">"value"</span>);
        <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
        scols.options[scols.options.length] = <span class="hljs-keyword">new</span> Option(label, value);
        <span class="hljs-keyword">if</span> (cValue == value)
            sindex = scols.options.length - <span class="hljs-number">1</span>;
    }
    scols.selectedIndex = sindex;
    scols.style.visibility = currentvis;
    CustomEvent.fire(<span class="hljs-string">'getTableColumnsResponse.received'</span>);
    fireSetValueEvent();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fireSetValueEvent</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-keyword">var</span> form = g_form.getFormElement();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form != <span class="hljs-string">'undefined'</span>)
            $(form).fire(<span class="hljs-string">'glideform:setvalue'</span>);
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/email_activity.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEmailBody</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> iframeID = id + <span class="hljs-string">".body"</span>;
    <span class="hljs-keyword">var</span> iframe = gel(iframeID);
    <span class="hljs-keyword">if</span> (iframe)
        <span class="hljs-keyword">return</span>;
    iframe = cel(<span class="hljs-string">"iframe"</span>);
    iframe.id = iframeID;
    iframe.width = <span class="hljs-string">"100%"</span>;
    iframe.frameBorder = <span class="hljs-string">"0"</span>;
    Event.observe(iframe, <span class="hljs-string">"load"</span>, emailResizeObserved.bind(iframe), <span class="hljs-literal">true</span>);
    iframe.src = <span class="hljs-string">"email_display.do?email_id="</span> + id;
    iframe.email_id = id;
    <span class="hljs-keyword">var</span> cellID = id + <span class="hljs-string">".mail_cell"</span>;
    <span class="hljs-keyword">var</span> td = gel(cellID);
    <span class="hljs-keyword">if</span> (!td) {
        alert(<span class="hljs-string">"email_activity.js: TD missing for '"</span> + cellID + <span class="hljs-string">"'"</span>);
        <span class="hljs-keyword">return</span>;
    }
    td.appendChild(iframe);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">emailResizeObserved</span>(<span class="hljs-params"></span>) </span>{
    adjustEmailHeight(<span class="hljs-keyword">this</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adjustEmailHeight</span>(<span class="hljs-params">frame</span>) </span>{
    frame.style.height = frame.contentWindow.document.body.scrollHeight + <span class="hljs-string">'px'</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/condition_global_variables14.js */</span>
<span class="hljs-keyword">var</span> MAIN_LAYER = <span class="hljs-string">"filterdiv"</span>;
<span class="hljs-keyword">var</span> TEXTQUERY = <span class="hljs-string">"123TEXTQUERY321"</span>;
<span class="hljs-keyword">var</span> PLACEHOLDER = <span class="hljs-string">"123PLACEHOLDER321"</span>;
<span class="hljs-keyword">var</span> PLACEHOLDERFIELD = <span class="hljs-string">'-- choose field --'</span>;
<span class="hljs-keyword">var</span> DEFAULT_NAME = <span class="hljs-string">"report"</span>;
<span class="hljs-keyword">var</span> DEFAULT_WIDTH = <span class="hljs-string">"10px"</span>;
<span class="hljs-keyword">var</span> DEFAULT_BORDER = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> JS_GS = <span class="hljs-string">'javascript:gs.'</span>;
<span class="hljs-keyword">var</span> useTextareas = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> noConditionals = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> noOps = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> noSort = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> gotShowRelated = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> gotoPart = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> calendars = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> refcount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> sortIndex = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> queryNumber = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> calendarPopups = [];
<span class="hljs-keyword">var</span> filter;
<span class="hljs-keyword">var</span> orderBy;
<span class="hljs-keyword">var</span> columns = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> currentTable = <span class="hljs-string">''</span>;
<span class="hljs-keyword">var</span> firstTable = <span class="hljs-string">''</span>;
<span class="hljs-keyword">var</span> oldStatus = <span class="hljs-string">''</span>;
<span class="hljs-keyword">var</span> showRelated = <span class="hljs-string">''</span>;
<span class="hljs-keyword">var</span> filterExpanded = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> queueTables = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> queueFilters = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> queueColumns = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> operators = [
    <span class="hljs-string">"BETWEEN"</span>,
    <span class="hljs-string">"!="</span>,
    <span class="hljs-string">"&gt;="</span>,
    <span class="hljs-string">"&lt;="</span>,
    <span class="hljs-string">"="</span>,
    <span class="hljs-string">"&gt;"</span>,
    <span class="hljs-string">"&lt;"</span>,
    <span class="hljs-string">"NOT IN"</span>,
    <span class="hljs-string">"IN"</span>,
    <span class="hljs-string">"NOT LIKE"</span>,
    <span class="hljs-string">"LIKE"</span>,
    <span class="hljs-string">"ON"</span>,
    <span class="hljs-string">"NOTON"</span>,
    <span class="hljs-string">"DATEPART"</span>,
    <span class="hljs-string">"RELATIVE"</span>,
    <span class="hljs-string">"STARTSWITH"</span>,
    <span class="hljs-string">"ENDSWITH"</span>,
    <span class="hljs-string">"EMPTYSTRING"</span>,
    <span class="hljs-string">"ISEMPTY"</span>,
    <span class="hljs-string">"ISNOTEMPTY"</span>,
    <span class="hljs-string">"INSTANCEOF"</span>,
    <span class="hljs-string">"ANYTHING"</span>,
    <span class="hljs-string">"VALCHANGES"</span>,
    <span class="hljs-string">"CHANGESFROM"</span>,
    <span class="hljs-string">"CHANGESTO"</span>,
    <span class="hljs-string">"MATCH_PAT"</span>,
    <span class="hljs-string">"MATCH_RGX"</span>,
    <span class="hljs-string">"SAMEAS"</span>,
    <span class="hljs-string">"NSAMEAS"</span>,
    <span class="hljs-string">"MORETHAN"</span>,
    <span class="hljs-string">"LESSTHAN"</span>,
    <span class="hljs-string">"DYNAMIC"</span>,
    <span class="hljs-string">"GT_FIELD"</span>,
    <span class="hljs-string">"LT_FIELD"</span>,
    <span class="hljs-string">"GT_OR_EQUALS_FIELD"</span>,
    <span class="hljs-string">"LT_OR_EQUALS_FIELD"</span>,
    <span class="hljs-string">"HASVARIABLE"</span>,
    <span class="hljs-string">"HASITEMVARIABLE"</span>,
    <span class="hljs-string">"HASQUESTION"</span>,
    <span class="hljs-string">"HASLABEL"</span>
];
<span class="hljs-keyword">var</span> fieldComparisonOperators = [<span class="hljs-string">"SAMEAS"</span>, <span class="hljs-string">"NSAMEAS"</span>, <span class="hljs-string">"MORETHAN"</span>, <span class="hljs-string">"LESSTHAN"</span>, <span class="hljs-string">"GT_FIELD"</span>, <span class="hljs-string">"LT_FIELD"</span>, <span class="hljs-string">"GT_OR_EQUALS_FIELD"</span>, <span class="hljs-string">"LT_OR_EQUALS_FIELD"</span>];
<span class="hljs-keyword">var</span> dateTypes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
dateTypes[<span class="hljs-string">'glide_date_time'</span>] = <span class="hljs-number">1</span>;
dateTypes[<span class="hljs-string">'glide_date'</span>] = <span class="hljs-number">1</span>;
dateTypes[<span class="hljs-string">'date'</span>] = <span class="hljs-number">1</span>;
dateTypes[<span class="hljs-string">'datetime'</span>] = <span class="hljs-number">1</span>;
dateTypes[<span class="hljs-string">'due_date'</span>] = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> dateOnlyTypes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
dateOnlyTypes[<span class="hljs-string">'glide_date'</span>] = <span class="hljs-number">1</span>;
dateOnlyTypes[<span class="hljs-string">'date'</span>] = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> dateTimeTypes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
dateTimeTypes[<span class="hljs-string">'glide_date_time'</span>] = <span class="hljs-number">1</span>;
dateTimeTypes[<span class="hljs-string">'datetime'</span>] = <span class="hljs-number">1</span>;
dateTimeTypes[<span class="hljs-string">'due_date'</span>] = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> numericTypes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
numericTypes[<span class="hljs-string">'integer'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'decimal'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'numeric'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'float'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'domain_number'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'auto_increment'</span>] = <span class="hljs-number">1</span>;
numericTypes[<span class="hljs-string">'percent_complete'</span>] = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> opersNS = {};
opersNS.opdef = {
    <span class="hljs-string">'af'</span>: [<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">'after'</span>],
    <span class="hljs-string">'ataf'</span>: [<span class="hljs-string">'&gt;='</span>, <span class="hljs-string">'at or after'</span>],
    <span class="hljs-string">'any'</span>: [<span class="hljs-string">'ANYTHING'</span>, <span class="hljs-string">'is anything'</span>],
    <span class="hljs-string">'are'</span>: [<span class="hljs-string">'='</span>, <span class="hljs-string">'are'</span>],
    <span class="hljs-string">'asc'</span>: [<span class="hljs-string">'ascending'</span>, <span class="hljs-string">'a to z'</span>],
    <span class="hljs-string">'avg'</span>: [<span class="hljs-string">'avg'</span>, <span class="hljs-string">'average'</span>],
    <span class="hljs-string">'bf'</span>: [<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'before'</span>],
    <span class="hljs-string">'atbf'</span>: [<span class="hljs-string">'&lt;='</span>, <span class="hljs-string">'at or before'</span>],
    <span class="hljs-string">'btw'</span>: [<span class="hljs-string">'BETWEEN'</span>, <span class="hljs-string">'between'</span>],
    <span class="hljs-string">'dsc'</span>: [<span class="hljs-string">'descending'</span>, <span class="hljs-string">'z to a'</span>],
    <span class="hljs-string">'dtpt'</span>: [<span class="hljs-string">'DATEPART'</span>, <span class="hljs-string">'trend'</span>],
    <span class="hljs-string">'em'</span>: [<span class="hljs-string">'ISEMPTY'</span>, <span class="hljs-string">'is empty'</span>],
    <span class="hljs-string">'es'</span>: [<span class="hljs-string">'EMPTYSTRING'</span>, <span class="hljs-string">'is empty string'</span>],
    <span class="hljs-string">'enwt'</span>: [<span class="hljs-string">'ENDSWITH'</span>, <span class="hljs-string">'ends with'</span>],
    <span class="hljs-string">'eq'</span>: [<span class="hljs-string">'='</span>, <span class="hljs-string">'is'</span>],
    <span class="hljs-string">'eqd'</span>: [<span class="hljs-string">'DYNAMIC'</span>, <span class="hljs-string">'is (dynamic)'</span>],
    <span class="hljs-string">'fvc'</span>: [<span class="hljs-string">'VALCHANGES'</span>, <span class="hljs-string">'changes'</span>],
    <span class="hljs-string">'fvf'</span>: [<span class="hljs-string">'CHANGESFROM'</span>, <span class="hljs-string">'changes from'</span>],
    <span class="hljs-string">'fvt'</span>: [<span class="hljs-string">'CHANGESTO'</span>, <span class="hljs-string">'changes to'</span>],
    <span class="hljs-string">'gt'</span>: [<span class="hljs-string">'&gt;'</span>, <span class="hljs-string">'greater than'</span>],
    <span class="hljs-string">'gteq'</span>: [<span class="hljs-string">'&gt;='</span>, <span class="hljs-string">'greater than or is'</span>],
    <span class="hljs-string">'inna'</span>: [<span class="hljs-string">'IN'</span>, <span class="hljs-string">'is one of'</span>],
    <span class="hljs-string">'inst'</span>: [<span class="hljs-string">'INSTANCEOF'</span>, <span class="hljs-string">'is a'</span>],
    <span class="hljs-string">'lk'</span>: [<span class="hljs-string">'LIKE'</span>, <span class="hljs-string">'contains'</span>],
    <span class="hljs-string">'lt'</span>: [<span class="hljs-string">'&lt;'</span>, <span class="hljs-string">'less than'</span>],
    <span class="hljs-string">'lteq'</span>: [<span class="hljs-string">'&lt;='</span>, <span class="hljs-string">'less than or is'</span>],
    <span class="hljs-string">'max'</span>: [<span class="hljs-string">'max'</span>, <span class="hljs-string">'maximum'</span>],
    <span class="hljs-string">'min'</span>: [<span class="hljs-string">'min'</span>, <span class="hljs-string">'minimum'</span>],
    <span class="hljs-string">'mpat'</span>: [<span class="hljs-string">'MATCH_PAT'</span>, <span class="hljs-string">'matches pattern'</span>],
    <span class="hljs-string">'mreg'</span>: [<span class="hljs-string">'MATCH_RGX'</span>, <span class="hljs-string">'matches regex'</span>],
    <span class="hljs-string">'ntem'</span>: [<span class="hljs-string">'ISNOTEMPTY'</span>, <span class="hljs-string">'is not empty'</span>],
    <span class="hljs-string">'nteq'</span>: [<span class="hljs-string">'!='</span>, <span class="hljs-string">'is not'</span>],
    <span class="hljs-string">'ntin'</span>: [<span class="hljs-string">'NOT IN'</span>, <span class="hljs-string">'is not one of'</span>],
    <span class="hljs-string">'ntlk'</span>: [<span class="hljs-string">'NOT LIKE'</span>, <span class="hljs-string">'does not contain'</span>],
    <span class="hljs-string">'nton'</span>: [<span class="hljs-string">'NOTON'</span>, <span class="hljs-string">'not on'</span>],
    <span class="hljs-string">'on'</span>: [<span class="hljs-string">'ON'</span>, <span class="hljs-string">'on'</span>],
    <span class="hljs-string">'oper'</span>: [<span class="hljs-string">'-- oper --'</span>, <span class="hljs-string">'-- oper --'</span>],
    <span class="hljs-string">'rltv'</span>: [<span class="hljs-string">'RELATIVE'</span>, <span class="hljs-string">'relative'</span>],
    <span class="hljs-string">'saas'</span>: [<span class="hljs-string">'SAMEAS'</span>, <span class="hljs-string">'is same'</span>],
    <span class="hljs-string">'nsas'</span>: [<span class="hljs-string">'NSAMEAS'</span>, <span class="hljs-string">'is different'</span>],
    <span class="hljs-string">'snc'</span>: [<span class="hljs-string">'SINCE'</span>, <span class="hljs-string">'since baseline'</span>],
    <span class="hljs-string">'stwt'</span>: [<span class="hljs-string">'STARTSWITH'</span>, <span class="hljs-string">'starts with'</span>],
    <span class="hljs-string">'sum'</span>: [<span class="hljs-string">'sum'</span>, <span class="hljs-string">'Total'</span>],
    <span class="hljs-string">'date_more'</span>: [<span class="hljs-string">'MORETHAN'</span>, <span class="hljs-string">'is more than'</span>],
    <span class="hljs-string">'date_less'</span>: [<span class="hljs-string">'LESSTHAN'</span>, <span class="hljs-string">'is less than'</span>],
    <span class="hljs-string">'gtfd'</span>: [<span class="hljs-string">'GT_FIELD'</span>, <span class="hljs-string">'greater than field'</span>],
    <span class="hljs-string">'ltfd'</span>: [<span class="hljs-string">'LT_FIELD'</span>, <span class="hljs-string">'less than field'</span>],
    <span class="hljs-string">'gteqfd'</span>: [<span class="hljs-string">'GT_OR_EQUALS_FIELD'</span>, <span class="hljs-string">'greater than or is field'</span>],
    <span class="hljs-string">'lteqfd'</span>: [<span class="hljs-string">'LT_OR_EQUALS_FIELD'</span>, <span class="hljs-string">'less than or is field'</span>]
};
opersNS.opdef_template = {
    <span class="hljs-string">'eq'</span>: [<span class="hljs-string">'='</span>, <span class="hljs-string">'To'</span>],
    <span class="hljs-string">'saas'</span>: [<span class="hljs-string">'SAMEAS'</span>, <span class="hljs-string">'Same as'</span>],
    <span class="hljs-string">'eqd'</span>: [<span class="hljs-string">'DYNAMIC'</span>, <span class="hljs-string">'To (dynamic)'</span>]
}
opersNS.compile = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ops_input, opsdef</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> fieldType <span class="hljs-keyword">in</span> ops_input) {
        <span class="hljs-keyword">var</span> proto = ops_input[fieldType];
        <span class="hljs-keyword">if</span> (proto.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">'='</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> opers = proto.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">var</span> opArray = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; opers.length; i++) {
            <span class="hljs-keyword">var</span> oper = opers[i];
            <span class="hljs-keyword">if</span> (oper)
                opArray.push(opsdef[oper]);
        }
        ops_input[fieldType] = opArray;
    }
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> fieldType <span class="hljs-keyword">in</span> ops_input) {
        <span class="hljs-keyword">var</span> proto = ops_input[fieldType];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> proto != <span class="hljs-string">'string'</span>)
            <span class="hljs-keyword">continue</span>;
        ops_input[fieldType] = ops_input[proto.substring(<span class="hljs-number">1</span>)];
    }
}
<span class="hljs-keyword">var</span> sysopers = {
    <span class="hljs-string">'auto_increment'</span>: <span class="hljs-string">'=integer'</span>,
    <span class="hljs-string">'aggspec'</span>: <span class="hljs-string">'sum,avg,min,max,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'boolean'</span>: <span class="hljs-string">'eq,nteq,em,ntem,any,fvc,fvf,fvt,saas,nsas'</span>,
    <span class="hljs-string">'calendar'</span>: <span class="hljs-string">'on,nton,bf,atbf,af,ataf,btw,dtpt,rltv,snc,em,ntem,any,fvc,saas,nsas,date_more,date_less'</span>,
    <span class="hljs-string">'choice'</span>: <span class="hljs-string">'eq,nteq,inna,ntin,lk,stwt,enwt,ntlk,any,fvc,fvf,fvt,saas,nsas'</span>,
    <span class="hljs-string">'referencechoice'</span>: <span class="hljs-string">'eq,nteq,inna,ntin,lk,stwt,enwt,ntlk,any'</span>,
    <span class="hljs-string">'composite_field'</span>: <span class="hljs-string">'stwt,lk,ntlk,any'</span>,
    <span class="hljs-string">'composite_name'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'conditions'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'condition_string'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'css'</span>: <span class="hljs-string">'=html'</span>,
    <span class="hljs-string">'decimal'</span>: <span class="hljs-string">'=integer'</span>,
    <span class="hljs-string">'currency'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq,btw'</span>,
    <span class="hljs-string">'currency2'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq,btw'</span>,
    <span class="hljs-string">'default'</span>: <span class="hljs-string">'eq,nteq,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'edgeEncryptionOrder'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq'</span>,
    <span class="hljs-string">'edgeEncryptionEq'</span>: <span class="hljs-string">'eq,nteq,em,ntem'</span>,
    <span class="hljs-string">'email'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'email_script'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'field_name'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'glide_duration'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq,btw,any,fvc'</span>,
    <span class="hljs-string">'glide_list'</span>: <span class="hljs-string">'lk,ntlk,em,ntem,fvc,fvf,fvt,eqd'</span>,
    <span class="hljs-string">'GUID'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'html'</span>: <span class="hljs-string">'lk,ntlk,em,ntem,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'html_script'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'html_template'</span>: <span class="hljs-string">'=script'</span>,
    <span class="hljs-string">'integer'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq,btw,any,fvc,fvf,fvt,saas,nsas,gtfd,ltfd,gteqfd,lteqfd'</span>,
    <span class="hljs-string">'integer_choice'</span>: <span class="hljs-string">'eq,nteq,inna,ntin,em,ntem,lt,gt,lteq,gteq,btw,any,fvc,fvf,fvt,saas,nsas'</span>,
    <span class="hljs-string">'journal'</span>: <span class="hljs-string">'fvc'</span>,
    <span class="hljs-string">'journal_input'</span>: <span class="hljs-string">'=journal'</span>,
    <span class="hljs-string">'keyword'</span>: <span class="hljs-string">'are'</span>,
    <span class="hljs-string">'multi_two_lines'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'percent_complete'</span>: <span class="hljs-string">'=integer'</span>,
    <span class="hljs-string">'ph_number'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'phone_number_e164'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'placeholder'</span>: <span class="hljs-string">'oper'</span>,
    <span class="hljs-string">'price'</span>: <span class="hljs-string">'eq,nteq,em,ntem,lt,gt,lteq,gteq,btw'</span>,
    <span class="hljs-string">'reference'</span>: <span class="hljs-string">'eq,nteq,em,ntem,stwt,enwt,lk,ntlk,any,saas,nsas,es,eqd,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'referencevariable'</span>: <span class="hljs-string">'eq,nteq,em,ntem'</span>,
    <span class="hljs-string">'replication_payload'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'script'</span>: <span class="hljs-string">'lk,ntlk,ntem,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'script_plain'</span>: <span class="hljs-string">'=script'</span>,
    <span class="hljs-string">'script_server'</span>: <span class="hljs-string">'=script'</span>,
    <span class="hljs-string">'sortspec'</span>: <span class="hljs-string">'asc,dsc,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'string'</span>: <span class="hljs-string">'stwt,enwt,lk,ntlk,eq,nteq,em,ntem,mpat,mreg,any,inna,es,fvc,fvf,fvt,lteq,gteq,btw,saas,nsas'</span>,
    <span class="hljs-string">'string_choice'</span>: <span class="hljs-string">'=choice'</span>,
    <span class="hljs-string">'string_clob'</span>: <span class="hljs-string">'lk,ntlk,stwt,enwt,em,ntem,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'string_numeric'</span>: <span class="hljs-string">'eq,nteq,lk,ntlk,stwt,enwt,btw,any,fvc,fvf,fvt,saas,nsas'</span>,
    <span class="hljs-string">'sys_class_name'</span>: <span class="hljs-string">'eq,nteq,inst,any,fvc,fvf,fvt'</span>,
    <span class="hljs-string">'sysevent_name'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'table_name'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'timer'</span>: <span class="hljs-string">'=integer'</span>,
    <span class="hljs-string">'translated_field'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'translated_html'</span>: <span class="hljs-string">'=html'</span>,
    <span class="hljs-string">'translated_text'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'translated_basic'</span>: <span class="hljs-string">'eq,nteq,em,ntem'</span>,
    <span class="hljs-string">'url'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'workflow'</span>: <span class="hljs-string">'=choice'</span>,
    <span class="hljs-string">'xml'</span>: <span class="hljs-string">'=html'</span>,
    <span class="hljs-string">'domain_path'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'tree_code'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'tree_path'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'source_id'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'source_name'</span>: <span class="hljs-string">'=string'</span>,
    <span class="hljs-string">'source_table'</span>: <span class="hljs-string">'=string'</span>
};
<span class="hljs-keyword">var</span> sysopers_template = {
    <span class="hljs-string">'default'</span>: <span class="hljs-string">'eq,saas,eqd'</span>
}
opersNS.compile(sysopers, opersNS.opdef);
opersNS.compile(sysopers_template, opersNS.opdef_template);
<span class="hljs-keyword">var</span> extopers = {};
extopers[<span class="hljs-string">'MATCH_PAT'</span>] = <span class="hljs-literal">true</span>;
extopers[<span class="hljs-string">'MATCH_RGX'</span>] = <span class="hljs-literal">true</span>;
extopers[<span class="hljs-string">'VALCHANGES'</span>] = <span class="hljs-literal">true</span>;
extopers[<span class="hljs-string">'CHANGESTO'</span>] = <span class="hljs-literal">true</span>;
extopers[<span class="hljs-string">'CHANGESFROM'</span>] = <span class="hljs-literal">true</span>;
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> req = <span class="hljs-keyword">new</span> XMLHttpRequest();
    req.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"/api/now/ui/date_time/legacy"</span>, <span class="hljs-literal">true</span>);
    req.setRequestHeader(<span class="hljs-string">'Accept'</span>, <span class="hljs-string">'application/json'</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span> &amp;&amp; g_ck != <span class="hljs-string">""</span>) {
        req.setRequestHeader(<span class="hljs-string">'X-UserToken'</span>, g_ck);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">responseFunction</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">var</span> result = <span class="hljs-built_in">JSON</span>.parse(request.response).result;
        <span class="hljs-keyword">var</span> calendar = result.timeAgoDates;
        calendar.DATEPART = result.datePart;
        calendar.BETWEEN = result.between;
        calendar.RELATIVE = result.relative;
        calendar.TRENDVALUES = result.trendValues;
        calendar.WHEN = result.when;
        calendar.TRENDVALUES_WITH_FIELDS_PLURAL = result.trendValuesWithFieldsPlural;
        calendar.TRENDVALUES_WITH_FIELDS = result.trendValuesWithFields;
        calendar.WHEN_WITH_FIELDS = result.whenWithFields;
        sysvalues[<span class="hljs-string">'calendar'</span>] = calendar;
    }
    req.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        processReqChange(req, responseFunction);
    };
    req.send(<span class="hljs-literal">null</span>);
}());
<span class="hljs-keyword">var</span> sysvalues = {};
sysvalues[<span class="hljs-string">'boolean'</span>] = [
    [<span class="hljs-string">"true"</span>, <span class="hljs-string">"true"</span>],
    [<span class="hljs-string">"false"</span>, <span class="hljs-string">"false"</span>]
];
sysvalues[<span class="hljs-string">'catalog_boolean'</span>] = [
    [<span class="hljs-string">"Yes"</span>, <span class="hljs-string">"Yes"</span>],
    [<span class="hljs-string">"No"</span>, <span class="hljs-string">"No"</span>]
];
sysvalues[<span class="hljs-string">'string_boolean'</span>] = [
    [<span class="hljs-string">"1"</span>, <span class="hljs-string">"true"</span>],
    [<span class="hljs-string">"0"</span>, <span class="hljs-string">"false"</span>]
];
<span class="hljs-keyword">var</span> MESSAGES_CONDITION_RELATED_FILES = [<span class="hljs-string">'lowercase_fields'</span>, <span class="hljs-string">'Keywords'</span>, <span class="hljs-string">'Show Related Fields'</span>, <span class="hljs-string">'Remove Related Fields'</span>, <span class="hljs-string">'-- choose field --'</span>, <span class="hljs-string">'-- value --'</span>, <span class="hljs-string">'-- None --'</span>];
<span class="hljs-keyword">var</span> g_current_table = <span class="hljs-string">''</span>;
<span class="hljs-keyword">var</span> g_filter_extension_map = {};;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/popupdivs14.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popListDiv</span>(<span class="hljs-params">e, tableName, sys_id, viewName, width, showOpenButton, trapFocus</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popListDiv(e, tableName, sys_id, viewName, width, !!showOpenButton, !!trapFocus);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popReferenceDiv</span>(<span class="hljs-params">e, inputid, viewName, formTable, refKey</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popReferenceDiv(e, inputid, viewName, formTable, refKey);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popForm</span>(<span class="hljs-params">e, tableName, sys_id, viewName, width</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popForm(e, tableName, sys_id, viewName, width);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popHistoryDiv</span>(<span class="hljs-params">e, tableName, sys_id, checkpoint, internalCP</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popHistoryDiv(e, tableName, sys_id, checkpoint, internalCP);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lockPopup</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_popup_manager)
        g_popup_manager.exitPopup(e);
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">window</span>.NOW.popupLock = <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lockPopupID</span>(<span class="hljs-params">e, sys_id</span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.g_popup_manager)
        <span class="hljs-keyword">return</span>;
    g_popup_manager.sys_id = sys_id;
    lockPopup(e);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popDiv</span>(<span class="hljs-params">e, sys_id</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popDiv(e, sys_id);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popCatDiv</span>(<span class="hljs-params">e, sys_id</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popCatDiv(e, sys_id);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popKnowledgeDiv</span>(<span class="hljs-params">e, sys_id</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popKnowledgeDiv(e, sys_id);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popReportInfoDiv</span>(<span class="hljs-params">e, reportId</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popReportInfoDiv(e, reportId);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popRecordDiv</span>(<span class="hljs-params">e, tableName, sys_id, viewName, width</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popRecordDiv(e, tableName, sys_id, viewName, width);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popIssueDiv</span>(<span class="hljs-params">e, issues</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popIssueDiv(e, issues);
    })
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popLightWeightReferenceDiv</span>(<span class="hljs-params">e, inputid</span>) </span>{
    ScriptLoader.getScripts(<span class="hljs-string">'scripts/doctype/GlidePopup.js'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_popup_manager.popLightWeightReferenceDiv(e, inputid);
    })
};
<span class="hljs-comment">/*! RESOURCE: /scripts/scrollable.js */</span>
<span class="hljs-keyword">var</span> HOME_SCROLL_SPEED = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> HOME_PAUSE_SPEED = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> HOME_RESUME_SPEED = <span class="hljs-number">1</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scroller</span>(<span class="hljs-params">divName</span>) </span>{
    <span class="hljs-keyword">var</span> target = gel(divName);
    <span class="hljs-keyword">if</span> (!target)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> wrapper = gel(divName + <span class="hljs-string">"_wrap"</span>);
    <span class="hljs-keyword">var</span> wrapperHeight = wrapper.offsetHeight;
    <span class="hljs-keyword">var</span> containerHeight = target.offsetHeight;
    <span class="hljs-keyword">var</span> actualheight = wrapperHeight
    <span class="hljs-keyword">if</span> (wrapperHeight &lt; containerHeight)
        actualheight = containerHeight;
    <span class="hljs-keyword">var</span> currentScroll = <span class="hljs-built_in">parseInt</span>(target.style.top) - HOME_SCROLL_SPEED;
    <span class="hljs-keyword">var</span> bottom = actualheight + <span class="hljs-built_in">parseInt</span>(target.style.top);
    <span class="hljs-keyword">if</span> (bottom &lt; <span class="hljs-number">20</span>)
        currentScroll = wrapperHeight;
    target.style.top = currentScroll + <span class="hljs-string">"px"</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/util/StopWatch.js */</span>
<span class="hljs-keyword">var</span> StopWatch = Class.create({
    <span class="hljs-attr">MILLIS_IN_SECOND</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">MILLIS_IN_MINUTE</span>: <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    <span class="hljs-attr">MILLIS_IN_HOUR</span>: <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">started</span>) </span>{
        <span class="hljs-keyword">this</span>.started = started || <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    },
    <span class="hljs-attr">getTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> now = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        <span class="hljs-keyword">return</span> now.getTime() - <span class="hljs-keyword">this</span>.started.getTime();
    },
    <span class="hljs-attr">restart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.initialize();
    },
    <span class="hljs-attr">jslog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, src, date</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.jslog) {
            jslog(<span class="hljs-string">'['</span> + <span class="hljs-keyword">this</span>.toString() + <span class="hljs-string">'] '</span> + msg, src, date);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.console &amp;&amp; <span class="hljs-built_in">window</span>.console.log)
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'['</span> + <span class="hljs-keyword">this</span>.toString() + <span class="hljs-string">'] '</span> + msg);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formatISO(<span class="hljs-keyword">this</span>.getTime());
    },
    <span class="hljs-attr">formatISO</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">millis</span>) </span>{
        <span class="hljs-keyword">var</span> hours = <span class="hljs-number">0</span>,
            minutes = <span class="hljs-number">0</span>,
            seconds = <span class="hljs-number">0</span>,
            milliseconds = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (millis &gt;= <span class="hljs-keyword">this</span>.MILLIS_IN_HOUR) {
            hours = <span class="hljs-built_in">parseInt</span>(millis / <span class="hljs-keyword">this</span>.MILLIS_IN_HOUR);
            millis = millis - (hours * <span class="hljs-keyword">this</span>.MILLIS_IN_HOUR);
        }
        <span class="hljs-keyword">if</span> (millis &gt;= <span class="hljs-keyword">this</span>.MILLIS_IN_MINUTE) {
            minutes = <span class="hljs-built_in">parseInt</span>(millis / <span class="hljs-keyword">this</span>.MILLIS_IN_MINUTE);
            millis = millis - (minutes * <span class="hljs-keyword">this</span>.MILLIS_IN_MINUTE);
        }
        <span class="hljs-keyword">if</span> (millis &gt;= <span class="hljs-keyword">this</span>.MILLIS_IN_SECOND) {
            seconds = <span class="hljs-built_in">parseInt</span>(millis / <span class="hljs-keyword">this</span>.MILLIS_IN_SECOND);
            millis = millis - (seconds * <span class="hljs-keyword">this</span>.MILLIS_IN_SECOND);
        }
        milliseconds = <span class="hljs-built_in">parseInt</span>(millis);
        <span class="hljs-keyword">return</span> doubleDigitFormat(hours) + <span class="hljs-string">":"</span> + doubleDigitFormat(minutes) + <span class="hljs-string">":"</span> + doubleDigitFormat(seconds) +
            <span class="hljs-string">"."</span> + tripleDigitFormat(milliseconds);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"StopWatch"</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/Table.js */</span>
<span class="hljs-keyword">var</span> Table = Class.create({
    <span class="hljs-attr">REF_ELEMENT_PREFIX</span>: <span class="hljs-string">'ref_'</span>,
    <span class="hljs-attr">REFERENCE</span>: <span class="hljs-string">"reference"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, cols, callback, accessTable, isTemplate, loadExtensions</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">this</span>.parentTable = parentTable;
        <span class="hljs-keyword">this</span>.label = tableName;
        <span class="hljs-keyword">this</span>.callback = callback;
        <span class="hljs-keyword">this</span>.accessTable = accessTable;
        <span class="hljs-keyword">this</span>.columns = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.elements = {};
        <span class="hljs-keyword">this</span>.elementsArray = [];
        <span class="hljs-keyword">this</span>.extensions = {};
        <span class="hljs-keyword">this</span>.extensionsArray = [];
        <span class="hljs-keyword">this</span>.choiceExtensions = {};
        <span class="hljs-keyword">this</span>.choiceExtensionsArray = [];
        <span class="hljs-keyword">this</span>.tablesArray = [];
        <span class="hljs-keyword">this</span>.sys_id = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.set_id = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.vars_id = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.glide_var = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.isTemplate = isTemplate;
        <span class="hljs-keyword">this</span>.loadExtensions = loadExtensions;
        Table.setCachable(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (cols &amp;&amp; <span class="hljs-keyword">this</span>.cacheable)
            <span class="hljs-keyword">this</span>.readResponse(cols);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.readColumns();
        <span class="hljs-keyword">this</span>.textIndex = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">readColumns</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"SysMeta"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"column"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_include_sysid"</span>, <span class="hljs-string">"true"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_table_name"</span>, <span class="hljs-string">"false"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_is_template"</span>, <span class="hljs-keyword">this</span>.isTemplate ? <span class="hljs-string">'true'</span> : <span class="hljs-string">'false'</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, <span class="hljs-keyword">this</span>.tableName);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sys_id)
            ajax.addParam(<span class="hljs-string">"sysparm_sys_id"</span>, <span class="hljs-keyword">this</span>.sys_id);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.set_id)
            ajax.addParam(<span class="hljs-string">"sysparm_set_id"</span>, <span class="hljs-keyword">this</span>.set_id);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.vars_id)
            ajax.addParam(<span class="hljs-string">"sysparm_vars_id"</span>, <span class="hljs-keyword">this</span>.vars_id);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.parentTable)
            ajax.addParam(<span class="hljs-string">"sysparm_parent_table"</span>, <span class="hljs-keyword">this</span>.parentTable);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.accessTable)
            ajax.addParam(<span class="hljs-string">"sysparm_access_table"</span>, <span class="hljs-keyword">this</span>.accessTable);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.loadExtensions)
            ajax.addParam(<span class="hljs-string">"sysparm_load_extended_fields"</span>, <span class="hljs-keyword">this</span>.loadExtensions);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.callback)
            ajax.getXML(<span class="hljs-keyword">this</span>.readColumnsResponse.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> xml = ajax.getXMLWait();
            <span class="hljs-keyword">this</span>.readResponse(xml);
        }
    },
    <span class="hljs-attr">readColumnsResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">if</span> (!response || !response.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">this</span>.readResponse(xml);
        <span class="hljs-keyword">this</span>.callback(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">readResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">this</span>.columns = xml;
        <span class="hljs-keyword">var</span> root = <span class="hljs-keyword">this</span>.columns.getElementsByTagName(<span class="hljs-string">"xml"</span>);
        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">null</span> || root.length == <span class="hljs-number">0</span>)
            root = <span class="hljs-keyword">this</span>.columns;
        <span class="hljs-keyword">if</span> (root != <span class="hljs-literal">null</span> &amp;&amp; root.length == <span class="hljs-number">1</span>) {
            root = root[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">this</span>.textIndex = root.getAttribute(<span class="hljs-string">"textIndex"</span>);
            <span class="hljs-keyword">this</span>.label = root.getAttribute(<span class="hljs-string">"label"</span>);
        }
        <span class="hljs-keyword">var</span> childNodes = root.childNodes;
        <span class="hljs-keyword">this</span>.elements = {};
        <span class="hljs-keyword">this</span>.elementsArray = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; childNodes.length; i++) {
            <span class="hljs-keyword">if</span> (childNodes[i].tagName == <span class="hljs-string">'extensions'</span>)
                <span class="hljs-keyword">this</span>.setExtensions(childNodes[i]);
            <span class="hljs-keyword">if</span> (childNodes[i].tagName == <span class="hljs-string">'tables'</span>)
                <span class="hljs-keyword">this</span>.setTables(childNodes[i]);
            <span class="hljs-keyword">if</span> (childNodes[i].tagName == <span class="hljs-string">'sys_choice_extensions'</span>)
                <span class="hljs-keyword">this</span>.setChoiceExtensions(childNodes[i]);
            <span class="hljs-keyword">if</span> (childNodes[i].tagName != <span class="hljs-string">'item'</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> item = childNodes[i];
            <span class="hljs-keyword">var</span> t = item.getAttribute(<span class="hljs-string">"value"</span>);
            <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> TableElement(t, label);
            e.setClearLabel(item.getAttribute(<span class="hljs-string">"cl"</span>));
            e.setType(item.getAttribute(<span class="hljs-string">"type"</span>));
            e.setReference(item.getAttribute(<span class="hljs-string">"reference"</span>));
            e.setDynamicCreation(item.getAttribute(<span class="hljs-string">"dynamic_creation"</span>) == <span class="hljs-string">"true"</span>);
            e.setRefQual(item.getAttribute(<span class="hljs-string">"reference_qual"</span>));
            e.setRefKey(item.getAttribute(<span class="hljs-string">"reference_key"</span>));
            e.setArray(item.getAttribute(<span class="hljs-string">"array"</span>));
            e.setChoice(item.getAttribute(<span class="hljs-string">"choice"</span>));
            e.setMulti(item.getAttribute(<span class="hljs-string">"multitext"</span>));
            e.setDependent(item.getAttribute(<span class="hljs-string">"dependent"</span>));
            e.setMaxLength(item.getAttribute(<span class="hljs-string">"max_length"</span>));
            e.setDisplayChars(item.getAttribute(<span class="hljs-string">"display_chars"</span>));
            e.setNamedAttributes(item.getAttribute(<span class="hljs-string">"attributes"</span>));
            e.setTableName(item.getAttribute(<span class="hljs-string">"table"</span>));
            e.setTable(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (e.isReference()) {
                e.setRefLabel(item.getAttribute(<span class="hljs-string">"reflabel"</span>));
                e.setRefDisplay(item.getAttribute(<span class="hljs-string">"refdisplay"</span>));
                e.setRefRotated(item.getAttribute(<span class="hljs-string">"reference_rotated"</span>));
            }
            <span class="hljs-keyword">this</span>.elements[t] = e;
            <span class="hljs-keyword">this</span>.elementsArray[<span class="hljs-keyword">this</span>.elementsArray.length] = e;
            <span class="hljs-keyword">var</span> attrs = item.attributes;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; attrs.length; x++)
                e.addAttribute(attrs[x].nodeName, attrs[x].nodeValue);
        }
        <span class="hljs-keyword">this</span>.setDependencies();
    },
    <span class="hljs-attr">setExtensions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">extensions</span>) </span>{
        <span class="hljs-keyword">var</span> items = extensions.childNodes;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.loadExtensions) {
            Table.getCache().ensureMaxEntries(items.length);
        }
        <span class="hljs-keyword">this</span>.extensionsArray = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> t = item.getAttribute(<span class="hljs-string">"name"</span>);
            <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> TableExtension(t, label);
            e.setTable(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (item.getElementsByTagName(<span class="hljs-string">'item'</span>) &amp;&amp; <span class="hljs-keyword">this</span>.loadExtensions) {
                Table.setColumns(t, <span class="hljs-literal">null</span>, item);
            }
            <span class="hljs-keyword">this</span>.extensions[t] = e;
            <span class="hljs-keyword">this</span>.extensionsArray[<span class="hljs-keyword">this</span>.extensionsArray.length] = e;
        }
    },
    <span class="hljs-attr">setChoiceExtensions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">choices</span>) </span>{
        items = choices.childNodes;
        <span class="hljs-keyword">this</span>.choiceExtensionsArray = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> t = item.getAttribute(<span class="hljs-string">"name"</span>);
            <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> TableExtension(t, label);
            e.setTable(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">this</span>.choiceExtensions[t] = e;
            <span class="hljs-keyword">this</span>.choiceExtensionsArray[<span class="hljs-keyword">this</span>.choiceExtensionsArray.length] = e;
        }
    },
    <span class="hljs-attr">setDependencies</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.elementsArray.length; i++) {
            <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>.elementsArray[i];
            <span class="hljs-keyword">if</span> (element.isDependent()) {
                <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.getElement(element.getDependent());
                <span class="hljs-keyword">if</span> (parent)
                    parent.addDependentChild(element.getName())
            }
        }
    },
    <span class="hljs-attr">setTables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tables</span>) </span>{
        <span class="hljs-keyword">var</span> tableList = tables.getAttribute(<span class="hljs-string">"table_list"</span>);
        <span class="hljs-keyword">this</span>.tablesArray = [];
        <span class="hljs-keyword">this</span>.tablesArray = tableList.split(<span class="hljs-string">','</span>);
    },
    <span class="hljs-attr">getColumns</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.columns;
    },
    <span class="hljs-attr">getElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementsArray;
    },
    <span class="hljs-attr">getTableElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName</span>) </span>{
        jslog(<span class="hljs-string">"Getting fields for table "</span> + tableName);
        <span class="hljs-keyword">var</span> elements = [];
        <span class="hljs-keyword">var</span> items = <span class="hljs-keyword">this</span>.getElements();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">if</span> (item.getTableName() != tableName)
                <span class="hljs-keyword">continue</span>;
            elements.push(item);
        }
        <span class="hljs-keyword">return</span> elements;
    },
    <span class="hljs-attr">getElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elements[elementName])
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elements[elementName];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._nameIsExtension(elementName))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._genExtensionElement(elementName);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_genExtensionElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        name = name.substring(<span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX.length);
        <span class="hljs-keyword">var</span> ext = <span class="hljs-keyword">this</span>.extensions[name];
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> TableElement(ext.getExtName(), ext.getLabel());
        e.setType(<span class="hljs-keyword">this</span>.REFERENCE);
        e.setReference(ext.getName());
        e.setRefLabel(ext.getLabel());
        e.setExtensionElement(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> e;
    },
    <span class="hljs-attr">_nameIsExtension</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (name.indexOf(<span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX) != <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        name = name.substring(<span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX.length);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.extensions[name];
    },
    <span class="hljs-attr">getExtensions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.extensionsArray;
    },
    <span class="hljs-attr">getChoiceExtensions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.choiceExtensionsArray;
    },
    <span class="hljs-attr">getTables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tablesArray;
    },
    <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">getLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.label;
    },
    <span class="hljs-attr">getDisplayName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">column</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getElement(column).getRefDisplay();
    },
    <span class="hljs-attr">getSysId</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sys_id;
    },
    <span class="hljs-attr">setSysId</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sys_id;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Table"</span>;
    }
});
Table.get = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, isTemplate, loadExtensions, callback</span>) </span>{
    <span class="hljs-keyword">var</span> topWindow = getTopWindow();
    <span class="hljs-keyword">return</span> (topWindow.Table || Table).getInTopWindow(tableName, parentTable, isTemplate, loadExtensions, callback);
};
Table.setColumns = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, xmlString</span>) </span>{
    <span class="hljs-keyword">var</span> cachedName = Table.getCacheKey(tableName, parentTable);
    <span class="hljs-keyword">var</span> parentCache = Table.getCache();
    <span class="hljs-keyword">if</span> (parentCache) {
        <span class="hljs-keyword">var</span> table = parentCache.get(cachedName);
        <span class="hljs-keyword">if</span> (table)
            <span class="hljs-keyword">return</span> table;
    }
    <span class="hljs-keyword">var</span> xml = <span class="hljs-keyword">typeof</span> xmlString == <span class="hljs-string">'string'</span> ? loadXML(xmlString) : xmlString;
    <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">new</span> Table(tableName, parentTable, xml);
    <span class="hljs-keyword">if</span> (parentCache &amp;&amp; answer.cacheable)
        parentCache.put(cachedName, answer);
};
Table.isCached = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, isTemplate</span>) </span>{
    <span class="hljs-keyword">var</span> cachedName = Table.getCacheKey(tableName, parentTable, isTemplate);
    <span class="hljs-keyword">var</span> parentCache = Table.getCache();
    <span class="hljs-keyword">if</span> (parentCache) {
        <span class="hljs-keyword">var</span> table = parentCache.get(cachedName);
        <span class="hljs-keyword">if</span> (table)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
Table.getInTopWindow = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, isTemplate, loadExtensions, callback</span>) </span>{
    <span class="hljs-keyword">var</span> t = {};
    Table.setCachable(t);
    <span class="hljs-keyword">if</span> (t.cacheable) {
        <span class="hljs-keyword">var</span> cachedName = Table.getCacheKey(tableName, parentTable, isTemplate, loadExtensions);
        <span class="hljs-keyword">var</span> parentCache = Table.getCache();
        <span class="hljs-keyword">if</span> (parentCache) {
            <span class="hljs-keyword">var</span> table = parentCache.get(cachedName);
            <span class="hljs-keyword">if</span> (table) {
                <span class="hljs-keyword">if</span> (callback)
                    callback(table);
                <span class="hljs-keyword">return</span> table;
            }
        }
    }
    <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">new</span> Table(tableName, parentTable, <span class="hljs-literal">null</span>, callback, <span class="hljs-literal">null</span>, isTemplate, loadExtensions);
    <span class="hljs-keyword">if</span> (parentCache &amp;&amp; answer.cacheable)
        parentCache.put(cachedName, answer);
    <span class="hljs-keyword">return</span> answer;
};
Table.setCachable = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
    t.cacheable = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_table_sys_id != <span class="hljs-string">'undefined'</span>) {
        t.sys_id = getTopWindow().g_table_sys_id;
        t.cacheable = <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_table_set_id != <span class="hljs-string">'undefined'</span>) {
        t.set_id = getTopWindow().g_table_set_id;
        t.cacheable = <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_table_vars_id != <span class="hljs-string">'undefined'</span>) {
        t.vars_id = getTopWindow().g_table_vars_id;
        t.cacheable = <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_table_glide_var != <span class="hljs-string">'undefined'</span>) {
        t.glide_var = getTopWindow().g_table_glide_var;
        t.cacheable = <span class="hljs-literal">false</span>;
    }
};
Table.getCacheKey = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, parentTable, isTemplate</span>) </span>{
    <span class="hljs-keyword">return</span> (parentTable ? parentTable + <span class="hljs-string">"."</span> : <span class="hljs-string">""</span>) + tableName + <span class="hljs-string">"."</span> + !!isTemplate;
};
Table.getCache = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> cache = getTopWindow().g_cache_td;
    <span class="hljs-keyword">if</span> (cache)
        <span class="hljs-keyword">return</span> cache;
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.g_cache_td)
        <span class="hljs-built_in">window</span>.g_cache_td = <span class="hljs-keyword">new</span> GlideClientCache(<span class="hljs-number">400</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.g_cache_td;
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/TableElement.js */</span>
<span class="hljs-keyword">var</span> TableElement = Class.create({
    <span class="hljs-attr">REF_ELEMENT_PREFIX</span>: <span class="hljs-string">'ref_'</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName, elementLabel</span>) </span>{
        <span class="hljs-keyword">this</span>.name = elementName;
        <span class="hljs-keyword">this</span>.label = elementLabel;
        <span class="hljs-keyword">this</span>.clearLabel = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.tableName = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.type = <span class="hljs-string">'string'</span>;
        <span class="hljs-keyword">this</span>.isRef = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.refLabel = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refDisplay = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refQual = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.reference = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refKey = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refRotated = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.array = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.canread = <span class="hljs-string">'unknown'</span>;
        <span class="hljs-keyword">this</span>.canwrite = <span class="hljs-string">'unknown'</span>;
        <span class="hljs-keyword">this</span>.saveastemplate = <span class="hljs-string">'unknown'</span>;
        <span class="hljs-keyword">this</span>.choice = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.multi = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.active = <span class="hljs-string">'unknown'</span>;
        <span class="hljs-keyword">this</span>.table = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dependent = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.maxLength = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.displayChars = <span class="hljs-string">"-1"</span>;
        <span class="hljs-keyword">this</span>.attributes = {};
        <span class="hljs-keyword">this</span>.dependentChildren = {};
        <span class="hljs-keyword">this</span>.namedAttributes = {};
        <span class="hljs-keyword">this</span>.extensionElement = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.dynamicCreation = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">addAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">this</span>.attributes[name] = value;
    },
    <span class="hljs-attr">getAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.attributes[name];
    },
    <span class="hljs-attr">getBooleanAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, defaultValue</span>) </span>{
        <span class="hljs-keyword">var</span> v = <span class="hljs-keyword">this</span>.getAttribute(name);
        <span class="hljs-keyword">if</span> (v == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> defaultValue !== <span class="hljs-string">'undefined'</span>) ? defaultValue : <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (v == <span class="hljs-string">'false'</span> || v == <span class="hljs-string">'no'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dependent != <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">hasDependentChildren</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.dependentChildren)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getDependentChildren</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dependentChildren;
    },
    <span class="hljs-attr">setTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
        <span class="hljs-keyword">this</span>.table = t;
    },
    <span class="hljs-attr">setType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
        <span class="hljs-keyword">this</span>.type = type;
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'glide_list'</span>)
            <span class="hljs-keyword">this</span>.isRef = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'glide_var'</span>)
            <span class="hljs-keyword">this</span>.isRef = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">reference</span>) </span>{
        <span class="hljs-keyword">if</span> (reference &amp;&amp; reference != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.reference = reference;
        <span class="hljs-keyword">switch</span> (<span class="hljs-keyword">this</span>.type) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'glide_list'</span>:
                <span class="hljs-keyword">this</span>.isRef = (<span class="hljs-keyword">this</span>.reference == <span class="hljs-literal">true</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'reference'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'domain_id'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'glide_var'</span>:
            <span class="hljs-keyword">case</span> <span class="hljs-string">'currency2'</span>:
                <span class="hljs-keyword">this</span>.isRef = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">this</span>.isRef = <span class="hljs-literal">false</span>;
        }
    },
    <span class="hljs-attr">setRefRotated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rotated</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'yes'</span> == rotated)
            <span class="hljs-keyword">this</span>.refRotated = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.refRotated = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">setCanWrite</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ra</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'no'</span> == ra)
            <span class="hljs-keyword">this</span>.canwrite = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.canwrite = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setSaveAsTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ra</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'no'</span> == ra)
            <span class="hljs-keyword">this</span>.saveastemplate = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.saveastemplate = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setCanRead</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ra</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'no'</span> == ra)
            <span class="hljs-keyword">this</span>.canread = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.canread = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">active</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'no'</span> == active)
            <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setRefQual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refQual</span>) </span>{
        <span class="hljs-keyword">this</span>.refQual = refQual;
    },
    <span class="hljs-attr">setRefKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refKey</span>) </span>{
        <span class="hljs-keyword">this</span>.refKey = refKey;
    },
    <span class="hljs-attr">setRefLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label</span>) </span>{
        <span class="hljs-keyword">this</span>.refLabel = label;
    },
    <span class="hljs-attr">setRefDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">display</span>) </span>{
        <span class="hljs-keyword">this</span>.refDisplay = display;
    },
    <span class="hljs-attr">setArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">array</span>) </span>{
        <span class="hljs-keyword">this</span>.array = array;
    },
    <span class="hljs-attr">setClearLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cl</span>) </span>{
        <span class="hljs-keyword">this</span>.clearLabel = cl;
    },
    <span class="hljs-attr">setChoice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">choice</span>) </span>{
        <span class="hljs-keyword">this</span>.choice = choice;
    },
    <span class="hljs-attr">setMulti</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">multi</span>) </span>{
        <span class="hljs-keyword">this</span>.multi = multi;
    },
    <span class="hljs-attr">setExtensionElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">this</span>.extensionElement = b;
    },
    <span class="hljs-attr">setDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dep</span>) </span>{
        <span class="hljs-keyword">if</span> (dep &amp;&amp; dep != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.dependent = dep;
    },
    <span class="hljs-attr">addDependentChild</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (name)
            <span class="hljs-keyword">this</span>.dependentChildren[name] = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setMaxLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">maxLength</span>) </span>{
        <span class="hljs-keyword">this</span>.maxLength = maxLength;
    },
    <span class="hljs-attr">setDisplayChars</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">displayChars</span>) </span>{
        <span class="hljs-keyword">this</span>.displayChars = displayChars;
    },
    <span class="hljs-attr">setNamedAttributes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attrs</span>) </span>{
        <span class="hljs-keyword">if</span> (!attrs)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> pairs = attrs.split(<span class="hljs-string">','</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; pairs.length; i++) {
            <span class="hljs-keyword">var</span> parts = pairs[i].split(<span class="hljs-string">'='</span>);
            <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">2</span>)
                <span class="hljs-keyword">this</span>.namedAttributes[parts[<span class="hljs-number">0</span>]] = parts[<span class="hljs-number">1</span>];
        }
    },
    <span class="hljs-attr">setDynamicCreation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dynamic</span>) </span>{
        <span class="hljs-keyword">this</span>.dynamicCreation = dynamic;
    },
    <span class="hljs-attr">isReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isRef;
    },
    <span class="hljs-attr">isRefRotated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refRotated;
    },
    <span class="hljs-attr">isExtensionElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.extensionElement;
    },
    <span class="hljs-attr">isDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> dateTypes[<span class="hljs-keyword">this</span>.type];
    },
    <span class="hljs-attr">isDateOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (dateOnlyTypes[<span class="hljs-keyword">this</span>.type])
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isDateTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (dateTimeTypes[<span class="hljs-keyword">this</span>.type])
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;
    },
    <span class="hljs-attr">getLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.label;
    },
    <span class="hljs-attr">getClearLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.clearLabel;
    },
    <span class="hljs-attr">getReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reference;
    },
    <span class="hljs-attr">getMulti</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.multi;
    },
    <span class="hljs-attr">isMulti</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMulti() == <span class="hljs-string">'yes'</span>;
    },
    <span class="hljs-attr">getDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dependent;
    },
    <span class="hljs-attr">getRefQual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refQual;
    },
    <span class="hljs-attr">getRefKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refKey;
    },
    <span class="hljs-attr">getRefLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refLabel;
    },
    <span class="hljs-attr">getRefDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refDisplay;
    },
    <span class="hljs-attr">getType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.type;
    },
    <span class="hljs-attr">getChoice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.choice;
    },
    <span class="hljs-attr">getTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.table;
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">setTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = t;
    },
    <span class="hljs-attr">isChoice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.choice == <span class="hljs-number">1</span> ||
            <span class="hljs-keyword">this</span>.choice == <span class="hljs-number">3</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">"day_of_week"</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">"week_of_month"</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">"month_of_year"</span>);
    },
    <span class="hljs-attr">getMaxLength</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.maxLength;
    },
    <span class="hljs-attr">getDisplayChars</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.displayChars;
    },
    <span class="hljs-attr">canRead</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.canread == <span class="hljs-string">'unknown'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"canread"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.canread;
    },
    <span class="hljs-attr">canSaveAsTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.saveastemplate == <span class="hljs-string">'unknown'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"save_as_template"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.saveastemplate;
    },
    <span class="hljs-attr">canWrite</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.canwrite == <span class="hljs-string">'unknown'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"canwrite"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.canwrite;
    },
    <span class="hljs-attr">canMatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"canmatch"</span>);
    },
    <span class="hljs-attr">isEdgeEncrypted</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"edge_encrypted"</span>, <span class="hljs-literal">false</span>);
    },
    <span class="hljs-attr">isActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active == <span class="hljs-string">'unknown'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"active"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.active;
    },
    <span class="hljs-attr">isNumber</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'integer'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'decimal'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'numeric'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'float'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'percent_complete'</span>;
    },
    <span class="hljs-attr">isArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.array &amp;&amp; <span class="hljs-keyword">this</span>.array == <span class="hljs-string">'yes'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">canSort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"cansort"</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.name.indexOf(<span class="hljs-string">"password"</span>) &gt; <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.name == <span class="hljs-string">'sys_id'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">"journal"</span> || <span class="hljs-keyword">this</span>.type == <span class="hljs-string">"journal_input"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isArray())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">canSortI18N</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getBooleanAttribute(<span class="hljs-string">"cansorti18n"</span>);
    },
    <span class="hljs-attr">canGroup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getNamedAttribute(<span class="hljs-string">"can_group"</span>) == <span class="hljs-string">"true"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isEdgeEncrypted() &amp;&amp; <span class="hljs-keyword">this</span>.canMatch())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.canSort())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isMulti())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.name.indexOf(<span class="hljs-string">"."</span>) &gt; <span class="hljs-number">-1</span> &amp;&amp; <span class="hljs-keyword">this</span>.name.indexOf(<span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX) &gt; <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">"glide_duration"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'glide_date_time'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'glide_date'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'glide_time'</span> ||
            <span class="hljs-keyword">this</span>.type == <span class="hljs-string">'due_date'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">getAttributes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.attributes[<span class="hljs-string">'attributes'</span>];
    },
    <span class="hljs-attr">getNamedAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.namedAttributes[name])
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.namedAttributes[name];
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"TableElement"</span>;
    },
    <span class="hljs-attr">isDynamicCreation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dynamicCreation;
    }
});
TableElement.get = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">var</span> names = name.split(<span class="hljs-string">'.'</span>);
    <span class="hljs-keyword">var</span> table = names[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> tableDef = Table.get(table);
    <span class="hljs-keyword">var</span> e = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; names.length; i++) {
        e = tableDef.getElement(names[i]);
        <span class="hljs-keyword">if</span> (i == names.length - <span class="hljs-number">1</span>)
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">if</span> (!e.isReference())
            <span class="hljs-keyword">break</span>;
        tableDef = Table.get(e.getReference());
    }
    <span class="hljs-keyword">return</span> e;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/TableExtension.js */</span>
<span class="hljs-keyword">var</span> TableExtension = Class.create({
    <span class="hljs-attr">REF_ELEMENT_PREFIX</span>: <span class="hljs-string">'ref_'</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName, elementLabel</span>) </span>{
        <span class="hljs-keyword">this</span>.name = elementName;
        <span class="hljs-keyword">this</span>.label = elementLabel;
        <span class="hljs-keyword">this</span>.table = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.fields = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name;
    },
    <span class="hljs-attr">getExtName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX + <span class="hljs-keyword">this</span>.getName();
    },
    <span class="hljs-attr">getLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.label;
    },
    <span class="hljs-attr">setTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
        <span class="hljs-keyword">this</span>.table = t;
    },
    <span class="hljs-attr">addOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select, namePrefix, labelPrefix</span>) </span>{
        <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">this</span>.getName();
        <span class="hljs-keyword">var</span> ext = <span class="hljs-keyword">this</span>.getExtName();
        <span class="hljs-keyword">if</span> (namePrefix &amp;&amp; namePrefix != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">var</span> idx = namePrefix.lastIndexOf(<span class="hljs-string">"."</span>);
            <span class="hljs-keyword">var</span> s = namePrefix.substring(idx + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">var</span> previousIsExtension = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (s.indexOf(<span class="hljs-keyword">this</span>.REF_ELEMENT_PREFIX) == <span class="hljs-number">0</span>)
                ext = namePrefix.substring(<span class="hljs-number">0</span>, idx + <span class="hljs-number">1</span>) + ext;
            <span class="hljs-keyword">else</span> {
                ext = namePrefix + <span class="hljs-string">"."</span> + ext;
                previousIsExtension = <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">var</span> label = <span class="hljs-keyword">this</span>.getLabel();
        <span class="hljs-keyword">var</span> reflabel = label;
        <span class="hljs-keyword">if</span> (labelPrefix &amp;&amp; labelPrefix != <span class="hljs-string">''</span>)
            <span class="hljs-keyword">if</span> (previousIsExtension)
                reflabel = labelPrefix.substring(<span class="hljs-number">0</span>, labelPrefix.lastIndexOf(<span class="hljs-string">"."</span>)) + <span class="hljs-string">"."</span> + reflabel;
            <span class="hljs-keyword">else</span>
                reflabel = labelPrefix + <span class="hljs-string">"."</span> + reflabel;
        tlabel = label + <span class="hljs-string">" (+)"</span>;
        appendSelectOption(select, ext, <span class="hljs-built_in">document</span>.createTextNode(tlabel));
        <span class="hljs-keyword">var</span> opt = select.options[select.options.length - <span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (labelPrefix != <span class="hljs-string">''</span>)
            opt.innerHTML = <span class="hljs-string">"&amp;nbsp;&amp;nbsp;&amp;nbsp;"</span> + tlabel;
        <span class="hljs-keyword">else</span>
            opt.innerHTML = tlabel;
        opt.cl = reflabel;
        opt.cv = ext;
        opt.tl = reflabel;
        opt.style.color = <span class="hljs-string">'darkred'</span>;
        opt.style.cursor = <span class="hljs-string">'pointer'</span>;
        opt.title = <span class="hljs-string">"Show extended fields from "</span> + label + <span class="hljs-string">" table"</span>;
        opt.doNotDelete = <span class="hljs-string">'true'</span>;
        opt.doNotMove = <span class="hljs-string">'true'</span>
        opt.reference = t;
        opt.bt = <span class="hljs-keyword">this</span>.table.getName();
        opt.btl = <span class="hljs-keyword">this</span>.table.getLabel();
        opt.headerAttr = <span class="hljs-string">'true'</span>;
        opt.tl = reflabel;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"TableExtension"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideDecoration.js */</span>
<span class="hljs-keyword">var</span> GlideDecoration = Class.create({
    <span class="hljs-attr">EDIT_DECORATION</span>: <span class="hljs-string">"images/editor_view_small.gifx"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">this</span>.type = node.getAttribute(<span class="hljs-string">'type'</span>);
        <span class="hljs-keyword">this</span>.iconSRC = node.getAttribute(<span class="hljs-string">'iconSRC'</span>);
        <span class="hljs-keyword">var</span> left = node.getAttribute(<span class="hljs-string">'left'</span>);
        <span class="hljs-keyword">if</span> (left == <span class="hljs-string">'true'</span>)
            <span class="hljs-keyword">this</span>.left = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.left = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'popup'</span>) {
            <span class="hljs-keyword">this</span>.onMouseMove = node.getAttribute(<span class="hljs-string">'onMouseMove'</span>);
            <span class="hljs-keyword">this</span>.onMouseExit = node.getAttribute(<span class="hljs-string">'onMouseOut'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'expandCollapseDecoration'</span>) {
            <span class="hljs-keyword">this</span>.expandedIcon = node.getAttribute(<span class="hljs-string">'expandedIcon'</span>);
            <span class="hljs-keyword">this</span>.collapsedIcon = node.getAttribute(<span class="hljs-string">'collapsedIcon'</span>);
            <span class="hljs-keyword">this</span>.expandedIconAlt = node.getAttribute(<span class="hljs-string">'expandedIconAlt'</span>);
            <span class="hljs-keyword">this</span>.collapsedIconAlt = node.getAttribute(<span class="hljs-string">'collapsedIconAlt'</span>);
            <span class="hljs-keyword">this</span>.memory = node.getAttribute(<span class="hljs-string">'memory'</span>);
            <span class="hljs-keyword">this</span>.expanded = node.getAttribute(<span class="hljs-string">'expanded'</span>);
            <span class="hljs-keyword">this</span>.altText = node.getAttribute(<span class="hljs-string">"collapsedText"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'editDecoration'</span>) {
            <span class="hljs-keyword">this</span>.editLink = node.getAttribute(<span class="hljs-string">'editLink'</span>);
        }
    },
    <span class="hljs-attr">attach</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'image'</span>)
            <span class="hljs-keyword">this</span>.attachImage(<span class="hljs-built_in">window</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'popup'</span>)
            <span class="hljs-keyword">this</span>.attachPopup(<span class="hljs-built_in">window</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'expandCollapseDecoration'</span>)
            <span class="hljs-keyword">this</span>.attachExpandCollapse(<span class="hljs-built_in">window</span>);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.type == <span class="hljs-string">'editDecoration'</span>)
            <span class="hljs-keyword">this</span>.attachEdit(<span class="hljs-built_in">window</span>);
    },
    <span class="hljs-attr">attachImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window</span>) </span>{
        <span class="hljs-keyword">var</span> decoration = cel(<span class="hljs-string">'img'</span>);
        decoration.setAttribute(<span class="hljs-string">'src'</span>, <span class="hljs-keyword">this</span>.iconSRC);
        decoration.setAttribute(<span class="hljs-string">'alt'</span>, <span class="hljs-string">''</span>);
        <span class="hljs-built_in">window</span>.addDecoration(decoration, <span class="hljs-keyword">this</span>.left);
    },
    <span class="hljs-attr">attachEdit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window</span>) </span>{
        <span class="hljs-keyword">var</span> an = cel(<span class="hljs-string">'a'</span>);
        <span class="hljs-keyword">var</span> d = cel(<span class="hljs-string">'img'</span>);
        d.src = <span class="hljs-keyword">this</span>.EDIT_DECORATION;
        d.alt = getMessage(<span class="hljs-string">'Edit'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.editLink.indexOf(<span class="hljs-string">'javascript:'</span>) == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> toEval = <span class="hljs-keyword">this</span>.editLink.substring(<span class="hljs-string">'javascript:'</span>.length);
            toEval = <span class="hljs-string">"var f = function(e) { if (!e) { e = event;}; "</span> + toEval + <span class="hljs-string">"}"</span>;
            <span class="hljs-built_in">eval</span>(toEval);
            an.onclick = f;
        } <span class="hljs-keyword">else</span>
            an.href = <span class="hljs-keyword">this</span>.editLink;
        an.appendChild(d);
        <span class="hljs-built_in">window</span>.addDecoration(an, <span class="hljs-keyword">this</span>.left);
    },
    <span class="hljs-attr">attachPopup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window</span>) </span>{
        <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">'span'</span>);
        <span class="hljs-keyword">var</span> toEval = <span class="hljs-keyword">this</span>.onMouseMove;
        toEval = <span class="hljs-string">"var f = function(e) { if (!e) { e = event;}; "</span> + toEval + <span class="hljs-string">"}"</span>;
        <span class="hljs-built_in">eval</span>(toEval);
        span.onmousemove = f;
        toEval = <span class="hljs-keyword">this</span>.onMouseExit;
        toEval = <span class="hljs-string">"var f = function(e) { if (!e) { e = event;}; "</span> + toEval + <span class="hljs-string">"}"</span>;
        <span class="hljs-built_in">eval</span>(toEval);
        span.onmouseout = f;
        <span class="hljs-keyword">var</span> decoration = cel(<span class="hljs-string">'img'</span>);
        decoration.setAttribute(<span class="hljs-string">'src'</span>, <span class="hljs-keyword">this</span>.iconSRC);
        decoration.setAttribute(<span class="hljs-string">'alt'</span>, <span class="hljs-string">''</span>);
        span.appendChild(decoration);
        <span class="hljs-built_in">window</span>.addDecoration(span, <span class="hljs-keyword">this</span>.left);
    },
    <span class="hljs-attr">attachExpandCollapse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window</span>) </span>{
        <span class="hljs-keyword">this</span>.img = cel(<span class="hljs-string">'img'</span>);
        <span class="hljs-keyword">this</span>.img.onclick = <span class="hljs-keyword">this</span>.toggleExpand.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'src'</span>, <span class="hljs-keyword">this</span>.iconSRC);
        <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'alt'</span>, getMessage(<span class="hljs-string">'Collapse'</span>));
        <span class="hljs-keyword">this</span>.img.style.verticalAlign = <span class="hljs-string">"top"</span>;
        <span class="hljs-keyword">this</span>.gwtWindow = <span class="hljs-built_in">window</span>;
        <span class="hljs-built_in">window</span>.addDecoration(<span class="hljs-keyword">this</span>.img, <span class="hljs-keyword">this</span>.left);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.expanded == <span class="hljs-string">'false'</span>) {
            <span class="hljs-keyword">this</span>.expanded = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.toggleExpand();
        }
    },
    <span class="hljs-attr">toggleExpand</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.expanded = !<span class="hljs-keyword">this</span>.expanded;
        <span class="hljs-keyword">var</span> localExpanded;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.expanded) {
            <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'src'</span>, <span class="hljs-keyword">this</span>.expandedIcon);
            <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'alt'</span>, <span class="hljs-keyword">this</span>.expandedIconAlt)
            <span class="hljs-keyword">var</span> span = <span class="hljs-keyword">this</span>.gwtWindow.body;
            <span class="hljs-keyword">var</span> temp = span.innerHTML;
            span.innerHTML = <span class="hljs-keyword">this</span>.altText;
            <span class="hljs-keyword">this</span>.altText = temp;
            localExpanded = <span class="hljs-string">'true'</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'src'</span>, <span class="hljs-keyword">this</span>.collapsedIcon);
            <span class="hljs-keyword">this</span>.img.setAttribute(<span class="hljs-string">'alt'</span>, <span class="hljs-keyword">this</span>.collapsedIconAlt)
            <span class="hljs-keyword">var</span> span = <span class="hljs-keyword">this</span>.gwtWindow.body;
            <span class="hljs-keyword">var</span> temp = span.innerHTML;
            span.innerHTML = <span class="hljs-keyword">this</span>.altText;
            <span class="hljs-keyword">this</span>.altText = temp;
            localExpanded = <span class="hljs-string">'false'</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.memory != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">this</span>.memory != <span class="hljs-string">''</span>)
            setPreference(<span class="hljs-string">'render_'</span> + <span class="hljs-keyword">this</span>.memory + <span class="hljs-string">'.expanded'</span>, localExpanded);
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GwtCellSelector.js */</span>
<span class="hljs-keyword">var</span> GwtCellSelector = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableElement</span>) </span>{
        <span class="hljs-keyword">this</span>.tableElement = tableElement;
        <span class="hljs-keyword">this</span>.setDisable(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.setSelectColumnOnly(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.setSelectNonContiguous(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.setSelectColor(<span class="hljs-string">"#DFDFDF"</span>);
        <span class="hljs-keyword">this</span>.browserColor = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.setUnselectColor(<span class="hljs-string">"#FAFAFA"</span>);
        <span class="hljs-keyword">this</span>.setCursor(<span class="hljs-string">"crosshair"</span>);
        <span class="hljs-keyword">this</span>.setBorderSize(<span class="hljs-string">"2px solid black"</span>);
        <span class="hljs-keyword">this</span>.onSelect = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.beforeSelect = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.selectMultipleColumns = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.selectMiscCells = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.isMouseDown = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.centerCellColVal = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.centerCellRowVal = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.atCol = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.atRow = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.colTo = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.maxCol = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.maxRow = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.selectCount = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.returnObjects = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.cellBackgroundXref = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.ignoreColumns = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.ignoreRows = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.getGridInfo()
        Event.observe(<span class="hljs-keyword">this</span>.tableElement, <span class="hljs-string">"mousedown"</span>, <span class="hljs-keyword">this</span>._dragStart.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.mouseUpTableListener = <span class="hljs-keyword">this</span>._dragEnd.bindAsEventListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.mouseOverTableListener = <span class="hljs-keyword">this</span>._dragOver.bindAsEventListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.mouseUpDocListener = <span class="hljs-keyword">this</span>._dragCheck.bindAsEventListener(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_draw</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._drawSelection(<span class="hljs-keyword">this</span>.colFrom, <span class="hljs-keyword">this</span>.colTo, <span class="hljs-keyword">this</span>.rowFrom, <span class="hljs-keyword">this</span>.rowTo);
    },
    <span class="hljs-attr">_dragStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (Event.isRightClick(e))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"cell_edit_cancel"</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.disableGrid) {
            <span class="hljs-keyword">this</span>.getGridInfo();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectNonContiguous)
                <span class="hljs-keyword">this</span>._contiguousCheck(e);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ignoreColumns[Event.element(e).cellIndex] ||
                <span class="hljs-keyword">this</span>.ignoreRows[<span class="hljs-keyword">this</span>._getRowIndex(Event.element(e).parentNode)]) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.beforeSelect) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.handleBeforeSelect(e))
                    <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isSelectColumnOnly)
                <span class="hljs-keyword">this</span>.selectMultipleColumns = e.shiftKey;
            <span class="hljs-keyword">this</span>.isMouseDown = <span class="hljs-literal">true</span>;
            <span class="hljs-built_in">document</span>.body.style.cursor = <span class="hljs-keyword">this</span>.cursor;
            stopSelection(<span class="hljs-built_in">document</span>.body);
            <span class="hljs-keyword">this</span>._setEpicenter(e);
            <span class="hljs-keyword">this</span>._selectAndDrawCells(Event.element(e));
            Event.observe(<span class="hljs-keyword">this</span>.tableElement, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.mouseUpTableListener);
            Event.observe(<span class="hljs-keyword">this</span>.tableElement, <span class="hljs-string">"mouseover"</span>, <span class="hljs-keyword">this</span>.mouseOverTableListener);
            Event.observe(<span class="hljs-built_in">document</span>, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.mouseUpDocListener);
            e.preventDefault();
        }
    },
    <span class="hljs-attr">_dragOver</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isMouseDown) {
            <span class="hljs-keyword">this</span>._selectAndDrawCells(Event.element(e));
        }
    },
    <span class="hljs-attr">_dragEnd</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.returnObjects = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.isMouseDown = <span class="hljs-literal">false</span>;
        <span class="hljs-built_in">document</span>.body.style.cursor = <span class="hljs-string">"default"</span>;
        <span class="hljs-keyword">this</span>._selectAndDrawCells(Event.element(e));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onSelect) {
            <span class="hljs-keyword">this</span>.handleOnSelect(<span class="hljs-keyword">this</span>.returnObjects);
        }
        restoreSelection(<span class="hljs-built_in">document</span>.body);
        Event.stopObserving(<span class="hljs-keyword">this</span>.tableElement, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.mouseUpTableListener);
        Event.stopObserving(<span class="hljs-keyword">this</span>.tableElement, <span class="hljs-string">"mouseover"</span>, <span class="hljs-keyword">this</span>.mouseOverTableListener);
        Event.stopObserving(<span class="hljs-built_in">document</span>, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.mouseUpDocListener);
    },
    <span class="hljs-attr">_dragCheck</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isMouseDown) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">this</span>._dragEnd(e);
            } <span class="hljs-keyword">catch</span> (err) {}
        }
    },
    <span class="hljs-attr">_contiguousCheck</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (e.ctrlKey)
            <span class="hljs-keyword">this</span>.selectMiscCells = e.ctrlKey;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.metaKey)
            <span class="hljs-keyword">this</span>.selectMiscCells = e.metaKey;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.selectMiscCells = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getSelectedObjects</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.returnObjects;
    },
    <span class="hljs-attr">getColFrom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.colFrom;
    },
    <span class="hljs-attr">getColTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.colTo;
    },
    <span class="hljs-attr">getRowFrom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rowFrom;
    },
    <span class="hljs-attr">getRowTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rowTo;
    },
    <span class="hljs-attr">setIgnoreColumn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">column</span>) </span>{
        <span class="hljs-keyword">this</span>.ignoreColumns[column] = column;
    },
    <span class="hljs-attr">setIgnoreRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">row</span>) </span>{
        <span class="hljs-keyword">this</span>.ignoreRows[row] = row;
    },
    <span class="hljs-attr">setSelectColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selectColor</span>) </span>{
        <span class="hljs-keyword">this</span>.selectColor = selectColor;
    },
    <span class="hljs-attr">setUnselectColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">unselectColor</span>) </span>{
        <span class="hljs-keyword">this</span>.unselectColor = unselectColor;
    },
    <span class="hljs-attr">setCursor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cursor</span>) </span>{
        <span class="hljs-keyword">this</span>.cursor = cursor;
    },
    <span class="hljs-attr">setSelectColumnOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.isSelectColumnOnly = flag;
    },
    <span class="hljs-attr">setDisable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.disableGrid = flag;
    },
    <span class="hljs-attr">setSelectNonContiguous</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.selectNonContiguous = flag;
    },
    <span class="hljs-attr">setBorderSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size</span>) </span>{
        <span class="hljs-keyword">this</span>.borderSize = size;
    },
    <span class="hljs-attr">_setSelectedCells</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">colFrom, colTo, rowFrom, rowTo</span>) </span>{
        <span class="hljs-keyword">this</span>.colFrom = colFrom;
        <span class="hljs-keyword">this</span>.colTo = colTo;
        <span class="hljs-keyword">this</span>.rowFrom = rowFrom;
        <span class="hljs-keyword">this</span>.rowTo = rowTo;
    },
    <span class="hljs-attr">_selectAndDrawCells</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>._selectCells(e);
        <span class="hljs-keyword">this</span>._drawSelection(<span class="hljs-keyword">this</span>.colFrom, <span class="hljs-keyword">this</span>.colTo, <span class="hljs-keyword">this</span>.rowFrom, <span class="hljs-keyword">this</span>.rowTo);
    },
    <span class="hljs-attr">_selectCells</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.atColVal = e.cellIndex;
        <span class="hljs-keyword">this</span>.atRowVal = <span class="hljs-keyword">this</span>._getRowIndex(e.parentNode);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal &lt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atRowVal &lt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectMultipleColumns) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal &lt; <span class="hljs-keyword">this</span>.centerCellColVal) {
                <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.atColVal;
                <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.centerCellColVal;
                <span class="hljs-keyword">this</span>._getRowSelection();
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal &gt; <span class="hljs-keyword">this</span>.centerCellColVal) {
                <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.centerCellColVal;
                <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.atColVal;
                <span class="hljs-keyword">this</span>._getRowSelection();
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal == <span class="hljs-keyword">this</span>.centerCellColVal) {
            <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.centerCellColVal;
            <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.centerCellColVal;
            <span class="hljs-keyword">this</span>._getRowSelection();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atRowVal &lt; <span class="hljs-keyword">this</span>.centerCellRowVal) {
            <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-keyword">this</span>.atRowVal;
            <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-keyword">this</span>.centerCellRowVal;
            <span class="hljs-keyword">this</span>._getColSelection();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atRowVal &gt; <span class="hljs-keyword">this</span>.centerCellRowVal) {
            <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-keyword">this</span>.centerCellRowVal;
            <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-keyword">this</span>.atRowVal;
            <span class="hljs-keyword">this</span>._getColSelection();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atRowVal == <span class="hljs-keyword">this</span>.centerCellRowVal) {
            <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-keyword">this</span>.centerCellRowVal;
            <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-keyword">this</span>.centerCellRowVal;
            <span class="hljs-keyword">this</span>._getColSelection();
            <span class="hljs-keyword">return</span>;
        }
    },
    <span class="hljs-attr">_getRowSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atRowVal &lt;= <span class="hljs-keyword">this</span>.centerCellRowVal) {
            <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-keyword">this</span>.atRowVal;
            <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-keyword">this</span>.centerCellRowVal;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.rowFrom = <span class="hljs-keyword">this</span>.centerCellRowVal;
            <span class="hljs-keyword">this</span>.rowTo = <span class="hljs-keyword">this</span>.atRowVal;
        }
    },
    <span class="hljs-attr">_getColSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectMultipleColumns) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal &lt; <span class="hljs-keyword">this</span>.centerCellColVal) {
                <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.atColVal;
                <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.centerCellColVal;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal &gt; <span class="hljs-keyword">this</span>.centerCellColVal) {
                <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.centerCellColVal;
                <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.atColVal;
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.atColVal == <span class="hljs-keyword">this</span>.centerCellColVal) {
            <span class="hljs-keyword">this</span>.colFrom = <span class="hljs-keyword">this</span>.centerCellColVal;
            <span class="hljs-keyword">this</span>.colTo = <span class="hljs-keyword">this</span>.centerCellColVal;
        }
    },
    <span class="hljs-attr">_drawSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">colFrom, colTo, rowFrom, rowTo</span>) </span>{
        <span class="hljs-keyword">this</span>._highlightCells(colFrom, colTo, rowFrom, rowTo);
    },
    <span class="hljs-attr">restoreCellColors</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.returnObjects) {
            <span class="hljs-keyword">var</span> color = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">var</span> cell = key.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getTableCell(<span class="hljs-built_in">parseInt</span>(cell[<span class="hljs-number">1</span>]) - <span class="hljs-number">1</span>, cell[<span class="hljs-number">0</span>]);
            removeClassName(e, <span class="hljs-string">"list_edit_selected_cell"</span>);
        }
        <span class="hljs-keyword">this</span>.returnObjects = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    },
    <span class="hljs-attr">_highlightCells</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">colFrom, colTo, rowFrom, rowTo</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.selectMiscCells)
            <span class="hljs-keyword">this</span>.restoreCellColors();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = colFrom; x &lt;= colTo; x++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> y = rowFrom; y &lt;= rowTo; y++) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.tableElement.rows[y].cells[x];
                    addClassName(e, <span class="hljs-string">"list_edit_selected_cell"</span>);
                    <span class="hljs-keyword">this</span>.returnObjects[x + <span class="hljs-string">","</span> + y] = e.id;
                } <span class="hljs-keyword">catch</span> (err) {}
            }
        }
    },
    <span class="hljs-attr">_clearAllCells</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>; x &lt;= <span class="hljs-keyword">this</span>.maxCol; x++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> y = <span class="hljs-number">1</span>; y &lt; <span class="hljs-keyword">this</span>.maxRow; y++) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-keyword">var</span> cell = <span class="hljs-keyword">this</span>.getTableCell(y, x);
                    cell.style.backgroundColor = <span class="hljs-string">""</span>;
                    cell.style.border = <span class="hljs-string">"0px"</span>;
                } <span class="hljs-keyword">catch</span> (err) {}
            }
        }
    },
    <span class="hljs-attr">clearRanges</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (ie5)
                <span class="hljs-built_in">document</span>.selection.empty();
            <span class="hljs-keyword">else</span>
                <span class="hljs-built_in">window</span>.getSelection().removeAllRanges();
        } <span class="hljs-keyword">catch</span> (e) {}
    },
    <span class="hljs-attr">getGridInfo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">this</span>.getTableRows();
        <span class="hljs-keyword">this</span>.maxRow = rows.length;
        <span class="hljs-keyword">if</span> (rows.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">this</span>.maxCol = rows[<span class="hljs-number">0</span>].cells.length;
    },
    <span class="hljs-attr">setMaxRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max</span>) </span>{
        <span class="hljs-keyword">this</span>.maxRow = max;
    },
    <span class="hljs-attr">_setEpicenter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>.retrieveCellFromNestedDOMElement(Event.element(e), <span class="hljs-string">'DIV'</span>);
        <span class="hljs-keyword">this</span>.centerCellColVal = element.cellIndex;
        <span class="hljs-keyword">this</span>.centerCellRowVal = <span class="hljs-keyword">this</span>._getRowIndex(element.parentNode);
    },
    <span class="hljs-attr">handleBeforeSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{},
    <span class="hljs-attr">retrieveCellFromNestedDOMElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, tagName</span>) </span>{
        <span class="hljs-keyword">if</span> (element.tagName == tagName &amp;&amp; element.parentNode.tagName == <span class="hljs-string">'TD'</span>)
            <span class="hljs-keyword">return</span> element.parentNode;
        <span class="hljs-keyword">return</span> element;
    },
    <span class="hljs-attr">handleOnSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selectedCells</span>) </span>{},
    <span class="hljs-attr">setBeforeSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.beforeSelect = flag;
    },
    <span class="hljs-attr">setOnSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.onSelect = flag;
    },
    <span class="hljs-attr">_getRowIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getTableRows().indexOf(element) + <span class="hljs-number">1</span>;
    },
    <span class="hljs-attr">getTableRows</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">this</span>.tableElement.rows;
        listRows = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, n = rows.length; i &lt; n; i++) {
            <span class="hljs-keyword">var</span> row = rows[i];
            <span class="hljs-keyword">if</span> (!hasClassName(row, <span class="hljs-string">'list_row'</span>))
                <span class="hljs-keyword">continue</span>;
            listRows.push(row);
        }
        <span class="hljs-keyword">return</span> listRows;
    },
    <span class="hljs-attr">getTableCell</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rowNdx, colNdx</span>) </span>{
        <span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">this</span>.getTableRows();
        <span class="hljs-keyword">if</span> (!rows || !rows[rowNdx])
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> rows[rowNdx].cells[colNdx];
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideRecord.js */</span>
<span class="hljs-keyword">var</span> GlideRecord = Class.create({
    <span class="hljs-attr">AJAX_PROCESSOR</span>: <span class="hljs-string">"AJAXGlideRecord"</span>,
    <span class="hljs-attr">initialized</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName</span>) </span>{
        <span class="hljs-keyword">this</span>.currentRow = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">this</span>.rows = [];
        <span class="hljs-keyword">this</span>.conditions = [];
        <span class="hljs-keyword">this</span>.encodedQuery = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.orderByFields = [];
        <span class="hljs-keyword">this</span>.orderByDescFields = [];
        <span class="hljs-keyword">this</span>.displayFields = [];
        <span class="hljs-keyword">this</span>.maxQuerySize = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">this</span>._wantSessionMessages = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>._additionalParams = {};
        <span class="hljs-keyword">if</span> (tableName)
            <span class="hljs-keyword">this</span>.setTableName(tableName);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.initialized == <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">this</span>.ignoreNames = {};
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> xname <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
                <span class="hljs-keyword">this</span>.ignoreNames[xname] = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> xname <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ignoreNames[xname] &amp;&amp; <span class="hljs-keyword">this</span>.ignoreNames[xname] == <span class="hljs-literal">true</span>)
                    <span class="hljs-keyword">continue</span>;
                <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>[xname];
            }
        }
        <span class="hljs-keyword">this</span>.initialized = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">addQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fName;
        <span class="hljs-keyword">var</span> fOper;
        <span class="hljs-keyword">var</span> fValue;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">2</span>) {
            fName = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
            fOper = <span class="hljs-string">'='</span>;
            fValue = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>];
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">3</span>) {
            fName = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
            fOper = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">1</span>];
            fValue = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">2</span>];
        }
        <span class="hljs-keyword">this</span>.conditions.push({
            <span class="hljs-string">'name'</span>: fName,
            <span class="hljs-string">'oper'</span>: fOper,
            <span class="hljs-string">'value'</span>: fValue
        });
    },
    <span class="hljs-attr">getEncodedQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ec = <span class="hljs-keyword">this</span>.encodedQuery;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.conditions.length; i++) {
            <span class="hljs-keyword">var</span> q = <span class="hljs-keyword">this</span>.conditions[i];
            ec += <span class="hljs-string">"^"</span> + q[<span class="hljs-string">'name'</span>] + q[<span class="hljs-string">'oper'</span>] + q[<span class="hljs-string">'value'</span>];
        }
        <span class="hljs-keyword">return</span> ec;
    },
    <span class="hljs-attr">deleteRecord</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseFunction</span>) </span>{
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR);
        ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"delete"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.getTableName());
        ajax.addParam(<span class="hljs-string">"sysparm_chars"</span>, <span class="hljs-keyword">this</span>._getXMLSerialized());
        ajax.addParam(<span class="hljs-string">'sysparm_want_session_messages'</span>, <span class="hljs-keyword">this</span>._wantSessionMessages);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> responseFunction == <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
            sw.jslog(<span class="hljs-string">"*** WARNING *** GlideRecord synchronous query for table: "</span> + <span class="hljs-keyword">this</span>.getTableName());
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> responseFunction != <span class="hljs-string">'function'</span>) {
            ajax.getXML();
            <span class="hljs-keyword">return</span>;
        }
        ajax.getXML(<span class="hljs-keyword">this</span>._deleteRecord0.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, responseFunction);
    },
    <span class="hljs-attr">_deleteRecord0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, responseFunction</span>) </span>{
        <span class="hljs-keyword">if</span> (!response || !response.responseXML)
            <span class="hljs-keyword">return</span>;
        responseFunction(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.initialize();
        <span class="hljs-keyword">this</span>.addQuery(<span class="hljs-string">'sys_id'</span>, id);
        <span class="hljs-keyword">this</span>.query();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.next();
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tableName;
    },
    <span class="hljs-attr">hasNext</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.currentRow + <span class="hljs-number">1</span> &lt; <span class="hljs-keyword">this</span>.rows.length);
    },
    <span class="hljs-attr">insert</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseFunction</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.update(responseFunction);
    },
    <span class="hljs-attr">gotoTop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.currentRow = <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._next();
    },
    <span class="hljs-attr">_next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasNext())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.currentRow++;
        <span class="hljs-keyword">this</span>.loadRow(<span class="hljs-keyword">this</span>.rows[<span class="hljs-keyword">this</span>.currentRow]);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">loadRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; r.length; i++) {
            <span class="hljs-keyword">var</span> name = r[i].name;
            <span class="hljs-keyword">var</span> value = r[i].value;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDotWalkField(name)) {
                <span class="hljs-keyword">var</span> start = <span class="hljs-keyword">this</span>;
                <span class="hljs-keyword">var</span> parts = name.split(<span class="hljs-regexp">/-/</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> p = <span class="hljs-number">0</span>; p &lt; parts.length - <span class="hljs-number">1</span>; p++) {
                    <span class="hljs-keyword">var</span> part = parts[p];
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> start[part] != <span class="hljs-string">'object'</span>)
                        start[part] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
                    start = start[part];
                }
                <span class="hljs-keyword">var</span> fieldName = parts[parts.length - <span class="hljs-number">1</span>];
                start[fieldName] = value;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>[name] = value;
            }
        }
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[fieldName];
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, value</span>) </span>{
        <span class="hljs-keyword">this</span>[fieldName] = value;
    },
    <span class="hljs-attr">isDotWalkField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.displayFields.length; i++) {
            <span class="hljs-keyword">var</span> fieldName = <span class="hljs-keyword">this</span>.displayFields[i];
            <span class="hljs-keyword">if</span> (fieldName.indexOf(<span class="hljs-string">"."</span>) == <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> encodedFieldName = fieldName.replace(<span class="hljs-regexp">/\./g</span>, <span class="hljs-string">"-"</span>);
            <span class="hljs-keyword">if</span> (name == encodedFieldName)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">addOrderBy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.orderByFields.push(f);
    },
    <span class="hljs-attr">orderBy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.orderByFields.push(f);
    },
    <span class="hljs-attr">orderByDesc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.orderByDescFields.push(f);
    },
    <span class="hljs-attr">setDisplayFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fields</span>) </span>{
        <span class="hljs-keyword">this</span>.displayFields = fields;
    },
    <span class="hljs-attr">query</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> responseFunction = <span class="hljs-keyword">this</span>._parseArgs(<span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._getBaseLine()) {
            <span class="hljs-keyword">var</span> rxml = loadXML(g_filter_description.getBaseLine());
            <span class="hljs-keyword">this</span>._queryResponse(rxml);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR);
        ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"query"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.getTableName());
        ajax.addParam(<span class="hljs-string">"sysparm_chars"</span>, <span class="hljs-keyword">this</span>.getEncodedQuery());
        ajax.addParam(<span class="hljs-string">'sysparm_want_session_messages'</span>, <span class="hljs-keyword">this</span>._wantSessionMessages);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getLimit() != <span class="hljs-number">-1</span>)
            ajax.addParam(<span class="hljs-string">"sysparm_max_query"</span>, <span class="hljs-keyword">this</span>.getLimit());
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.orderByFields.length &gt; <span class="hljs-number">0</span>)
            ajax.addParam(<span class="hljs-string">"sysparm_orderby"</span>, <span class="hljs-keyword">this</span>.orderByFields.join(<span class="hljs-string">","</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.orderByDescFields.length &gt; <span class="hljs-number">0</span>)
            ajax.addParam(<span class="hljs-string">"sysparm_orderby_desc"</span>, <span class="hljs-keyword">this</span>.orderByDescFields.join(<span class="hljs-string">","</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.displayFields.length &gt; <span class="hljs-number">0</span>)
            ajax.addParam(<span class="hljs-string">"sysparm_display_fields"</span>, <span class="hljs-keyword">this</span>.displayFields.join(<span class="hljs-string">","</span>));
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._additionalParams) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> key === <span class="hljs-string">'string'</span>)
                ajax.addParam(key, <span class="hljs-keyword">this</span>._additionalParams[key]);
        }
        <span class="hljs-keyword">if</span> (!responseFunction) {
            <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
            <span class="hljs-keyword">var</span> rxml = ajax.getXMLWait();
            sw.jslog(<span class="hljs-string">"*** WARNING *** GlideRecord synchronous query for table: "</span> + <span class="hljs-keyword">this</span>.getTableName());
            <span class="hljs-keyword">this</span>._queryResponse(rxml);
            <span class="hljs-keyword">return</span>;
        }
        ajax.getXML(<span class="hljs-keyword">this</span>._query0.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, responseFunction);
    },
    <span class="hljs-attr">_parseArgs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) </span>{
        <span class="hljs-keyword">var</span> responseFunction = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (i &lt; args.length) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> args[i] == <span class="hljs-string">'function'</span>) {
                responseFunction = args[i];
                i++;
                <span class="hljs-keyword">continue</span>;
            }
            <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; args.length) {
                <span class="hljs-keyword">this</span>.conditions.push({
                    <span class="hljs-string">'name'</span>: args[i],
                    <span class="hljs-string">'oper'</span>: <span class="hljs-string">'='</span>,
                    <span class="hljs-string">'value'</span>: args[i + <span class="hljs-number">1</span>]
                });
                i += <span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span>
                i++;
        }
        <span class="hljs-keyword">return</span> responseFunction;
    },
    <span class="hljs-attr">_query0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, responseFunction</span>) </span>{
        <span class="hljs-keyword">if</span> (!response || !response.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._queryResponse(response.responseXML);
        responseFunction(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_queryResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rxml</span>) </span>{
        <span class="hljs-keyword">var</span> rows = [];
        <span class="hljs-keyword">var</span> items = rxml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">if</span> ((items[i].parentNode.parentNode == rxml)) {
                <span class="hljs-keyword">var</span> grData = items[i];
                <span class="hljs-keyword">var</span> cnodes = grData.childNodes;
                <span class="hljs-keyword">var</span> fields = [];
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; cnodes.length; z++) {
                    <span class="hljs-keyword">var</span> field = cnodes[z];
                    <span class="hljs-keyword">var</span> name = field.nodeName;
                    <span class="hljs-keyword">var</span> value = getTextValue(field);
                    <span class="hljs-keyword">if</span> (!value)
                        value = <span class="hljs-string">""</span>;
                    fields.push({
                        <span class="hljs-string">'name'</span>: name,
                        <span class="hljs-string">'value'</span>: value
                    });
                }
                <span class="hljs-keyword">if</span> (cnodes.length &amp;&amp; cnodes.length &gt; <span class="hljs-number">0</span>)
                    rows.push(fields);
            }
        }
        <span class="hljs-keyword">this</span>.setRows(rows);
    },
    <span class="hljs-attr">setRows</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
        <span class="hljs-keyword">this</span>.rows = r;
    },
    <span class="hljs-attr">setTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName</span>) </span>{
        <span class="hljs-keyword">this</span>.tableName = tableName;
    },
    <span class="hljs-attr">update</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseFunction</span>) </span>{
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR);
        ajax.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"save_list"</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.getTableName());
        ajax.addParam(<span class="hljs-string">"sysparm_chars"</span>, <span class="hljs-keyword">this</span>._getXMLSerialized());
        ajax.addParam(<span class="hljs-string">'sysparm_want_session_messages'</span>, <span class="hljs-keyword">this</span>._wantSessionMessages);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> responseFunction == <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">var</span> sw = <span class="hljs-keyword">new</span> StopWatch();
            sw.jslog(<span class="hljs-string">"*** WARNING *** GlideRecord synchronous update or insert for table: "</span> + <span class="hljs-keyword">this</span>.getTableName());
            <span class="hljs-keyword">var</span> rxml = ajax.getXMLWait();
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._updateResponse(rxml);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> responseFunction != <span class="hljs-string">'function'</span>)
            responseFunction = doNothing;
        ajax.getXML(<span class="hljs-keyword">this</span>._update0.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, responseFunction);
    },
    <span class="hljs-attr">_update0</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, responseFunction</span>) </span>{
        <span class="hljs-keyword">if</span> (!response || !response.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">this</span>._updateResponse(response.responseXML);
        responseFunction(<span class="hljs-keyword">this</span>, answer);
    },
    <span class="hljs-attr">_updateResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rxml</span>) </span>{
        <span class="hljs-keyword">var</span> items = rxml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> getTextValue(items[<span class="hljs-number">0</span>]);
    },
    <span class="hljs-attr">setLimit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">maxQuery</span>) </span>{
        <span class="hljs-keyword">this</span>.maxQuerySize = maxQuery;
    },
    <span class="hljs-attr">getLimit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.maxQuerySize;
    },
    <span class="hljs-attr">_getXMLSerialized</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> xml = loadXML(<span class="hljs-string">"&lt;record_update/&gt;"</span>);
        <span class="hljs-keyword">var</span> root = xml.documentElement;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.sys_id)
            root.setAttribute(<span class="hljs-string">"id"</span>, <span class="hljs-keyword">this</span>.sys_id);
        root.setAttribute(<span class="hljs-string">'table'</span>, <span class="hljs-keyword">this</span>.getTableName());
        <span class="hljs-keyword">var</span> item = xml.createElement(<span class="hljs-keyword">this</span>.getTableName());
        root.appendChild(item);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> xname <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ignoreNames[xname])
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> f = xml.createElement(xname);
            item.appendChild(f);
            <span class="hljs-keyword">var</span> v = <span class="hljs-keyword">this</span>[xname];
            <span class="hljs-keyword">if</span> (!v)
                v = <span class="hljs-string">"NULL"</span>;
            <span class="hljs-keyword">var</span> t = xml.createTextNode(v);
            f.appendChild(t);
        }
        <span class="hljs-keyword">return</span> getXMLString(xml);
    },
    <span class="hljs-attr">_getBaseLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.g_filter_description &amp;&amp;
            <span class="hljs-keyword">typeof</span> g_filter_description.getBaseLine() != <span class="hljs-string">'undefined'</span> &amp;&amp;
            <span class="hljs-keyword">this</span>.getTableName() == <span class="hljs-string">'cmdb_baseline'</span> &amp;&amp;
            <span class="hljs-keyword">this</span>.getEncodedQuery() &amp;&amp;
            <span class="hljs-keyword">this</span>.orderByFields.length &lt; <span class="hljs-number">1</span> &amp;&amp;
            <span class="hljs-keyword">this</span>.displayFields.length &lt; <span class="hljs-number">1</span>;
    },
    <span class="hljs-attr">setWantSessionMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">want</span>) </span>{
        <span class="hljs-keyword">this</span>._wantSessionMessages = want;
    },
    <span class="hljs-attr">addAdditionalParam</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, val</span>) </span>{
        <span class="hljs-keyword">this</span>._additionalParams[key] = val;
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideWindow.js */</span>
<span class="hljs-keyword">var</span> GlideWindow = Class.create(GwtObservable, {
    <span class="hljs-attr">FORWARD_EVENTS</span>: {
        <span class="hljs-string">"mouseover"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"mouseout"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"mousemove"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"click"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"dblclick"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"keyup"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"mouseenter"</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">"mouseleave"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, readOnly</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.DEFAULT_BODY == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">this</span>.DEFAULT_BODY = <span class="hljs-string">"&lt;center&gt; "</span> + getMessage(<span class="hljs-string">"Loading..."</span>) + <span class="hljs-string">" &lt;br/&gt;&lt;img src='images/ajax-loader.gifx' alt='"</span> + getMessage(<span class="hljs-string">"Loading..."</span>) + <span class="hljs-string">"' /&gt;&lt;/center&gt;"</span>;
        <span class="hljs-keyword">this</span>._dir = $$(<span class="hljs-string">'html'</span>)[<span class="hljs-number">0</span>].readAttribute(<span class="hljs-string">'dir'</span>) === <span class="hljs-string">"rtl"</span> ? <span class="hljs-string">"right"</span> : <span class="hljs-string">"left"</span>;
        <span class="hljs-keyword">this</span>.id = id;
        <span class="hljs-keyword">this</span>.window = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.windowClass = <span class="hljs-string">"drag_section_picker"</span>;
        <span class="hljs-keyword">this</span>.zIndex = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.position = <span class="hljs-string">"absolute"</span>;
        <span class="hljs-keyword">this</span>.padding = <span class="hljs-number">3</span>;
        <span class="hljs-keyword">this</span>.container = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._readOnly = readOnly;
        <span class="hljs-keyword">this</span>.preferences = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.titleHTML = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.elementToFocus = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.offsetHorizontal = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.offsetTop = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.gd = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.shim = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.valid = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.closeDecoration = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._draw(id);
        <span class="hljs-keyword">this</span>.initDecorations();
        <span class="hljs-keyword">this</span>.headerWrap = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.setScope(<span class="hljs-string">"global"</span>);
        <span class="hljs-keyword">this</span>.doctype = <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">this</span>.nologValue = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">addDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">decorationElement, leftSide</span>) </span>{
        <span class="hljs-keyword">if</span> (leftSide) {
            <span class="hljs-keyword">var</span> ld = <span class="hljs-keyword">this</span>.leftDecorations;
            ld.style.display = <span class="hljs-string">"block"</span>;
            <span class="hljs-keyword">if</span> (ld.hasChildNodes()) {
                ld.insertBefore(decorationElement, ld.childNodes[<span class="hljs-number">0</span>].nextSibling);
            } <span class="hljs-keyword">else</span> {
                ld.appendChild(decorationElement);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.rightDecorations) {
                <span class="hljs-keyword">var</span> rd = <span class="hljs-keyword">this</span>.rightDecorations;
                <span class="hljs-keyword">if</span> (rd.hasChildNodes()) {
                    rd.insertBefore(decorationElement, rd.childNodes[<span class="hljs-number">0</span>]);
                } <span class="hljs-keyword">else</span> {
                    rd.appendChild(decorationElement);
                }
            } <span class="hljs-keyword">else</span> {}
        }
    },
    <span class="hljs-attr">addFunctionDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">imgSrc, label, clickHandler, side</span>) </span>{
        <span class="hljs-keyword">var</span> keyPressHandler = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ev</span>) </span>{
            <span class="hljs-keyword">if</span> (ev.keyCode === <span class="hljs-number">32</span> || ev.keyCode === <span class="hljs-number">13</span>) {
                ev.preventDefault();
                clickHandler(ev);
            }
        };
        <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">'span'</span>);
        span.onclick = clickHandler;
        span.onkeypress = keyPressHandler;
        span.gWindow = <span class="hljs-keyword">this</span>;
        span.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'button'</span>);
        span.setAttribute(<span class="hljs-string">'tabindex'</span>, <span class="hljs-number">0</span>);
        span.setAttribute(<span class="hljs-string">'aria-label'</span>, getMessage(label));
        <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">'img'</span>, span);
        img.id = <span class="hljs-string">'popup_close_image'</span>;
        img.height = <span class="hljs-string">'12'</span>;
        img.width = <span class="hljs-string">'13'</span>;
        img.src = imgSrc;
        <span class="hljs-keyword">this</span>.addDecoration(span, side);
        img = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> span;
    },
    <span class="hljs-attr">addHelpDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func</span>) </span>{
        <span class="hljs-keyword">this</span>.addFunctionDecoration(<span class="hljs-string">'images/help.gif'</span>, <span class="hljs-string">'Help'</span>, func);
    },
    <span class="hljs-attr">clearLeftDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.leftDecorations);
    },
    <span class="hljs-attr">clearRightDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearNodes(<span class="hljs-keyword">this</span>.rightDecorations);
    },
    <span class="hljs-attr">dragging</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">me, x, y</span>) </span>{
        x = <span class="hljs-built_in">Math</span>.max(x, <span class="hljs-number">0</span>);
        y = <span class="hljs-built_in">Math</span>.max(y, <span class="hljs-number">0</span>);
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"dragging"</span>, <span class="hljs-keyword">this</span>);
        me.draggable.style.left = x + <span class="hljs-string">'px'</span>;
        me.draggable.style.top = y + <span class="hljs-string">'px'</span>;
        <span class="hljs-keyword">this</span>._setShimBounds(x, y, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"beforeclose"</span>, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
            <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.container.parentNode;
            <span class="hljs-keyword">if</span> (parent)
                parent.removeChild(<span class="hljs-keyword">this</span>.container);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> gWindow = <span class="hljs-keyword">this</span>.getWindowDOM();
            <span class="hljs-keyword">var</span> parent = gWindow.parentNode;
            <span class="hljs-keyword">if</span> (parent)
                parent.removeChild(gWindow);
        }
        <span class="hljs-keyword">this</span>.setShim(<span class="hljs-literal">false</span>);
        <span class="hljs-keyword">if</span> (isMSIE)
            <span class="hljs-keyword">this</span>.container.outerHTML = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.release();
        <span class="hljs-keyword">this</span>.valid = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.closeDecoration = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">getAbsoluteRect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">addScroll</span>) </span>{
        <span class="hljs-keyword">return</span> getBounds(<span class="hljs-keyword">this</span>.getWindowDOM(), addScroll);
    },
    <span class="hljs-attr">getBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.body;
    },
    <span class="hljs-attr">getContainer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> obj;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
            obj = <span class="hljs-keyword">this</span>.container;
        } <span class="hljs-keyword">else</span> {
            obj = <span class="hljs-keyword">this</span>.getWindowDOM();
        }
        <span class="hljs-keyword">return</span> obj;
    },
    <span class="hljs-attr">getClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getWindowDOM().className;
    },
    <span class="hljs-attr">getDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">left</span>) </span>{
        <span class="hljs-keyword">if</span> (left)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.leftDecorations;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rightDecorations;
    },
    <span class="hljs-attr">getDescribingXML</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> section = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"section"</span>);
        section.setAttribute(<span class="hljs-string">"name"</span>, <span class="hljs-keyword">this</span>.getID());
        <span class="hljs-keyword">var</span> preferences = <span class="hljs-keyword">this</span>.getPreferences();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> preferences) {
            <span class="hljs-keyword">var</span> p = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"preference"</span>);
            <span class="hljs-keyword">var</span> v = preferences[name];
            p.setAttribute(<span class="hljs-string">"name"</span>, name);
            <span class="hljs-keyword">if</span> (v != <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">typeof</span> v == <span class="hljs-string">'object'</span>) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v.join == <span class="hljs-string">"function"</span>) {
                    v = v.join(<span class="hljs-string">","</span>);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v.toString == <span class="hljs-string">"function"</span>) {
                    v = v.toString();
                }
            }
            <span class="hljs-keyword">if</span> (v &amp;&amp; <span class="hljs-keyword">typeof</span> v.escapeHTML === <span class="hljs-string">"function"</span>)
                v = v.escapeHTML();
            <span class="hljs-keyword">if</span> (v)
                p.setAttribute(<span class="hljs-string">"value"</span>, v);
            section.appendChild(p);
        }
        <span class="hljs-keyword">return</span> section;
    },
    <span class="hljs-attr">getDescribingText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> gxml = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"gxml"</span>);
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>.getDescribingXML();
        gxml.appendChild(x);
        <span class="hljs-keyword">return</span> gxml.innerHTML;
    },
    <span class="hljs-attr">getHeader</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.header;
    },
    <span class="hljs-attr">getID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.id;
    },
    <span class="hljs-attr">getPosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.position;
    },
    <span class="hljs-attr">getPreferences</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.preferences;
    },
    <span class="hljs-attr">getPreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.preferences[id];
    },
    <span class="hljs-attr">getTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.title;
    },
    <span class="hljs-attr">locate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">domElement</span>) </span>{
        <span class="hljs-keyword">while</span> (domElement.parentNode) {
            domElement = domElement.parentNode;
            <span class="hljs-keyword">if</span> (domElement.gWindow)
                <span class="hljs-keyword">return</span> domElement.gWindow;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.$j &amp;&amp; $j(domElement).data(<span class="hljs-string">'gWindow'</span>)) {
                <span class="hljs-keyword">return</span> $j(domElement).data(<span class="hljs-string">'gWindow'</span>);
            }
        }
        alert(<span class="hljs-string">'GlideWindow.locate: window not found'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (!id || !gel(<span class="hljs-string">'window.'</span> + id))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> gel(<span class="hljs-string">'window.'</span> + id).gWindow;
    },
    <span class="hljs-attr">getWindowDOM</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.window;
    },
    <span class="hljs-attr">getZIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.zIndex;
    },
    <span class="hljs-attr">initDecorations</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isReadOnly()) {
            <span class="hljs-keyword">this</span>.closeDecoration = <span class="hljs-keyword">this</span>.addFunctionDecoration(<span class="hljs-string">"images/x.gifx"</span>, <span class="hljs-string">'Close'</span>, <span class="hljs-keyword">this</span>._onCloseClicked.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">removeCloseDecoration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.closeDecoration)
            <span class="hljs-keyword">this</span>.closeDecoration.parentNode.removeChild(<span class="hljs-keyword">this</span>.closeDecoration);
        <span class="hljs-keyword">this</span>.closeDecoration = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">showCloseOnMouseOver</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        Event.observe(<span class="hljs-keyword">this</span>.window, <span class="hljs-string">"mouseover"</span>, <span class="hljs-keyword">this</span>.showCloseButton.bind(<span class="hljs-keyword">this</span>));
        Event.observe(<span class="hljs-keyword">this</span>.window, <span class="hljs-string">"mouseout"</span>, <span class="hljs-keyword">this</span>.hideCloseButton.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.hideCloseButton();
    },
    <span class="hljs-attr">showCloseButton</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.closeDecoration)
            <span class="hljs-keyword">this</span>.closeDecoration.style.visibility = <span class="hljs-string">"visible"</span>;
    },
    <span class="hljs-attr">hideCloseButton</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.closeDecoration)
            <span class="hljs-keyword">this</span>.closeDecoration.style.visibility = <span class="hljs-string">"hidden"</span>;
    },
    <span class="hljs-attr">insert</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, beforeElement, invisible</span>) </span>{
        <span class="hljs-keyword">var</span> id = <span class="hljs-keyword">this</span>.getID();
        element = $(element);
        <span class="hljs-keyword">var</span> div = $(id);
        <span class="hljs-keyword">if</span> (!div) {
            <span class="hljs-keyword">var</span> div = cel(<span class="hljs-string">"div"</span>);
            div.name = div.id = id;
            div.gWindow = <span class="hljs-keyword">this</span>;
            div.setAttribute(<span class="hljs-string">"dragpart"</span>, id);
            div.className += <span class="hljs-string">" drag_section_part"</span>;
            div.style.position = <span class="hljs-keyword">this</span>.getPosition();
            div.style.zIndex = <span class="hljs-keyword">this</span>.getZIndex();
            div.style[<span class="hljs-keyword">this</span>._dir] = <span class="hljs-keyword">this</span>.offsetHorizontal + <span class="hljs-string">"px"</span>;
            div.style.top = <span class="hljs-keyword">this</span>.offsetTop + <span class="hljs-string">"px"</span>;
            div.appendChild(<span class="hljs-keyword">this</span>.getWindowDOM());
            <span class="hljs-keyword">if</span> (invisible)
                div.style.visibility = <span class="hljs-string">"hidden"</span>;
            <span class="hljs-keyword">if</span> (beforeElement)
                element.insertBefore(div, beforeElement);
            <span class="hljs-keyword">else</span>
                element.appendChild(div);
        }
        <span class="hljs-keyword">this</span>.container = div;
        <span class="hljs-keyword">this</span>._enableDragging(div);
    },
    <span class="hljs-attr">isActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.active;
    },
    <span class="hljs-attr">isReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._readOnly;
    },
    <span class="hljs-attr">isValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.valid;
    },
    <span class="hljs-attr">moveTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) </span>{
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.getContainer();
        o.style[<span class="hljs-keyword">this</span>._dir] = x + <span class="hljs-string">'px'</span>;
        o.style.top = y + <span class="hljs-string">'px'</span>;
        <span class="hljs-keyword">this</span>._setShimBounds(x, y, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
    },
    <span class="hljs-attr">release</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.window.gWindow = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.window = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.container = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.body = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.gd)
            <span class="hljs-keyword">this</span>.gd.destroy();
        <span class="hljs-keyword">this</span>.title = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.header = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.shim = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.rightDecorations = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.leftDecorations = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">removePreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.preferences[name];
    },
    <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> id = <span class="hljs-keyword">this</span>.getID();
        <span class="hljs-keyword">var</span> description = <span class="hljs-keyword">this</span>.getDescribingText();
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"RenderInfo"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">"sysparm_scope"</span>))
            ajax.setScope(<span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">"sysparm_scope"</span>))
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.nologValue)
            ajax.addParam(<span class="hljs-string">"ni.nolog.sysparm_value"</span>, <span class="hljs-literal">true</span>);
        ajax.addParam(<span class="hljs-string">"sysparm_value"</span>, description);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, id);
        ajax.getXML(<span class="hljs-keyword">this</span>._bodyRendered.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">invisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getContainer();
        e.style.visibility = <span class="hljs-string">"hidden"</span>;
    },
    <span class="hljs-attr">visible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getContainer();
        e.style.visibility = <span class="hljs-string">"visible"</span>;
    },
    <span class="hljs-attr">setAlt</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">alt</span>) </span>{
        <span class="hljs-keyword">this</span>.window.title = alt;
    },
    <span class="hljs-attr">setEscapedBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">body</span>) </span>{
        <span class="hljs-keyword">if</span> (!body)
            <span class="hljs-keyword">return</span>;
        body = body.replace(<span class="hljs-regexp">/\t/g</span>, <span class="hljs-string">""</span>);
        body = body.replace(<span class="hljs-regexp">/\r/g</span>, <span class="hljs-string">""</span>);
        body = body.replace(<span class="hljs-regexp">/\n+/g</span>, <span class="hljs-string">"\n"</span>);
        body = body.replace(<span class="hljs-regexp">/%27/g</span>, <span class="hljs-string">"'"</span>);
        body = body.replace(<span class="hljs-regexp">/%3c/g</span>, <span class="hljs-string">"&lt;"</span>);
        body = body.replace(<span class="hljs-regexp">/%3e/g</span>, <span class="hljs-string">"&gt;"</span>);
        body = body.replace(<span class="hljs-regexp">/&amp;amp;/g</span>, <span class="hljs-string">"&amp;"</span>);
        <span class="hljs-keyword">this</span>.setBody(body, <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">setBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html, noEvaluate, setAlt</span>) </span>{
        <span class="hljs-keyword">this</span>.body.innerHTML = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> html == <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">var</span> showBody = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (html.length == <span class="hljs-number">0</span>)
                showBody = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">this</span>.showBody(showBody);
            html = <span class="hljs-keyword">this</span>._substituteGet(html);
            html = <span class="hljs-keyword">this</span>._fixBrowserTags(html);
            <span class="hljs-keyword">this</span>.body.innerHTML = html;
            <span class="hljs-keyword">if</span> (setAlt)
                <span class="hljs-keyword">this</span>.setBodyAlt(html);
            <span class="hljs-keyword">if</span> (!noEvaluate)
                <span class="hljs-keyword">this</span>._evalScripts(html);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.body.appendChild(html);
        }
        <span class="hljs-keyword">var</span> prefs = <span class="hljs-keyword">this</span>.body.getElementsByTagName(<span class="hljs-string">"renderpreference"</span>);
        <span class="hljs-keyword">if</span> (prefs.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; prefs.length; i++) {
                <span class="hljs-keyword">var</span> pref = prefs[i];
                <span class="hljs-keyword">var</span> name = pref.getAttribute(<span class="hljs-string">"name"</span>);
                <span class="hljs-keyword">var</span> valu = pref.getAttribute(<span class="hljs-string">"value"</span>);
                <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"render_time"</span>) {
                    <span class="hljs-keyword">this</span>.debugTD.innerHTML = valu;
                    <span class="hljs-keyword">this</span>.debugTD.style.display = <span class="hljs-string">"table-cell"</span>;
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-keyword">this</span>.setPreference(name, valu);
                <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"title"</span>)
                    <span class="hljs-keyword">this</span>.setTitle(valu);
                <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"render_title"</span> &amp;&amp; valu == <span class="hljs-string">"false"</span>)
                    <span class="hljs-keyword">this</span>.header.style.display = <span class="hljs-string">"none"</span>;
                <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"hide_close_decoration"</span> &amp;&amp; valu == <span class="hljs-string">"true"</span>)
                    <span class="hljs-keyword">this</span>.removeCloseDecoration();
            }
        }
        <span class="hljs-keyword">var</span> decorations = <span class="hljs-keyword">this</span>.body.getElementsByTagName(<span class="hljs-string">"decoration"</span>);
        <span class="hljs-keyword">if</span> (decorations.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; decorations.length; x++) {
                <span class="hljs-keyword">var</span> thisDecoration = <span class="hljs-keyword">new</span> GlideDecoration(decorations[x]);
                thisDecoration.attach(<span class="hljs-keyword">this</span>);
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementToFocus) {
            <span class="hljs-keyword">if</span> (gel(<span class="hljs-keyword">this</span>.elementToFocus)) {
                self.focus();
                gel(<span class="hljs-keyword">this</span>.elementToFocus).focus();
            }
        }
        <span class="hljs-keyword">this</span>._shimResize();
    },
    <span class="hljs-attr">showBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">show</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.divMode)
            <span class="hljs-keyword">var</span> tr = <span class="hljs-keyword">this</span>.body;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">var</span> tr = <span class="hljs-keyword">this</span>.body.parentNode.parentNode;
        <span class="hljs-keyword">if</span> (show)
            tr.style.display = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">else</span>
            tr.style.display = <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">setBodyAlt</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">alt</span>) </span>{
        <span class="hljs-keyword">this</span>.body.title = alt;
    },
    <span class="hljs-attr">setClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
        <span class="hljs-keyword">this</span>.windowClass = className;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getWindowDOM())
            <span class="hljs-keyword">this</span>.getWindowDOM().className = className;
    },
    <span class="hljs-attr">setColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">this</span>.windowBackground = color;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getBody())
            <span class="hljs-keyword">this</span>.getBody().parentNode.style.backgroundColor = color;
    },
    <span class="hljs-attr">setFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.elementToFocus = id;
    },
    <span class="hljs-attr">setFont</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">family, size, fontUnit, weight</span>) </span>{
        <span class="hljs-keyword">this</span>.setFontSize(size, fontUnit);
        <span class="hljs-keyword">this</span>.setStyle(<span class="hljs-string">"fontFamily"</span>, family);
        <span class="hljs-keyword">this</span>.setFontWeight(weight);
    },
    <span class="hljs-attr">setFontSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size, fontUnit</span>) </span>{
        <span class="hljs-keyword">if</span> (!fontUnit)
            fontUnit = <span class="hljs-string">"pt"</span>;
        <span class="hljs-keyword">this</span>.setStyle(<span class="hljs-string">"fontSize"</span>, size + fontUnit);
    },
    <span class="hljs-attr">setFontWeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">weight</span>) </span>{
        <span class="hljs-keyword">this</span>.setStyle(<span class="hljs-string">"fontWeight"</span>, weight);
    },
    <span class="hljs-attr">setStyle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">if</span> (!value)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.getTitle().style[name] = value;
        <span class="hljs-keyword">this</span>.getBody().style[name] = value;
    },
    <span class="hljs-attr">setHeaderClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
        <span class="hljs-keyword">this</span>.getHeader().className = className;
    },
    <span class="hljs-attr">setHeaderColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">background</span>) </span>{
        <span class="hljs-keyword">this</span>.header.style.backgroundColor = background;
    },
    <span class="hljs-attr">setHeaderColors</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color, background</span>) </span>{
        <span class="hljs-keyword">this</span>.setHeaderColor(background);
        <span class="hljs-keyword">this</span>.title.style.color = color;
    },
    <span class="hljs-attr">setOpacity</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">opacity</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.divMode) {
            <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>.getBody().parentNode;
            element.style.filter = <span class="hljs-string">"alpha(opacity="</span> + (opacity * <span class="hljs-number">100</span>) + <span class="hljs-string">")"</span>;
            element.style.MozOpacity = opacity + <span class="hljs-string">""</span>;
            element.style.opacity = opacity + <span class="hljs-string">""</span>;
            element.style.opacity = opacity;
        }
    },
    <span class="hljs-attr">setPreferences</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">preferences</span>) </span>{
        <span class="hljs-keyword">this</span>.preferences = preferences;
    },
    <span class="hljs-attr">setPreference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">this</span>.preferences[name] = value;
    },
    <span class="hljs-attr">setPosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getContainer() != <span class="hljs-keyword">this</span>.getWindowDOM())
            <span class="hljs-keyword">this</span>.getContainer().style.position = name;
        <span class="hljs-keyword">this</span>.position = name;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">r</span>) </span>{
        <span class="hljs-keyword">this</span>._readOnly = r;
    },
    <span class="hljs-attr">setWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width</span>) </span>{
        <span class="hljs-keyword">this</span>.setSize(width, <span class="hljs-string">""</span>);
    },
    <span class="hljs-attr">getWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.window)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.window.clientWidth;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span>;
    },
    <span class="hljs-attr">setHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">height</span>) </span>{
        <span class="hljs-keyword">this</span>.definedHeight = height;
        <span class="hljs-keyword">this</span>.setSize(<span class="hljs-string">""</span>, height);
    },
    <span class="hljs-attr">removeHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.definedHeight = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">this</span>.getContainer();
        obj.style.height = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.window.style.height = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> bo = <span class="hljs-keyword">this</span>.getBody();
        bo.style.height = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">getHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.window)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.window.clientHeight;
    },
    <span class="hljs-attr">setSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">w, h</span>) </span>{
        <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">this</span>.getContainer();
        <span class="hljs-keyword">var</span> bo = <span class="hljs-keyword">this</span>.getBody();
        <span class="hljs-keyword">var</span> setWidth = w;
        <span class="hljs-keyword">if</span> (setWidth &amp;&amp; !<span class="hljs-built_in">isNaN</span>(setWidth))
            setWidth = setWidth + <span class="hljs-string">'px'</span>;
        bo.style.width = setWidth;
        obj.style.width = setWidth;
        <span class="hljs-keyword">if</span> (obj != <span class="hljs-keyword">this</span>.window)
            <span class="hljs-keyword">this</span>.window.style.width = setWidth;
        <span class="hljs-keyword">var</span> setHeight = h;
        <span class="hljs-keyword">if</span> (h &amp;&amp; !<span class="hljs-built_in">isNaN</span>(setHeight)) {
            setHeight = setHeight + <span class="hljs-string">'px'</span>;
            obj.style.height = setHeight;
        }
        <span class="hljs-keyword">this</span>._setShimBounds(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>, w, h);
    },
    <span class="hljs-attr">adjustBodySize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">this</span>.getContainer();
        <span class="hljs-keyword">var</span> bo = <span class="hljs-keyword">this</span>.getBody();
        <span class="hljs-keyword">var</span> h = obj.clientHeight;
        <span class="hljs-keyword">if</span> ((h - <span class="hljs-keyword">this</span>.header.clientHeight) &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> headerClientHeight = h - <span class="hljs-keyword">this</span>.header.clientHeight;
            bo.style.height = headerClientHeight + <span class="hljs-string">'px'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!(isMSIE9 &amp;&amp; getTopWindow().document.doctype))
            bo.style.height = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.window.style.height = obj.style.height;
    },
    <span class="hljs-attr">removeBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> element = <span class="hljs-keyword">this</span>.getBody();
        element = element.parentNode;
        element = element.parentNode;
        <span class="hljs-keyword">var</span> tbody = element.parentNode;
        tbody.removeChild(element);
    },
    <span class="hljs-attr">clearSpacing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.window.style.padding = <span class="hljs-string">"0px"</span>;
        <span class="hljs-keyword">this</span>.body.style.padding = <span class="hljs-string">"0px"</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.divMode) {
            <span class="hljs-keyword">this</span>.window.cellSpacing = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>.window.cellPadding = <span class="hljs-number">0</span>;
        }
    },
    <span class="hljs-attr">setWindowActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.setHeaderClassName(<span class="hljs-string">"drag_section_header_active"</span>);
        <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">true</span>;
        addClassName(<span class="hljs-keyword">this</span>.getContainer(), <span class="hljs-string">"selected"</span>);
    },
    <span class="hljs-attr">setWindowInactive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.setHeaderClassName(<span class="hljs-string">"drag_section_header"</span>);
        <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">false</span>;
        removeClassName(<span class="hljs-keyword">this</span>.getContainer(), <span class="hljs-string">"selected"</span>);
    },
    <span class="hljs-attr">toggleActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active)
            <span class="hljs-keyword">this</span>.setWindowInactive();
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.setWindowActive();
    },
    <span class="hljs-attr">setHeaderWrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">wrap</span>) </span>{
        <span class="hljs-keyword">this</span>.headerWrap = wrap;
        <span class="hljs-keyword">if</span> (wrap)
            <span class="hljs-keyword">this</span>.title.style.whiteSpace = <span class="hljs-string">"normal"</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.title.style.whiteSpace = <span class="hljs-string">"nowrap"</span>;
    },
    <span class="hljs-attr">isHeaderWrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.headerWrap;
    },
    <span class="hljs-attr">setShim</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">if</span> (!ie5)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (b == <span class="hljs-literal">false</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.shim) {
                <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.shim.parentNode;
                parent.removeChild(<span class="hljs-keyword">this</span>.shim);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> iframeShim = cel(<span class="hljs-string">"iframe"</span>);
            iframeShim.id = iframeShim.name = <span class="hljs-string">"iframeDragShim_"</span> + <span class="hljs-keyword">this</span>.id;
            iframeShim.src = <span class="hljs-string">"blank.do"</span>;
            iframeShim.style.position = <span class="hljs-string">"absolute"</span>;
            iframeShim.style.top = <span class="hljs-number">0</span>;
            iframeShim.style.left = <span class="hljs-number">0</span>;
            iframeShim.style.width = <span class="hljs-number">0</span>;
            iframeShim.style.height = <span class="hljs-number">0</span>;
            iframeShim.frameBorder = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>.container.parentNode.appendChild(iframeShim);
            <span class="hljs-keyword">this</span>.shim = iframeShim;
            <span class="hljs-keyword">var</span> win = <span class="hljs-keyword">this</span>.getWindowDOM();
            Event.observe(win, <span class="hljs-string">'resize'</span>, <span class="hljs-keyword">this</span>._shimResize.bind(<span class="hljs-keyword">this</span>));
        }
    },
    <span class="hljs-attr">setTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>) </span>{
        <span class="hljs-keyword">this</span>.titleValue = html;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> html == <span class="hljs-string">'string'</span>)
            <span class="hljs-keyword">this</span>.title.innerHTML = html;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.title.innerHTML = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">this</span>.title.appendChild(html || <span class="hljs-string">""</span>);
        }
    },
    <span class="hljs-attr">setTitleAlign</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">align</span>) </span>{
        <span class="hljs-keyword">this</span>.title.style.textAlign = align;
        <span class="hljs-keyword">var</span> children = <span class="hljs-keyword">this</span>.title.children;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            children[<span class="hljs-number">0</span>].style.textAlign = align;
        }
    },
    <span class="hljs-attr">setTitleSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size</span>) </span>{
        <span class="hljs-keyword">this</span>.title.style.fontSize = size;
        <span class="hljs-keyword">var</span> children = <span class="hljs-keyword">this</span>.title.children;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            children[<span class="hljs-number">0</span>].style.fontSize = size;
        }
    },
    <span class="hljs-attr">setTitleFont</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">font</span>) </span>{
        <span class="hljs-keyword">this</span>.title.style.fontFamily = font;
        <span class="hljs-keyword">var</span> children = <span class="hljs-keyword">this</span>.title.children;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            children[<span class="hljs-number">0</span>].style.fontFamily = font;
        }
    },
    <span class="hljs-attr">setTitleColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">this</span>.title.style.color = color;
        <span class="hljs-keyword">var</span> children = <span class="hljs-keyword">this</span>.title.children;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            children[<span class="hljs-number">0</span>].style.color = color;
        }
    },
    <span class="hljs-attr">setBorderVisibility</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">visible</span>) </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-built_in">window</span> = <span class="hljs-keyword">this</span>.getWindowDOM();
        <span class="hljs-keyword">if</span> (visible !== <span class="hljs-string">"false"</span> &amp;&amp; visible) {
            <span class="hljs-built_in">window</span>.style.border = <span class="hljs-string">""</span>;
            <span class="hljs-built_in">window</span>.style.boxShadow = <span class="hljs-string">""</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">window</span>.style.border = <span class="hljs-string">"none"</span>;
            <span class="hljs-built_in">window</span>.style.boxShadow = <span class="hljs-string">"none"</span>;
        }
    },
    <span class="hljs-attr">setBorderWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width</span>) </span>{
        <span class="hljs-keyword">this</span>.getWindowDOM().style.borderWidth = width;
    },
    <span class="hljs-attr">setBorderColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">this</span>.getWindowDOM().style.borderColor = color;
    },
    <span class="hljs-attr">setHeaderBorderVisibility</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">visible</span>) </span>{
        <span class="hljs-keyword">if</span> (visible !== <span class="hljs-string">"false"</span> &amp;&amp; visible)
            <span class="hljs-keyword">this</span>.header.style.border = <span class="hljs-string">"solid"</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.header.style.border = <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">setHeaderBorderWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width</span>) </span>{
        <span class="hljs-keyword">this</span>.header.style.borderWidth = width;
    },
    <span class="hljs-attr">setHeaderBorderColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">this</span>.header.style.borderColor = color;
    },
    <span class="hljs-attr">setHeaderBackgroundColor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">color</span>) </span>{
        <span class="hljs-keyword">this</span>.header.style.backgroundColor = color;
    },
    <span class="hljs-attr">setTitleVisibility</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">visible</span>) </span>{
        <span class="hljs-keyword">if</span> (visible !== <span class="hljs-string">"false"</span> &amp;&amp; visible)
            <span class="hljs-keyword">this</span>.setTitle(<span class="hljs-keyword">this</span>.titleValue);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.title.innerHTML = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">setZIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getContainer() != <span class="hljs-keyword">this</span>.getWindowDOM())
            <span class="hljs-keyword">this</span>.getContainer().style.zIndex = i;
        <span class="hljs-keyword">this</span>.zIndex = i;
    },
    <span class="hljs-attr">setNologValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">nolog</span>) </span>{
        <span class="hljs-keyword">this</span>.nologValue = !!nolog;
    },
    <span class="hljs-attr">on</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, func</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.FORWARD_EVENTS[name])
            <span class="hljs-keyword">this</span>.forward(name, <span class="hljs-keyword">this</span>.window, func);
        <span class="hljs-keyword">else</span>
            GwtObservable.prototype.on.call(<span class="hljs-keyword">this</span>, name, func);
        <span class="hljs-keyword">if</span> (name == <span class="hljs-string">"dblclick"</span>) {
            <span class="hljs-keyword">if</span> (isMSIE)
                <span class="hljs-keyword">this</span>.window.style.cursor = <span class="hljs-string">"hand"</span>;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.window.style.cursor = <span class="hljs-string">"pointer"</span>;
        }
    },
    <span class="hljs-attr">_bodyRendered</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">var</span> xml = request.responseXML;
        <span class="hljs-keyword">var</span> uid = xml.documentElement.getAttribute(<span class="hljs-string">"sysparm_name"</span>);
        <span class="hljs-keyword">var</span> newBody = xml.getElementsByTagName(<span class="hljs-string">"html"</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.body)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (newBody.xml) {
            xml = newBody.xml;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.XMLSerializer) {
            xml = (<span class="hljs-keyword">new</span> XMLSerializer()).serializeToString(newBody);
        }
        <span class="hljs-keyword">if</span> (!xml)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.setEscapedBody(xml);
        <span class="hljs-keyword">this</span>._evalScripts(xml);
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"bodyrendered"</span>, <span class="hljs-keyword">this</span>);
        _frameChanged();
    },
    <span class="hljs-attr">_centerOnScreen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">width, height</span>) </span>{
        <span class="hljs-keyword">var</span> bounds = <span class="hljs-keyword">this</span>.getAbsoluteRect();
        <span class="hljs-keyword">var</span> viewport = <span class="hljs-keyword">new</span> WindowSize();
        <span class="hljs-keyword">var</span> w = viewport.width;
        <span class="hljs-keyword">var</span> h = viewport.height;
        <span class="hljs-keyword">var</span> windowWidth = (width ? width : bounds.width);
        <span class="hljs-keyword">var</span> windowHeight = (height ? height : bounds.height);
        <span class="hljs-keyword">var</span> scrollX = getScrollX();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> scrollX == <span class="hljs-string">"undefined"</span>)
            scrollX = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> scrollY = <span class="hljs-keyword">this</span>._getScrollTop();
        <span class="hljs-keyword">var</span> leftX = <span class="hljs-built_in">parseInt</span>((w / <span class="hljs-number">2</span>) - (windowWidth / <span class="hljs-number">2</span>)) + scrollX;
        <span class="hljs-keyword">var</span> topY = <span class="hljs-built_in">parseInt</span>((h / <span class="hljs-number">2</span>) - (windowHeight / <span class="hljs-number">2</span>)) + scrollY;
        <span class="hljs-keyword">var</span> topWindow = getTopWindow();
        <span class="hljs-keyword">var</span> browserHeight = topWindow.innerHeight || topWindow.document.documentElement.clientHeight || topWindow.document.body.clientHeight;
        <span class="hljs-keyword">var</span> topWindowBody = $(topWindow.document.body);
        <span class="hljs-keyword">if</span> (topWindowBody &amp;&amp; topWindowBody.select &amp;&amp; topWindowBody.select(<span class="hljs-string">'table.navpage'</span>).length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> currentIframe = <span class="hljs-keyword">this</span>._findCurrentIframe(<span class="hljs-built_in">window</span>);
            <span class="hljs-keyword">if</span> (currentIframe &amp;&amp; currentIframe.getBoundingClientRect) {
                <span class="hljs-keyword">var</span> rectTop = <span class="hljs-built_in">parseInt</span>(currentIframe.getBoundingClientRect().top);
                <span class="hljs-keyword">var</span> d = h + rectTop;
                topY = scrollY;
                <span class="hljs-keyword">if</span> (rectTop &lt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (d &gt; browserHeight)
                        topY += <span class="hljs-built_in">parseInt</span>((browserHeight - windowHeight) / <span class="hljs-number">2</span>) - rectTop;
                    <span class="hljs-keyword">else</span>
                        topY += <span class="hljs-built_in">parseInt</span>((d - windowHeight) / <span class="hljs-number">2</span>) - rectTop;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (d &gt; browserHeight)
                        topY += <span class="hljs-built_in">parseInt</span>((browserHeight - rectTop - windowHeight) / <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> {
                        topY += <span class="hljs-built_in">parseInt</span>((h - windowHeight) / <span class="hljs-number">2</span>);
                        <span class="hljs-keyword">if</span> (scrollY == <span class="hljs-number">0</span> &amp;&amp; (isMSIE6 || isMSIE7 || isMSIE8))
                            topY += <span class="hljs-built_in">window</span>.pageYOffset || <span class="hljs-built_in">document</span>.documentElement.scrollTop || <span class="hljs-built_in">document</span>.body.scrollTop;
                    }
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
                    <span class="hljs-keyword">var</span> containerParentHeight = <span class="hljs-keyword">this</span>.container.parentNode.scrollHeight;
                    <span class="hljs-keyword">if</span> (containerParentHeight &lt; browserHeight)
                        topY = <span class="hljs-built_in">parseInt</span>((containerParentHeight - windowHeight) / <span class="hljs-number">2</span>);
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (scrollY == <span class="hljs-number">0</span> &amp;&amp; (isMSIE6 || isMSIE7 || isMSIE8))
                            topY += topWindow.pageYOffset || topWindow.document.documentElement.scrollTop || topWindow.document.body.scrollTop;
                    }
                }
            }
        }
        <span class="hljs-keyword">if</span> (topY &lt; <span class="hljs-number">0</span>)
            topY = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (leftX &lt; <span class="hljs-number">0</span>)
            leftX = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
            <span class="hljs-keyword">var</span> headerSpacer = $(<span class="hljs-keyword">this</span>.container.parentNode).select(<span class="hljs-string">".section_header_spacer"</span>);
            <span class="hljs-keyword">if</span> (headerSpacer.length &gt; <span class="hljs-number">0</span>) {
                headerSpacer = headerSpacer[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">if</span> (topY &lt; headerSpacer.offsetHeight)
                    topY = headerSpacer.offsetHeight;
            }
        }
        <span class="hljs-keyword">this</span>.moveTo(leftX, topY);
    },
    <span class="hljs-attr">_findCurrentIframe</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">win</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (win &amp;&amp; win.parent) {
                <span class="hljs-keyword">var</span> e = win.parent.document.getElementsByTagName(<span class="hljs-string">'iframe'</span>);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; e.length; i++) {
                    <span class="hljs-keyword">if</span> (e[i].contentWindow == win)
                        <span class="hljs-keyword">return</span> e[i];
                }
            }
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_getScrollTop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container.parentNode != <span class="hljs-built_in">document</span>.body)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.container.parentNode.scrollTop;
        <span class="hljs-keyword">return</span> getScrollY();
    },
    <span class="hljs-attr">_draw</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> e;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.divMode) {
            e = cel(<span class="hljs-string">"DIV"</span>);
            e.style.overflow = <span class="hljs-string">"hidden"</span>;
            e.appendChild(<span class="hljs-keyword">this</span>._drawTitle(id));
            e.appendChild(<span class="hljs-keyword">this</span>._drawBody(id));
        } <span class="hljs-keyword">else</span> {
            e = cel(<span class="hljs-string">"TABLE"</span>);
            e.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'presentation'</span>);
            <span class="hljs-keyword">var</span> dragTableBody = cel(<span class="hljs-string">"TBODY"</span>);
            dragTableBody.appendChild(<span class="hljs-keyword">this</span>._drawTitle(id));
            dragTableBody.appendChild(<span class="hljs-keyword">this</span>._drawBody(id));
            e.appendChild(dragTableBody);
        }
        e.id = <span class="hljs-string">"window."</span> + id;
        <span class="hljs-keyword">this</span>.window = e;
        <span class="hljs-keyword">this</span>.window.className = <span class="hljs-keyword">this</span>.windowClass;
        <span class="hljs-keyword">this</span>.window.gWindow = <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">_drawTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.divMode) {
            <span class="hljs-keyword">var</span> baseTR = cel(<span class="hljs-string">"TR"</span>);
            baseTR.style.verticalAlign = <span class="hljs-string">"top"</span>;
            <span class="hljs-keyword">var</span> baseTD = cel(<span class="hljs-string">"TD"</span>);
        }
        <span class="hljs-keyword">var</span> dragTableHeader = cel(<span class="hljs-string">"TABLE"</span>);
        <span class="hljs-keyword">var</span> dragTableHeaderBody = cel(<span class="hljs-string">"TBODY"</span>);
        dragTableHeader.className = <span class="hljs-string">"drag_section_header"</span>;
        dragTableHeader.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'presentation'</span>);
        dragTableHeader.style.width = <span class="hljs-string">"100%"</span>;
        <span class="hljs-keyword">this</span>.header = dragTableHeader;
        <span class="hljs-keyword">var</span> dragTableHeaderTR = cel(<span class="hljs-string">"TR"</span>);
        <span class="hljs-keyword">var</span> leftDecorations = cel(<span class="hljs-string">"TD"</span>);
        leftDecorations.style.display = <span class="hljs-string">"none"</span>;
        leftDecorations.style.top = <span class="hljs-string">"0px"</span>;
        leftDecorations.style.left = <span class="hljs-string">"0px"</span>;
        leftDecorations.style.verticalAlign = <span class="hljs-string">"top"</span>;
        leftDecorations.style.whiteSpace = <span class="hljs-string">"nowrap"</span>;
        <span class="hljs-keyword">this</span>.leftDecorations = leftDecorations;
        dragTableHeaderTR.appendChild(leftDecorations);
        <span class="hljs-keyword">var</span> dragTableHeaderTD = cel(<span class="hljs-string">"TD"</span>);
        dragTableHeaderTD.className = <span class="hljs-string">"drag_section_movearea"</span>;
        dragTableHeaderTD.style.verticalAlign = <span class="hljs-string">"top"</span>;
        dragTableHeaderTD.id = id + <span class="hljs-string">"_header"</span>;
        <span class="hljs-keyword">this</span>.title = dragTableHeaderTD;
        dragTableHeaderTR.appendChild(dragTableHeaderTD);
        <span class="hljs-keyword">var</span> headerDebugTD = cel(<span class="hljs-string">"TD"</span>);
        headerDebugTD.className = <span class="hljs-string">"drag_section_debug"</span>;
        headerDebugTD.id = id + <span class="hljs-string">"_debug"</span>;
        <span class="hljs-keyword">this</span>.debugTD = headerDebugTD;
        dragTableHeaderTR.appendChild(headerDebugTD);
        <span class="hljs-keyword">var</span> rightDecorations = cel(<span class="hljs-string">"TD"</span>);
        rightDecorations.style.top = <span class="hljs-string">"0px"</span>;
        rightDecorations.style.right = <span class="hljs-string">"0px"</span>;
        rightDecorations.style.verticalAlign = <span class="hljs-string">"top"</span>;
        rightDecorations.style.whiteSpace = <span class="hljs-string">"nowrap"</span>;
        rightDecorations.style.textAlign = <span class="hljs-string">"right"</span>;
        <span class="hljs-keyword">this</span>.rightDecorations = rightDecorations;
        dragTableHeaderTR.appendChild(rightDecorations);
        dragTableHeaderBody.appendChild(dragTableHeaderTR);
        dragTableHeader.appendChild(dragTableHeaderBody);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.divMode) {
            baseTD.appendChild(dragTableHeader);
            baseTR.appendChild(baseTD);
        }
        dragTableHeaderTD = <span class="hljs-literal">null</span>;
        dragTableHeaderTR = <span class="hljs-literal">null</span>;
        dragTableHeaderBody = <span class="hljs-literal">null</span>;
        dragTableHeader = <span class="hljs-literal">null</span>;
        leftDecorations = <span class="hljs-literal">null</span>;
        rightDecorations = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.divMode)
            <span class="hljs-keyword">return</span> baseTR;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.header;
    },
    <span class="hljs-attr">_drawBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> e;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.divMode) {
            e = cel(<span class="hljs-string">"DIV"</span>);
            <span class="hljs-keyword">this</span>.body = e;
        } <span class="hljs-keyword">else</span> {
            e = cel(<span class="hljs-string">"TR"</span>);
            e.style.height = <span class="hljs-string">"100%"</span>;
            e.style.verticalAlign = <span class="hljs-string">"top"</span>;
            <span class="hljs-keyword">var</span> dragTableTD = cel(<span class="hljs-string">"TD"</span>);
            <span class="hljs-keyword">this</span>.body = cel(<span class="hljs-string">"SPAN"</span>);
            dragTableTD.appendChild(<span class="hljs-keyword">this</span>.body);
            e.appendChild(dragTableTD);
        }
        <span class="hljs-keyword">this</span>.body.id = <span class="hljs-string">"body_"</span> + id;
        <span class="hljs-keyword">this</span>.body.className = <span class="hljs-string">"widget_body"</span>;
        <span class="hljs-keyword">this</span>.body.style.overflow = <span class="hljs-string">"auto"</span>;
        <span class="hljs-keyword">this</span>.body.innerHTML = <span class="hljs-keyword">this</span>.DEFAULT_BODY;
        <span class="hljs-keyword">this</span>.body.gWindow = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">return</span> e;
    },
    <span class="hljs-attr">_drawIndicator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">classNames, id, altText</span>) </span>{
        <span class="hljs-keyword">var</span> dragTableTD = cel(<span class="hljs-string">"TD"</span>);
        dragTableTD.className = <span class="hljs-string">'widget-indicator'</span>;
        dragTableTD.style.display = <span class="hljs-string">'none'</span>;
        <span class="hljs-keyword">this</span>.filterIndicator = cel(<span class="hljs-string">"SPAN"</span>);
        <span class="hljs-keyword">this</span>.filterIndicator.className = classNames;
        <span class="hljs-keyword">if</span> (altText)
            <span class="hljs-keyword">this</span>.filterIndicator.title = getMessage(altText);
        dragTableTD.id = id;
        dragTableTD.gWindow = <span class="hljs-keyword">this</span>;
        dragTableTD.appendChild(<span class="hljs-keyword">this</span>.filterIndicator);
        <span class="hljs-keyword">return</span> dragTableTD;
    },
    <span class="hljs-attr">_toggleIndicator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">indicator</span>) </span>{
        <span class="hljs-keyword">var</span> $parentEl;
        <span class="hljs-keyword">var</span> preference;
        <span class="hljs-keyword">if</span> (indicator === <span class="hljs-string">'real-time'</span>)
            preference = <span class="hljs-string">'real_time'</span>;
        <span class="hljs-keyword">if</span> (indicator === <span class="hljs-string">'filter'</span>)
            preference = <span class="hljs-string">'filter_indicator'</span>;
        $parentEl = $(indicator + <span class="hljs-string">'-indicator-'</span> + <span class="hljs-keyword">this</span>.id);
        <span class="hljs-keyword">if</span> ($parentEl) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.preferences[preference] === <span class="hljs-string">'true'</span>)
                $parentEl.addClassName(<span class="hljs-string">'active'</span>);
            <span class="hljs-keyword">else</span>
                $parentEl.removeClassName(<span class="hljs-string">'active'</span>);
        }
    },
    <span class="hljs-attr">_enableDragging</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">var</span> id = element.getAttribute(<span class="hljs-string">"dragpart"</span>);
        <span class="hljs-keyword">if</span> (!id || <span class="hljs-keyword">this</span>.isReadOnly() || <span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">'pinned'</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> titlebar = gel(id + <span class="hljs-string">"_header"</span>);
        <span class="hljs-keyword">this</span>.gd = <span class="hljs-keyword">new</span> GwtDraggable(titlebar, element);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.dragStart == <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>.gd.setStart(<span class="hljs-keyword">this</span>.dragStart.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.dragEnd == <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>.gd.setEnd(<span class="hljs-keyword">this</span>.dragEnd.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.dragging == <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>.gd.setDrag(<span class="hljs-keyword">this</span>.dragging.bind(<span class="hljs-keyword">this</span>));
        titlebar = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_evalScripts</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>) </span>{
        html = <span class="hljs-keyword">this</span>._substituteGet(html);
        <span class="hljs-keyword">var</span> x = loadXML(<span class="hljs-string">"&lt;xml&gt;"</span> + html + <span class="hljs-string">"&lt;/xml&gt;"</span>);
        <span class="hljs-keyword">if</span> (x) {
            <span class="hljs-keyword">var</span> scripts = x.getElementsByTagName(<span class="hljs-string">"script"</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; scripts.length; i++) {
                <span class="hljs-keyword">var</span> script = scripts[i];
                <span class="hljs-keyword">var</span> s = <span class="hljs-string">""</span>;
                <span class="hljs-keyword">if</span> (script.getAttribute(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"application/xml"</span>)
                    <span class="hljs-keyword">continue</span>;
                <span class="hljs-keyword">if</span> (script.getAttribute(<span class="hljs-string">"type"</span>) == <span class="hljs-string">"text/ng-template"</span>)
                    <span class="hljs-keyword">continue</span>;
                <span class="hljs-keyword">if</span> (script.getAttribute(<span class="hljs-string">"src"</span>)) {
                    <span class="hljs-keyword">var</span> url = script.getAttribute(<span class="hljs-string">"src"</span>);
                    <span class="hljs-keyword">var</span> req = serverRequestWait(url);
                    s = req.responseText;
                } <span class="hljs-keyword">else</span> {
                    s = getTextValue(script);
                    <span class="hljs-keyword">if</span> (!s)
                        s = script.innerHTML;
                }
                <span class="hljs-keyword">if</span> (s)
                    evalScript(s, <span class="hljs-literal">true</span>);
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.G_vmlCanvasManager)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-built_in">window</span>.G_vmlCanvasManager.init_(<span class="hljs-built_in">document</span>)
    },
    <span class="hljs-attr">_fixBrowserTags</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>) </span>{
        <span class="hljs-keyword">if</span> (!html)
            <span class="hljs-keyword">return</span> html;
        <span class="hljs-keyword">var</span> tags = [<span class="hljs-string">"script"</span>, <span class="hljs-string">"a "</span>, <span class="hljs-string">"div"</span>, <span class="hljs-string">"span"</span>, <span class="hljs-string">"select"</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; tags.length; i++) {
            <span class="hljs-keyword">var</span> tag = tags[i];
            html = html.replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'&lt;'</span> + tag + <span class="hljs-string">'([^&gt;]*?)/&gt;'</span>, <span class="hljs-string">'img'</span>), <span class="hljs-string">'&lt;'</span> + tag + <span class="hljs-string">'$1&gt;&lt;/'</span> + tag + <span class="hljs-string">'&gt;'</span>);
        }
        <span class="hljs-keyword">return</span> html;
    },
    <span class="hljs-attr">_onCloseClicked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"closeconfirm"</span>, <span class="hljs-keyword">this</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.window) {
            <span class="hljs-keyword">var</span> gWindow = $(<span class="hljs-keyword">this</span>.window.gWindow);
            <span class="hljs-keyword">if</span> (gWindow)
                gWindow.destroy();
        }
    },
    <span class="hljs-attr">_setShimBounds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y, w, h</span>) </span>{
        <span class="hljs-keyword">if</span> (x !== <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.cacheX = <span class="hljs-built_in">parseInt</span>(x);
        <span class="hljs-keyword">if</span> (y !== <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.cacheY = <span class="hljs-built_in">parseInt</span>(y);
        <span class="hljs-keyword">if</span> (w != <span class="hljs-string">""</span> &amp;&amp; !<span class="hljs-built_in">isNaN</span>(w))
            <span class="hljs-keyword">this</span>.cacheWidth = <span class="hljs-built_in">parseInt</span>(w);
        <span class="hljs-keyword">if</span> (h != <span class="hljs-string">""</span> &amp;&amp; !<span class="hljs-built_in">isNaN</span>(h))
            <span class="hljs-keyword">this</span>.cacheHeight = <span class="hljs-built_in">parseInt</span>(h);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.shim)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (x !== <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.shim.style.left = x + <span class="hljs-string">'px'</span>;
        <span class="hljs-keyword">if</span> (y !== <span class="hljs-string">""</span>)
            <span class="hljs-keyword">this</span>.shim.style.top = y + <span class="hljs-string">'px'</span>;
        <span class="hljs-keyword">if</span> (w != <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(w))
                <span class="hljs-keyword">this</span>.shim.style.width = w + <span class="hljs-string">'px'</span>;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.shim.style.width = w;
        }
        <span class="hljs-keyword">if</span> (h != <span class="hljs-string">""</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(h))
                <span class="hljs-keyword">this</span>.shim.style.height = h + <span class="hljs-string">'px'</span>;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.shim.style.height = h;
        }
    },
    <span class="hljs-attr">_shimResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.shim)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> bounds = <span class="hljs-keyword">this</span>.getAbsoluteRect();
        <span class="hljs-keyword">this</span>._setShimBounds(bounds.left, bounds.top, bounds.width, bounds.height);
    },
    <span class="hljs-attr">_substituteGet</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html</span>) </span>{
        <span class="hljs-keyword">if</span> (!html)
            <span class="hljs-keyword">return</span> html;
        <span class="hljs-keyword">var</span> substitutions = [<span class="hljs-keyword">this</span>.type(), <span class="hljs-string">'GlideDialogWindow'</span>, <span class="hljs-string">'GlideDialogForm'</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; substitutions.length; i++) {
            <span class="hljs-keyword">var</span> reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(substitutions[i] + <span class="hljs-string">".get\\("</span>, <span class="hljs-string">"g"</span>);
            html = html.replace(reg, <span class="hljs-keyword">this</span>.type() + <span class="hljs-string">".prototype.get('"</span> + <span class="hljs-keyword">this</span>.getID() + <span class="hljs-string">"'"</span>);
        }
        <span class="hljs-keyword">return</span> html;
    },
    <span class="hljs-attr">getLowerSpacing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"6px"</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideWindow"</span>;
    },
    <span class="hljs-attr">addClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
        <span class="hljs-keyword">var</span> domEl = <span class="hljs-keyword">this</span>.getWindowDOM();
        <span class="hljs-keyword">if</span> (domEl) {
            <span class="hljs-keyword">var</span> classes = domEl.className;
            <span class="hljs-keyword">if</span> (classes.indexOf(className) &lt; <span class="hljs-number">0</span>) {
                domEl.className += <span class="hljs-string">" "</span> + className;
            }
        }
    },
    <span class="hljs-attr">removeClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
        <span class="hljs-keyword">var</span> domEl = <span class="hljs-keyword">this</span>.getWindowDOM();
        <span class="hljs-keyword">if</span> (domEl) {
            <span class="hljs-keyword">var</span> classes = domEl.className;
            domEl.className = classes.replace(className, <span class="hljs-string">""</span>);
        }
    },
    <span class="hljs-attr">setScope</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope</span>) </span>{
        <span class="hljs-keyword">if</span> (scope) {
            <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'sysparm_scope'</span>, scope);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideDialogWindow.js */</span>
<span class="hljs-keyword">var</span> GlideDialogWindow = Class.create(GlideWindow, {
    <span class="hljs-attr">BACKGROUND_COLOR</span>: <span class="hljs-string">"#DDDDDD"</span>,
    <span class="hljs-attr">DEFAULT_RENDERER</span>: <span class="hljs-string">"RenderForm"</span>,
    <span class="hljs-attr">WINDOW_INVISIBLE</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">ZINDEX</span>: <span class="hljs-number">1050</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, readOnly, width, height</span>) </span>{
        GlideWindow.prototype.initialize.call(<span class="hljs-keyword">this</span>, id, readOnly);
        <span class="hljs-keyword">if</span> (width) {
            <span class="hljs-keyword">this</span>.setSize(width, height);
            <span class="hljs-keyword">this</span>.adjustBodySize();
        }
        <span class="hljs-keyword">this</span>.grayBackground = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.setTitle(<span class="hljs-string">"Dialog"</span>);
        <span class="hljs-keyword">this</span>.setDialog(id);
        <span class="hljs-keyword">this</span>.parentElement = getFormContentParent();
        <span class="hljs-keyword">this</span>.insert(<span class="hljs-keyword">this</span>.parentElement);
        <span class="hljs-keyword">this</span>._initDefaults();
        <span class="hljs-keyword">this</span>.setShim(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">this</span>.focusTrap = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">this</span>.disableFocusTrap();
        <span class="hljs-built_in">window</span>.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            Event.stopObserving(self.getWindowDOM(), <span class="hljs-string">'resize'</span>, self.resizeFunc);
            self._hideBackground();
            self.parentElement = <span class="hljs-literal">null</span>;
            GlideWindow.prototype.destroy.call(self);
            <span class="hljs-keyword">if</span> (isMSIE10 || isMSIE11)
                <span class="hljs-built_in">document</span>.body.focus();
        }, <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">insert</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.setZIndex(<span class="hljs-keyword">this</span>._determineZIndex());
        <span class="hljs-keyword">this</span>._showBackground();
        GlideWindow.prototype.insert.call(<span class="hljs-keyword">this</span>, element, <span class="hljs-string">''</span>, <span class="hljs-keyword">this</span>.WINDOW_INVISIBLE);
        <span class="hljs-keyword">this</span>.container.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'dialog'</span>);
        <span class="hljs-keyword">this</span>.container.setAttribute(<span class="hljs-string">'tabindex'</span>, <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">this</span>.onResize();
        <span class="hljs-keyword">this</span>.visible();
    },
    <span class="hljs-attr">enableFocusTrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.focusTrap &amp;&amp; <span class="hljs-keyword">this</span>.container)
            <span class="hljs-keyword">this</span>.focusTrap = <span class="hljs-built_in">window</span>.focusTrap(<span class="hljs-keyword">this</span>.container, {
                <span class="hljs-attr">escapeDeactivates</span>: <span class="hljs-literal">false</span>
            });
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.focusTrap)
            <span class="hljs-keyword">this</span>.focusTrap.activate();
    },
    <span class="hljs-attr">disableFocusTrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.focusTrap)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.focusTrap.deactivate({
            <span class="hljs-attr">returnFocus</span>: <span class="hljs-literal">true</span>
        });
        <span class="hljs-keyword">this</span>.focusTrap = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">setBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">html, noEvaluate, setAlt</span>) </span>{
        GlideWindow.prototype.setBody.call(<span class="hljs-keyword">this</span>, html, noEvaluate, setAlt);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.elementToFocus != <span class="hljs-string">'undefined'</span> &amp;&amp; !<span class="hljs-keyword">this</span>.elementToFocus) {
            self.focus();
            <span class="hljs-keyword">this</span>.getWindowDOM().focus();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">'focusTrap'</span>))
            <span class="hljs-keyword">this</span>.enableFocusTrap();
        <span class="hljs-keyword">this</span>.onResize();
    },
    <span class="hljs-attr">setDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dialogName</span>) </span>{
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'table'</span>, dialogName);
    },
    <span class="hljs-attr">setAriaLabel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
            <span class="hljs-keyword">this</span>.container.setAttribute(<span class="hljs-string">'aria-label'</span>, label);
        }
    },
    <span class="hljs-attr">setAriaLabelledBy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelId</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container) {
            <span class="hljs-keyword">this</span>.container.setAttribute(<span class="hljs-string">'aria-labelledby'</span>, labelId);
        }
    },
    <span class="hljs-attr">onResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._centerOnScreen();
    },
    <span class="hljs-attr">_eventKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        e = getEvent(e);
        <span class="hljs-keyword">if</span> (e.keyCode == <span class="hljs-number">27</span>)
            <span class="hljs-keyword">this</span>.destroy();
    },
    <span class="hljs-attr">hideBackground</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._hideBackground();
    },
    <span class="hljs-attr">_hideBackground</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.grayBackground)
            <span class="hljs-keyword">this</span>.parentElement.removeChild(<span class="hljs-keyword">this</span>.grayBackground);
        <span class="hljs-keyword">this</span>.grayBackground = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_initDefaults</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'renderer'</span>, <span class="hljs-keyword">this</span>.DEFAULT_RENDERER);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'type'</span>, <span class="hljs-string">'direct'</span>);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isReadOnly())
            Event.observe(<span class="hljs-keyword">this</span>.getWindowDOM(), <span class="hljs-string">'keyup'</span>, <span class="hljs-keyword">this</span>._eventKeyUp.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.resizeFunc = <span class="hljs-keyword">this</span>.onResize.bind(<span class="hljs-keyword">this</span>);
        Event.observe(<span class="hljs-keyword">this</span>.getWindowDOM(), <span class="hljs-string">'resize'</span>, <span class="hljs-keyword">this</span>.resizeFunc);
    },
    <span class="hljs-attr">_showBackground</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parent = <span class="hljs-built_in">document</span>.viewport;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.compatMode == <span class="hljs-string">'BackCompat'</span> &amp;&amp; <span class="hljs-keyword">this</span>.parentElement != <span class="hljs-built_in">document</span>.body)
            parent = <span class="hljs-keyword">this</span>.parentElement;
        <span class="hljs-keyword">if</span> (!gel(<span class="hljs-string">'grayBackground'</span>)) {
            <span class="hljs-keyword">var</span> gb = cel(<span class="hljs-string">"div"</span>);
            gb.id = gb.name = <span class="hljs-string">"grayBackground"</span>;
            gb.style.top = gb.style.left = <span class="hljs-number">0</span>;
            gb.style.width = <span class="hljs-string">"100%"</span>;
            <span class="hljs-keyword">var</span> hgt = <span class="hljs-keyword">this</span>._getOverlayHeight();
            gb.style.height = hgt + <span class="hljs-string">"px"</span>;
            gb.style.position = <span class="hljs-string">"absolute"</span>;
            gb.style.display = <span class="hljs-string">"block"</span>;
            gb.style.zIndex = <span class="hljs-keyword">this</span>.ZINDEX - <span class="hljs-number">1</span>;
            gb.style.zIndex = <span class="hljs-keyword">this</span>.getZIndex() - <span class="hljs-number">1</span>;
            gb.style.backgroundColor = <span class="hljs-keyword">this</span>.BACKGROUND_COLOR;
            gb.style.opacity = <span class="hljs-number">0.33</span>;
            gb.style.filter = <span class="hljs-string">"alpha(opacity=33)"</span>;
            <span class="hljs-keyword">this</span>.parentElement.appendChild(gb);
            <span class="hljs-keyword">this</span>.grayBackground = gb;
        }
    },
    <span class="hljs-attr">_getOverlayHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> elements = $$(<span class="hljs-string">'body &gt; div.section_header_content_no_scroll'</span>);
        <span class="hljs-keyword">if</span> (elements &amp;&amp; elements.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> elements[<span class="hljs-number">0</span>].scrollHeight;
        elements = $$(<span class="hljs-string">'body div.form_document'</span>);
        <span class="hljs-keyword">if</span> (elements &amp;&amp; elements.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> elements[<span class="hljs-number">0</span>].scrollHeight;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.body.scrollHeight)
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.body.scrollHeight;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.body.offsetHeight;
    },
    <span class="hljs-attr">_determineZIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.$j)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ZINDEX;
        <span class="hljs-keyword">var</span> zIndex = <span class="hljs-keyword">this</span>.ZINDEX;
        $j(<span class="hljs-string">'.modal:visible'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, el</span>) </span>{
            <span class="hljs-keyword">var</span> elZindex = $j(el).zIndex();
            <span class="hljs-keyword">if</span> (elZindex &gt;= zIndex)
                zIndex = elZindex + <span class="hljs-number">2</span>;
        })
        <span class="hljs-keyword">return</span> zIndex;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideDialogWindow"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideDialogForm.js */</span>
<span class="hljs-keyword">var</span> GlideDialogForm = Class.create(GlideDialogWindow, {
    <span class="hljs-attr">REFRESH_ID</span>: <span class="hljs-string">"refresh_frame"</span>,
    <span class="hljs-attr">CALLBACK_TARGET_FIELD</span>: <span class="hljs-string">"glide_dialog_form_target"</span>,
    <span class="hljs-attr">DIALOG_FORM</span>: <span class="hljs-string">"glide_dialog_form"</span>,
    <span class="hljs-attr">DELETE_FROM_CONF_DLG</span>: <span class="hljs-string">"delete_from_confirm_dialog_ui_page"</span>,
    <span class="hljs-attr">ZINDEX</span>: <span class="hljs-number">1001</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title, tableName, onCompletionCallback, readOnly</span>) </span>{
        <span class="hljs-keyword">this</span>.parms = {};
        <span class="hljs-keyword">this</span>.fieldIDSet = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.positionSet = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.dialogWidth = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.dialogHeight = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.additionalWidth = <span class="hljs-number">17</span>;
        <span class="hljs-keyword">this</span>.additionalHeight = <span class="hljs-number">17</span>;
        <span class="hljs-keyword">this</span>.centerOnResize = <span class="hljs-literal">true</span>;
        GlideDialogWindow.prototype.initialize.call(<span class="hljs-keyword">this</span>, <span class="hljs-string">"FormDialog"</span>, readOnly);
        <span class="hljs-keyword">if</span> (title)
            <span class="hljs-keyword">this</span>.setTitle(title);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'renderer'</span>, <span class="hljs-string">'RenderForm'</span>);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'table'</span>, <span class="hljs-keyword">this</span>.DIALOG_FORM);
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'sysparm_nameofstack'</span>, <span class="hljs-string">'formDialog'</span>);
        <span class="hljs-keyword">this</span>.on(<span class="hljs-string">"bodyrendered"</span>, <span class="hljs-keyword">this</span>._onLoaded.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">if</span> (onCompletionCallback)
            <span class="hljs-keyword">this</span>.setCompletionCallback(onCompletionCallback);
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.un(<span class="hljs-string">"bodyrendered"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.callbackField) {
            <span class="hljs-keyword">this</span>.callbackField.onchange = <span class="hljs-literal">null</span>;
            rel(<span class="hljs-keyword">this</span>.CALLBACK_TARGET_FIELD + <span class="hljs-string">"_"</span> + <span class="hljs-keyword">this</span>.tableName);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.refreshField) {
            <span class="hljs-keyword">this</span>.refreshField.onchange = <span class="hljs-literal">null</span>;
            rel(<span class="hljs-keyword">this</span>.REFRESH_ID);
        }
        GlideDialogWindow.prototype.destroy.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"dialogclosed"</span>);
    },
    <span class="hljs-attr">_onLoaded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = gel(<span class="hljs-string">"dialog_form_poster"</span>);
        f.action = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.do'</span>;
        addHidden(f, <span class="hljs-string">'sysparm_nameofstack'</span>, <span class="hljs-string">'formDialog'</span>);
        addHidden(f, <span class="hljs-string">'sysparm_titleless'</span>, <span class="hljs-string">'true'</span>);
        addHidden(f, <span class="hljs-string">'sysparm_is_dialog_form'</span>, <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">var</span> sysId = <span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">'sys_id'</span>);
        <span class="hljs-keyword">if</span> (!sysId)
            sysId = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> targetField = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.fieldIDSet)
            targetField = <span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">'sysparm_target_field'</span>);
        addHidden(f, <span class="hljs-string">'sys_id'</span>, sysId);
        addHidden(f, <span class="hljs-string">'sysparm_sys_id'</span>, sysId);
        addHidden(f, <span class="hljs-string">'sysparm_goto_url'</span>, <span class="hljs-keyword">this</span>.DIALOG_FORM + <span class="hljs-string">'.do?sysparm_pass2=true&amp;sysparm_skipmsgs=true&amp;sysparm_nameofstack=formDialog&amp;sysparm_returned_sysid=$action:$sys_id:$display_value&amp;sysparm_target_field='</span> + targetField);
        <span class="hljs-keyword">this</span>.isLoaded = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (id <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.parms)
            addHidden(f, id, <span class="hljs-keyword">this</span>.parms[id]);
        f.submit();
    },
    <span class="hljs-attr">setLoadCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func</span>) </span>{
        <span class="hljs-keyword">this</span>.loadCallback = func;
    },
    <span class="hljs-attr">setX</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) </span>{
        <span class="hljs-keyword">this</span>.x = x;
        <span class="hljs-keyword">this</span>.positionSet = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setY</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">this</span>.y = y;
        <span class="hljs-keyword">this</span>.positionSet = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">onResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._centerOrPosition();
    },
    <span class="hljs-attr">setDialogTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) </span>{
        <span class="hljs-keyword">this</span>.setTitle(title);
    },
    <span class="hljs-attr">setSysID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'sys_id'</span>, id);
    },
    <span class="hljs-attr">setFieldID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fid</span>) </span>{
        <span class="hljs-keyword">this</span>.fieldIDSet = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'sysparm_target_field'</span>, fid);
    },
    <span class="hljs-attr">setType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'type'</span>, type);
    },
    <span class="hljs-attr">setMultiple</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">form</span>) </span>{
        <span class="hljs-keyword">this</span>.setPreference(<span class="hljs-string">'sys_id'</span>, <span class="hljs-string">'-2'</span>);
        <span class="hljs-keyword">this</span>.addParm(<span class="hljs-string">'sysparm_multiple_update'</span>, <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">this</span>.addParm(<span class="hljs-string">'sys_action'</span>, <span class="hljs-string">'sysverb_multiple_update'</span>)
        <span class="hljs-keyword">this</span>.form = form;
    },
    <span class="hljs-attr">setDialogSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">w, h</span>) </span>{
        <span class="hljs-keyword">this</span>.setDialogWidth(w);
        <span class="hljs-keyword">this</span>.setDialogHeight(h);
    },
    <span class="hljs-attr">setDialogWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">w</span>) </span>{
        <span class="hljs-keyword">this</span>.dialogWidth = w;
    },
    <span class="hljs-attr">setDialogHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">h</span>) </span>{
        <span class="hljs-keyword">this</span>.dialogHeight = h;
    },
    <span class="hljs-attr">setDialogHeightMax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">h</span>) </span>{
        <span class="hljs-keyword">this</span>.dialogHeightMax = h;
    },
    <span class="hljs-attr">setCenterOnResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">this</span>.centerOnResize = flag;
    },
    <span class="hljs-attr">addParm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parm, value</span>) </span>{
        <span class="hljs-keyword">this</span>.parms[parm] = value;
    },
    <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.fieldIDSet == <span class="hljs-literal">false</span>)
            <span class="hljs-keyword">this</span>.setRefresh();
        GlideDialogWindow.prototype.render.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">setRefresh</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> r = gel(<span class="hljs-keyword">this</span>.REFRESH_ID)
        <span class="hljs-keyword">if</span> (r == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">this</span>.initRefresh();
        <span class="hljs-keyword">this</span>.setFieldID(<span class="hljs-keyword">this</span>.REFRESH_ID);
    },
    <span class="hljs-attr">setForm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">form</span>) </span>{
        <span class="hljs-keyword">this</span>.form = form
    },
    <span class="hljs-attr">initRefresh</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.refreshField = cel(<span class="hljs-string">"input"</span>);
        <span class="hljs-keyword">this</span>.refreshField.type = <span class="hljs-string">"hidden"</span>;
        <span class="hljs-keyword">this</span>.refreshField.id = <span class="hljs-keyword">this</span>.REFRESH_ID;
        <span class="hljs-keyword">this</span>.refreshField.onchange = <span class="hljs-keyword">this</span>.doRefresh.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-built_in">document</span>.body.appendChild(<span class="hljs-keyword">this</span>.refreshField);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.refreshField;
    },
    <span class="hljs-attr">doRefresh</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> search = self.location.href;
        <span class="hljs-keyword">if</span> (search.indexOf(<span class="hljs-string">"sysparm_refresh"</span>) == <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">if</span> (search.indexOf(<span class="hljs-string">"?"</span>) == <span class="hljs-number">-1</span>)
                search += <span class="hljs-string">"?"</span>;
            <span class="hljs-keyword">else</span>
                search += <span class="hljs-string">"&amp;"</span>;
            search += <span class="hljs-string">"sysparm_refresh=refresh"</span>;
        }
        self.location.href = search;
    },
    <span class="hljs-attr">setCompletionCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">func</span>) </span>{
        <span class="hljs-keyword">this</span>.onCompletionFunc = func;
        <span class="hljs-keyword">this</span>.callbackField = cel(<span class="hljs-string">"input"</span>);
        <span class="hljs-keyword">this</span>.callbackField.type = <span class="hljs-string">"hidden"</span>;
        <span class="hljs-keyword">this</span>.callbackField.id = <span class="hljs-keyword">this</span>.CALLBACK_TARGET_FIELD + <span class="hljs-string">"_"</span> + <span class="hljs-keyword">this</span>.tableName;
        <span class="hljs-keyword">this</span>.callbackField.onchange = <span class="hljs-keyword">this</span>._completionCallback.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-built_in">document</span>.body.appendChild(<span class="hljs-keyword">this</span>.callbackField);
        <span class="hljs-keyword">this</span>.setFieldID(<span class="hljs-keyword">this</span>.callbackField.id);
    },
    <span class="hljs-attr">frameLoaded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._hideLoading();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isLoaded)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._resizeDialog();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.loadCallback)
            <span class="hljs-keyword">this</span>.loadCallback(<span class="hljs-keyword">this</span>._getIframeDocument());
    },
    <span class="hljs-attr">_centerOrPosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.positionSet) {
            <span class="hljs-keyword">this</span>._centerOnScreen();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.moveTo(<span class="hljs-keyword">this</span>.x, <span class="hljs-keyword">this</span>.y);
    },
    <span class="hljs-attr">_completionCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-keyword">this</span>.CALLBACK_TARGET_FIELD + <span class="hljs-string">"_"</span> + <span class="hljs-keyword">this</span>.tableName);
        <span class="hljs-keyword">if</span> (e) {
            <span class="hljs-keyword">var</span> sysId;
            <span class="hljs-keyword">var</span> action;
            <span class="hljs-keyword">var</span> displayValue;
            <span class="hljs-keyword">var</span> info = e.value.split(<span class="hljs-string">":"</span>);
            <span class="hljs-keyword">var</span> action = info[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">if</span> (info.length &gt; <span class="hljs-number">1</span>)
                sysId = info[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (info.length &gt; <span class="hljs-number">2</span>) {
                displayValue = info[<span class="hljs-number">2</span>].unescapeHTML();
            }
            <span class="hljs-keyword">this</span>.onCompletionFunc(info[<span class="hljs-number">0</span>], info[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.tableName, displayValue);
        }
    },
    <span class="hljs-attr">_resizeDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">this</span>._getIframeDocument();
        <span class="hljs-keyword">if</span> (!doc)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> scrollable = <span class="hljs-keyword">this</span>._getScrollable(doc.body);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.dialogWidth)
            <span class="hljs-keyword">this</span>.dialogWidth = scrollable.scrollWidth + <span class="hljs-keyword">this</span>.additionalWidth;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.dialogHeight)
            <span class="hljs-keyword">this</span>.dialogHeight = scrollable.scrollHeight + <span class="hljs-keyword">this</span>.additionalHeight;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dialogHeightMax)
            <span class="hljs-keyword">this</span>.dialogHeight = <span class="hljs-built_in">Math</span>.min(<span class="hljs-keyword">this</span>.dialogHeightMax, <span class="hljs-keyword">this</span>.dialogHeight);
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-string">'dialog_frame'</span>);
        e.style.height = <span class="hljs-keyword">this</span>.dialogHeight + <span class="hljs-string">"px"</span>;
        e.style.width = <span class="hljs-keyword">this</span>.dialogWidth + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">this</span>._centerOrPosition();
    },
    <span class="hljs-attr">_getScrollable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">body</span>) </span>{
        <span class="hljs-keyword">var</span> elements = $(body).select(<span class="hljs-string">'.section_header_content_no_scroll'</span>);
        <span class="hljs-keyword">if</span> (elements &amp;&amp; elements.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> elements[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">return</span> body;
    },
    <span class="hljs-attr">_hideLoading</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> l = gel(<span class="hljs-string">'loadingSpan'</span>);
        <span class="hljs-keyword">if</span> (l)
            l.style.display = <span class="hljs-string">'none'</span>;
    },
    <span class="hljs-attr">_getIframeDocument</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-string">'dialog_frame'</span>);
        <span class="hljs-keyword">if</span> (e)
            <span class="hljs-keyword">if</span> (e.contentDocument)
                <span class="hljs-keyword">return</span> e.contentDocument;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.frames[<span class="hljs-string">'dialog_frame'</span>].document;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideDialogForm"</span>;
    }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeDialogForm</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> w = parent.gel(<span class="hljs-string">'window.FormDialog'</span>);
    <span class="hljs-keyword">if</span> (w) {
        w.gWindow.destroy();
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (!id)
        <span class="hljs-keyword">return</span>;
    w = parent.$j(<span class="hljs-string">'#'</span> + id).data(<span class="hljs-string">'gWindow'</span>);
    <span class="hljs-keyword">if</span> (w)
        w.destroy();
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlidePaneForm.js */</span>
<span class="hljs-keyword">var</span> GlidePaneForm = Class.create(GlideDialogForm, {
    <span class="hljs-attr">WINDOW_BORDER</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">INSET_SPACING</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">DIALOG_FORM</span>: <span class="hljs-string">"glide_pane_form"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title, tableName, element, onCompletionCallback</span>) </span>{
        <span class="hljs-keyword">this</span>.divMode = <span class="hljs-literal">true</span>;
        GlideDialogForm.prototype.initialize.call(<span class="hljs-keyword">this</span>, title, tableName, onCompletionCallback, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">this</span>.setClassName(<span class="hljs-string">"glide_pane"</span>);
        <span class="hljs-keyword">this</span>.setHeaderClassName(<span class="hljs-string">"glide_pane_header"</span>);
        <span class="hljs-keyword">this</span>.setColor(<span class="hljs-string">"white"</span>);
        <span class="hljs-keyword">this</span>.paneSize = <span class="hljs-keyword">this</span>._getPaneSize();
        <span class="hljs-keyword">this</span>.setSize(<span class="hljs-keyword">this</span>.paneSize.width, <span class="hljs-keyword">this</span>.paneSize.height);
        <span class="hljs-keyword">this</span>.adjustBodySize();
        <span class="hljs-keyword">this</span>.moveTo(<span class="hljs-keyword">this</span>.paneSize.left, <span class="hljs-keyword">this</span>.paneSize.top);
        <span class="hljs-keyword">this</span>._createCloseButton();
        <span class="hljs-keyword">this</span>.getBody().style.overflow = <span class="hljs-string">"hidden"</span>;
    },
    <span class="hljs-attr">onResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span>;
    },
    <span class="hljs-attr">_getPaneSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> WindowSize();
        <span class="hljs-keyword">var</span> paneSize = {};
        paneSize.height = o.height - ((<span class="hljs-keyword">this</span>.WINDOW_BORDER + <span class="hljs-keyword">this</span>.INSET_SPACING) * <span class="hljs-number">2</span>);
        paneSize.width = o.width - ((<span class="hljs-keyword">this</span>.WINDOW_BORDER + <span class="hljs-keyword">this</span>.INSET_SPACING) * <span class="hljs-number">2</span>);
        <span class="hljs-keyword">if</span> (paneSize.height &lt; <span class="hljs-keyword">this</span>.INSET_SPACING) {
            paneSize.height = o.height;
            paneSize.top = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            paneSize.top = <span class="hljs-keyword">this</span>.INSET_SPACING + <span class="hljs-built_in">document</span>.body.scrollTop;
        }
        <span class="hljs-keyword">if</span> (paneSize.width &lt; <span class="hljs-number">0</span>) {
            paneSize.width = o.width;
            paneSize.left = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            paneSize.left = <span class="hljs-keyword">this</span>.INSET_SPACING + <span class="hljs-built_in">document</span>.body.scrollLeft;
        }
        paneSize.headerHeight = <span class="hljs-keyword">this</span>.getHeader().clientHeight;
        <span class="hljs-keyword">return</span> paneSize;
    },
    <span class="hljs-attr">_createCloseButton</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">"img"</span>);
        img.src = <span class="hljs-string">"images/x.gifx"</span>;
        img.alt = getMessage(<span class="hljs-string">"Close"</span>);
        img.style.height = <span class="hljs-string">"12px"</span>;
        img.style.width = <span class="hljs-string">"13px"</span>;
        img.style.cursor = <span class="hljs-string">'pointer'</span>;
        Event.observe(img, <span class="hljs-string">"click"</span>, <span class="hljs-keyword">this</span>.destroy.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.addDecoration(img);
    },
    <span class="hljs-attr">_resizeDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> h = <span class="hljs-keyword">this</span>.paneSize.height - <span class="hljs-keyword">this</span>.paneSize.headerHeight;
        <span class="hljs-keyword">var</span> w = <span class="hljs-keyword">this</span>.paneSize.width;
        <span class="hljs-keyword">if</span> (isMSIE) {
            h -= (<span class="hljs-keyword">this</span>.WINDOW_BORDER * <span class="hljs-number">2</span>);
            w -= (<span class="hljs-keyword">this</span>.WINDOW_BORDER * <span class="hljs-number">2</span>);
        }
        <span class="hljs-keyword">var</span> e = $(<span class="hljs-string">'dialog_frame'</span>);
        e.style.height = h + <span class="hljs-string">"px"</span>;
        e.style.width = w + <span class="hljs-string">"px"</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlidePaneForm"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlidePane.js */</span>
<span class="hljs-keyword">var</span> GlidePane = Class.create(GlidePaneForm, {
    <span class="hljs-attr">DIALOG_FORM</span>: <span class="hljs-string">"glide_pane"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title, tableName, element, onCompletionCallback</span>) </span>{
        GlidePaneForm.prototype.initialize.call(<span class="hljs-keyword">this</span>, title, tableName, element, onCompletionCallback);
    },
    <span class="hljs-attr">_onLoaded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = gel(<span class="hljs-string">"dialog_form_poster"</span>);
        f.action = <span class="hljs-keyword">this</span>.tableName + <span class="hljs-string">'.do'</span>;
        addHidden(f, <span class="hljs-string">'sysparm_clear_stack'</span>, <span class="hljs-string">'true'</span>);
        addHidden(f, <span class="hljs-string">'sysparm_nameofstack'</span>, <span class="hljs-string">'formDialog'</span>);
        addHidden(f, <span class="hljs-string">'sysparm_titleless'</span>, <span class="hljs-string">'true'</span>);
        addHidden(f, <span class="hljs-string">'sysparm_is_dialog_form'</span>, <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">var</span> sysId = <span class="hljs-keyword">this</span>.getPreference(<span class="hljs-string">'sys_id'</span>);
        <span class="hljs-keyword">if</span> (!sysId)
            sysId = <span class="hljs-string">''</span>;
        addHidden(f, <span class="hljs-string">'sys_id'</span>, sysId);
        addHidden(f, <span class="hljs-string">'sysparm_sys_id'</span>, sysId);
        <span class="hljs-keyword">this</span>.isLoaded = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (id <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.parms)
            addHidden(f, id, <span class="hljs-keyword">this</span>.parms[id]);
        f.submit();
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlidePane"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GwtDraggable.js */</span>
<span class="hljs-keyword">var</span> GwtDraggable = Class.create(GwtObservable, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">header, itemDragged</span>) </span>{
        <span class="hljs-keyword">this</span>.header = $(header);
        <span class="hljs-keyword">if</span> (!itemDragged)
            itemDragged = <span class="hljs-keyword">this</span>.header;
        <span class="hljs-keyword">this</span>.parentElement = getFormContentParent();
        <span class="hljs-keyword">this</span>.setDraggable($(itemDragged));
        <span class="hljs-keyword">this</span>.setCursor(<span class="hljs-string">"move"</span>);
        <span class="hljs-keyword">this</span>.setStart(<span class="hljs-keyword">this</span>.genericStart.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setDrag(<span class="hljs-keyword">this</span>.genericDrag.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setEnd(<span class="hljs-keyword">this</span>.genericEnd.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.scroll = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.differenceX = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.differenceY = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.shiftKey = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.fDrag = <span class="hljs-keyword">this</span>.drag.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.fEnd = <span class="hljs-keyword">this</span>.end.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.enable();
    },
    <span class="hljs-attr">enable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.header.onmousedown = <span class="hljs-keyword">this</span>.start.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.header.ontouchstart = <span class="hljs-keyword">this</span>.start.bind(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.header.onmousedown = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.header.ontouchstart = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        e = getRealEvent(e);
        <span class="hljs-keyword">var</span> ex, ey;
        <span class="hljs-keyword">if</span> (e.type == <span class="hljs-string">'touchstart'</span>) {
            ex = e.touches[<span class="hljs-number">0</span>].pageX;
            ey = e.touches[<span class="hljs-number">0</span>].pageY;
        } <span class="hljs-keyword">else</span> {
            ex = e.clientX;
            ey = e.clientY;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getScroll()) {
            ex += getScrollX();
            ey += getScrollY();
        }
        <span class="hljs-keyword">this</span>.differenceX = ex - grabOffsetLeft(<span class="hljs-keyword">this</span>.draggable) + grabScrollLeft(<span class="hljs-keyword">this</span>.draggable);
        <span class="hljs-keyword">this</span>.differenceY = ey - grabOffsetTop(<span class="hljs-keyword">this</span>.draggable) + grabScrollTop(<span class="hljs-keyword">this</span>.draggable);
        <span class="hljs-keyword">this</span>.shiftKey = e.shiftKey;
        Event.observe(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"mousemove"</span>, <span class="hljs-keyword">this</span>.fDrag);
        Event.observe(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.fEnd);
        Event.observe(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"touchmove"</span>, <span class="hljs-keyword">this</span>.fDrag);
        Event.observe(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"touchend"</span>, <span class="hljs-keyword">this</span>.fEnd);
        <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._stopSelection(e);
        <span class="hljs-keyword">this</span>.draggable.dragging_active = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> ret = <span class="hljs-keyword">this</span>.onDragStart(<span class="hljs-keyword">this</span>, ex, ey, e);
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"beforedrag"</span>, <span class="hljs-keyword">this</span>, ex, ey, e);
        <span class="hljs-keyword">return</span> ret;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.header) {
            <span class="hljs-keyword">this</span>.header.onmousedown = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.header.ontouchstart = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">this</span>.header = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.draggable = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.parentElement = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">drag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active) {
            createPageShim(<span class="hljs-keyword">this</span>.parentElement);
            <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">this</span>._stopSelection(e);
        e = getRealEvent(e);
        <span class="hljs-keyword">var</span> ex, ey;
        <span class="hljs-keyword">if</span> (e.type == <span class="hljs-string">'touchmove'</span>) {
            ex = e.touches[<span class="hljs-number">0</span>].pageX;
            ey = e.touches[<span class="hljs-number">0</span>].pageY;
        } <span class="hljs-keyword">else</span> {
            ex = e.clientX;
            ey = e.clientY;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getScroll()) {
            ex += getScrollX();
            ey += getScrollY();
        }
        <span class="hljs-keyword">var</span> posX = <span class="hljs-built_in">parseInt</span>(ex - <span class="hljs-keyword">this</span>.differenceX);
        <span class="hljs-keyword">var</span> posY = <span class="hljs-built_in">parseInt</span>(ey - <span class="hljs-keyword">this</span>.differenceY);
        <span class="hljs-keyword">var</span> ret = <span class="hljs-keyword">this</span>.onDrag(<span class="hljs-keyword">this</span>, posX, posY, e);
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"dragging"</span>, <span class="hljs-keyword">this</span>, posX, posY, e);
        <span class="hljs-keyword">return</span> ret;
    },
    <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        e = getRealEvent(e);
        Event.stopObserving(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"mousemove"</span>, <span class="hljs-keyword">this</span>.fDrag);
        Event.stopObserving(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"mouseup"</span>, <span class="hljs-keyword">this</span>.fEnd);
        Event.stopObserving(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"touchmove"</span>, <span class="hljs-keyword">this</span>.fDrag);
        Event.stopObserving(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">"touchend"</span>, <span class="hljs-keyword">this</span>.fEnd);
        <span class="hljs-keyword">this</span>.shiftKey = e.shiftKey;
        removePageShim(<span class="hljs-keyword">this</span>.parentElement);
        <span class="hljs-keyword">this</span>._restoreSelection();
        <span class="hljs-keyword">this</span>.draggable.dragging_active = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> ret = <span class="hljs-keyword">this</span>.onDragEnd(<span class="hljs-keyword">this</span>, e);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"dragged"</span>, <span class="hljs-keyword">this</span>, e);
        <span class="hljs-keyword">this</span>.resetDraggable();
        <span class="hljs-keyword">return</span> ret;
    },
    <span class="hljs-attr">getDraggable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.draggable;
    },
    <span class="hljs-attr">getYDifference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.differenceY;
    },
    <span class="hljs-attr">getXDifference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.differenceX;
    },
    <span class="hljs-attr">getScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.scroll;
    },
    <span class="hljs-attr">setDraggable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.draggable = e;
    },
    <span class="hljs-attr">setStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onDragStart = f;
    },
    <span class="hljs-attr">setDrag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onDrag = f;
    },
    <span class="hljs-attr">setEnd</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onDragEnd = f;
    },
    <span class="hljs-attr">setCursor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.header.style) {
            <span class="hljs-keyword">this</span>.header.style.cursor = c;
        }
    },
    <span class="hljs-attr">setScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.scroll = s;
    },
    <span class="hljs-attr">saveAndSetDraggable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">this</span>.origDraggable = <span class="hljs-keyword">this</span>.draggable;
        <span class="hljs-keyword">this</span>.setDraggable(e);
    },
    <span class="hljs-attr">resetDraggable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.origDraggable) {
            <span class="hljs-keyword">this</span>.draggable = <span class="hljs-keyword">this</span>.origDraggable;
            <span class="hljs-keyword">this</span>.origDraggable = <span class="hljs-literal">null</span>;
        }
    },
    <span class="hljs-attr">genericStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">genericEnd</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">genericDrag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">me, x, y</span>) </span>{
        me.draggable.style.left = x;
        me.draggable.style.top = y;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_stopSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ev</span>) </span>{
        stopSelection(<span class="hljs-keyword">this</span>.parentElement);
        <span class="hljs-keyword">if</span> (ie5) {
            ev.cancelBubble = <span class="hljs-literal">true</span>;
            ev.returnValue = <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ev.preventDefault != <span class="hljs-string">'undefined'</span>)
                ev.preventDefault();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> ev.stopPropagation != <span class="hljs-string">'undefined'</span>)
                ev.stopPropagation();
        }
    },
    <span class="hljs-attr">_restoreSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.parentElement)
            restoreSelection(<span class="hljs-keyword">this</span>.parentElement);
    },
    <span class="hljs-attr">z</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createPageShim</span>(<span class="hljs-params">parentElement</span>) </span>{
    <span class="hljs-keyword">if</span> (!parentElement)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> w = (parentElement.scrollWidth ? parentElement.scrollWidth : parentElement.clientWidth);
    <span class="hljs-keyword">var</span> h = (parentElement.scrollHeight ? parentElement.scrollHeight : parentElement.clientHeight);
    <span class="hljs-keyword">var</span> pageShim = cel(<span class="hljs-string">"div"</span>);
    pageShim.id = pageShim.name = <span class="hljs-string">"pageshim"</span>;
    pageShim.style.top = <span class="hljs-number">0</span>;
    pageShim.style.left = <span class="hljs-number">0</span>;
    pageShim.style.width = w + <span class="hljs-string">"px"</span>;
    pageShim.style.height = h + <span class="hljs-string">"px"</span>;
    pageShim.style.position = <span class="hljs-string">"absolute"</span>;
    pageShim.style.display = <span class="hljs-string">"block"</span>;
    pageShim.style.zIndex = <span class="hljs-string">"500"</span>;
    pageShim.style.backgroundColor = <span class="hljs-string">"red"</span>;
    pageShim.style.opacity = <span class="hljs-number">0</span>;
    pageShim.style.filter = <span class="hljs-string">"alpha(opacity=0)"</span>;
    parentElement.appendChild(pageShim);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removePageShim</span>(<span class="hljs-params">parentElement</span>) </span>{
    <span class="hljs-keyword">var</span> pageShim = gel(<span class="hljs-string">"pageshim"</span>);
    <span class="hljs-keyword">if</span> (pageShim)
        parentElement.removeChild(pageShim);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ui/GlideDraggable.js */</span>
<span class="hljs-keyword">var</span> GlideDraggable = Class.create({
    <span class="hljs-attr">V_SCROLL_REFRESH_FREQ_MS</span>: <span class="hljs-number">70</span>,
    <span class="hljs-attr">H_SCROLL_REFRESH_FREQ_MS</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hoverElem, dragElem</span>) </span>{
        <span class="hljs-keyword">this</span>.setHoverElem(hoverElem);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hoverElem == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.setDragElm(dragElem || <span class="hljs-keyword">this</span>.hoverElem);
        <span class="hljs-keyword">this</span>.boundElem = <span class="hljs-built_in">document</span>.body;
        <span class="hljs-keyword">this</span>.setDragFunction(<span class="hljs-keyword">this</span>.genericDrag);
        <span class="hljs-keyword">this</span>.onScroll = {};
        <span class="hljs-keyword">this</span>.allowedClasses = [];
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.reset();
        <span class="hljs-keyword">this</span>.hoverElem = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dragElem = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.boundElem = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onStart = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onDrag = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onScroll = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onEnd = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">reset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearInterval(<span class="hljs-keyword">this</span>.leftScrollId);
        clearInterval(<span class="hljs-keyword">this</span>.rightScrollId);
        clearInterval(<span class="hljs-keyword">this</span>.topScrollId);
        clearInterval(<span class="hljs-keyword">this</span>.bottomScrollId);
        <span class="hljs-keyword">this</span>.leftScrollId = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.rightScrollId = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.topScrollId = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.bottomScrollId = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._origDragElmCoords;
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._origPageCoords;
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._shift;
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._pageCoords;
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._dragElmCoords;
    },
    <span class="hljs-attr">genericDrag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, dragElem, pageCoords, shift, dragCoords</span>) </span>{
        dragElem.style.left = dragCoords.x + <span class="hljs-string">'px'</span>;
        dragElem.style.top = dragCoords.y + <span class="hljs-string">'px'</span>;
    },
    <span class="hljs-attr">setHoverCursor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">this</span>.hoverCursor = c;
        <span class="hljs-keyword">this</span>.hoverElem.style.cursor = c;
    },
    <span class="hljs-attr">setHoverElem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">this</span>.hoverElem = $(obj);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hoverElem) {
            <span class="hljs-keyword">this</span>.hoverElem.style.MozUserSelect = <span class="hljs-string">'-moz-none'</span>;
            <span class="hljs-keyword">this</span>.hoverElem.onselectstart = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            };
        }
    },
    <span class="hljs-attr">getHoverElem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hoverElem;
    },
    <span class="hljs-attr">setDragCursor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
        <span class="hljs-keyword">this</span>.dragCursor = c;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.pageShim)
            <span class="hljs-keyword">this</span>.pageShim.style.cursor = <span class="hljs-keyword">this</span>.dragCursor;
    },
    <span class="hljs-attr">setDragElm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">this</span>.dragElem = $(obj);
        <span class="hljs-keyword">this</span>.dragElem.style.MozUserSelect = <span class="hljs-string">'-moz-none'</span>;
    },
    <span class="hljs-attr">setStartFunction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._fDraggableStart)
            <span class="hljs-built_in">document</span>.stopObserving(<span class="hljs-string">'mousedown'</span>, <span class="hljs-keyword">this</span>._fDraggableStart);
        <span class="hljs-keyword">this</span>._fDraggableStart = <span class="hljs-keyword">this</span>._draggableStart.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>.hoverElem.observe(<span class="hljs-string">'mousedown'</span>, <span class="hljs-keyword">this</span>._fDraggableStart);
        <span class="hljs-keyword">this</span>.onStart = f;
    },
    <span class="hljs-attr">setDragFunction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onDrag = f;
    },
    <span class="hljs-attr">setEndFunction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onEnd = f;
    },
    <span class="hljs-attr">setAutoScrollLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, x</span>) </span>{
        <span class="hljs-keyword">this</span>.onScroll.LEFT = f;
        <span class="hljs-keyword">this</span>.onScroll.LEFTX = x;
    },
    <span class="hljs-attr">setAutoScrollRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, x</span>) </span>{
        <span class="hljs-keyword">this</span>.onScroll.RIGHT = f;
        <span class="hljs-keyword">this</span>.onScroll.RIGHTX = x;
    },
    <span class="hljs-attr">setAutoScrollTop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, y</span>) </span>{
        <span class="hljs-keyword">this</span>.onScroll.TOP = f;
        <span class="hljs-keyword">this</span>.onScroll.TOPX = y;
    },
    <span class="hljs-attr">setAutoScrollBottom</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, y</span>) </span>{
        <span class="hljs-keyword">this</span>.onScroll.BOTTOM = f;
        <span class="hljs-keyword">this</span>.onScroll.BOTTOMX = y;
    },
    <span class="hljs-attr">addAllowedTargetClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
        <span class="hljs-keyword">this</span>.allowedClasses.push(className);
    },
    <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">this</span>._getCoords(event);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.GlideContextMenu &amp;&amp; <span class="hljs-keyword">typeof</span> GlideContextMenu.closeAllMenus == <span class="hljs-string">'function'</span> &amp;&amp; event.target &amp;&amp; !$(event.target).up(<span class="hljs-string">'.cm_menuwrapper'</span>)) {
            GlideContextMenu.closeAllMenus();
        }
        <span class="hljs-keyword">this</span>._fDraggableMove = <span class="hljs-keyword">this</span>._draggableMove.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">this</span>._fdraggableEnd = <span class="hljs-keyword">this</span>._draggableEnd.bind(<span class="hljs-keyword">this</span>);
        <span class="hljs-built_in">document</span>.observe(<span class="hljs-string">'mousemove'</span>, <span class="hljs-keyword">this</span>._fDraggableMove);
        <span class="hljs-built_in">document</span>.observe(<span class="hljs-string">'mouseup'</span>, <span class="hljs-keyword">this</span>._fdraggableEnd);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dragCursor)
            <span class="hljs-keyword">this</span>.dragElem.style.cursor = <span class="hljs-keyword">this</span>.dragCursor;
        <span class="hljs-built_in">document</span>.body.focus();
        <span class="hljs-built_in">document</span>.onselectstart = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        };
    },
    <span class="hljs-attr">_createPageShim</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.pageShim = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
        <span class="hljs-keyword">this</span>.boundElem.appendChild(<span class="hljs-keyword">this</span>.pageShim);
        <span class="hljs-keyword">this</span>.pageShim.style.top = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.left = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.width = <span class="hljs-string">'100%'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.height = <span class="hljs-string">'100%'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.position = <span class="hljs-string">'absolute'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.display = <span class="hljs-string">'block'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.zIndex = <span class="hljs-string">'9999'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.backgroundColor = Prototype.Browser.IE ? <span class="hljs-string">'#ccc'</span> : <span class="hljs-string">'transparent'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.opacity = <span class="hljs-string">'0'</span>;
        <span class="hljs-keyword">this</span>.pageShim.style.filter = <span class="hljs-string">'alpha(opacity=0)'</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dragCursor) {
            <span class="hljs-keyword">this</span>.pageShim.style.cursor = <span class="hljs-keyword">this</span>.dragCursor;
            <span class="hljs-keyword">this</span>.dragElem.style.cursor = <span class="hljs-keyword">this</span>.dragCursor;
        }
    },
    <span class="hljs-attr">_removePageShim</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.pageShim)
            <span class="hljs-keyword">this</span>.pageShim.parentNode.removeChild(<span class="hljs-keyword">this</span>.pageShim);
        <span class="hljs-keyword">this</span>.pageShim = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_getCoords</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        event = event || <span class="hljs-built_in">window</span>.event;
        <span class="hljs-keyword">if</span> (!event.pageX) {
            event.pageX = event.clientX;
            event.pageY = event.clientY;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._origPageCoords)
            <span class="hljs-keyword">this</span>._origPageCoords = {
                <span class="hljs-attr">x</span>: event.pageX,
                <span class="hljs-attr">y</span>: event.pageY
            };
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._origDragElmCoords) {
            <span class="hljs-keyword">var</span> cumulativeOffset = <span class="hljs-keyword">this</span>.dragElem.cumulativeOffset();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dragElem.style.right) {
                <span class="hljs-keyword">this</span>.dragElem.style.left = (<span class="hljs-keyword">this</span>.dragElem.up().getWidth() - <span class="hljs-keyword">this</span>.dragElem.getWidth() - <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dragElem.style.right, <span class="hljs-number">10</span>)) + <span class="hljs-string">'px'</span>;
                <span class="hljs-keyword">this</span>.dragElem.setStyle({
                    <span class="hljs-attr">right</span>: <span class="hljs-string">''</span>
                });
            }
            <span class="hljs-keyword">this</span>._origDragElmCoords = {
                <span class="hljs-attr">x</span>: <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dragElem.style.left, <span class="hljs-number">10</span>) || cumulativeOffset.left,
                <span class="hljs-attr">y</span>: <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dragElem.style.top, <span class="hljs-number">10</span>) || cumulativeOffset.top
            };
        }
        <span class="hljs-keyword">this</span>._shift = !<span class="hljs-keyword">this</span>._pageCoords ? {
            <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>
        } : {
            <span class="hljs-attr">x</span>: (event.pageX - <span class="hljs-keyword">this</span>._pageCoords.x),
            <span class="hljs-attr">y</span>: (event.pageY - <span class="hljs-keyword">this</span>._pageCoords.y)
        };
        <span class="hljs-keyword">this</span>._pageCoords = {
            <span class="hljs-attr">x</span>: event.pageX,
            <span class="hljs-attr">y</span>: event.pageY
        };
        <span class="hljs-keyword">this</span>._dragElmCoords = {
            <span class="hljs-attr">x</span>: <span class="hljs-keyword">this</span>._origDragElmCoords.x + (<span class="hljs-keyword">this</span>._pageCoords.x - <span class="hljs-keyword">this</span>._origPageCoords.x),
            <span class="hljs-attr">y</span>: <span class="hljs-keyword">this</span>._origDragElmCoords.y + (<span class="hljs-keyword">this</span>._pageCoords.y - <span class="hljs-keyword">this</span>._origPageCoords.y)
        };
    },
    <span class="hljs-attr">_draggableStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">var</span> l = <span class="hljs-keyword">this</span>.allowedClasses.length;
        <span class="hljs-keyword">if</span> (l &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> boolCanStart = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; l; i++) {
                <span class="hljs-keyword">if</span> (event.target.className == <span class="hljs-keyword">this</span>.allowedClasses[i]) {
                    boolCanStart = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">break</span>;
                }
            }
            <span class="hljs-keyword">if</span> (!boolCanStart)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">this</span>.start(event);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.onStart(event, <span class="hljs-keyword">this</span>.dragElem, <span class="hljs-keyword">this</span>._pageCoords, <span class="hljs-keyword">this</span>._shift, <span class="hljs-keyword">this</span>._dragElmCoords, <span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">_draggableMove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">this</span>._getCoords(event);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.pageShim) {
            <span class="hljs-keyword">this</span>._createPageShim();
            <span class="hljs-keyword">if</span> (Prototype.Browser.IE)
                <span class="hljs-keyword">this</span>.dragElem.up().onselectstart = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                };
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shift.x == <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>._shift.y == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.LEFT &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.x &lt; <span class="hljs-keyword">this</span>.onScroll.LEFTX) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.leftScrollId)
                <span class="hljs-keyword">this</span>.leftScrollId = setInterval(<span class="hljs-keyword">this</span>._autoXScrollerInterceptor.bind(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.onScroll.LEFT, <span class="hljs-keyword">this</span>.onScroll.LEFTX), <span class="hljs-keyword">this</span>.H_SCROLL_REFRESH_FREQ_MS);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shift.y == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.LEFT &amp;&amp; <span class="hljs-keyword">this</span>.leftScrollId &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.x &gt;= <span class="hljs-keyword">this</span>.onScroll.LEFTX) {
            clearInterval(<span class="hljs-keyword">this</span>.leftScrollId);
            <span class="hljs-keyword">this</span>.leftScrollId = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.RIGHT &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.x &gt; <span class="hljs-keyword">this</span>.onScroll.RIGHTX) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.rightScrollId)
                <span class="hljs-keyword">this</span>.rightScrollId = setInterval(<span class="hljs-keyword">this</span>._autoXScrollerInterceptor.bind(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.onScroll.RIGHT, <span class="hljs-keyword">this</span>.onScroll.RIGHTX), <span class="hljs-keyword">this</span>.H_SCROLL_REFRESH_FREQ_MS);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shift.y == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.RIGHT &amp;&amp; <span class="hljs-keyword">this</span>.rightScrollId &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.x &lt;= <span class="hljs-keyword">this</span>.onScroll.RIGHTX) {
            clearInterval(<span class="hljs-keyword">this</span>.rightScrollId);
            <span class="hljs-keyword">this</span>.rightScrollId = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.TOP &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.y &lt; <span class="hljs-keyword">this</span>.onScroll.TOPX) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.topScrollId)
                <span class="hljs-keyword">this</span>.topScrollId = setInterval(<span class="hljs-keyword">this</span>._autoYScrollerInterceptor.bind(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.onScroll.TOP, <span class="hljs-keyword">this</span>.onScroll.TOPX), <span class="hljs-keyword">this</span>.V_SCROLL_REFRESH_FREQ_MS);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shift.x == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.TOP &amp;&amp; <span class="hljs-keyword">this</span>.topScrollId &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.y &gt;= <span class="hljs-keyword">this</span>.onScroll.TOPX) {
            clearInterval(<span class="hljs-keyword">this</span>.topScrollId);
            <span class="hljs-keyword">this</span>.topScrollId = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.BOTTOM &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.y &gt; <span class="hljs-keyword">this</span>.onScroll.BOTTOMX) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.bottomScrollId)
                <span class="hljs-keyword">this</span>.bottomScrollId = setInterval(<span class="hljs-keyword">this</span>._autoYScrollerInterceptor.bind(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.onScroll.BOTTOM, <span class="hljs-keyword">this</span>.onScroll.BOTTOMX), <span class="hljs-keyword">this</span>.V_SCROLL_REFRESH_FREQ_MS);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._shift.x == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onScroll.BOTTOM &amp;&amp; <span class="hljs-keyword">this</span>.bottomScrollId &amp;&amp; <span class="hljs-keyword">this</span>._pageCoords.y &lt;= <span class="hljs-keyword">this</span>.onScroll.BOTTOMX) {
            clearInterval(<span class="hljs-keyword">this</span>.bottomScrollId);
            <span class="hljs-keyword">this</span>.bottomScrollId = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">this</span>.onDrag(event, <span class="hljs-keyword">this</span>.dragElem, <span class="hljs-keyword">this</span>._pageCoords, <span class="hljs-keyword">this</span>._shift, <span class="hljs-keyword">this</span>._dragElmCoords, <span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_autoXScrollerInterceptor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, boundaryX</span>) </span>{
        f(<span class="hljs-keyword">this</span>.dragElem, <span class="hljs-keyword">this</span>._pageCoords.x - boundaryX, <span class="hljs-keyword">this</span>._pageCoords);
    },
    <span class="hljs-attr">_autoYScrollerInterceptor</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, boundaryY</span>) </span>{
        f(<span class="hljs-keyword">this</span>.dragElem, <span class="hljs-keyword">this</span>._pageCoords.y - boundaryY, <span class="hljs-keyword">this</span>._pageCoords);
    },
    <span class="hljs-attr">_draggableEnd</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">this</span>._removePageShim();
        <span class="hljs-built_in">document</span>.onselectstart = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (Prototype.Browser.IE)
            <span class="hljs-keyword">this</span>.dragElem.up().onselectstart = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hoverCursor)
            <span class="hljs-keyword">this</span>.hoverElem.style.cursor = <span class="hljs-keyword">this</span>.hoverCursor;
        <span class="hljs-built_in">document</span>.stopObserving(<span class="hljs-string">'mousemove'</span>, <span class="hljs-keyword">this</span>._fDraggableMove);
        <span class="hljs-built_in">document</span>.stopObserving(<span class="hljs-string">'mouseup'</span>, <span class="hljs-keyword">this</span>._fdraggableEnd);
        event.stopPropagation();
        <span class="hljs-keyword">this</span>._getCoords(event);
        <span class="hljs-keyword">var</span> boolReturn = <span class="hljs-keyword">this</span>.onEnd ? <span class="hljs-keyword">this</span>.onEnd(event, <span class="hljs-keyword">this</span>.dragElem, <span class="hljs-keyword">this</span>._pageCoords, <span class="hljs-keyword">this</span>._shift, <span class="hljs-keyword">this</span>._dragElmCoords, <span class="hljs-keyword">this</span>) : <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.reset();
        <span class="hljs-keyword">return</span> boolReturn;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideDraggable'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GwtDraggableSnap.js */</span>
<span class="hljs-keyword">var</span> debugId = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> GwtDraggableSnap = Class.create(GwtDraggable, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">header, itemDragged</span>) </span>{
        GwtDraggable.prototype.initialize.call(<span class="hljs-keyword">this</span>, header, itemDragged);
        <span class="hljs-keyword">this</span>.snapTable = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dropZoneList = [];
        <span class="hljs-keyword">this</span>.initDropZones = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.boundDirection = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.boundElement = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.setStart(<span class="hljs-keyword">this</span>.snapStart.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setDrag(<span class="hljs-keyword">this</span>.snapDrag.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setEnd(<span class="hljs-keyword">this</span>.snapEnd.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setCreateFloat(<span class="hljs-keyword">this</span>._createFloat.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.setFloatClassName(<span class="hljs-string">"drag_float_visible"</span>);
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.snapTable = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dropZoneList = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.onInitDropZones = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.boundElement = <span class="hljs-literal">null</span>;
        GwtDraggable.prototype.destroy.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">setCreateFloat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onCreateFloat = f;
        <span class="hljs-keyword">if</span> (!f)
            <span class="hljs-keyword">this</span>.onCreateFloat = <span class="hljs-keyword">this</span>._createFloat.bind(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">setFloatClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">this</span>.floatClassName = n;
    },
    <span class="hljs-attr">setSnapTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">table</span>) </span>{
        <span class="hljs-keyword">this</span>.snapTable = table;
        <span class="hljs-keyword">this</span>.dropZoneList = [];
    },
    <span class="hljs-attr">setInitDropZones</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onInitDropZones = f;
        <span class="hljs-keyword">this</span>.snapTable = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dropZoneList = [];
    },
    <span class="hljs-attr">setBoundLeftRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.boundDirection = <span class="hljs-string">"l-r"</span>;
    },
    <span class="hljs-attr">setBoundUpDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.boundDirection = <span class="hljs-string">"u-d"</span>;
    },
    <span class="hljs-attr">setBoundElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.boundElement = element;
    },
    <span class="hljs-attr">addDropZone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.dropZoneList.push(element);
    },
    <span class="hljs-attr">removeDropZone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.dropZoneList.length; i++) {
            <span class="hljs-keyword">if</span> (element.id == <span class="hljs-keyword">this</span>.dropZoneList[i].id) {
                <span class="hljs-keyword">this</span>.dropZoneList.remove(i);
                <span class="hljs-keyword">break</span>;
            }
        }
    },
    <span class="hljs-attr">clearDropZones</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.dropZoneList = [];
    },
    <span class="hljs-attr">snapStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y, e</span>) </span>{
        x -= <span class="hljs-keyword">this</span>.differenceX;
        y -= <span class="hljs-keyword">this</span>.differenceY;
        <span class="hljs-keyword">if</span> (dragObj.draggable.style.position == <span class="hljs-string">"absolute"</span>)
            <span class="hljs-keyword">this</span>.snapMode = <span class="hljs-string">"absolute"</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.snapMode = <span class="hljs-string">"relative"</span>;
        <span class="hljs-keyword">this</span>.currentDropZone = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.snapElement = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.dragFloat = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._initDropZones(dragObj, x, y);
        <span class="hljs-keyword">this</span>._initDragBounds(x, y);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">snapDrag</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y, e</span>) </span>{
        <span class="hljs-keyword">var</span> pos = <span class="hljs-keyword">this</span>._boundDragging(x, y);
        x = pos[<span class="hljs-number">0</span>];
        y = pos[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.dragFloat)
            <span class="hljs-keyword">this</span>.dragFloat = <span class="hljs-keyword">this</span>.onCreateFloat(dragObj, x, y);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dragFloat) {
            <span class="hljs-keyword">this</span>.dragFloat.style.left = x;
            <span class="hljs-keyword">this</span>.dragFloat.style.top = y;
        }
        <span class="hljs-keyword">this</span>._findDropZoneAndMove(dragObj, x + <span class="hljs-keyword">this</span>.differenceX, y + <span class="hljs-keyword">this</span>.differenceY);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">snapEnd</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y, e</span>) </span>{
        <span class="hljs-keyword">this</span>.dropZones = [];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dragFloat)
            <span class="hljs-keyword">this</span>.floatIntv = <span class="hljs-keyword">this</span>._floatBackAndDelete(<span class="hljs-keyword">this</span>, <span class="hljs-number">150</span>, <span class="hljs-number">15</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">hasSnapMoved</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.originalDropZone != <span class="hljs-keyword">this</span>.currentDropZone;
    },
    <span class="hljs-attr">_createFloat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y</span>) </span>{
        <span class="hljs-keyword">var</span> dfloat = cel(<span class="hljs-string">"div"</span>);
        dfloat.id = <span class="hljs-string">"floater"</span>;
        dfloat.className = <span class="hljs-keyword">this</span>.floatClassName;
        dfloat.style.position = <span class="hljs-string">"absolute"</span>;
        dfloat.style.width = dragObj.draggable.offsetWidth - (!isMSIE ? <span class="hljs-number">2</span> : <span class="hljs-number">0</span>);
        dfloat.style.height = dragObj.draggable.offsetHeight - (!isMSIE ? <span class="hljs-number">2</span> : <span class="hljs-number">0</span>);
        <span class="hljs-built_in">document</span>.body.appendChild(dfloat);
        <span class="hljs-keyword">return</span> dfloat;
    },
    <span class="hljs-attr">_boundDragging</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.boundDirection == <span class="hljs-string">"l-r"</span>)
            y = <span class="hljs-keyword">this</span>.origY;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.boundDirection == <span class="hljs-string">"u-d"</span>)
            x = <span class="hljs-keyword">this</span>.origX;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.boundElement) {
            <span class="hljs-keyword">if</span> (y &lt; <span class="hljs-keyword">this</span>.boundTop)
                y = <span class="hljs-keyword">this</span>.boundTop;
            <span class="hljs-keyword">if</span> (y &gt; <span class="hljs-keyword">this</span>.boundBottom)
                y = <span class="hljs-keyword">this</span>.boundBottom;
            <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-keyword">this</span>.boundLeft)
                x = <span class="hljs-keyword">this</span>.boundLeft;
            <span class="hljs-keyword">if</span> (x &gt; <span class="hljs-keyword">this</span>.boundRight)
                x = <span class="hljs-keyword">this</span>.boundRight;
        }
        <span class="hljs-keyword">return</span> [x, y];
    },
    <span class="hljs-attr">_findDropZoneAndMove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.snapMode == <span class="hljs-string">"absolute"</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentDropZone &amp;&amp; <span class="hljs-keyword">this</span>._overlaps(<span class="hljs-keyword">this</span>.currentDropZone, x, y))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> dz = <span class="hljs-keyword">this</span>._findDropZoneAbsolute(dragObj, x, y);
            <span class="hljs-keyword">if</span> (dz &amp;&amp; dz != <span class="hljs-keyword">this</span>.currentDropZone) {
                <span class="hljs-keyword">this</span>.currentDropZone = dz;
                <span class="hljs-keyword">this</span>.snapElement = dz.element;
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"beforedrop"</span>, dragObj, dz.element, dz.element, x, y))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                dragObj.draggable.style.left = <span class="hljs-keyword">this</span>.currentDropZone.left;
                dragObj.draggable.style.top = <span class="hljs-keyword">this</span>.currentDropZone.top;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> dz = <span class="hljs-keyword">this</span>._findDropZoneRelative(dragObj, x, y);
            <span class="hljs-keyword">if</span> (dz &amp;&amp; dragObj.draggable.nextSibling != dz.element) {
                <span class="hljs-keyword">this</span>.currentDropZone = dz;
                <span class="hljs-keyword">this</span>.snapElement = dz.element.parentNode;
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.fireEvent(<span class="hljs-string">"beforedrop"</span>, dragObj, dz.element.parentNode, dz.element, x, y))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                dz.element.parentNode.insertBefore(dragObj.draggable, dz.element);
                dragObj.draggable.parentNode.style.display = <span class="hljs-string">"none"</span>;
                dragObj.draggable.parentNode.style.display = <span class="hljs-string">""</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">_findDropZoneAbsolute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y</span>) </span>{
        <span class="hljs-keyword">var</span> dz = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.dropZones.length; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._overlaps(<span class="hljs-keyword">this</span>.dropZones[i], x, y)) {
                dz = <span class="hljs-keyword">this</span>.dropZones[i];
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> dz;
    },
    <span class="hljs-attr">_findDropZoneRelative</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y</span>) </span>{
        <span class="hljs-keyword">var</span> draggable = dragObj.getDraggable();
        <span class="hljs-keyword">var</span> cCell = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> aLargeNumber = <span class="hljs-number">100000000</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z &lt; <span class="hljs-keyword">this</span>.dropZones.length; z++) {
            <span class="hljs-keyword">var</span> dz = <span class="hljs-keyword">this</span>.dropZones[z];
            <span class="hljs-keyword">if</span> (draggable == dz)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> ai = <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-built_in">Math</span>.pow(x - dz.left, <span class="hljs-number">2</span>) + <span class="hljs-built_in">Math</span>.pow(y - dz.top, <span class="hljs-number">2</span>));
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(ai))
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (ai &lt; aLargeNumber) {
                aLargeNumber = ai;
                cCell = dz;
            }
        }
        <span class="hljs-keyword">return</span> cCell;
    },
    <span class="hljs-attr">_initDragBounds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, y</span>) </span>{
        <span class="hljs-keyword">this</span>.origX = x;
        <span class="hljs-keyword">this</span>.origY = y;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.boundElement) {
            <span class="hljs-keyword">this</span>.boundLeft = grabOffsetLeft(<span class="hljs-keyword">this</span>.boundElement) - grabScrollLeft(<span class="hljs-keyword">this</span>.boundElement);
            <span class="hljs-keyword">this</span>.boundTop = grabOffsetTop(<span class="hljs-keyword">this</span>.boundElement) - grabScrollTop(<span class="hljs-keyword">this</span>.boundElement);
            <span class="hljs-keyword">this</span>.boundRight = <span class="hljs-keyword">this</span>.boundLeft + <span class="hljs-keyword">this</span>.boundElement.offsetWidth - <span class="hljs-keyword">this</span>.draggable.offsetWidth;
            <span class="hljs-keyword">this</span>.boundBottom = <span class="hljs-keyword">this</span>.boundTop + <span class="hljs-keyword">this</span>.boundElement.offsetHeight - <span class="hljs-keyword">this</span>.draggable.offsetHeight;
            <span class="hljs-keyword">this</span>.boundLeft -= <span class="hljs-number">4</span>;
            <span class="hljs-keyword">this</span>.boundTop -= <span class="hljs-number">4</span>;
            <span class="hljs-keyword">this</span>.boundRight += <span class="hljs-number">4</span>;
            <span class="hljs-keyword">this</span>.boundBottom += <span class="hljs-number">4</span>;
        }
    },
    <span class="hljs-attr">_initDropZones</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, x, y</span>) </span>{
        <span class="hljs-keyword">this</span>.dropZones = [];
        <span class="hljs-keyword">var</span> zones = [];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onInitDropZones) {
            zones = <span class="hljs-keyword">this</span>.onInitDropZones(<span class="hljs-keyword">this</span>, x, y);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.snapTable) {
            zones = <span class="hljs-keyword">this</span>._initDropZonesFromTable(<span class="hljs-keyword">this</span>.snapTable);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.dropZoneList.length; i++)
                zones.push(<span class="hljs-keyword">this</span>.dropZoneList[i]);
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; zones.length; i++) {
            <span class="hljs-keyword">var</span> zone = zones[i];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.snapMode == <span class="hljs-string">"absolute"</span>) {
                <span class="hljs-keyword">this</span>._addDropZone(zone);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>._initDropZonesRelative(dragObj, zone);
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.snapMode == <span class="hljs-string">"absolute"</span>) {
            <span class="hljs-keyword">this</span>.originalDropZone = <span class="hljs-keyword">this</span>._findDropZoneAbsolute(dragObj, x, y);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> nextSibling = dragObj.draggable.nextSibling;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.dropZones.length; i++) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dropZones[i].element == nextSibling) {
                    <span class="hljs-keyword">this</span>.originalDropZone = <span class="hljs-keyword">this</span>.dropZones[i];
                    <span class="hljs-keyword">break</span>;
                }
            }
        }
    },
    <span class="hljs-attr">_initDropZonesFromTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
        <span class="hljs-keyword">var</span> zones = [];
        <span class="hljs-keyword">var</span> rowCnt = t.rows.length;
        <span class="hljs-keyword">var</span> colCnt = t.rows[<span class="hljs-number">0</span>].cells.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> row = <span class="hljs-number">0</span>; row &lt; rowCnt; row++) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> col = <span class="hljs-number">0</span>; col &lt; colCnt; col++) {
                <span class="hljs-keyword">var</span> cell = t.rows[row].cells[col];
                <span class="hljs-keyword">if</span> (getAttributeValue(cell, <span class="hljs-string">"dropzone"</span>) == <span class="hljs-string">"true"</span> || cell.dropzone == <span class="hljs-string">"true"</span>)
                    zones.push(cell);
            }
        }
        <span class="hljs-keyword">return</span> zones;
    },
    <span class="hljs-attr">_initDropZonesRelative</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dragObj, zone</span>) </span>{
        <span class="hljs-keyword">var</span> myHeight = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> lastDivExists = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; zone.childNodes.length; i++) {
            <span class="hljs-keyword">var</span> node = zone.childNodes[i];
            <span class="hljs-keyword">if</span> (getAttributeValue(node, <span class="hljs-string">"dragpart"</span>) ||
                node.dragpart == <span class="hljs-string">"true"</span> ||
                getAttributeValue(node, <span class="hljs-string">"dropzone"</span>) ||
                node.dropzone == <span class="hljs-string">"true"</span>) {
                <span class="hljs-keyword">if</span> ((node.id == <span class="hljs-string">"lastdiv"</span>) || (node.name == <span class="hljs-string">"lastdiv"</span>))
                    lastDivExists = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (node == dragObj.draggable) {
                    myHeight = dragObj.draggable.offsetHeight;
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isInScrollRegion(node, zone)) {
                    <span class="hljs-keyword">this</span>._addDropZone(node, myHeight);
                }
            }
        }
        <span class="hljs-keyword">if</span> (!lastDivExists) {
            <span class="hljs-keyword">var</span> lastDiv = cel(<span class="hljs-string">"DIV"</span>);
            lastDiv.name = <span class="hljs-string">"lastdiv"</span>;
            lastDiv.dropzone = <span class="hljs-string">"true"</span>;
            lastDiv.style.width = <span class="hljs-string">"100%"</span>;
            lastDiv.style.height = <span class="hljs-string">"0"</span>;
            zone.appendChild(lastDiv);
            <span class="hljs-keyword">this</span>._addDropZone(lastDiv, myHeight);
        }
    },
    <span class="hljs-attr">_addDropZone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, topOffset</span>) </span>{
        <span class="hljs-keyword">if</span> (!topOffset)
            topOffset = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> dropZone = {};
        dropZone.element = element;
        dropZone.left = grabOffsetLeft(element) - grabScrollLeft(element);
        dropZone.top = grabOffsetTop(element) - topOffset - grabScrollTop(element);
        dropZone.right = dropZone.left + element.offsetWidth;
        dropZone.bottom = dropZone.top + element.offsetHeight;
        <span class="hljs-keyword">this</span>.dropZones.push(dropZone);
    },
    <span class="hljs-attr">_isInScrollRegion</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, region</span>) </span>{
        <span class="hljs-keyword">var</span> left = element.offsetLeft;
        <span class="hljs-keyword">var</span> top = element.offsetTop;
        <span class="hljs-keyword">if</span> (left &lt; <span class="hljs-number">0</span>)
            left = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (top &lt; <span class="hljs-number">0</span>)
            top = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> (left &gt;= region.scrollLeft) &amp;&amp;
            (top &gt;= region.scrollTop) &amp;&amp;
            (left &lt;= (region.scrollLeft + region.offsetWidth)) &amp;&amp;
            (top &lt;= (region.scrollTop + region.offsetHeight));
    },
    <span class="hljs-attr">_overlaps</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dz, x, y</span>) </span>{
        <span class="hljs-keyword">return</span> ((dz.left &lt; x) &amp;&amp; (x &lt; dz.right) &amp;&amp; (dz.top &lt; y) &amp;&amp; (y &lt; dz.bottom));
    },
    <span class="hljs-attr">_floatBackAndDelete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">gd, tTime, tMoves</span>) </span>{
        <span class="hljs-keyword">var</span> baseObj = gd.getDraggable();
        <span class="hljs-keyword">var</span> movenObj = gd.dragFloat;
        <span class="hljs-keyword">var</span> currentX = <span class="hljs-built_in">parseInt</span>(movenObj.style.left);
        <span class="hljs-keyword">var</span> currentY = <span class="hljs-built_in">parseInt</span>(movenObj.style.top);
        <span class="hljs-keyword">var</span> backX = (currentX - grabOffsetLeft(baseObj) - grabScrollLeft(baseObj)) / tMoves;
        <span class="hljs-keyword">var</span> backY = (currentY - grabOffsetTop(baseObj) - grabScrollTop(baseObj)) / tMoves;
        <span class="hljs-keyword">return</span> setInterval(
            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (tMoves &lt; <span class="hljs-number">1</span>) {
                    clearInterval(gd.floatIntv);
                    gd.dragFloat.parentNode.removeChild(gd.dragFloat);
                    gd.dragFloat = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">return</span>;
                }
                tMoves--;
                currentX -= backX;
                currentY -= backY;
                movenObj.style.left = <span class="hljs-built_in">parseInt</span>(currentX) + <span class="hljs-string">"px"</span>;
                movenObj.style.top = <span class="hljs-built_in">parseInt</span>(currentY) + <span class="hljs-string">"px"</span>
            }, tTime / tMoves)
    },
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/AutoComplete.js */</span>
<span class="hljs-keyword">var</span> AutoComplete = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.processor = <span class="hljs-string">"AutoComplete"</span>;
        <span class="hljs-keyword">this</span>.table = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.column = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.query = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.typedChars = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.input = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.select = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.timeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.keyDelay = <span class="hljs-number">500</span>;
    },
    <span class="hljs-attr">setTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.table = name;
    },
    <span class="hljs-attr">setColumn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.column = name;
    },
    <span class="hljs-attr">setQuery</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">query</span>) </span>{
        <span class="hljs-keyword">this</span>.query = query;
    },
    <span class="hljs-attr">setSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">this</span>.select = gel(o);
    },
    <span class="hljs-attr">setInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">this</span>.input = gel(o);
    },
    <span class="hljs-attr">onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timeout)
            clearTimeout(<span class="hljs-keyword">this</span>.timeout);
        <span class="hljs-keyword">this</span>.timeout = setTimeout(<span class="hljs-keyword">this</span>._onKeyUp.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.keyDelay);
    },
    <span class="hljs-attr">_onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.timeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.typedChars = <span class="hljs-keyword">this</span>.input.value;
        <span class="hljs-keyword">this</span>.ajaxRequest();
    },
    <span class="hljs-attr">ajaxRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">urlParameters</span>) </span>{
        <span class="hljs-keyword">var</span> ajax = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-keyword">this</span>.processor);
        ajax.addParam(<span class="hljs-string">"sysparm_chars"</span>, <span class="hljs-keyword">this</span>.typedChars);
        ajax.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-keyword">this</span>.table + <span class="hljs-string">"."</span> + <span class="hljs-keyword">this</span>.column);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.query)
            ajax.addParam(<span class="hljs-string">"sysparm_query"</span>, <span class="hljs-keyword">this</span>.query);
        ajax.getXML(<span class="hljs-keyword">this</span>.ajaxResponse.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">ajaxResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        <span class="hljs-keyword">if</span> (!request.responseXML.documentElement)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.populateSelect(request.responseXML.documentElement);
    },
    <span class="hljs-attr">populateSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">this</span>.select.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> Option(item.getAttribute(<span class="hljs-string">'label'</span>), item.getAttribute(<span class="hljs-string">'sys_id'</span>));
            <span class="hljs-keyword">this</span>.select.options[<span class="hljs-keyword">this</span>.select.options.length] = o;
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/SlushBucket.js */</span>
<span class="hljs-keyword">var</span> SlushBucket = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">this</span>.id = id;
        <span class="hljs-keyword">this</span>.leftSelectJustify = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.rightSelectJustify = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.rightValues = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.evenOddColoring = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.isTemplating = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.ignoreDuplicates = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getLeftSelectJustify</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.leftSelectJustify;
    },
    <span class="hljs-attr">setLeftSelectJustify</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">justify</span>) </span>{
        <span class="hljs-keyword">this</span>.leftSelectJustify = justify;
        <span class="hljs-keyword">this</span>.getLeftSelect().style.textAlign = justify;
    },
    <span class="hljs-attr">getRightSelectJustify</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rightSelectJustify;
    },
    <span class="hljs-attr">setRightSelectJustify</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">justify</span>) </span>{
        <span class="hljs-keyword">this</span>.rightSelectJustify = justify;
        <span class="hljs-keyword">this</span>.getRightSelect().style.textAlign = justify;
    },
    <span class="hljs-attr">getEvenOddColoring</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.evenOddColoring;
    },
    <span class="hljs-attr">setEvenOddColoring</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evenOdd</span>) </span>{
        <span class="hljs-keyword">this</span>.evenOddColoring = evenOdd;
    },
    <span class="hljs-attr">addLeftChoice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, text</span>) </span>{
        <span class="hljs-keyword">var</span> opt = cel(<span class="hljs-string">"option"</span>);
        opt.value = value;
        opt.text = text;
        <span class="hljs-keyword">this</span>.getLeftSelect().options.add(opt);
    },
    <span class="hljs-attr">addRightChoice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, text</span>) </span>{
        <span class="hljs-keyword">var</span> opt = cel(<span class="hljs-string">"option"</span>);
        opt.value = value;
        opt.text = text;
        <span class="hljs-keyword">this</span>.getRightSelect().options.add(opt);
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.clearSelect(<span class="hljs-keyword">this</span>.getLeftSelect());
        <span class="hljs-keyword">this</span>.clearSelect(<span class="hljs-keyword">this</span>.getRightSelect());
    },
    <span class="hljs-attr">clearSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selectBox</span>) </span>{
        selectBox.options.length = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">getValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selectBox</span>) </span>{
        <span class="hljs-keyword">var</span> values = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> options = selectBox.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            values[i] = options[i].value;
        }
        <span class="hljs-keyword">return</span> values;
    },
    <span class="hljs-attr">saveRightValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values</span>) </span>{
        <span class="hljs-keyword">this</span>.rightValues = values;
    },
    <span class="hljs-attr">getRightValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.rightValues;
    },
    <span class="hljs-attr">getSelected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">selectBox</span>) </span>{
        <span class="hljs-keyword">var</span> selectedIds = [];
        <span class="hljs-keyword">var</span> sourceOptions = selectBox.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; sourceOptions.length; i++) {
            option = sourceOptions[i];
            <span class="hljs-keyword">if</span> (!option.selected)
                <span class="hljs-keyword">continue</span>;
            selectedIds.push(i);
        }
        <span class="hljs-keyword">return</span> selectedIds;
    },
    <span class="hljs-attr">getRightSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_right"</span>);
    },
    <span class="hljs-attr">getLeftSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_left"</span>);
    },
    <span class="hljs-attr">onKeyMoveLeftToRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> desiredKeyCode = <span class="hljs-keyword">this</span>._isRTL() ? <span class="hljs-number">37</span> : <span class="hljs-number">39</span>;
        <span class="hljs-keyword">if</span> (evt.keyCode != desiredKeyCode)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.moveOptions(<span class="hljs-keyword">this</span>.getLeftSelect(), <span class="hljs-keyword">this</span>.getRightSelect());
    },
    <span class="hljs-attr">onKeyMoveRightToLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> desiredKeyCode = <span class="hljs-keyword">this</span>._isRTL() ? <span class="hljs-number">39</span> : <span class="hljs-number">37</span>;
        <span class="hljs-keyword">if</span> (evt.keyCode != desiredKeyCode)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.moveOptions(<span class="hljs-keyword">this</span>.getRightSelect(), <span class="hljs-keyword">this</span>.getLeftSelect());
    },
    <span class="hljs-attr">moveLeftToRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.moveOptions(<span class="hljs-keyword">this</span>.getLeftSelect(), <span class="hljs-keyword">this</span>.getRightSelect());
    },
    <span class="hljs-attr">moveRightToLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.moveOptions(<span class="hljs-keyword">this</span>.getRightSelect(), <span class="hljs-keyword">this</span>.getLeftSelect());
    },
    <span class="hljs-attr">copyLeftToRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.moveOptions(<span class="hljs-keyword">this</span>.getLeftSelect(), <span class="hljs-keyword">this</span>.getRightSelect(), <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">_isRTL</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'dir'</span>) == <span class="hljs-string">'rtl'</span>;
    },
    <span class="hljs-attr">moveOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sourceSelect, targetSelect, copyFlag</span>) </span>{
        <span class="hljs-keyword">var</span> selectedIds = <span class="hljs-keyword">this</span>.getSelected(sourceSelect);
        <span class="hljs-keyword">if</span> (selectedIds.length &lt; <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> sourceOptions = sourceSelect.options;
        <span class="hljs-keyword">var</span> targetOptions = targetSelect.options;
        targetSelect.selectedIndex = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; selectedIds.length; i++) {
            <span class="hljs-keyword">var</span> soption = sourceOptions[selectedIds[i]];
            <span class="hljs-keyword">var</span> label = soption.text;
            <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.ignoreDuplicates) &amp;&amp; (<span class="hljs-keyword">this</span>._isDuplicate(targetOptions, soption.value)))
                <span class="hljs-keyword">continue</span>;
            option = <span class="hljs-keyword">new</span> Option(label, sourceOptions[selectedIds[i]].value);
            option.cl = label;
            option.style.color = sourceOptions[selectedIds[i]].style.color;
            targetOptions[targetOptions.length] = option;
            targetOptions[targetOptions.length - <span class="hljs-number">1</span>].selected = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (!copyFlag) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = selectedIds.length - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">-1</span>; i--)
                sourceSelect.remove(selectedIds[i]);
        }
        <span class="hljs-keyword">this</span>.evenOddColorize();
        <span class="hljs-keyword">if</span> (targetSelect[<span class="hljs-string">"onchange"</span>])
            targetSelect.onchange();
        <span class="hljs-keyword">if</span> (sourceSelect[<span class="hljs-string">"onchange"</span>])
            sourceSelect.onchange();
        sourceSelect.disabled = <span class="hljs-literal">true</span>;
        sourceSelect.disabled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (selectedIds.length &gt; <span class="hljs-number">0</span> &amp;&amp; !<span class="hljs-keyword">this</span>.isTemplating) {
            targetSelect.focus();
        }
        <span class="hljs-keyword">var</span> rightElem = [gel(<span class="hljs-keyword">this</span>.id + <span class="hljs-string">"_right"</span>).options];
        <span class="hljs-keyword">if</span> (rightElem[<span class="hljs-number">0</span>].length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> e = gel(<span class="hljs-keyword">this</span>.id);
            <span class="hljs-keyword">var</span> newVal = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>;
            <span class="hljs-keyword">var</span> rightElementOptions = rightElem[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rightElementOptions.length; i++)
                newVal[i] = rightElementOptions[i].value;
            <span class="hljs-keyword">var</span> newVal = newVal.join(<span class="hljs-string">','</span>);
            <span class="hljs-keyword">var</span> oldValue = e.value;
            <span class="hljs-keyword">if</span> (oldValue != newVal) {
                e.value = newVal;
                multiModified(e);
            }
        } <span class="hljs-keyword">else</span> {
            gel(<span class="hljs-keyword">this</span>.id).value = <span class="hljs-string">""</span>;
        }
    },
    <span class="hljs-attr">moveUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        sourceSelect = <span class="hljs-keyword">this</span>.getRightSelect();
        <span class="hljs-keyword">var</span> selectedIds = <span class="hljs-keyword">this</span>.getSelected(sourceSelect);
        <span class="hljs-keyword">var</span> options = sourceSelect.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; selectedIds.length; i++) {
            <span class="hljs-keyword">var</span> selId = selectedIds[i];
            <span class="hljs-keyword">if</span> (selId == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[<span class="hljs-string">'privateMoveUp'</span>])
                privateMoveUp(options, selId);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.swap(options[selId], options[selId - <span class="hljs-number">1</span>]);
            options[selId].selected = <span class="hljs-literal">false</span>;
            options[selId - <span class="hljs-number">1</span>].selected = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">this</span>.evenOddColorize();
        sourceSelect.focus();
        <span class="hljs-keyword">if</span> (sourceSelect[<span class="hljs-string">"onLocalMoveUp"</span>])
            sourceSelect.onLocalMoveUp();

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetFields</span>(<span class="hljs-params"></span>) </span>{
            sourceSelect.removeAttribute(<span class="hljs-string">"multiple"</span>);
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                sourceSelect.setAttribute(<span class="hljs-string">"multiple"</span>, <span class="hljs-string">"multiple"</span>);
                $(sourceSelect).stopObserving(<span class="hljs-string">'click'</span>, resetFields);
            });
        }
        <span class="hljs-keyword">if</span> (isMSIE8 || isMSIE9 || isMSIE10 || isMSIE11)
            $(sourceSelect).observe(<span class="hljs-string">'click'</span>, resetFields);
    },
    <span class="hljs-attr">moveDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> sourceSelect = <span class="hljs-keyword">this</span>.getRightSelect();
        <span class="hljs-keyword">var</span> selectedIds = <span class="hljs-keyword">this</span>.getSelected(sourceSelect);
        selectedIds.reverse();
        <span class="hljs-keyword">var</span> options = sourceSelect.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; selectedIds.length; i++) {
            <span class="hljs-keyword">var</span> selId = selectedIds[i];
            <span class="hljs-keyword">if</span> (selId + <span class="hljs-number">1</span> == options.length)
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>[<span class="hljs-string">'privateMoveDown'</span>])
                privateMoveDown(options, selId);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.swap(options[selId], options[selId + <span class="hljs-number">1</span>]);
            options[selId].selected = <span class="hljs-literal">false</span>;
            options[selId + <span class="hljs-number">1</span>].selected = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">this</span>.evenOddColorize();
        sourceSelect.focus();
        <span class="hljs-keyword">if</span> (sourceSelect[<span class="hljs-string">"onLocalMoveDown"</span>])
            sourceSelect.onLocalMoveDown();

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetFields</span>(<span class="hljs-params"></span>) </span>{
            sourceSelect.removeAttribute(<span class="hljs-string">"multiple"</span>);
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                sourceSelect.setAttribute(<span class="hljs-string">"multiple"</span>, <span class="hljs-string">"multiple"</span>);
                $(sourceSelect).stopObserving(<span class="hljs-string">'click'</span>, resetFields);
            });
        }
        <span class="hljs-keyword">if</span> (isMSIE8 || isMSIE9 || isMSIE10 || isMSIE11)
            $(sourceSelect).observe(<span class="hljs-string">'click'</span>, resetFields);
    },
    <span class="hljs-attr">swap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">option1, option2</span>) </span>{
        <span class="hljs-keyword">if</span> (!option2)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> t = $j(option1).clone();
        t = t[<span class="hljs-number">0</span>];
        t.text = option1.text;
        option1.value = option2.value;
        option1.text = option2.text;
        option2.value = t.value;
        option2.text = t.text;
    },
    <span class="hljs-attr">evenOddColorize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.evenOddColoring)
            <span class="hljs-keyword">return</span>;
        rightSelect = <span class="hljs-keyword">this</span>.getRightSelect();
        <span class="hljs-keyword">if</span> (rightSelect.length &lt; <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> options = rightSelect.options;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rightSelect.length; i++) {
            <span class="hljs-keyword">if</span> ((i % <span class="hljs-number">2</span>) == <span class="hljs-number">0</span>)
                rightSelect.options[i].style.background = <span class="hljs-string">"white"</span>;
            <span class="hljs-keyword">else</span>
                rightSelect.options[i].style.background = <span class="hljs-string">"#dddddd"</span>;
        }
    },
    <span class="hljs-attr">_isDuplicate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options, value</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; options.length; i++) {
            <span class="hljs-keyword">if</span> (options[i].value == value)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"SlushBucket"</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"Slushbucket"</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXCompleter.js */</span>
<span class="hljs-keyword">var</span> AJAXCompleter = Class.create({
    <span class="hljs-attr">KEY_BACKSPACE</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">KEY_TAB</span>: <span class="hljs-number">9</span>,
    <span class="hljs-attr">KEY_RETURN</span>: <span class="hljs-number">13</span>,
    <span class="hljs-attr">KEY_ESC</span>: <span class="hljs-number">27</span>,
    <span class="hljs-attr">KEY_LEFT</span>: <span class="hljs-number">37</span>,
    <span class="hljs-attr">KEY_UP</span>: <span class="hljs-number">38</span>,
    <span class="hljs-attr">KEY_RIGHT</span>: <span class="hljs-number">39</span>,
    <span class="hljs-attr">KEY_DOWN</span>: <span class="hljs-number">40</span>,
    <span class="hljs-attr">KEY_DELETE</span>: <span class="hljs-number">46</span>,
    <span class="hljs-attr">KEY_HOME</span>: <span class="hljs-number">36</span>,
    <span class="hljs-attr">KEY_END</span>: <span class="hljs-number">35</span>,
    <span class="hljs-attr">KEY_PAGEUP</span>: <span class="hljs-number">33</span>,
    <span class="hljs-attr">KEY_PAGEDOWN</span>: <span class="hljs-number">34</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, elementName</span>) </span>{
        <span class="hljs-keyword">this</span>.guid = guid();
        <span class="hljs-keyword">this</span>.className = <span class="hljs-string">"AJAXCompleter"</span>;
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.elementName = elementName;
        <span class="hljs-keyword">this</span>.field = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.menuBorderSize = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.resetSelected();
        <span class="hljs-keyword">this</span>.ieIFrameAdjust = <span class="hljs-number">4</span>;
        <span class="hljs-keyword">this</span>.initDropDown();
        <span class="hljs-keyword">this</span>.initIFrame();
    },
    <span class="hljs-attr">initDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> dd = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (!dd) {
            dd = cel(<span class="hljs-string">"div"</span>);
            dd.id = <span class="hljs-keyword">this</span>.name;
            dd.className = <span class="hljs-string">"ac_dropdown"</span>;
            dd.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'listbox'</span>);
            <span class="hljs-keyword">var</span> style = dd.style;
            style.border = <span class="hljs-string">"black "</span> + <span class="hljs-keyword">this</span>.menuBorderSize + <span class="hljs-string">"px solid"</span>;
            <span class="hljs-keyword">this</span>._setCommonStyles(style);
            style.backgroundColor = <span class="hljs-string">"white"</span>;
            style.zIndex = <span class="hljs-number">20000</span>;
        }
        <span class="hljs-keyword">this</span>.dropDown = $(dd);
        addChild(dd);
        <span class="hljs-keyword">this</span>.clearDropDown();
        <span class="hljs-keyword">this</span>.currentMenuItems = [];
        <span class="hljs-keyword">this</span>.currentMenuCount = <span class="hljs-keyword">this</span>.currentMenuItems.length;
    },
    <span class="hljs-attr">initIFrame</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> iFrame = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_shim"</span>);
        <span class="hljs-keyword">if</span> (!iFrame) {
            iFrame = cel(<span class="hljs-string">"iframe"</span>);
            iFrame.name = <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_shim"</span>;
            iFrame.scrolling = <span class="hljs-string">"no"</span>;
            iFrame.frameborder = <span class="hljs-string">"no"</span>;
            iFrame.src = <span class="hljs-string">"javascript:false;"</span>;
            iFrame.id = <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_shim"</span>;
            <span class="hljs-keyword">var</span> style = iFrame.style;
            style.height = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>._setCommonStyles(style);
            style.zIndex = <span class="hljs-keyword">this</span>.dropDown.style.zIndex - <span class="hljs-number">1</span>;
            addChild(iFrame);
        }
        <span class="hljs-keyword">this</span>.iFrame = $(iFrame);
    },
    <span class="hljs-attr">_setCommonStyles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">style</span>) </span>{
        style.padding = <span class="hljs-number">1</span>;
        style.visibility = <span class="hljs-string">"hidden"</span>;
        style.display = <span class="hljs-string">"none"</span>;
        style.position = <span class="hljs-string">"absolute"</span>;
    },
    <span class="hljs-attr">setWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">w</span>) </span>{
        <span class="hljs-keyword">this</span>.dropDown.style.width = w + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">this</span>.iFrame.style.width = w + <span class="hljs-string">"px"</span>;
    },
    <span class="hljs-attr">setHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">height</span>) </span>{
        <span class="hljs-keyword">this</span>.dropDown.height = height;
        <span class="hljs-keyword">if</span> (g_isInternetExplorer)
            height += <span class="hljs-keyword">this</span>.ieIFrameAdjust;
        <span class="hljs-keyword">this</span>._setIframeHeight(height);
    },
    <span class="hljs-attr">_setIframeHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">height</span>) </span>{
        <span class="hljs-keyword">this</span>.iFrame.style.height = height;
    },
    <span class="hljs-attr">resetSelected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.selectedItemObj = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.selectedItemNum = <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">clearDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hideDropDown();
        <span class="hljs-keyword">var</span> dropDown = <span class="hljs-keyword">this</span>.dropDown;
        <span class="hljs-keyword">while</span> (dropDown.childNodes.length &gt; <span class="hljs-number">0</span>)
            dropDown.removeChild(dropDown.childNodes[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">this</span>.currentMenuItems = [];
        <span class="hljs-keyword">this</span>.currentMenuCount = <span class="hljs-keyword">this</span>.currentMenuItems.length;
        <span class="hljs-keyword">this</span>._setInactive();
    },
    <span class="hljs-attr">_setActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.g_active_ac = <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">_setInactive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.g_active_ac = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">hideDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dropDown.style.visibility == <span class="hljs-string">"hidden"</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._showHide(<span class="hljs-string">"hidden"</span>, <span class="hljs-string">"none"</span>);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'false'</span>);
        <span class="hljs-keyword">this</span>.resetSelected();
    },
    <span class="hljs-attr">onDisplayDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">showDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dropDown.style.visibility == <span class="hljs-string">"visible"</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._showHide(<span class="hljs-string">"visible"</span>, <span class="hljs-string">"inline"</span>);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">this</span>.onDisplayDropDown();
    },
    <span class="hljs-attr">_showHide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, display</span>) </span>{
        <span class="hljs-keyword">this</span>.dropDown.style.visibility = type;
        <span class="hljs-keyword">this</span>.iFrame.style.visibility = type;
        <span class="hljs-keyword">this</span>.dropDown.style.display = display;
        <span class="hljs-keyword">this</span>.iFrame.style.display = display;
    },
    <span class="hljs-attr">isVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dropDown.style.visibility == <span class="hljs-string">"visible"</span>;
    },
    <span class="hljs-attr">appendElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.getDropDown().appendChild(element);
    },
    <span class="hljs-attr">appendItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">this</span>.appendElement(item);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentMenuItems == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">this</span>.currentMenuItems = [];
        item.acItemNumber = <span class="hljs-keyword">this</span>.currentMenuItems.length;
        <span class="hljs-keyword">this</span>.currentMenuItems.push(item);
        <span class="hljs-keyword">this</span>.currentMenuCount = <span class="hljs-keyword">this</span>.currentMenuItems.length;
    },
    <span class="hljs-attr">selectNext</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> itemNumber = <span class="hljs-keyword">this</span>.selectedItemNum;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &lt; <span class="hljs-keyword">this</span>.getMenuCount() - <span class="hljs-number">1</span>)
            itemNumber++;
        <span class="hljs-keyword">this</span>.setSelection(itemNumber);
    },
    <span class="hljs-attr">selectPrevious</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> itemNumber = <span class="hljs-keyword">this</span>.selectedItemNum;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &lt;= <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        itemNumber--;
        <span class="hljs-keyword">this</span>.setSelection(itemNumber);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">unsetSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.setNonSelectedStyle(<span class="hljs-keyword">this</span>.selectedItemObj);
        <span class="hljs-keyword">this</span>.resetSelected();
    },
    <span class="hljs-attr">setSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemNumber</span>) </span>{
        <span class="hljs-keyword">this</span>.unsetSelection();
        <span class="hljs-keyword">this</span>.selectItem(itemNumber);
        <span class="hljs-keyword">this</span>.setSelectedStyle(<span class="hljs-keyword">this</span>.selectedItemObj);
    },
    <span class="hljs-attr">selectItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemNumber</span>) </span>{
        <span class="hljs-keyword">this</span>.selectedItemNum = itemNumber;
        <span class="hljs-keyword">this</span>.selectedItemObj = <span class="hljs-keyword">this</span>.currentMenuItems[itemNumber];
    },
    <span class="hljs-attr">getMenuItems</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.currentMenuItems;
    },
    <span class="hljs-attr">getObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemNumber</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.currentMenuItems[itemNumber];
    },
    <span class="hljs-attr">getSelectedObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getObject(<span class="hljs-keyword">this</span>.selectedItemNum);
    },
    <span class="hljs-attr">setSelectedStyle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        $(element).addClassName(<span class="hljs-string">"ac_highlight"</span>);
        element.setAttribute(<span class="hljs-string">'aria-selected'</span>, <span class="hljs-string">'true'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> element.displaySpan != <span class="hljs-string">"undefined"</span>) {
            alert(<span class="hljs-string">"element.displaySpan.style.color"</span>);
            element.displaySpan.style.color = <span class="hljs-string">"white"</span>;
        }
    },
    <span class="hljs-attr">setNonSelectedStyle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        $(element).removeClassName(<span class="hljs-string">"ac_highlight"</span>);
        element.removeAttribute(<span class="hljs-string">'aria-selected'</span>);
        <span class="hljs-keyword">if</span> (element.displaySpan)
            element.displaySpan.style.color = <span class="hljs-string">"green"</span>;
    },
    <span class="hljs-attr">setTargetTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">targetTable</span>) </span>{
        <span class="hljs-keyword">this</span>.targetTable = targetTable;
    },
    <span class="hljs-attr">getTargetTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.targetTable;
    },
    <span class="hljs-attr">isPopulated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMenuCount() &gt; <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">log</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        jslog(<span class="hljs-keyword">this</span>.className + <span class="hljs-string">": "</span> + msg);
    },
    <span class="hljs-attr">getIFrame</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.iFrame;
    },
    <span class="hljs-attr">getField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.field;
    },
    <span class="hljs-attr">getDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dropDown;
    },
    <span class="hljs-attr">getMenuCount</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.currentMenuCount;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXReferenceControls.js */</span>
<span class="hljs-keyword">var</span> AJAXReferenceControls = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableElement, id, parentElement, refSysId, rowSysId, refQualTag</span>) </span>{
        <span class="hljs-keyword">this</span>.refName = id;
        <span class="hljs-keyword">this</span>.id = <span class="hljs-string">"LIST_EDIT_"</span> + id;
        <span class="hljs-keyword">this</span>.tableElement = tableElement;
        <span class="hljs-keyword">this</span>.dependent = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refQual = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.refImageFocused = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.refSysId = refSysId;
        <span class="hljs-keyword">this</span>.rowSysId = rowSysId;
        <span class="hljs-keyword">this</span>.createAdditionalValues(refQualTag);
        <span class="hljs-keyword">this</span>.createInput(parentElement);
        <span class="hljs-keyword">this</span>.createLookup(parentElement);
        <span class="hljs-keyword">this</span>.createInputGroup(parentElement);
        <span class="hljs-keyword">this</span>.createDependent(parentElement);
    },
    <span class="hljs-attr">clearDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ac)
            <span class="hljs-keyword">this</span>.ac.clearDropDown();
    },
    <span class="hljs-attr">createAdditionalValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refQualTag</span>) </span>{
        <span class="hljs-keyword">this</span>.additionalValues = {};
        <span class="hljs-keyword">this</span>.additionalValues.sys_uniqueValue = <span class="hljs-keyword">this</span>.rowSysId;
        <span class="hljs-keyword">this</span>.additionalValues.sys_target = <span class="hljs-keyword">this</span>.tableElement.getTable().getName();
        <span class="hljs-keyword">this</span>.additionalValues.sysparm_list_edit_ref_qual_tag = refQualTag;
    },
    <span class="hljs-attr">createInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parentElement</span>) </span>{
        <span class="hljs-keyword">var</span> doctype = <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>);
        <span class="hljs-keyword">this</span>._createHidden(parentElement, <span class="hljs-keyword">this</span>.id, <span class="hljs-string">''</span>);
        <span class="hljs-keyword">this</span>.input = cel(<span class="hljs-string">"input"</span>, parentElement);
        input = <span class="hljs-keyword">this</span>.input;
        <span class="hljs-keyword">if</span> (doctype)
            input.className = <span class="hljs-string">'form-control list-edit-input'</span>;
        input.id = <span class="hljs-string">"sys_display."</span> + <span class="hljs-keyword">this</span>.id;
        input.onfocus = <span class="hljs-keyword">this</span>._onFocus.bind(<span class="hljs-keyword">this</span>);
        input.onkeydown = <span class="hljs-keyword">this</span>._onKeyDown.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeypress = <span class="hljs-keyword">this</span>._onKeyPress.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.onkeyup = <span class="hljs-keyword">this</span>._onKeyUp.bindAsEventListener(<span class="hljs-keyword">this</span>);
        input.autocomplete = <span class="hljs-string">"off"</span>;
        input.ac_columns = <span class="hljs-string">""</span>;
        input.ac_order_by = <span class="hljs-string">""</span>;
        input.setAttribute(<span class="hljs-string">"data-ref-dynamic"</span>, <span class="hljs-keyword">this</span>.tableElement.isDynamicCreation());
    },
    <span class="hljs-attr">resolveReference</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ac)
            <span class="hljs-keyword">this</span>.ac.onBlur();
    },
    <span class="hljs-attr">setDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.input.value = value;
    },
    <span class="hljs-attr">getInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.input;
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> gel(<span class="hljs-keyword">this</span>.id).value;
    },
    <span class="hljs-attr">getDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.input.value;
    },
    <span class="hljs-attr">isResolving</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.ac &amp;&amp; <span class="hljs-keyword">this</span>.ac.isResolving());
    },
    <span class="hljs-attr">isReferenceValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ac) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.ac.isReferenceValid();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setResolveCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.ac)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.ac.setResolveCallback(f);
    },
    <span class="hljs-attr">setReferenceQual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refQual</span>) </span>{
        <span class="hljs-keyword">this</span>.refQual = refQual;
    },
    <span class="hljs-attr">createLookup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent</span>) </span>{
        <span class="hljs-keyword">var</span> doctype = <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>);
        <span class="hljs-keyword">var</span> image = $(createImage(<span class="hljs-string">"images/reference_list.gifx"</span>, <span class="hljs-string">"Lookup using list"</span>));
        <span class="hljs-keyword">if</span> (doctype)
            image = $(createIcon(<span class="hljs-string">"icon-search"</span>));
        image.width = <span class="hljs-number">18</span>;
        image.height = <span class="hljs-number">16</span>;
        image.id = <span class="hljs-string">"ref_list."</span> + <span class="hljs-keyword">this</span>.id;
        image.observe(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">this</span>._refListOpen.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_accessibility) {
            image.observe(<span class="hljs-string">"keydown"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
                <span class="hljs-keyword">if</span> (evt &amp;&amp; evt.keyCode == Event.KEY_RETURN) {
                    evt.stop();
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._refListOpen(evt);
                }
            }.bind(<span class="hljs-keyword">this</span>));
        }
        image.style.marginLeft = <span class="hljs-string">"5px"</span>;
        image.setAttribute(<span class="hljs-string">"tabindex"</span>, <span class="hljs-number">0</span>);
        image.setAttribute(<span class="hljs-string">"role"</span>, <span class="hljs-string">"button"</span>);
        <span class="hljs-keyword">if</span> (doctype)
            image = image.wrap(<span class="hljs-string">'span'</span>, {
                <span class="hljs-string">'class'</span>: <span class="hljs-string">'input-group-addon'</span>,
                <span class="hljs-string">'id'</span>: <span class="hljs-string">'list-edit-span'</span>
            });
        parent.appendChild(image);
    },
    <span class="hljs-attr">createDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tableElement.isDependent())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> input = cel(<span class="hljs-string">"input"</span>);
        input.type = <span class="hljs-string">"hidden"</span>;
        <span class="hljs-keyword">this</span>.dependent = <span class="hljs-string">"sys_dependent"</span>;
        input.id = <span class="hljs-keyword">this</span>.tableElement.getTable().getName() + <span class="hljs-string">"."</span> + <span class="hljs-keyword">this</span>.dependent;
        input.name = input.id;
        parent.appendChild(input);
        <span class="hljs-keyword">this</span>.dependentInput = input;
    },
    <span class="hljs-attr">createInputGroup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) != <span class="hljs-string">'true'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> divInputGroup = $(<span class="hljs-string">'sys_display.'</span> + <span class="hljs-keyword">this</span>.id).wrap(<span class="hljs-string">'div'</span>, {
            <span class="hljs-string">'class'</span>: <span class="hljs-string">'input-group'</span>,
            <span class="hljs-string">'style'</span>: <span class="hljs-string">'border-spacing:0'</span>
        });
        <span class="hljs-keyword">var</span> referenceIcon = $(<span class="hljs-string">'list-edit-span'</span>)
        $(<span class="hljs-string">'list-edit-span'</span>).remove();
        divInputGroup.appendChild(referenceIcon);
    },
    <span class="hljs-attr">setRecord</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">record</span>) </span>{
        <span class="hljs-keyword">this</span>.record = record;
    },
    <span class="hljs-attr">_createHidden</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent, id, value</span>) </span>{
        <span class="hljs-keyword">var</span> input = cel(<span class="hljs-string">"input"</span>);
        input.type = <span class="hljs-string">"hidden"</span>;
        input.id = id;
        input.value = value;
        parent.appendChild(input);
        <span class="hljs-keyword">return</span> input;
    },
    <span class="hljs-attr">_setDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dependent == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">this</span>.record.getValue(<span class="hljs-keyword">this</span>.tableElement.getDependent());
        <span class="hljs-keyword">if</span> (<span class="hljs-string">'NULL'</span> === value)
            <span class="hljs-keyword">this</span>.dependentInput.value = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.dependentInput.value = value;
    },
    <span class="hljs-attr">_onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ac)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._setDependent();
        <span class="hljs-keyword">var</span> dep = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dependentInput)
            dep = <span class="hljs-string">"sys_dependent"</span>;
        <span class="hljs-keyword">var</span> referenceValid = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.record &amp;&amp; <span class="hljs-keyword">this</span>.record.isReferenceValid)
            referenceValid = <span class="hljs-keyword">this</span>.record.isReferenceValid();
        <span class="hljs-keyword">this</span>.ac = <span class="hljs-keyword">new</span> AJAXTableCompleter(<span class="hljs-keyword">this</span>.input, <span class="hljs-keyword">this</span>.id, dep, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, referenceValid);
        <span class="hljs-keyword">this</span>.ac.elementName = <span class="hljs-keyword">this</span>.refName;
        <span class="hljs-keyword">this</span>.ac.setRefQual(<span class="hljs-keyword">this</span>.refQual);
        <span class="hljs-keyword">this</span>.ac.referenceSelect(<span class="hljs-keyword">this</span>.refSysId, <span class="hljs-keyword">this</span>.input.value, !referenceValid);
        <span class="hljs-keyword">this</span>.ac.clearDerivedFields = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.additionalValues)
            <span class="hljs-keyword">this</span>.ac.setAdditionalValue(n, <span class="hljs-keyword">this</span>.additionalValues[n]);
    },
    <span class="hljs-attr">_onKeyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        acReferenceKeyDown(<span class="hljs-keyword">this</span>.input, evt);
    },
    <span class="hljs-attr">_onKeyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        acReferenceKeyPress(<span class="hljs-keyword">this</span>.input, evt);
    },
    <span class="hljs-attr">_onKeyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        acReferenceKeyUp(<span class="hljs-keyword">this</span>.input, evt);
    },
    <span class="hljs-attr">_refListOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> te = <span class="hljs-keyword">this</span>.tableElement;
        <span class="hljs-keyword">this</span>._setDependent();
        <span class="hljs-keyword">var</span> url = reflistOpenUrl(<span class="hljs-keyword">this</span>.refName, <span class="hljs-keyword">this</span>.id, te.getName(), te.getReference());
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.additionalValues)
            url += <span class="hljs-string">"&amp;"</span> + n + <span class="hljs-string">"="</span> + encodeText(<span class="hljs-keyword">this</span>.additionalValues[n]);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dependentInput)
            url += <span class="hljs-string">"&amp;sysparm_dependent="</span> + <span class="hljs-built_in">escape</span>(<span class="hljs-keyword">this</span>.dependentInput.value);
        popupOpenStandard(url, <span class="hljs-string">"lookup"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"AJAXReferenceControls"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXOtherCompleter.js */</span>
<span class="hljs-keyword">var</span> AJAXOtherCompleter = Class.create(AJAXCompleter, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, reference</span>) </span>{
        AJAXCompleter.prototype.initialize.call(<span class="hljs-keyword">this</span>, <span class="hljs-string">'AC.'</span> + reference, reference);
        <span class="hljs-keyword">this</span>.className = <span class="hljs-string">"AJAXReferenceCompleter"</span>;
        <span class="hljs-keyword">this</span>.dirty = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.matched = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.fieldChanged = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.ignoreAJAX = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.type = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.refField = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.textValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.invisibleTextValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.savedTextValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.savedInvisibleTextValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.previousTextValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.resultsStorage = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.emptyResults = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>.oldFunctionJunk();
    },
    <span class="hljs-attr">setInvisibleField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.iField = f;
        <span class="hljs-keyword">this</span>._setAC(f);
    },
    <span class="hljs-attr">setField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.field = f;
        <span class="hljs-keyword">this</span>.field.autocomplete = <span class="hljs-string">"off"</span>;
        <span class="hljs-keyword">this</span>._setAC(f);
    },
    <span class="hljs-attr">setUpdateField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.updateField = f;
        <span class="hljs-keyword">this</span>._setAC(f);
    },
    <span class="hljs-attr">_setAC</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field</span>) </span>{
        <span class="hljs-keyword">if</span> (field)
            field.ac = <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">setType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) </span>{
        <span class="hljs-keyword">this</span>.type = type;
    },
    <span class="hljs-attr">setSavedText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">textArray</span>) </span>{
        <span class="hljs-keyword">if</span> (textArray[<span class="hljs-number">0</span>] != <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">this</span>.savedInvisibleTextValue = textArray[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.savedTextValue = textArray[<span class="hljs-number">1</span>];
    },
    <span class="hljs-attr">getMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getDropDown();
    },
    <span class="hljs-attr">getUpdateField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.updateField;
    },
    <span class="hljs-attr">oldFunctionJunk</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.isOTM = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.type == ONE_TO_MANY;
        };
        <span class="hljs-keyword">this</span>.getInvisibleField = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.iField;
        };
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXReferenceCompleter.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acReferenceKeyDown</span>(<span class="hljs-params">element, evt</span>) </span>{
    <span class="hljs-keyword">if</span> (!element.ac || element.getAttribute(<span class="hljs-string">'readonly'</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> element.ac.keyDown(evt);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acReferenceKeyPress</span>(<span class="hljs-params">element, evt</span>) </span>{
    <span class="hljs-keyword">if</span> (!element.ac || element.getAttribute(<span class="hljs-string">'readonly'</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> rv = element.ac.keyPress(evt);
    <span class="hljs-keyword">if</span> (rv == <span class="hljs-literal">false</span>)
        evt.cancelBubble = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> rv;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">acReferenceKeyUp</span>(<span class="hljs-params">element, evt</span>) </span>{
    <span class="hljs-keyword">if</span> (!element.ac || element.getAttribute(<span class="hljs-string">'readonly'</span>))
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">return</span> element.ac.keyUp(evt);
}
addRenderEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> statusEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'ac.status'</span>);
    <span class="hljs-keyword">if</span> (!statusEl) {
        statusEl = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'span'</span>);
        statusEl.id = <span class="hljs-string">'ac.status'</span>;
        statusEl.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'status'</span>);
        statusEl.setAttribute(<span class="hljs-string">'aria-live'</span>, <span class="hljs-string">'polite'</span>);
        statusEl.classList.add(<span class="hljs-string">'sr-only'</span>);
        <span class="hljs-built_in">document</span>.body.appendChild(statusEl);
    }
})
<span class="hljs-keyword">var</span> AJAXReferenceCompleter = Class.create(AJAXCompleter, {
    <span class="hljs-attr">PROCESSOR</span>: <span class="hljs-string">"Reference"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, reference, dependentReference, refQualElements, targetTable, referenceValid</span>) </span>{
        AJAXCompleter.prototype.initialize.call(<span class="hljs-keyword">this</span>, <span class="hljs-string">'AC.'</span> + reference, reference);
        <span class="hljs-keyword">this</span>.className = <span class="hljs-string">"AJAXReferenceCompleter"</span>;
        <span class="hljs-keyword">this</span>.element = $(element);
        <span class="hljs-keyword">this</span>.keyElement = gel(reference);
        <span class="hljs-keyword">this</span>.setDependent(dependentReference);
        <span class="hljs-keyword">this</span>.setRefQualElements(refQualElements);
        <span class="hljs-keyword">this</span>.setTargetTable(targetTable);
        <span class="hljs-keyword">this</span>.additionalValues = {};
        CustomEvent.observe(<span class="hljs-string">'domain_scope_changed'</span>, <span class="hljs-keyword">this</span>.cacheClear.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>._commonSetup();
        <span class="hljs-keyword">this</span>.oneMatchSelects = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.clearDerivedFields = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.allowInvalid = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">'allow_invalid'</span>) == <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">this</span>.dynamicCreate = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">'data-ref-dynamic'</span>) == <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">this</span>.isList = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">'islist'</span>) == <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.simpleQualifier)
            <span class="hljs-keyword">this</span>.refQual = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.isFilterUsingContains = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">'is_filter_using_contains'</span>) == <span class="hljs-string">'true'</span>;
        <span class="hljs-keyword">this</span>.referenceValid = referenceValid;
    },
    <span class="hljs-attr">_commonSetup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.element.ac = <span class="hljs-keyword">this</span>;
        Event.observe(<span class="hljs-keyword">this</span>.element, <span class="hljs-string">'blur'</span>, <span class="hljs-keyword">this</span>.onBlurEvent.bind(<span class="hljs-keyword">this</span>));
        Event.observe(<span class="hljs-keyword">this</span>.element, <span class="hljs-string">'focus'</span>, <span class="hljs-keyword">this</span>.onFocus.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.saveKeyValue = <span class="hljs-keyword">this</span>.getKeyValue();
        <span class="hljs-keyword">this</span>.currentDisplayValue = <span class="hljs-keyword">this</span>.getDisplayValue();
        <span class="hljs-keyword">this</span>.searchChars = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.rowCount = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.ignoreFocusEvent = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.max = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.cacheClear();
        <span class="hljs-keyword">this</span>.hasFocus = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> f = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">"function"</span>);
        <span class="hljs-keyword">if</span> (f)
            <span class="hljs-keyword">this</span>.selectionCallBack = f;
        addUnloadEvent(<span class="hljs-keyword">this</span>.destroy.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>._setupAccessibility();
        <span class="hljs-keyword">this</span>._setUpDocMouseDown();
    },
    <span class="hljs-attr">isResolving</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.isResolvingFlag;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.element = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.keyElement = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">keyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (typedChar == KEY_ARROWUP) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.selectPrevious())
                <span class="hljs-keyword">this</span>.hideDropDown();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typedChar == KEY_ARROWDOWN) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isVisible()) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isPopulated())
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">this</span>.showDropDown();
            }
            <span class="hljs-keyword">this</span>.selectNext();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typedChar == KEY_TAB &amp;&amp; !<span class="hljs-built_in">window</span>.g_accessibility) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasDropDown() &amp;&amp; <span class="hljs-keyword">this</span>.select())
                <span class="hljs-keyword">this</span>.clearTimeout();
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.onBlur();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typedChar == KEY_TAB &amp;&amp; <span class="hljs-built_in">window</span>.g_accessibility) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.searchChars &amp;&amp; <span class="hljs-keyword">this</span>.searchChars != <span class="hljs-keyword">this</span>.currentDisplayValue)
                <span class="hljs-keyword">this</span>.element.value = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.clearDropDown();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typedChar == KEY_ESC) {
            <span class="hljs-keyword">this</span>.element.value = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">this</span>.clearDropDown();
        }
    },
    <span class="hljs-attr">keyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isDeleteKey(typedChar))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.clearTimeout();
        <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_acWaitTime || <span class="hljs-number">50</span>);
    },
    <span class="hljs-attr">setSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">itemNumber</span>) </span>{
        AJAXCompleter.prototype.setSelection.call(<span class="hljs-keyword">this</span>, itemNumber);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-activedescendant'</span>, <span class="hljs-keyword">this</span>.selectedItemObj.id);
        <span class="hljs-keyword">this</span>.setStatus(<span class="hljs-keyword">this</span>.selectedItemObj.innerText);
        <span class="hljs-keyword">this</span>.selectedItemObj.setAttribute(<span class="hljs-string">'aria-selected'</span>, <span class="hljs-string">'true'</span>);
    },
    <span class="hljs-attr">_handleDeleteKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">clearTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer != <span class="hljs-literal">null</span>)
            clearTimeout(<span class="hljs-keyword">this</span>.timer);
        <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">keyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">eventArg</span>) </span>{
        <span class="hljs-keyword">var</span> evt = getEvent(eventArg);
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (typedChar != KEY_ENTER &amp;&amp; typedChar != KEY_RETURN)
            <span class="hljs-keyword">this</span>.clearTimeout();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isNavigation(typedChar))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!evt.shiftKey &amp;&amp; (typedChar == KEY_ARROWDOWN || typedChar == KEY_ARROWUP))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDeleteKey(typedChar))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == KEY_ENTER || typedChar == KEY_RETURN) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasDropDown() &amp;&amp; <span class="hljs-keyword">this</span>.select())
                <span class="hljs-keyword">this</span>.clearTimeout();
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.onBlur();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.enterSubmits) {
                <span class="hljs-keyword">this</span>.element.setValue(trim(<span class="hljs-keyword">this</span>.element.getValue()));
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_ESC) {
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_acWaitTime || <span class="hljs-number">50</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isNavigation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">typedChar</span>) </span>{
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_TAB)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_LEFT)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_RIGHT)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isDeleteKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">typedChar</span>) </span>{
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_BACKSPACE || typedChar == <span class="hljs-keyword">this</span>.KEY_DELETE)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_getSearchChars</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._checkDoubleByteEncodedCharacter(<span class="hljs-keyword">this</span>.getDisplayValue()))
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._translateDoubleByteIntoSingleByte(<span class="hljs-keyword">this</span>.getDisplayValue());
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getDisplayValue();
    },
    <span class="hljs-attr">_checkDoubleByteEncodedCharacter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> s === <span class="hljs-string">'undefined'</span> || s.length === <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> char = s.charCodeAt(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">return</span> char === <span class="hljs-number">12288</span> || (<span class="hljs-number">65280</span> &lt; char &amp;&amp; char &lt; <span class="hljs-number">65375</span>);
    },
    <span class="hljs-attr">_translateDoubleByteIntoSingleByte</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">var</span> str = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = s.length, char; i &lt; l; i++) {
            char = s.charCodeAt(i);
            <span class="hljs-keyword">if</span> (char == <span class="hljs-number">12288</span>)
                str += <span class="hljs-built_in">String</span>.fromCharCode(<span class="hljs-number">32</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-number">65280</span> &lt; char &amp;&amp; char &lt; <span class="hljs-number">65375</span>)
                str += <span class="hljs-built_in">String</span>.fromCharCode(char - <span class="hljs-number">65248</span>);
            <span class="hljs-keyword">else</span>
                str += s[i];
        }
        <span class="hljs-keyword">return</span> str;
    },
    <span class="hljs-attr">ajaxRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>._getSearchChars();
        <span class="hljs-keyword">if</span> (s.length == <span class="hljs-number">0</span> &amp;&amp; !<span class="hljs-keyword">this</span>.isDoctype()) {
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">this</span>.searchChars = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (s == <span class="hljs-string">"*"</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.searchChars = s;
        <span class="hljs-keyword">var</span> xml = <span class="hljs-keyword">this</span>.cacheGet(s);
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">this</span>.processXML(xml);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cacheEmpty()) {
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">this</span>.hideDropDown();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">""</span>;
        url += <span class="hljs-keyword">this</span>.addSysParms();
        url += <span class="hljs-keyword">this</span>.addDependentValue();
        url += <span class="hljs-keyword">this</span>.addRefQualValues();
        url += <span class="hljs-keyword">this</span>.addTargetTable();
        url += <span class="hljs-keyword">this</span>.addAdditionalValues();
        url += <span class="hljs-keyword">this</span>.addAttributes(<span class="hljs-string">"ac_"</span>);
        <span class="hljs-keyword">this</span>.callAjax(url);
    },
    <span class="hljs-attr">callAjax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">url</span>) </span>{
        <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-keyword">this</span>.PROCESSOR);
        ga.setQueryString(url);
        ga.setErrorCallback(<span class="hljs-keyword">this</span>.errorResponse.bind(<span class="hljs-keyword">this</span>));
        ga.getXML(<span class="hljs-keyword">this</span>.ajaxResponse.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
    },
    <span class="hljs-attr">ajaxResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">if</span> (!response.responseXML || !response.responseXML.documentElement) {
            <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">var</span> timer = e.getAttribute(<span class="hljs-string">"sysparm_timer"</span>);
        <span class="hljs-keyword">if</span> (timer != <span class="hljs-keyword">this</span>.timer)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.clearDropDown();
        <span class="hljs-keyword">this</span>.cachePut(<span class="hljs-keyword">this</span>.searchChars, xml);
        <span class="hljs-keyword">this</span>.processXML(xml);
        <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.onResolveCallback)
            <span class="hljs-keyword">this</span>.onResolveCallback();
    },
    <span class="hljs-attr">errorResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">processXML</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">this</span>._processDoc(e);
        <span class="hljs-keyword">var</span> values = <span class="hljs-keyword">this</span>._processItems(xml);
        <span class="hljs-keyword">var</span> recents = <span class="hljs-keyword">this</span>._processRecents(xml);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasFocus) {
            <span class="hljs-keyword">this</span>._processBlurValue(values, recents);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.createDropDown(values, recents);
    },
    <span class="hljs-attr">_processItems</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">var</span> values = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> array = <span class="hljs-keyword">this</span>.copyAttributes(item);
            array[<span class="hljs-string">'XML'</span>] = item;
            values[values.length] = array;
        }
        <span class="hljs-keyword">return</span> values;
    },
    <span class="hljs-attr">_processRecents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">var</span> recents = [];
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"recent"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> rec = <span class="hljs-keyword">this</span>.copyAttributes(items[i]);
            rec.XML = items[i];
            recents.push(rec);
        }
        <span class="hljs-keyword">return</span> recents;
    },
    <span class="hljs-attr">_processBlurValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">values, recents</span>) </span>{
        <span class="hljs-keyword">this</span>.ignoreFocusEvent = <span class="hljs-literal">false</span>;
        values = values || [];
        recents = recents || [];
        <span class="hljs-keyword">if</span> (values.length + recents.length === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-keyword">this</span>.searchChars.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.setInvalid();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.oneMatchSelects || <span class="hljs-keyword">this</span>.getDisplayValue() === <span class="hljs-string">''</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> targetLabel, targetValue;
        <span class="hljs-keyword">if</span> (values.length + recents.length == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> target = recents.length == <span class="hljs-number">1</span> ? recents[<span class="hljs-number">0</span>] : values[<span class="hljs-number">0</span>];
            targetLabel = target.label;
            targetValue = target.name;
        }
        <span class="hljs-keyword">if</span> (recents[<span class="hljs-number">0</span>] &amp;&amp; recents[<span class="hljs-number">0</span>].label == <span class="hljs-keyword">this</span>.getDisplayValue()) {
            <span class="hljs-keyword">var</span> matchesRecent = recents[<span class="hljs-number">1</span>] &amp;&amp; recents[<span class="hljs-number">0</span>].label == recents[<span class="hljs-number">1</span>].label;
            <span class="hljs-keyword">var</span> matchesValue = values[<span class="hljs-number">0</span>] &amp;&amp; recents[<span class="hljs-number">0</span>].label == values[<span class="hljs-number">0</span>].label;
            <span class="hljs-keyword">if</span> (!matchesRecent &amp;&amp; !matchesValue) {
                targetLabel = recents[<span class="hljs-number">0</span>].label;
                targetValue = recents[<span class="hljs-number">0</span>].name;
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (values[<span class="hljs-number">0</span>] &amp;&amp; values[<span class="hljs-number">0</span>].label == <span class="hljs-keyword">this</span>.getDisplayValue()) {
            <span class="hljs-keyword">var</span> matchesSecondValue = values[<span class="hljs-number">1</span>] &amp;&amp; values[<span class="hljs-number">0</span>].label == values[<span class="hljs-number">1</span>].label;
            <span class="hljs-keyword">if</span> (!matchesSecondValue) {
                targetLabel = values[<span class="hljs-number">0</span>].label;
                targetValue = values[<span class="hljs-number">0</span>].name;
            }
        }
        <span class="hljs-keyword">if</span> (targetLabel)
            <span class="hljs-keyword">this</span>.referenceSelect(targetValue, targetLabel);
    },
    <span class="hljs-attr">_processDoc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc</span>) </span>{
        <span class="hljs-keyword">this</span>.rowCount = doc.getAttribute(<span class="hljs-string">'row_count'</span>);
        <span class="hljs-keyword">this</span>.max = doc.getAttribute(<span class="hljs-string">'sysparm_max'</span>);
    },
    <span class="hljs-attr">addSysParms</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> name = <span class="hljs-keyword">this</span>.elementName;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.elementName.indexOf(<span class="hljs-string">'IO:'</span>) &gt; <span class="hljs-number">-1</span>)
            name = <span class="hljs-keyword">this</span>.elementName.substring(<span class="hljs-keyword">this</span>.elementName.indexOf(<span class="hljs-string">"IO:"</span>), <span class="hljs-keyword">this</span>.elementName.length);
        <span class="hljs-keyword">var</span> sp = <span class="hljs-string">"sysparm_name="</span> + name +
            <span class="hljs-string">"&amp;sysparm_timer="</span> + <span class="hljs-keyword">this</span>.timer +
            <span class="hljs-string">"&amp;sysparm_max="</span> + <span class="hljs-keyword">this</span>.max +
            <span class="hljs-string">"&amp;sysparm_chars="</span> + encodeText(<span class="hljs-keyword">this</span>.searchChars);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.guid)
            sp += <span class="hljs-string">"&amp;sysparm_completer_id="</span> + <span class="hljs-keyword">this</span>.guid;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ignoreRefQual)
            sp += <span class="hljs-string">"&amp;sysparm_ignore_ref_qual=true"</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.refQual != <span class="hljs-string">""</span> &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.refQual != <span class="hljs-string">"undefined"</span>)
            sp += <span class="hljs-string">"&amp;sysparm_ref_qual="</span> + <span class="hljs-keyword">this</span>.refQual;
        <span class="hljs-keyword">var</span> domain = gel(<span class="hljs-string">"sysparm_domain"</span>);
        <span class="hljs-keyword">if</span> (domain)
            sp += <span class="hljs-string">"&amp;sysparm_domain="</span> + domain.value;
        <span class="hljs-keyword">return</span> sp;
    },
    <span class="hljs-attr">addTargetTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getTargetTable()) {
            answer = <span class="hljs-string">"&amp;sysparm_reference_target="</span> + <span class="hljs-keyword">this</span>.getTargetTable();
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">addAdditionalValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>.additionalValues)
            answer += <span class="hljs-string">"&amp;"</span> + n + <span class="hljs-string">"="</span> + encodeText(<span class="hljs-keyword">this</span>.additionalValues[n]);
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">addAttributes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prefix</span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> attributes = <span class="hljs-keyword">this</span>.element.attributes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>; n &lt; attributes.length; n++) {
            <span class="hljs-keyword">var</span> attr = attributes[n];
            <span class="hljs-keyword">var</span> name = attr.nodeName;
            <span class="hljs-keyword">if</span> (name.indexOf(prefix) != <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> v = attr.nodeValue;
            answer += <span class="hljs-string">"&amp;"</span> + name + <span class="hljs-string">"="</span> + v;
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">copyAttributes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> attributes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n = <span class="hljs-number">0</span>; n &lt; node.attributes.length; n++) {
            <span class="hljs-keyword">var</span> attr = node.attributes[n];
            <span class="hljs-keyword">var</span> name = attr.nodeName;
            <span class="hljs-keyword">var</span> v = attr.nodeValue;
            attributes[name] = v;
        }
        <span class="hljs-keyword">return</span> attributes;
    },
    <span class="hljs-attr">createDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">foundStrings, foundRecents</span>) </span>{
        <span class="hljs-keyword">this</span>.clearDropDown();
        <span class="hljs-keyword">this</span>.createInnerDropDown();
        <span class="hljs-keyword">if</span> (foundRecents &amp;&amp; foundRecents.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>._showRecents();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; foundRecents.length; i++) {
                <span class="hljs-keyword">var</span> rec = foundRecents[i];
                <span class="hljs-keyword">var</span> recchild = <span class="hljs-keyword">this</span>.createChild(rec);
                recchild.acItem = rec;
                <span class="hljs-keyword">this</span>.appendItem(recchild);
                <span class="hljs-keyword">this</span>.addMouseListeners(recchild);
            }
        }
        <span class="hljs-keyword">if</span> (foundStrings &amp;&amp; foundStrings.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>._showMax(foundStrings, foundRecents);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c &lt; foundStrings.length; c++) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.max &gt; <span class="hljs-number">0</span> &amp;&amp; c &gt;= <span class="hljs-keyword">this</span>.max)
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">var</span> x = foundStrings[c];
                <span class="hljs-keyword">var</span> child = <span class="hljs-keyword">this</span>.createChild(x);
                child.acItem = x;
                <span class="hljs-keyword">this</span>.appendItem(child);
                <span class="hljs-keyword">this</span>.addMouseListeners(child);
            }
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentMenuCount) {
            <span class="hljs-keyword">this</span>.setDropDownSize();
            <span class="hljs-keyword">this</span>.showDropDown();
            <span class="hljs-keyword">if</span> (isTextDirectionRTL()) {
                <span class="hljs-keyword">var</span> diff = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dropDown.style.width) - <span class="hljs-keyword">this</span>.getWidth();
                <span class="hljs-keyword">if</span> (diff &lt; <span class="hljs-number">0</span>)
                    diff = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">var</span> w = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (isMSIE8 || isMSIE7 || isMSIE6 || (isMSIE9 &amp;&amp; (getPreference(<span class="hljs-string">'glide.ui11.use'</span>) == <span class="hljs-string">"false"</span>))) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">"undefined"</span>)
                        w = <span class="hljs-keyword">this</span>.element.offsetParent ? <span class="hljs-keyword">this</span>.element.offsetParent.clientWidth : <span class="hljs-number">0</span>;
                }
                <span class="hljs-keyword">this</span>.dropDown.style.left = (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dropDown.style.left) - diff) + w + <span class="hljs-string">"px"</span>;
                <span class="hljs-keyword">this</span>.iFrame.style.left = (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.iFrame.style.left) - diff) + w + <span class="hljs-string">"px"</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.dropDown.style.left) &lt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">this</span>.dropDown.style.left = <span class="hljs-number">0</span> + <span class="hljs-string">"px"</span>;
                    <span class="hljs-keyword">this</span>.iFrame.style.left = <span class="hljs-number">0</span> + <span class="hljs-string">"px"</span>;
                }
            }
            <span class="hljs-keyword">var</span> height = <span class="hljs-keyword">this</span>.dropDown.clientHeight;
            <span class="hljs-keyword">this</span>.setHeight(height);
            <span class="hljs-keyword">this</span>.firefoxBump();
            <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'{0} suggestions. Please use the up and down arrow keys to select a value'</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentMenuCount == <span class="hljs-number">1</span>)
                msg = <span class="hljs-string">'1 suggestion. Please use the up and down arrow keys to select a value'</span>;
            <span class="hljs-keyword">var</span> messageAPI = <span class="hljs-keyword">new</span> GwtMessage();
            messageAPI.fetch([msg], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msgs</span>) </span>{
                <span class="hljs-keyword">var</span> msgWithValues = messageAPI.format(msgs[msg], <span class="hljs-keyword">this</span>.currentMenuCount);
                <span class="hljs-keyword">this</span>.setStatus(msgWithValues);
            }.bind(<span class="hljs-keyword">this</span>))
        }
        <span class="hljs-keyword">this</span>._setActive();
        _frameChanged();
    },
    <span class="hljs-attr">createInnerDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">_showRecents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._addHeaderRow(<span class="hljs-string">"Recent selections"</span>);
    },
    <span class="hljs-attr">_showMax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">foundStrings, foundRecents</span>) </span>{
        <span class="hljs-keyword">if</span> (foundRecents &amp;&amp; foundRecents.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">this</span>._addHeaderRow(<span class="hljs-string">"Search"</span>);
    },
    <span class="hljs-attr">_addHeaderRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{
        <span class="hljs-keyword">var</span> row = cel(<span class="hljs-string">"div"</span>);
        row.className = <span class="hljs-string">"ac_header"</span>;
        row.setAttribute(<span class="hljs-string">"width"</span>, <span class="hljs-string">"100%"</span>);
        row.innerHTML = <span class="hljs-keyword">new</span> GwtMessage().getMessage(message);
        <span class="hljs-keyword">this</span>.appendElement(row);
    },
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.getSelectedObject().acItem;
        <span class="hljs-keyword">this</span>.referenceSelect(o[<span class="hljs-string">'name'</span>], o[<span class="hljs-string">'label'</span>]);
        <span class="hljs-keyword">this</span>.clearDropDown();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_setDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getDisplayElement();
        <span class="hljs-keyword">if</span> (e.value == v)
            <span class="hljs-keyword">return</span>;
        e.value = v;
    },
    <span class="hljs-attr">referenceSelectTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sys_id, displayValue</span>) </span>{
        <span class="hljs-keyword">this</span>.selectedID = sys_id;
        <span class="hljs-keyword">this</span>.selectedDisplayValue = displayValue;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> reflistModalPick == <span class="hljs-string">"function"</span>)
            <span class="hljs-keyword">this</span>._referenceSelectTimeout();
        <span class="hljs-keyword">else</span>
            setTimeout(<span class="hljs-keyword">this</span>._referenceSelectTimeout.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">_referenceSelectTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.referenceSelect(<span class="hljs-keyword">this</span>.selectedID, <span class="hljs-keyword">this</span>.selectedDisplayValue);
    },
    <span class="hljs-attr">referenceSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sys_id, displayValue, referenceInvalid</span>) </span>{
        <span class="hljs-keyword">this</span>._setDisplayValue(displayValue);
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getKeyElement();
        <span class="hljs-keyword">if</span> (e.value != sys_id) {
            e.value = sys_id;
            callOnChange(e);
        }
        <span class="hljs-keyword">this</span>.searchChars = displayValue;
        <span class="hljs-keyword">this</span>.currentDisplayValue = displayValue;
        <span class="hljs-keyword">this</span>.showViewImage();
        <span class="hljs-keyword">if</span> (!referenceInvalid)
            <span class="hljs-keyword">this</span>.clearInvalid();
        <span class="hljs-keyword">this</span>._clearDerivedFields();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectionCallBack &amp;&amp; sys_id) {
            <span class="hljs-built_in">eval</span>(<span class="hljs-keyword">this</span>.selectionCallBack);
        }
        <span class="hljs-keyword">if</span> (e[<span class="hljs-string">"filterCallBack"</span>]) {
            e.filterCallBack();
        }
    },
    <span class="hljs-attr">setFilterCallBack</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getKeyElement();
        e[<span class="hljs-string">"filterCallBack"</span>] = f
    },
    <span class="hljs-attr">_clearDerivedFields</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.clearDerivedFields &amp;&amp; <span class="hljs-built_in">window</span>[<span class="hljs-string">'DerivedFields'</span>]) {
            <span class="hljs-keyword">var</span> df = <span class="hljs-keyword">new</span> DerivedFields(<span class="hljs-keyword">this</span>.keyElement.id);
            df.clearRelated();
            df.updateRelated(<span class="hljs-keyword">this</span>.getKeyValue());
        }
    },
    <span class="hljs-attr">showViewImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> element = gel(<span class="hljs-string">"view."</span> + <span class="hljs-keyword">this</span>.keyElement.id);
        <span class="hljs-keyword">if</span> (element == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> elementR = gel(<span class="hljs-string">"viewr."</span> + <span class="hljs-keyword">this</span>.keyElement.id);
        <span class="hljs-keyword">var</span> noElement = gel(<span class="hljs-string">"view."</span> + <span class="hljs-keyword">this</span>.keyElement.id + <span class="hljs-string">".no"</span>);
        <span class="hljs-keyword">var</span> sys_id = <span class="hljs-keyword">this</span>.getKeyValue();
        <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">""</span>) {
            hideObject(element);
            hideObject(elementR);
            showObjectInlineBlock(noElement);
        } <span class="hljs-keyword">else</span> {
            showObjectInlineBlock(element);
            showObjectInlineBlock(elementR);
            hideObject(noElement);
        }
    },
    <span class="hljs-attr">createChild</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._createChild(item, item[<span class="hljs-string">'label'</span>]);
    },
    <span class="hljs-attr">_createChild</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, text</span>) </span>{
        <span class="hljs-keyword">var</span> div = cel(TAG_DIV);
        div.ac = <span class="hljs-keyword">this</span>;
        div.acItem = item;
        div.id = <span class="hljs-string">'ac_option_'</span> + item.name;
        div.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'option'</span>);
        <span class="hljs-keyword">var</span> itemInRow = cel(TAG_SPAN, div);
        itemInRow.innerHTML = (text + <span class="hljs-string">''</span>).escapeHTML();
        <span class="hljs-keyword">return</span> div;
    },
    <span class="hljs-attr">addMouseListeners</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        element.onmousedown = <span class="hljs-keyword">this</span>.onMouseDown.bind(<span class="hljs-keyword">this</span>, element);
        element.onmouseup = <span class="hljs-keyword">this</span>.onMouseUp.bind(<span class="hljs-keyword">this</span>, element);
        element.onmouseover = <span class="hljs-keyword">this</span>.onMouseOver.bind(<span class="hljs-keyword">this</span>, element);
        element.onmouseout = <span class="hljs-keyword">this</span>.onMouseOut.bind(<span class="hljs-keyword">this</span>, element);
    },
    <span class="hljs-attr">onMouseUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.select();
    },
    <span class="hljs-attr">onMouseDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">if</span> (g_isInternetExplorer) {
            <span class="hljs-keyword">this</span>.select();
            <span class="hljs-built_in">window</span>.event.cancelBubble = <span class="hljs-literal">true</span>;
            <span class="hljs-built_in">window</span>.event.returnValue = <span class="hljs-literal">false</span>;
            setTimeout(<span class="hljs-keyword">this</span>.focus.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">50</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">onMouseOut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.unsetSelection();
    },
    <span class="hljs-attr">onMouseOver</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.setSelection(element.acItemNumber);
    },
    <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.element.focus();
    },
    <span class="hljs-attr">setDropDownSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e, mLeft, mTop;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.$j) {
            e = $j(<span class="hljs-keyword">this</span>.element);
            <span class="hljs-keyword">var</span> offset = e.offset();
            <span class="hljs-keyword">var</span> parent = $j(getFormContentParent());
            <span class="hljs-keyword">var</span> parentOffset = {
                <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>
            };
            <span class="hljs-keyword">var</span> parentIsBody = parent.get(<span class="hljs-number">0</span>) == <span class="hljs-built_in">document</span>.body;
            <span class="hljs-keyword">var</span> parentScrolltop = (parentIsBody || parent.css(<span class="hljs-string">'overflow'</span>) == <span class="hljs-string">'visible'</span>) ? <span class="hljs-number">0</span> : parent.scrollTop();
            <span class="hljs-keyword">if</span> (!parentIsBody)
                parentOffset = parent.offset();
            mLeft = offset.left - parentOffset.left + <span class="hljs-number">1</span> + <span class="hljs-string">'px'</span>;
            mTop = offset.top - parentOffset.top + e.outerHeight() + parentScrolltop + <span class="hljs-string">'px'</span>;
        } <span class="hljs-keyword">else</span> {
            e = <span class="hljs-keyword">this</span>.element;
            mLeft = grabOffsetLeft(e) + <span class="hljs-string">"px"</span>;
            mTop = grabOffsetTop(e) + (e.offsetHeight - <span class="hljs-number">1</span>) + <span class="hljs-string">"px"</span>;
        }
        <span class="hljs-keyword">var</span> mWidth = <span class="hljs-keyword">this</span>.getWidth();
        <span class="hljs-keyword">var</span> dd = <span class="hljs-keyword">this</span>.dropDown;
        <span class="hljs-keyword">if</span> (dd.offsetWidth &gt; <span class="hljs-built_in">parseInt</span>(mWidth))
            mWidth = dd.offsetWidth;
        <span class="hljs-keyword">this</span>.setTopLeft(dd.style, mTop, mLeft);
        <span class="hljs-keyword">this</span>.setTopLeft(<span class="hljs-keyword">this</span>.iFrame.style, mTop, mLeft);
        <span class="hljs-keyword">this</span>.setWidth(mWidth);
    },
    <span class="hljs-attr">setTopLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">style, top, left</span>) </span>{
        style.left = left;
        style.top = top;
    },
    <span class="hljs-attr">getWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> field = <span class="hljs-keyword">this</span>.element;
        <span class="hljs-keyword">if</span> (g_isInternetExplorer)
            <span class="hljs-keyword">return</span> field.offsetWidth - (<span class="hljs-keyword">this</span>.menuBorderSize * <span class="hljs-number">2</span>);
        <span class="hljs-keyword">return</span> field.clientWidth;
    },
    <span class="hljs-attr">onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.ignoreFocusEvent || <span class="hljs-keyword">this</span>.element.getAttribute(<span class="hljs-string">'readonly'</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.hasFocus = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.currentDisplayValue = <span class="hljs-keyword">this</span>.getDisplayValue();
        <span class="hljs-keyword">this</span>._setUpDocMouseDown();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDoctype() &amp;&amp; <span class="hljs-keyword">this</span>.currentDisplayValue == <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_acWaitTime || <span class="hljs-number">50</span>);
    },
    <span class="hljs-attr">isTablet</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !(<span class="hljs-keyword">typeof</span> isTablet == <span class="hljs-string">"undefined"</span>);
    },
    <span class="hljs-attr">isDoctype</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">'data-doctype'</span>) == <span class="hljs-string">'true'</span>;
    },
    <span class="hljs-attr">_setupAccessibility</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'combobox'</span>);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-autocomplete'</span>, <span class="hljs-string">'list'</span>);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-owns'</span>, <span class="hljs-keyword">this</span>.getDropDown().id);
        <span class="hljs-keyword">this</span>.element.setAttribute(<span class="hljs-string">'aria-activedescendant'</span>, <span class="hljs-string">''</span>);
    },
    <span class="hljs-attr">_setUpDocMouseDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isTablet()) {
            <span class="hljs-keyword">this</span>.blurPause = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>._boundOnDocMouseDown = <span class="hljs-keyword">this</span>.onDocMouseDown.bind(<span class="hljs-keyword">this</span>);
            Event.observe(<span class="hljs-built_in">document</span>.body, <span class="hljs-string">'mousedown'</span>, <span class="hljs-keyword">this</span>._boundOnDocMouseDown);
        }
    },
    <span class="hljs-attr">setStatus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">text</span>) </span>{
        <span class="hljs-keyword">var</span> statusEl = <span class="hljs-keyword">this</span>._getStatusEl();
        <span class="hljs-keyword">if</span> (!statusEl)
            <span class="hljs-keyword">return</span>;
        statusEl.innerText = text;
    },
    <span class="hljs-attr">_getStatusEl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'ac.status'</span>);
    },
    <span class="hljs-attr">onDocMouseDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (evt.target == <span class="hljs-keyword">this</span>.element)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.blurPause = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">onBlurEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.getAttribute(<span class="hljs-string">'readonly'</span>))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isTablet() &amp;&amp; <span class="hljs-keyword">this</span>.blurPause == <span class="hljs-literal">true</span>)
            setTimeout(<span class="hljs-keyword">this</span>.onBlur.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">4000</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.onBlur();
    },
    <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._boundOnDocMousedown) {
            Event.stopObserving(<span class="hljs-built_in">document</span>.body, <span class="hljs-string">'mousedown'</span>, <span class="hljs-keyword">this</span>._boundOnDocMouseDown);
            <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._boundOnDocMouseDown;
        }
        <span class="hljs-keyword">this</span>.hasFocus = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getDisplayValue().length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentDisplayValue != <span class="hljs-string">""</span>) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isList)
                    <span class="hljs-keyword">this</span>.referenceSelect(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.clearInvalid();
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">this</span>.select();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.getKeyValue() == <span class="hljs-string">""</span>) || (<span class="hljs-keyword">this</span>.currentDisplayValue != <span class="hljs-keyword">this</span>.getDisplayValue())) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isFilterUsingContains) {
                <span class="hljs-keyword">var</span> refInvalid = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isExactMatch()) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.oneMatchSelects != <span class="hljs-literal">false</span>) {
                        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
                        <span class="hljs-keyword">this</span>.referenceSelect(o[<span class="hljs-string">'name'</span>], o[<span class="hljs-string">'label'</span>]);
                        refInvalid = <span class="hljs-literal">false</span>;
                    }
                }
                <span class="hljs-keyword">if</span> (refInvalid)
                    <span class="hljs-keyword">this</span>.setInvalid();
                <span class="hljs-keyword">if</span> (refInvalid || !<span class="hljs-keyword">this</span>.isPopulated()) {
                    <span class="hljs-keyword">this</span>.clearTimeout();
                    <span class="hljs-keyword">this</span>.searchChars = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">this</span>.ignoreFocusEvent = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">0</span>);
                }
            }
        }
        <span class="hljs-keyword">this</span>.clearDropDown();
    },
    <span class="hljs-attr">isExactMatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isPopulated()) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getMenuCount() == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">var</span> o0 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
                <span class="hljs-keyword">if</span> ((o0[<span class="hljs-string">'label'</span>].toUpperCase().startsWith(<span class="hljs-keyword">this</span>.getDisplayValue().toUpperCase())))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">var</span> o0 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
            <span class="hljs-keyword">var</span> o1 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">1</span>).acItem;
            <span class="hljs-keyword">if</span> ((o0[<span class="hljs-string">'label'</span>] == <span class="hljs-keyword">this</span>.getDisplayValue()) &amp;&amp; (o1[<span class="hljs-string">'label'</span>] != <span class="hljs-keyword">this</span>.getDisplayValue()))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">getDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getDisplayElement().value;
    },
    <span class="hljs-attr">getKeyValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getKeyElement().value;
    },
    <span class="hljs-attr">clearKeyValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.referenceSelect(<span class="hljs-string">""</span>, <span class="hljs-keyword">this</span>.getDisplayValue());
    },
    <span class="hljs-attr">getKeyElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.keyElement;
    },
    <span class="hljs-attr">getDisplayElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element;
    },
    <span class="hljs-attr">setResolveCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f</span>) </span>{
        <span class="hljs-keyword">this</span>.onResolveCallback = f;
    },
    <span class="hljs-attr">setDependent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dependentReference</span>) </span>{
        <span class="hljs-keyword">this</span>.dependentReference = dependentReference;
        <span class="hljs-keyword">var</span> el = <span class="hljs-keyword">this</span>.getDependentElement();
        <span class="hljs-keyword">if</span> (!el)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> n = dependentReference.replace(<span class="hljs-regexp">/\./</span>, <span class="hljs-string">"_"</span>);
        n = <span class="hljs-keyword">this</span>.getTableName() + <span class="hljs-string">"_"</span> + n;
        <span class="hljs-keyword">var</span> h = <span class="hljs-keyword">new</span> GlideEventHandler(<span class="hljs-string">'onChange_'</span> + n, <span class="hljs-keyword">this</span>.onDependentChange.bind(<span class="hljs-keyword">this</span>), dependentReference);
        g_event_handlers.push(h);
    },
    <span class="hljs-attr">onDependentChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.cacheClear();
    },
    <span class="hljs-attr">getDependentElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.dependentReference || <span class="hljs-string">'null'</span> == <span class="hljs-keyword">this</span>.dependentReference)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> table = <span class="hljs-keyword">this</span>.getTableName();
        <span class="hljs-keyword">var</span> dparts = <span class="hljs-keyword">this</span>.dependentReference.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">return</span> gel(table + <span class="hljs-string">"."</span> + dparts[<span class="hljs-number">0</span>]);
    },
    <span class="hljs-attr">addDependentValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> el = <span class="hljs-keyword">this</span>.getDependentElement();
        <span class="hljs-keyword">if</span> (!el)
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> depValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (el.tagName == <span class="hljs-string">"INPUT"</span>)
            depValue = el.value;
        <span class="hljs-keyword">else</span>
            depValue = el.options[el.selectedIndex].value;
        <span class="hljs-keyword">return</span> <span class="hljs-string">"&amp;sysparm_value="</span> + depValue;
    },
    <span class="hljs-attr">setRefQualElements</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elements</span>) </span>{
        <span class="hljs-keyword">this</span>.simpleQualifier = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!elements)
            <span class="hljs-keyword">this</span>.refQualElements = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (elements.startsWith(<span class="hljs-string">"QUERY:"</span>)) {
                <span class="hljs-keyword">this</span>.setRefQual(elements.substring(<span class="hljs-number">6</span>));
                <span class="hljs-keyword">this</span>.simpleQualifier = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> tableDot = g_form.getTableName() + <span class="hljs-string">'.'</span>;
            <span class="hljs-keyword">this</span>.refQualElements = [];
            <span class="hljs-keyword">var</span> a = elements.split(<span class="hljs-string">';'</span>);
            <span class="hljs-keyword">if</span> (a == <span class="hljs-string">"*"</span>) {
                a = [];
                <span class="hljs-keyword">var</span> form = gel(tableDot + <span class="hljs-string">'do'</span>);
                <span class="hljs-keyword">var</span> elements = Form.getElements(form);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; elements.length; i++) {
                    <span class="hljs-keyword">if</span> ((elements[i].id != <span class="hljs-keyword">this</span>.keyElement.id) &amp;&amp; (elements[i].id.startsWith(tableDot)))
                        a.push(elements[i].id);
                }
            }
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; a.length; i++) {
                <span class="hljs-keyword">var</span> n = a[i];
                <span class="hljs-keyword">var</span> el = gel(n);
                <span class="hljs-keyword">if</span> (!el)
                    <span class="hljs-keyword">continue</span>;
                <span class="hljs-keyword">this</span>.refQualElements.push(n);
                <span class="hljs-keyword">var</span> h = <span class="hljs-keyword">new</span> GlideEventHandler(<span class="hljs-string">'onChange_'</span> + n.replace(<span class="hljs-regexp">/\./</span>, <span class="hljs-string">"_"</span>), <span class="hljs-keyword">this</span>.onDependentChange.bind(<span class="hljs-keyword">this</span>), a[i]);
                g_event_handlers.push(h);
            }
        }
    },
    <span class="hljs-attr">setRefQual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">refQual</span>) </span>{
        <span class="hljs-keyword">this</span>.refQual = refQual;
    },
    <span class="hljs-attr">setIgnoreRefQual</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ignoreRefQual</span>) </span>{
        <span class="hljs-keyword">this</span>.ignoreRefQual = ignoreRefQual;
    },
    <span class="hljs-attr">addRefQualValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.refQualElements) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"&amp;"</span> + g_form.serializeChanged();
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">setAdditionalValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">this</span>.additionalValues[name] = value;
    },
    <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.elementName.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>];
    },
    <span class="hljs-attr">setInvalid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.messages = <span class="hljs-keyword">new</span> GwtMessage().getMessages(
            [<span class="hljs-string">"A new record with this value will be created automatically"</span>, <span class="hljs-string">"Invalid reference"</span>]);
        <span class="hljs-keyword">this</span>.referenceValid = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> message;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dynamicCreate) {
            message = <span class="hljs-keyword">this</span>.messages[<span class="hljs-string">"A new record with this value will be created automatically"</span>];
            <span class="hljs-keyword">this</span>.getDisplayElement().title = message;
            addClassName(<span class="hljs-keyword">this</span>.getDisplayElement(), <span class="hljs-string">"ref_dynamic"</span>);
        } <span class="hljs-keyword">else</span> {
            message = <span class="hljs-keyword">this</span>.messages[<span class="hljs-string">"Invalid reference"</span>];
            <span class="hljs-keyword">this</span>.getDisplayElement().title = message;
            addClassName(<span class="hljs-keyword">this</span>.getDisplayElement(), <span class="hljs-string">"ref_invalid"</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">"undefined"</span>) {
            <span class="hljs-keyword">var</span> fieldName = <span class="hljs-keyword">this</span>.elementName.substring(<span class="hljs-keyword">this</span>.elementName.indexOf(<span class="hljs-string">'.'</span>) + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">var</span> dynamicCreate = <span class="hljs-keyword">this</span>.dynamicCreate;
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                g_form.hideFieldMsg(fieldName, <span class="hljs-literal">false</span>, <span class="hljs-string">'invalid_reference'</span>);
                g_form.showFieldMsg(fieldName, message, dynamicCreate ? <span class="hljs-string">'info'</span> : <span class="hljs-string">'error'</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">'invalid_reference'</span>);
            });
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.allowInvalid &amp;&amp; !<span class="hljs-keyword">this</span>.isList) {
            <span class="hljs-keyword">this</span>.getKeyElement().value = <span class="hljs-string">""</span>;
        }
        <span class="hljs-keyword">this</span>.showViewImage();
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getKeyElement();
        callOnChange(e);
    },
    <span class="hljs-attr">clearInvalid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.referenceValid = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dynamicCreate) {
            removeClassName(<span class="hljs-keyword">this</span>.getDisplayElement(), <span class="hljs-string">"ref_dynamic"</span>);
        } <span class="hljs-keyword">else</span> {
            removeClassName(<span class="hljs-keyword">this</span>.getDisplayElement(), <span class="hljs-string">"ref_invalid"</span>);
        }
        <span class="hljs-keyword">this</span>.getDisplayElement().title = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">"undefined"</span>) {
            <span class="hljs-keyword">var</span> fieldName = <span class="hljs-keyword">this</span>.elementName.substring(<span class="hljs-keyword">this</span>.elementName.indexOf(<span class="hljs-string">'.'</span>) + <span class="hljs-number">1</span>);
            g_form.hideFieldMsg(fieldName, <span class="hljs-literal">false</span>, <span class="hljs-string">'invalid_reference'</span>);
        }
    },
    <span class="hljs-attr">isReferenceValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.referenceValid;
    },
    <span class="hljs-attr">firefoxBump</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> children = <span class="hljs-keyword">this</span>.getMenuItems();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            <span class="hljs-keyword">if</span> (children[i] &amp;&amp; children[i].firstChild) {
                <span class="hljs-keyword">var</span> dparentDivWidth = children[i].offsetWidth;
                <span class="hljs-keyword">var</span> dchildSpanWidth = children[i].firstChild.offsetWidth;
                <span class="hljs-keyword">if</span> (dchildSpanWidth &gt; dparentDivWidth)
                    <span class="hljs-keyword">this</span>.setWidth(dchildSpanWidth);
            }
        }
    },
    <span class="hljs-attr">_setIframeHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">height</span>) </span>{
        <span class="hljs-keyword">this</span>.iFrame.style.height = height - <span class="hljs-number">2</span>;
    },
    <span class="hljs-attr">hasDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.dropDown)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.dropDown.childNodes.length &gt; <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">cachePut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.refQualElements)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.cache[name] = value;
    },
    <span class="hljs-attr">cacheGet</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.refQualElements)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cache[name];
    },
    <span class="hljs-attr">cacheClear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    },
    <span class="hljs-attr">cacheEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.searchChars;
        <span class="hljs-keyword">if</span> (!s)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">while</span> (s.length &gt; <span class="hljs-number">2</span>) {
            s = s.substring(<span class="hljs-number">0</span>, s.length - <span class="hljs-number">1</span>);
            <span class="hljs-keyword">var</span> xml = <span class="hljs-keyword">this</span>.cacheGet(s);
            <span class="hljs-keyword">if</span> (!xml)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> e = xml.documentElement;
            <span class="hljs-keyword">var</span> rowCount = e.getAttribute(<span class="hljs-string">'row_count'</span>);
            <span class="hljs-keyword">if</span> (rowCount == <span class="hljs-number">0</span> &amp;&amp; e.childElementCount == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXReferenceCompleterMulti.js */</span>
<span class="hljs-keyword">var</span> AJAXReferenceCompleterMulti = Class.create(AJAXReferenceCompleter, {
    <span class="hljs-attr">_hash</span>: <span class="hljs-keyword">new</span> Hash(),
    <span class="hljs-attr">_SEPARATOR</span>: <span class="hljs-string">','</span>,
    <span class="hljs-attr">_handleDeleteKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>._rebuildFromInput();
    },
    <span class="hljs-attr">_rebuildFromInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.getDisplayElement().value;
        <span class="hljs-keyword">var</span> arr = s.split(<span class="hljs-keyword">this</span>._SEPARATOR);
        <span class="hljs-keyword">var</span> _hashNew = <span class="hljs-keyword">new</span> Hash();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
            <span class="hljs-keyword">var</span> a = arr[i].strip();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._hash.keys().indexOf(a) != <span class="hljs-number">-1</span>)
                _hashNew.set(a, <span class="hljs-keyword">this</span>._hash.get(a).escapeHTML());
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.allowInvalid)
                    _hashNew.set(a, a.escapeHTML());
            }
        }
        <span class="hljs-keyword">this</span>._hash = _hashNew;
        <span class="hljs-keyword">this</span>._setFormValues();
    },
    <span class="hljs-attr">_arrayToString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">array, useSpacer</span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; array.length; i++) {
            <span class="hljs-keyword">var</span> a = array[i].strip();
            <span class="hljs-keyword">if</span> (a.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
                s += <span class="hljs-keyword">this</span>._SEPARATOR;
                <span class="hljs-keyword">if</span> (useSpacer)
                    s += <span class="hljs-string">" "</span>;
            }
            s += a;
        }
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">_setFormValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.getDisplayElement().value = <span class="hljs-keyword">this</span>.getDisplayValue();
        <span class="hljs-keyword">this</span>.getKeyElement().value = <span class="hljs-keyword">this</span>.getKeyValue();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.getAttribute(<span class="hljs-string">"reference"</span>) == <span class="hljs-string">"sys_user"</span>) {
            <span class="hljs-keyword">var</span> invalidContacts = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> keyContacts = <span class="hljs-keyword">this</span>.getKeyElement().value.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">var</span> displayContacts = <span class="hljs-keyword">this</span>.getDisplayElement().value.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">var</span> matchedRef = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isBlur &amp;&amp; <span class="hljs-keyword">this</span>.currentDisplayValue) {
                keyContacts.splice((keyContacts.length - <span class="hljs-number">1</span>), <span class="hljs-number">1</span>);
                displayContacts.splice((keyContacts.length - <span class="hljs-number">1</span>), <span class="hljs-number">1</span>);
                <span class="hljs-keyword">this</span>.getKeyElement().value = keyContacts;
                <span class="hljs-keyword">this</span>.getDisplayElement().value = displayContacts;
                matchedRef = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; keyContacts.length; i++) {
                <span class="hljs-keyword">if</span> (!matchedRef &amp;&amp; keyContacts[i] != <span class="hljs-string">""</span> &amp;&amp; !isEmailValid(keyContacts[i])) {
                    <span class="hljs-keyword">var</span> hexSysId = <span class="hljs-regexp">/^[0-9A-F]{32}$/i</span>.test(keyContacts[i]);
                    <span class="hljs-keyword">if</span> (!hexSysId) {
                        keyContacts.splice(i, <span class="hljs-number">1</span>);
                        displayContacts.splice(i, <span class="hljs-number">1</span>);
                        <span class="hljs-keyword">this</span>.getKeyElement().value = keyContacts;
                        <span class="hljs-keyword">this</span>.getDisplayElement().value = displayContacts;
                        g_form.hideFieldMsg(<span class="hljs-keyword">this</span>.element.parentNode, <span class="hljs-literal">true</span>);
                        g_form.showFieldMsg(<span class="hljs-keyword">this</span>.element.parentNode, <span class="hljs-string">"Please enter a valid email address or User"</span>, <span class="hljs-string">"error"</span>);
                        invalidContacts = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">this</span>.isBlur = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">this</span>.onFocus();
                    }
                }
            }
            <span class="hljs-keyword">if</span> (!invalidContacts) {
                g_form.hideFieldMsg(<span class="hljs-keyword">this</span>.element.parentNode, <span class="hljs-literal">true</span>);
            }
        }
    },
    <span class="hljs-attr">getDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._arrayToString(<span class="hljs-keyword">this</span>._hash.keys(), <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">getKeyValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._arrayToString(<span class="hljs-keyword">this</span>._hash.values(), <span class="hljs-literal">false</span>);
    },
    <span class="hljs-attr">referenceSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sys_id, displayValue</span>) </span>{
        <span class="hljs-keyword">this</span>._rebuildFromInput();
        <span class="hljs-keyword">this</span>._hash.set(displayValue.strip(), sys_id.escapeHTML());
        <span class="hljs-keyword">this</span>._setFormValues();
        <span class="hljs-keyword">this</span>.showViewImage();
        <span class="hljs-keyword">this</span>.clearInvalid();
        <span class="hljs-keyword">this</span>._clearDerivedFields();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectionCallBack &amp;&amp; sys_id) {
            <span class="hljs-built_in">eval</span>(<span class="hljs-keyword">this</span>.selectionCallBack);
        }
    },
    <span class="hljs-attr">_getSearchChars</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.getDisplayElement().value;
        <span class="hljs-keyword">var</span> sep_pos = s.lastIndexOf(<span class="hljs-keyword">this</span>._SEPARATOR);
        <span class="hljs-keyword">if</span> (sep_pos &gt; <span class="hljs-number">0</span>) {
            s = s.substr(sep_pos + <span class="hljs-number">1</span>);
        }
        <span class="hljs-keyword">this</span>.searchChars = s.replace(<span class="hljs-regexp">/^\s+|\s+$/g</span>, <span class="hljs-string">''</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.searchChars;
    },
    <span class="hljs-attr">setDropDownSize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.element;
        <span class="hljs-keyword">var</span> mLeft = grabOffsetLeft(e) + (<span class="hljs-keyword">this</span>.getDisplayElement().value.length * <span class="hljs-number">5</span>) + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">var</span> mTop = grabOffsetTop(e) + (e.offsetHeight - <span class="hljs-number">1</span>) + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">var</span> mWidth = <span class="hljs-keyword">this</span>.getWidth();
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"width:"</span> + mWidth);
        <span class="hljs-keyword">var</span> dd = <span class="hljs-keyword">this</span>.dropDown;
        <span class="hljs-keyword">if</span> (dd.offsetWidth &gt; <span class="hljs-built_in">parseInt</span>(mWidth)) {
            mWidth = dd.offsetWidth;
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"width:"</span> + mWidth);
        }
        <span class="hljs-keyword">this</span>.setTopLeft(dd.style, mTop, mLeft);
        <span class="hljs-keyword">this</span>.setTopLeft(<span class="hljs-keyword">this</span>.iFrame.style, mTop, mLeft);
        <span class="hljs-keyword">this</span>.setWidth(mWidth);
    },
    <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.isBlur = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"blur event"</span>);
        <span class="hljs-keyword">this</span>.hasFocus = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>._rebuildFromInput();
        <span class="hljs-keyword">this</span>.clearDropDown();
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXTableCompleter.js */</span>
<span class="hljs-keyword">var</span> AJAXTableCompleter = Class.create(AJAXReferenceCompleter, {
    <span class="hljs-attr">_processDoc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc</span>) </span>{
        AJAXReferenceCompleter.prototype._processDoc.call(<span class="hljs-keyword">this</span>, doc);
        <span class="hljs-keyword">this</span>.showDisplayValue = doc.getAttribute(<span class="hljs-string">'show_display_value'</span>);
        <span class="hljs-keyword">this</span>.queryType = doc.getAttribute(<span class="hljs-string">'query_type'</span>);
        <span class="hljs-keyword">this</span>.queryText = doc.getAttribute(<span class="hljs-string">'sysparm_chars'</span>);
        <span class="hljs-keyword">this</span>.columnsSearch = doc.getAttribute(<span class="hljs-string">'columns_search'</span>);
    },
    <span class="hljs-attr">appendElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">this</span>.tbody.appendChild(element);
    },
    <span class="hljs-attr">createInnerDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.dropDown.childNodes.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._createTable();
    },
    <span class="hljs-attr">createChild</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentMenuCount == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.createInnerDropDown();
        }
        <span class="hljs-keyword">var</span> tr = cel(<span class="hljs-string">"tr"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.showDisplayValue != <span class="hljs-string">"false"</span>) {
            <span class="hljs-keyword">var</span> displayValue = item[<span class="hljs-string">'label'</span>];
            <span class="hljs-keyword">this</span>._createTD(tr, displayValue);
        }
        <span class="hljs-keyword">this</span>._addColumns(tr, item);
        tr.id = <span class="hljs-string">'ac_option_'</span> + item.name;
        tr.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'option'</span>);
        <span class="hljs-keyword">return</span> tr;
    },
    <span class="hljs-attr">onDisplayDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> width = <span class="hljs-keyword">this</span>.table.offsetWidth + <span class="hljs-number">2</span>;
        <span class="hljs-keyword">var</span> height = <span class="hljs-keyword">this</span>.table.offsetHeight + <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.getDropDown().style.width = width + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">if</span> (!g_isInternetExplorer) {
            width = width - <span class="hljs-number">4</span>;
            height = height - <span class="hljs-number">4</span>;
        }
        <span class="hljs-keyword">this</span>.getIFrame().style.width = width + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">this</span>.getIFrame().style.height = height + <span class="hljs-string">"px"</span>;
    },
    <span class="hljs-attr">_addColumns</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tr, item</span>) </span>{
        <span class="hljs-keyword">var</span> xml = item[<span class="hljs-string">"XML"</span>];
        <span class="hljs-keyword">var</span> fields = xml.getElementsByTagName(<span class="hljs-string">"field"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fields.length; i++) {
            <span class="hljs-keyword">var</span> field = fields[i];
            <span class="hljs-keyword">var</span> value = field.getAttribute(<span class="hljs-string">"value"</span>);
            <span class="hljs-keyword">var</span> td = $(<span class="hljs-keyword">this</span>._createTD(tr, value));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.prevText[i] == value)
                td.addClassName(<span class="hljs-string">"ac_additional_repeat"</span>);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.prevText[i] = value;
            td.addClassName(<span class="hljs-string">"ac_additional"</span>);
        }
    },
    <span class="hljs-attr">_showMax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">foundStrings, foundRecents</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.rowCount)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> max = <span class="hljs-number">1</span> * <span class="hljs-keyword">this</span>.max;
        <span class="hljs-keyword">var</span> showing = <span class="hljs-built_in">Math</span>.min(foundStrings.length, max);
        <span class="hljs-keyword">var</span> recentsLength = foundRecents ? foundRecents.length : <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> total = <span class="hljs-keyword">this</span>.rowCount - recentsLength;
        <span class="hljs-keyword">var</span> tr = cel(<span class="hljs-string">"tr"</span>);
        $(tr).addClassName(<span class="hljs-string">"ac_header"</span>);
        <span class="hljs-keyword">var</span> td = cel(<span class="hljs-string">"td"</span>, tr);
        td.setAttribute(<span class="hljs-string">"colSpan"</span>, <span class="hljs-number">99</span>);
        td.setAttribute(<span class="hljs-string">"width"</span>, <span class="hljs-string">"100%"</span>);
        <span class="hljs-keyword">var</span> a = cel(<span class="hljs-string">"a"</span>, td);
        a.onmousedown = <span class="hljs-keyword">this</span>._showAll.bindAsEventListener(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> x = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.rowCount &gt;= <span class="hljs-number">250</span>)
            x = <span class="hljs-string">" more than "</span>;
        a.innerHTML = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"Showing 1 through {0} of {1}"</span>, showing, x + total);
        <span class="hljs-keyword">this</span>.appendElement(tr);
    },
    <span class="hljs-attr">_showRecents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> tr = cel(<span class="hljs-string">"tr"</span>);
        tr.className = <span class="hljs-string">"ac_header"</span>;
        <span class="hljs-keyword">var</span> td = cel(<span class="hljs-string">"td"</span>, tr);
        td.setAttribute(<span class="hljs-string">'colspan'</span>, <span class="hljs-number">99</span>);
        td.setAttribute(<span class="hljs-string">"width"</span>, <span class="hljs-string">"100%"</span>);
        td.innerHTML = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"Recent selections"</span>);
        <span class="hljs-keyword">this</span>.appendElement(tr);
    },
    <span class="hljs-attr">_showAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.clearTimeout();
        <span class="hljs-keyword">this</span>.max = <span class="hljs-keyword">this</span>.rowCount;
        <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_key_delay);
    },
    <span class="hljs-attr">_createTD</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tr, text</span>) </span>{
        <span class="hljs-keyword">var</span> td = cel(<span class="hljs-string">"td"</span>, tr);
        $(td).addClassName(<span class="hljs-string">"ac_cell"</span>);
        td.innerHTML = text.escapeHTML();
        <span class="hljs-keyword">return</span> td;
    },
    <span class="hljs-attr">_createTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.table = cel(<span class="hljs-string">"table"</span>);
        $(<span class="hljs-keyword">this</span>.table).addClassName(<span class="hljs-string">"ac_table_completer"</span>);
        <span class="hljs-keyword">this</span>.tbody = cel(<span class="hljs-string">"tbody"</span>, <span class="hljs-keyword">this</span>.table);
        <span class="hljs-keyword">this</span>.dropDown.appendChild(<span class="hljs-keyword">this</span>.table);
        <span class="hljs-keyword">this</span>.prevText = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXEmailClientCompleter.js */</span>
<span class="hljs-keyword">var</span> g_key_delay = <span class="hljs-number">250</span>;
<span class="hljs-keyword">var</span> AJAXEmailClientCompleter = Class.create(AJAXTableCompleter, {
    <span class="hljs-attr">PROCESSOR</span>: <span class="hljs-string">"EmailClient"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, reference, dependentReference, refQualElements, targetTable, inputSpan, options</span>) </span>{
        AJAXCompleter.prototype.initialize.call(<span class="hljs-keyword">this</span>, <span class="hljs-string">'AC.'</span> + reference, reference);
        options = options || {};
        <span class="hljs-keyword">this</span>.className = <span class="hljs-string">"AJAXEmailClientCompleter"</span>;
        <span class="hljs-keyword">this</span>.inputSpan = inputSpan;
        <span class="hljs-keyword">this</span>.element = $(element);
        <span class="hljs-keyword">this</span>.keyElement = gel(reference);
        <span class="hljs-keyword">this</span>.setTargetTable(targetTable);
        <span class="hljs-keyword">this</span>.additionalValues = {};
        <span class="hljs-keyword">this</span>.renderItemTemplate = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (options.renderItemTemplate) {
            <span class="hljs-keyword">this</span>.renderItemTemplate = options.renderItemTemplate;
        }
        <span class="hljs-keyword">this</span>._commonSetup();
        <span class="hljs-keyword">this</span>.oneMatchSelects = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.clearDerivedFields = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.allowInvalid = <span class="hljs-keyword">this</span>.element.readAttribute(<span class="hljs-string">'allow_invalid'</span>) == <span class="hljs-string">'true'</span>;
    },
    <span class="hljs-attr">_processDoc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doc</span>) </span>{
        AJAXTableCompleter._processDoc(doc);
    },
    <span class="hljs-attr">keyDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (typedChar == KEY_ARROWUP) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.selectPrevious())
                <span class="hljs-keyword">this</span>.hideDropDown();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typedChar == KEY_ARROWDOWN) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isVisible()) {
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isPopulated())
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">this</span>.showDropDown();
            }
            <span class="hljs-keyword">this</span>.selectNext();
        }
    },
    <span class="hljs-attr">keyUp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isDeleteKey(typedChar))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.clearTimeout();
        <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_acWaitTime || <span class="hljs-number">50</span>);
    },
    <span class="hljs-attr">clearTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.timer != <span class="hljs-literal">null</span>)
            clearTimeout(<span class="hljs-keyword">this</span>.timer);
        <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">keyPress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evtArg</span>) </span>{
        <span class="hljs-keyword">var</span> evt = getEvent(evtArg);
        <span class="hljs-keyword">var</span> typedChar = getKeyCode(evt);
        <span class="hljs-keyword">if</span> (typedChar != KEY_ENTER &amp;&amp; typedChar != KEY_RETURN)
            <span class="hljs-keyword">this</span>.clearTimeout();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isNavigation(typedChar))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (!evt.shiftKey &amp;&amp; (typedChar == KEY_ARROWDOWN || typedChar == KEY_ARROWUP))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isDeleteKey(typedChar))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == KEY_ENTER || typedChar == KEY_RETURN || typedChar == KEY_TAB) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hasDropDown() &amp;&amp; <span class="hljs-keyword">this</span>.select())
                <span class="hljs-keyword">this</span>.clearTimeout();
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.onBlur();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_ESC) {
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), g_key_delay);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isNavigation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">typedChar</span>) </span>{
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_LEFT)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == <span class="hljs-keyword">this</span>.KEY_RIGHT)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (typedChar == KEY_TAB &amp;&amp; <span class="hljs-keyword">this</span>.currentDisplayValue == <span class="hljs-string">""</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">ajaxRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.getDisplayValue();
        <span class="hljs-keyword">if</span> (s.length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"ajaxRequest returned no results"</span>);
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">this</span>.searchChars = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (s == <span class="hljs-string">"*"</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (s == <span class="hljs-keyword">this</span>.searchChars) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"navigator key pressed"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.searchChars = s;
        <span class="hljs-keyword">this</span>.clearKeyValue();
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"searching for characters '"</span> + <span class="hljs-keyword">this</span>.searchChars + <span class="hljs-string">"'"</span>);
        <span class="hljs-keyword">var</span> xml = <span class="hljs-keyword">this</span>.cacheGet(s);
        <span class="hljs-keyword">if</span> (xml) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"cached results found"</span>);
            <span class="hljs-keyword">this</span>.processXML(xml);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cacheEmpty()) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"cache is empty"</span>);
            <span class="hljs-keyword">this</span>.clearDropDown();
            <span class="hljs-keyword">this</span>.hideDropDown();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">""</span>;
        url += <span class="hljs-keyword">this</span>.addSysParms();
        url += <span class="hljs-keyword">this</span>.addTargetTable();
        url += <span class="hljs-keyword">this</span>.addAdditionalValues();
        url += <span class="hljs-keyword">this</span>.addAttributes(<span class="hljs-string">"ac_"</span>);
        <span class="hljs-keyword">this</span>.callAjax(url);
    },
    <span class="hljs-attr">processXML</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xml</span>) </span>{
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"processing XML results"</span>);
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">this</span>.rowCount = e.getAttribute(<span class="hljs-string">'row_count'</span>);
        <span class="hljs-keyword">this</span>.max = e.getAttribute(<span class="hljs-string">'sysparm_max'</span>);
        <span class="hljs-keyword">var</span> items = xml.getElementsByTagName(<span class="hljs-string">"item"</span>);
        values = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> array = <span class="hljs-keyword">this</span>.copyAttributes(item);
            array[<span class="hljs-string">'XML'</span>] = item;
            values[values.length] = array;
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.hasFocus) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"checking value without focus"</span>);
            <span class="hljs-keyword">this</span>.ignoreFocusEvent = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> ((values.length == <span class="hljs-number">1</span>) ||
                ((values.length &gt; <span class="hljs-number">1</span>) &amp;&amp;
                    (values[<span class="hljs-number">0</span>][<span class="hljs-string">'label'</span>] == <span class="hljs-keyword">this</span>.getDisplayValue()) &amp;&amp;
                    (values[<span class="hljs-number">1</span>][<span class="hljs-string">'label'</span>] != <span class="hljs-keyword">this</span>.getDisplayValue()))) {
                <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"setting value without focus to "</span> + values[<span class="hljs-number">0</span>][<span class="hljs-string">'label'</span>] + <span class="hljs-string">"-&gt;"</span> + values[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>]);
                <span class="hljs-keyword">this</span>.referenceSelect(values[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>], values[<span class="hljs-number">0</span>][<span class="hljs-string">'label'</span>]);
                <span class="hljs-keyword">var</span> s = gel(<span class="hljs-keyword">this</span>.inputSpan);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.renderItemTemplate) {
                    s.innerHTML = s.innerHTML + <span class="hljs-keyword">this</span>.renderItemTemplate(values[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>], values[<span class="hljs-number">0</span>][<span class="hljs-string">'label'</span>]);
                } <span class="hljs-keyword">else</span> {
                    s.innerHTML = s.innerHTML + <span class="hljs-string">'&lt;span class="address" tabindex="0" onclick="addressOnClick(event, this)" style="white-space:nowrap;" value="'</span> + values[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>] + <span class="hljs-string">'" aria-label="'</span> + values[<span class="hljs-number">0</span>][<span class="hljs-string">'name'</span>] + <span class="hljs-string">'"&gt;'</span> + values[<span class="hljs-number">0</span>][<span class="hljs-string">'label'</span>] + <span class="hljs-string">';&lt;/span&gt; '</span>;
                }
                <span class="hljs-keyword">this</span>._clearDisplayValue();
                <span class="hljs-keyword">this</span>.currentDisplayValue = <span class="hljs-string">""</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (e.getAttribute(<span class="hljs-string">'allow_invalid'</span>) != <span class="hljs-string">'true'</span>)
                    <span class="hljs-keyword">this</span>.setInvalid();
            }
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">this</span>.createDropDown(values);
    },
    <span class="hljs-attr">addTargetTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getTargetTable()) {
            answer = <span class="hljs-string">"&amp;sysparm_reference_target="</span> + <span class="hljs-keyword">this</span>.getTargetTable();
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.getSelectedObject().acItem;
        <span class="hljs-keyword">this</span>.referenceSelect(o[<span class="hljs-string">'name'</span>], o[<span class="hljs-string">'label'</span>]);
        <span class="hljs-keyword">var</span> s = gel(<span class="hljs-keyword">this</span>.inputSpan);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.renderItemTemplate) {
            s.innerHTML = s.innerHTML + <span class="hljs-keyword">this</span>.renderItemTemplate(o[<span class="hljs-string">'name'</span>], o[<span class="hljs-string">'label'</span>]);
        } <span class="hljs-keyword">else</span> {
            s.innerHTML = s.innerHTML + <span class="hljs-string">'&lt;span class="address" tabindex="0" onclick="addressOnClick(event, this)" style="white-space:nowrap;" value="'</span> + o[<span class="hljs-string">'name'</span>] + <span class="hljs-string">'" aria-label="'</span> + o[<span class="hljs-string">'label'</span>] + <span class="hljs-string">'"&gt;'</span> + o[<span class="hljs-string">'label'</span>] + <span class="hljs-string">';&lt;/span&gt; '</span>;
        }
        <span class="hljs-keyword">this</span>.clearDropDown();
        <span class="hljs-keyword">this</span>._clearDisplayValue();
        <span class="hljs-keyword">this</span>.currentDisplayValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_clearDisplayValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getDisplayElement();
        e.value = <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">referenceSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sys_id, displayValue</span>) </span>{
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"referenceSelect called with a display value of "</span> + displayValue);
        <span class="hljs-keyword">this</span>._setDisplayValue(displayValue);
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>.getKeyElement();
        <span class="hljs-keyword">if</span> (e.value != sys_id) {
            e.value = sys_id;
            callOnChange(e);
        }
        <span class="hljs-keyword">this</span>.searchChars = displayValue;
        <span class="hljs-keyword">this</span>.currentDisplayValue = displayValue;
        <span class="hljs-keyword">this</span>.clearInvalid();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectionCallBack &amp;&amp; sys_id) {
            <span class="hljs-built_in">eval</span>(<span class="hljs-keyword">this</span>.selectionCallBack);
        }
    },
    <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"blur event"</span>);
        <span class="hljs-keyword">this</span>.hasFocus = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getDisplayValue().length == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.currentDisplayValue != <span class="hljs-string">""</span>)
                <span class="hljs-keyword">this</span>.referenceSelect(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.selectedItemNum &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">this</span>.select();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.getKeyValue() == <span class="hljs-string">""</span>) || (<span class="hljs-keyword">this</span>.currentDisplayValue != <span class="hljs-keyword">this</span>.getDisplayValue())) {
            <span class="hljs-keyword">var</span> refInvalid = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isExactMatch()) {
                <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
                <span class="hljs-keyword">this</span>.referenceSelect(o[<span class="hljs-string">'name'</span>], o[<span class="hljs-string">'label'</span>]);
                refInvalid = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">if</span> (refInvalid)
                <span class="hljs-keyword">this</span>.setInvalid();
            <span class="hljs-keyword">if</span> (refInvalid || !<span class="hljs-keyword">this</span>.isPopulated()) {
                <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"onBlur with no menu items requesting the reference for "</span> + <span class="hljs-keyword">this</span>.getDisplayValue());
                <span class="hljs-keyword">this</span>.clearTimeout();
                <span class="hljs-keyword">this</span>.searchChars = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">this</span>.ignoreFocusEvent = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>.timer = setTimeout(<span class="hljs-keyword">this</span>.ajaxRequest.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">0</span>);
            }
        }
        <span class="hljs-keyword">this</span>.clearDropDown();
    },
    <span class="hljs-attr">isExactMatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isPopulated()) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getMenuCount() == <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">var</span> o0 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
                <span class="hljs-keyword">if</span> ((o0[<span class="hljs-string">'label'</span>] == <span class="hljs-keyword">this</span>.getDisplayValue()))
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">var</span> o0 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">0</span>).acItem;
            <span class="hljs-keyword">var</span> o1 = <span class="hljs-keyword">this</span>.getObject(<span class="hljs-number">1</span>).acItem;
            <span class="hljs-keyword">if</span> ((o0[<span class="hljs-string">'label'</span>] == <span class="hljs-keyword">this</span>.getDisplayValue()) &amp;&amp; (o1[<span class="hljs-string">'label'</span>] != <span class="hljs-keyword">this</span>.getDisplayValue()))
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    },
    <span class="hljs-attr">cachePut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, value</span>) </span>{
        <span class="hljs-keyword">this</span>.cache[name] = value;
    },
    <span class="hljs-attr">cacheGet</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cache[name];
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/AJAXReferenceChoice.js */</span>
<span class="hljs-keyword">var</span> AJAXReferenceChoice = Class.create(AJAXReferenceCompleter, {
    <span class="hljs-attr">addSysParms</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> sp = <span class="hljs-string">"sysparm_processor=PickList"</span> +
            <span class="hljs-string">"&amp;sysparm_name="</span> + <span class="hljs-keyword">this</span>.elementName +
            <span class="hljs-string">"&amp;sysparm_timer="</span> + <span class="hljs-keyword">this</span>.timer +
            <span class="hljs-string">"&amp;sysparm_max="</span> + <span class="hljs-keyword">this</span>.max +
            <span class="hljs-string">"&amp;sysparm_chars="</span> + encodeText(<span class="hljs-keyword">this</span>.searchChars);
        <span class="hljs-keyword">return</span> sp;
    },
    <span class="hljs-attr">ajaxRequest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">""</span>;
        url += <span class="hljs-keyword">this</span>.addSysParms();
        url += <span class="hljs-keyword">this</span>.addDependentValue();
        url += <span class="hljs-keyword">this</span>.addRefQualValues();
        url += <span class="hljs-keyword">this</span>.addTargetTable();
        url += <span class="hljs-keyword">this</span>.addAdditionalValues();
        url += <span class="hljs-keyword">this</span>.addAttributes(<span class="hljs-string">"ac_"</span>);
        url += <span class="hljs-string">"&amp;sysparm_max=250"</span>;
        serverRequestPost(<span class="hljs-string">"xmlhttp.do"</span>, url, <span class="hljs-keyword">this</span>.ajaxResponse.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">onBlur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">onFocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">ajaxResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">if</span> (!response.responseXML.documentElement) {
            <span class="hljs-keyword">this</span>.isResolvingFlag = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> currentValue = <span class="hljs-keyword">this</span>.element.value;
        <span class="hljs-keyword">this</span>.element.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> items = response.responseXML.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> id = item.getAttribute(<span class="hljs-string">'value'</span>);
            <span class="hljs-keyword">var</span> l = item.getAttribute(<span class="hljs-string">'name'</span>);
            <span class="hljs-keyword">var</span> selected = id == currentValue;
            addOption(<span class="hljs-keyword">this</span>.element, id, l, selected);
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/ajax/DerivedFields.js */</span>
<span class="hljs-keyword">var</span> DerivedFields = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName</span>) </span>{
        <span class="hljs-keyword">this</span>.elementName = elementName;
    },
    <span class="hljs-attr">clearRelated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_form) == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> list = g_form.getDerivedFields(<span class="hljs-keyword">this</span>.elementName);
        <span class="hljs-keyword">if</span> (list == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> prefix = <span class="hljs-keyword">this</span>.elementName.split(<span class="hljs-string">"."</span>);
        prefix.shift();
        prefix = prefix.join(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; list.length; i++) {
            <span class="hljs-keyword">var</span> elname = prefix + <span class="hljs-string">"."</span> + list[i];
            <span class="hljs-keyword">if</span> (!g_form.isDisabled(elname)) {
                g_form._addDerivedWaiting(elname);
                g_form.setReadOnly(elname, <span class="hljs-literal">true</span>);
            }
            g_form.clearValue(elname);
        }
    },
    <span class="hljs-attr">updateRelated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">if</span> (!key || <span class="hljs-keyword">typeof</span>(g_form) == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> list = g_form.getDerivedFields(<span class="hljs-keyword">this</span>.elementName);
        <span class="hljs-keyword">if</span> (list == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">"xmlhttp.do?sysparm_processor=GetReferenceRecord"</span> +
            <span class="hljs-string">"&amp;sysparm_name="</span> + <span class="hljs-keyword">this</span>.elementName +
            <span class="hljs-string">"&amp;sysparm_value="</span> + key +
            <span class="hljs-string">"&amp;sysparm_derived_fields="</span> + list.join(<span class="hljs-string">','</span>);
        <span class="hljs-keyword">var</span> args = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-keyword">this</span>.elementName, list.join(<span class="hljs-string">','</span>));
        serverRequest(url, refFieldChangeResponse, args);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'DerivedFields'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/Select.js */</span>
<span class="hljs-keyword">var</span> Select = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select</span>) </span>{
        <span class="hljs-keyword">this</span>.select = $(select);
    },
    <span class="hljs-attr">addOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, label</span>) </span>{
        addOption(<span class="hljs-keyword">this</span>.select, value, label);
    },
    <span class="hljs-attr">addOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">glideRecord, nameField, valueField</span>) </span>{
        <span class="hljs-keyword">if</span> (!valueField)
            valueField = <span class="hljs-string">'sys_id'</span>;
        <span class="hljs-keyword">if</span> (!nameField)
            nameField = <span class="hljs-string">'name'</span>;
        <span class="hljs-keyword">while</span> (glideRecord.next())
            addOption(<span class="hljs-keyword">this</span>.select, glideRecord[valueField], glideRecord[nameField]);
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.select.options.length = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">getSelect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.select;
    },
    <span class="hljs-attr">getValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.select.options[<span class="hljs-keyword">this</span>.select.selectedIndex].value;
    },
    <span class="hljs-attr">selectValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.select.selectedIndex = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">this</span>.select.options;
        <span class="hljs-keyword">for</span> (oi = <span class="hljs-number">0</span>; oi &lt; options.length; oi++) {
            <span class="hljs-keyword">var</span> option = options[oi];
            <span class="hljs-keyword">var</span> optval = option.value;
            <span class="hljs-keyword">if</span> (optval != value)
                <span class="hljs-keyword">continue</span>;
            option.selected = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.select.selectedIndex = oi;
        }
    },
    <span class="hljs-attr">contains</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> options = <span class="hljs-keyword">this</span>.select.options;
        <span class="hljs-keyword">for</span> (oi = <span class="hljs-number">0</span>; oi &lt; options.length; oi++) {
            <span class="hljs-keyword">if</span> (options[oi].value == value)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">getClassName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"SelectList"</span>;
    }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOption</span>(<span class="hljs-params">select, value, label, selected, optionalTitle</span>) </span>{
    <span class="hljs-keyword">var</span> o;
    <span class="hljs-keyword">if</span> (select.multiple == <span class="hljs-literal">true</span>)
        o = <span class="hljs-keyword">new</span> Option(label, value, <span class="hljs-literal">true</span>, selected || <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">else</span>
        o = <span class="hljs-keyword">new</span> Option(label, value);
    <span class="hljs-keyword">if</span> (optionalTitle)
        o.title = optionalTitle;
    select.options[select.options.length] = o;
    <span class="hljs-keyword">if</span> (select.multiple != <span class="hljs-literal">true</span> &amp;&amp; selected)
        select.selectedIndex = select.options.length - <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> o;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOptionAt</span>(<span class="hljs-params">select, value, label, idx, optionalTitle</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = select.options.length; i &gt; idx; i--) {
        <span class="hljs-keyword">var</span> oldOption = select.options[i - <span class="hljs-number">1</span>];
        select.options[i] = <span class="hljs-keyword">new</span> Option(oldOption.text, oldOption.value);
        <span class="hljs-keyword">if</span> (oldOption.id)
            select.options[i].id = oldOption.id;
        <span class="hljs-keyword">if</span> (oldOption.style.cssText)
            select.options[i].style.cssText = oldOption.style.cssText;
    }
    <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> Option(label, value);
    <span class="hljs-keyword">if</span> (optionalTitle)
        o.title = optionalTitle;
    select.options[idx] = o;
    <span class="hljs-keyword">return</span> o;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSelectedOption</span>(<span class="hljs-params">select</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> select == <span class="hljs-string">"undefined"</span> || select.multiple == <span class="hljs-literal">true</span> || select.selectedIndex &lt; <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> select.options[select.selectedIndex];
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideClientCache.js */</span>
<span class="hljs-keyword">var</span> GlideClientCacheEntry = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.value = value;
        <span class="hljs-keyword">this</span>.bump();
    },
    <span class="hljs-attr">bump</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.stamp = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();
    }
});
<span class="hljs-keyword">var</span> GlideClientCache = Class.create({
    <span class="hljs-attr">_DEFAULT_SIZE</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">maxEntries</span>) </span>{
        <span class="hljs-keyword">if</span> (maxEntries)
            <span class="hljs-keyword">this</span>.maxEntries = maxEntries;
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.maxEntries = <span class="hljs-keyword">this</span>._DEFAULT_SIZE;
        <span class="hljs-keyword">this</span>._init(<span class="hljs-string">'default'</span>);
    },
    <span class="hljs-attr">_init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stamp</span>) </span>{
        <span class="hljs-keyword">this</span>._cache = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
        <span class="hljs-keyword">this</span>._stamp = stamp;
    },
    <span class="hljs-attr">put</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
        <span class="hljs-keyword">var</span> entry = <span class="hljs-keyword">new</span> GlideClientCacheEntry(value);
        <span class="hljs-keyword">this</span>._cache[key] = entry;
        <span class="hljs-keyword">this</span>._removeEldest();
    },
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> entry = <span class="hljs-keyword">this</span>._cache[key];
        <span class="hljs-keyword">if</span> (!entry)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        entry.bump();
        <span class="hljs-keyword">return</span> entry.value;
    },
    <span class="hljs-attr">stamp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stamp</span>) </span>{
        <span class="hljs-keyword">if</span> (stamp == <span class="hljs-keyword">this</span>._stamp)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._init(stamp);
    },
    <span class="hljs-attr">ensureMaxEntries</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">max</span>) </span>{
        jslog(<span class="hljs-string">"Cache resize to "</span> + max);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.maxEntries &lt; max)
            <span class="hljs-keyword">this</span>.maxEntries = max;
    },
    <span class="hljs-attr">_removeEldest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> eldest = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> eldestKey = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._cache) {
            count++;
            <span class="hljs-keyword">var</span> current = <span class="hljs-keyword">this</span>._cache[key];
            <span class="hljs-keyword">if</span> (eldest == <span class="hljs-literal">null</span> || eldest.stamp &gt; current.stamp) {
                eldestKey = key;
                eldest = current;
            }
        }
        <span class="hljs-keyword">if</span> (count &lt;= <span class="hljs-keyword">this</span>.maxEntries)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (eldest != <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>._cache[key];
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideURLElement.js */</span>
<span class="hljs-keyword">var</span> GlideURLElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> element = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (element)
            element.readOnly = disabled;
        <span class="hljs-keyword">var</span> lockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_lock"</span>);
        <span class="hljs-keyword">if</span> (!lockElement)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">if</span> (disabled) {
            lock(lockElement, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_link"</span>, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_link"</span>);
            hideObject(unlockElement);
        } <span class="hljs-keyword">else</span> {
            showObjectInlineBlock(unlockElement);
        }
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">var</span> encodedValue = htmlEscape(value);
        <span class="hljs-keyword">var</span> update_id = <span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_link"</span>;
        <span class="hljs-keyword">var</span> update_element = gel(update_id);
        <span class="hljs-keyword">if</span> (update_element.href) {
            update_element.href = value;
        }
        update_element.innerHTML = encodedValue;
        <span class="hljs-keyword">var</span> input = gel(<span class="hljs-keyword">this</span>.name);
        input.value = value;
        onChange(<span class="hljs-keyword">this</span>.name);
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">return</span> unlockElement.style.display == <span class="hljs-string">"none"</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideURLElement"</span>,
    <span class="hljs-attr">z</span>: <span class="hljs-literal">null</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideListElement.js */</span>
<span class="hljs-keyword">var</span> GlideListElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, table</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.table = table;
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue, newDisplayValue</span>) </span>{
        <span class="hljs-keyword">var</span> isArbitraryEmail = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> hiddenElement = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> visibleElement = gel(<span class="hljs-string">"select_0"</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">this</span>.visibleElementId = visibleElement.id;
        hiddenElement.value = <span class="hljs-string">""</span>;
        visibleElement.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (newValue || newDisplayValue) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newValue == <span class="hljs-string">"string"</span> &amp;&amp; newValue != <span class="hljs-string">""</span>) {
                newValue = newValue.split(<span class="hljs-string">","</span>);
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDisplayValue == <span class="hljs-string">"undefined"</span> || newDisplayValue == <span class="hljs-string">""</span>)
                    isArbitraryEmail = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDisplayValue == <span class="hljs-string">"string"</span> &amp;&amp; newDisplayValue != <span class="hljs-string">""</span>)
                newDisplayValue = newDisplayValue.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">if</span> (newDisplayValue &amp;&amp; newValue &amp;&amp; newDisplayValue.length != newValue.length) {
                newDisplayValue = <span class="hljs-string">''</span>;
                isArbitraryEmail = <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">var</span> allEmail = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDisplayValue == <span class="hljs-string">"undefined"</span> || newDisplayValue == <span class="hljs-string">""</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; newValue.length; i++) {
                    <span class="hljs-keyword">var</span> item = newValue[i];
                    <span class="hljs-keyword">if</span> (item.length == <span class="hljs-number">32</span>)
                        <span class="hljs-keyword">if</span> (item.indexOf(<span class="hljs-string">"@"</span>) == <span class="hljs-number">-1</span>) {
                            allEmail = <span class="hljs-literal">false</span>;
                            <span class="hljs-keyword">break</span>;
                        }
                }
                <span class="hljs-keyword">if</span> (!allEmail) {
                    hiddenElement.value = newValue.join();
                    <span class="hljs-keyword">var</span> ajaxArgs = <span class="hljs-keyword">this</span>.table + <span class="hljs-string">","</span> + newValue.join();
                    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"ElementGlideListAjax"</span>);
                    aj.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"getDisplayValues"</span>);
                    aj.addParam(<span class="hljs-string">"sysparm_value"</span>, ajaxArgs);
                    aj.getXML(<span class="hljs-keyword">this</span>._glideListGetDisplayValuesDone.bind(<span class="hljs-keyword">this</span>));
                    <span class="hljs-keyword">return</span>;
                }
            } <span class="hljs-keyword">else</span>
                allEmail = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDisplayValue != <span class="hljs-string">"undefined"</span> &amp;&amp; newValue.length &gt; <span class="hljs-number">0</span> &amp;&amp; newDisplayValue.length != newValue.length) {
                jslog(<span class="hljs-string">"Error: Length of first and second parameter arrays to setValue for "</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">" are not the same"</span>);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newDisplayValue != <span class="hljs-string">"undefined"</span>) {
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; newDisplayValue.length; i++) {
                    <span class="hljs-keyword">if</span> (allEmail)
                        <span class="hljs-keyword">this</span>._setValue(<span class="hljs-string">""</span>, newValue[i]);
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-keyword">this</span>._setValue(newValue[i], newDisplayValue[i]);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (allEmail &amp;&amp; isArbitraryEmail) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; newValue.length; i++) {
                    <span class="hljs-keyword">this</span>._setValue(newValue[i], newValue[i]);
                }
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>._setValue(<span class="hljs-string">""</span>, newValue);
            }
        }
        <span class="hljs-keyword">this</span>._updateDisplay();
    },
    <span class="hljs-attr">_setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue, displayValue</span>) </span>{
        <span class="hljs-keyword">if</span> (!newValue)
            addGlideListChoice(<span class="hljs-keyword">this</span>.visibleElementId, displayValue, displayValue, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">else</span> {
            addGlideListChoice(<span class="hljs-keyword">this</span>.visibleElementId, newValue, displayValue, <span class="hljs-literal">false</span>);
            toggleAddMe(<span class="hljs-keyword">this</span>.name);
        }
    },
    <span class="hljs-attr">_glideListGetDisplayValuesDone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response, args</span>) </span>{
        <span class="hljs-keyword">if</span> (!response || !response.responseXML)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> hiddenElement = gel(<span class="hljs-keyword">this</span>.name);
        hiddenElement.values = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> references = response.responseXML.getElementsByTagName(<span class="hljs-string">"reference"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; references.length; i++) {
            <span class="hljs-keyword">var</span> displayValue = references[i].attributes.getNamedItem(<span class="hljs-string">"display"</span>).nodeValue;
            <span class="hljs-keyword">var</span> referenceValue = references[i].attributes.getNamedItem(<span class="hljs-string">"sys_id"</span>).nodeValue;
            <span class="hljs-keyword">this</span>._setValue(referenceValue, displayValue);
        }
        <span class="hljs-keyword">this</span>._updateDisplay();
    },
    <span class="hljs-attr">_showSpacer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">display</span>) </span>{
        <span class="hljs-keyword">var</span> spacer = gel(<span class="hljs-string">"make_spacing_ok_"</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (spacer)
            spacer.style.display = <span class="hljs-string">"inline"</span>;
    },
    <span class="hljs-attr">_updateDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        toggleGlideListIcons(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> lockImg = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_lock"</span>);
        <span class="hljs-keyword">var</span> buttonContainer = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> buttonContainerVisible = buttonContainer ? buttonContainer.style.display == <span class="hljs-string">'none'</span> : <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (lockImg &amp;&amp; (lockImg.style.display == <span class="hljs-string">"none"</span> || !buttonContainerVisible))
            <span class="hljs-keyword">this</span>.updateLockedList(<span class="hljs-string">'select_0'</span> + <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>);
    },
    <span class="hljs-attr">updateLockedList</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">current_value_id, update_id</span>) </span>{
        <span class="hljs-keyword">var</span> current_value = gel(current_value_id);
        <span class="hljs-keyword">var</span> the_value = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (current_value.options) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; current_value.options.length; i++) {
                <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>)
                    the_value += g_glide_list_separator;
                the_value += current_value.options[i].text;
            }
        } <span class="hljs-keyword">else</span>
            the_value = current_value.value;
        <span class="hljs-keyword">var</span> update_element = gel(update_id);
        <span class="hljs-keyword">if</span> (update_element.href)
            update_element.href = the_value;
        update_element.innerHTML = htmlEscape(the_value);
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> element = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">if</span> (!element)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (disabled) {
            lock(element, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>, <span class="hljs-string">'select_0'</span> + <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>);
            <span class="hljs-keyword">this</span>._showSpacer();
            hideObject(element);
            <span class="hljs-keyword">var</span> addMe = $(<span class="hljs-string">"add_me_locked."</span> + <span class="hljs-keyword">this</span>.name)
            <span class="hljs-keyword">if</span> (addMe)
                addMe.hide();
        } <span class="hljs-keyword">else</span> {
            showObjectInlineBlock(element);
            toggleAddMe(<span class="hljs-keyword">this</span>.name);
        }
        gel(<span class="hljs-keyword">this</span>.name).disabled = disabled;
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> unlockElement = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">if</span> (unlockElement.style.visibility == <span class="hljs-string">"visible"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">"GlideListElement"</span>
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">viewSelection</span>(<span class="hljs-params">sourceSelect, tableName, urlBase, idField, clickThroughPopup, popupView</span>) </span>{
    <span class="hljs-keyword">var</span> sysid = glideListGetSelected(sourceSelect);
    <span class="hljs-keyword">if</span> (clickThroughPopup &amp;&amp; <span class="hljs-built_in">window</span>.g_form) {
        <span class="hljs-keyword">var</span> refTable = urlBase.substring(<span class="hljs-number">0</span>, urlBase.lastIndexOf(<span class="hljs-string">'.do'</span>));
        <span class="hljs-keyword">var</span> view = popupView || g_form.getViewName();
        tearOff(refTable, sysid, view, <span class="hljs-literal">false</span>, <span class="hljs-literal">null</span>);
        <span class="hljs-keyword">return</span>;
    }
    checkSaveID(tableName, urlBase, sysid);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">glideListGetSelected</span>(<span class="hljs-params">sourceSelect</span>) </span>{
    <span class="hljs-keyword">var</span> sourceOptions = sourceSelect.options;
    <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> selectedId = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; sourceSelect.length; i++) {
        option = sourceOptions[i];
        <span class="hljs-keyword">if</span> (option.selected) {
            selectedId = i;
            <span class="hljs-keyword">if</span> (index == <span class="hljs-number">1</span>)
                <span class="hljs-keyword">return</span>;
            index++;
        }
    }
    <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> option = sourceOptions[selectedId];
    <span class="hljs-keyword">return</span> option.value;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editList</span>(<span class="hljs-params">tableName, urlBase, idField, reference, maintainOrder</span>) </span>{
    g_form.setMandatoryOnlyIfModified(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">var</span> form = <span class="hljs-built_in">document</span>.forms[tableName + <span class="hljs-string">'.do'</span>];
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_collection"</span>, tableName);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_collection_key"</span>, idField);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_collection_related_file"</span>, reference);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> maintainOrder !== <span class="hljs-string">"undefined"</span>)
        addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_maintain_order"</span>, maintainOrder);
    <span class="hljs-keyword">var</span> sysid = <span class="hljs-built_in">document</span>.getElementsByName(<span class="hljs-string">"sys_uniqueValue"</span>)[<span class="hljs-number">0</span>].value;
    sysid = trim(sysid);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_collectionID"</span>, sysid);
    <span class="hljs-keyword">var</span> url = tableName + <span class="hljs-string">'.do?sys_id='</span> + sysid;
    <span class="hljs-keyword">var</span> view = gel(<span class="hljs-string">'sysparm_view'</span>);
    <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>) {
        view = view.value;
        <span class="hljs-keyword">if</span> (view != <span class="hljs-string">''</span>)
            url = url + <span class="hljs-string">"&amp;sysparm_view="</span> + view;
    }
    <span class="hljs-keyword">var</span> changeset = gel(<span class="hljs-string">'sysparm_changeset'</span>);
    <span class="hljs-keyword">if</span> (changeset != <span class="hljs-literal">null</span>) {
        changeset = changeset.value;
        <span class="hljs-keyword">if</span> (changeset != <span class="hljs-string">''</span>)
            url = url + <span class="hljs-string">"&amp;sysparm_changeset="</span> + changeset;
    }
    <span class="hljs-keyword">var</span> sysparm_record_row = gel(<span class="hljs-string">'sysparm_record_row'</span>);
    <span class="hljs-keyword">if</span> (sysparm_record_row)
        url = url + <span class="hljs-string">"&amp;sysparm_record_row="</span> + sysparm_record_row.value;
    <span class="hljs-keyword">var</span> sysparm_record_rows = gel(<span class="hljs-string">'sysparm_record_rows'</span>);
    <span class="hljs-keyword">if</span> (sysparm_record_rows)
        url = url + <span class="hljs-string">"&amp;sysparm_record_rows="</span> + sysparm_record_rows.value;
    <span class="hljs-keyword">var</span> sysparm_record_list = gel(<span class="hljs-string">'sysparm_record_list'</span>);
    <span class="hljs-keyword">if</span> (sysparm_record_list)
        url = url + <span class="hljs-string">"&amp;sysparm_record_list="</span> + <span class="hljs-built_in">encodeURIComponent</span>(sysparm_record_list.value);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_referring_url"</span>, url);
    getRefQualURI(tableName, <span class="hljs-string">"*"</span>);
    addInput(form, <span class="hljs-string">"HIDDEN"</span>, <span class="hljs-string">"sysparm_client_record"</span>, <span class="hljs-string">"session"</span>);
    form.sys_action.value = <span class="hljs-string">'sysverb_m2ms'</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form.onsubmit == <span class="hljs-string">"function"</span>) {
        <span class="hljs-keyword">var</span> rc = form.onsubmit();
        <span class="hljs-keyword">if</span> (!rc)
            <span class="hljs-keyword">return</span>;
    }
    form.submit();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addGlideListChoice</span>(<span class="hljs-params">selectID, value, displayValue, toggleIcons</span>) </span>{
    <span class="hljs-keyword">if</span> (!value)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> ref = selectID.substring(<span class="hljs-string">'select_0'</span>.length);
    <span class="hljs-keyword">var</span> select = <span class="hljs-keyword">new</span> Select(selectID);
    CustomEvent.fire(<span class="hljs-string">"element_mapping:glide_list_add"</span>, {
        <span class="hljs-attr">id</span>: ref,
        <span class="hljs-attr">value</span>: value,
        <span class="hljs-attr">displayValue</span>: displayValue
    });
    <span class="hljs-keyword">if</span> (select.contains(value))
        <span class="hljs-keyword">return</span>;
    select.addOption(value, displayValue);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> toggleIcons == <span class="hljs-string">"undefined"</span> || toggleIcons == <span class="hljs-literal">true</span>)
        toggleGlideListIcons(ref);
    <span class="hljs-keyword">if</span> ($j) {
        $j(gel(ref)).trigger(<span class="hljs-string">"change"</span>);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addEmailAddressToList</span>(<span class="hljs-params">selectID, input, msg</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> ref = input.getAttribute(<span class="hljs-string">'data-ref'</span>);
    g_form.hideErrorBox(ref);
    <span class="hljs-keyword">if</span> (input.value == <span class="hljs-literal">null</span> || input.value == <span class="hljs-string">""</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!isEmailValid(input.value)) {
        g_form.showErrorBox(ref, msg);
        <span class="hljs-keyword">return</span>;
    }
    addGlideListChoice(selectID, input.value, input.value);
    input.value = <span class="hljs-string">""</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">emailInputKeyPress</span>(<span class="hljs-params">e, selectID, input, msg</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> ref = input.getAttribute(<span class="hljs-string">'data-ref'</span>);
    g_form.hideErrorBox(ref);
    <span class="hljs-keyword">var</span> keyCode = getKeyCode(e);
    <span class="hljs-keyword">if</span> (keyCode != KEY_ENTER)
        <span class="hljs-keyword">return</span>;
    Event.stop(e);
    addEmailAddressToList(selectID, input, msg);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removefieldBackgroundText</span>(<span class="hljs-params">the_field, the_text, ref</span>) </span>{
    <span class="hljs-keyword">if</span> (the_field.value == the_text) {
        the_field.value = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> standard_field = gel(<span class="hljs-string">"select_0"</span> + ref);
        the_field.style.color = standard_field.style.color;
        the_field.style.fontStyle = standard_field.style.fontStyle;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">selectFromFieldList</span>(<span class="hljs-params">selectID, depTableElementID, refTables, types, title, evt</span>) </span>{
    <span class="hljs-keyword">if</span> (evt)
        Event.stop(evt);
    <span class="hljs-keyword">var</span> depElement = gel(depTableElementID);
    <span class="hljs-keyword">if</span> (!depElement) {
        jslog(<span class="hljs-string">"Dependent table not found for list"</span>);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> table = depElement.value;
    <span class="hljs-keyword">if</span> (!table) {
        jslog(<span class="hljs-string">"Dependent table not specified for list"</span>);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> gDialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'field_list_selector'</span>);
    gDialog.setTitle(title);
    gDialog.setPreference(<span class="hljs-string">'sysparm_elementID'</span>, selectID);
    gDialog.setPreference(<span class="hljs-string">'sysparm_table'</span>, table);
    gDialog.setPreference(<span class="hljs-string">'sysparm_ref_tables'</span>, refTables);
    gDialog.setPreference(<span class="hljs-string">'sysparm_types'</span>, types);
    gDialog.setPreference(<span class="hljs-string">'sysparm_prefix'</span>, <span class="hljs-string">'__dollar__{'</span>);
    gDialog.setPreference(<span class="hljs-string">'sysparm_suffix'</span>, <span class="hljs-string">'}'</span>);
    gDialog.setPreference(<span class="hljs-string">'set_request_params'</span>, <span class="hljs-string">'true'</span>);
    gDialog.render();
    gDialog = <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addGlideListReference</span>(<span class="hljs-params">fieldid</span>) </span>{
    <span class="hljs-keyword">var</span> value = gel(fieldid).value;
    <span class="hljs-keyword">var</span> displayWidget = gel(<span class="hljs-string">'sys_display.'</span> + fieldid);
    <span class="hljs-keyword">var</span> display = displayWidget.value;
    displayWidget.value = <span class="hljs-string">''</span>;
    addGlideListChoice(<span class="hljs-string">'select_0'</span> + fieldid, value, display);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addGlideListFromSelect</span>(<span class="hljs-params">selectID, select</span>) </span>{
    <span class="hljs-keyword">var</span> option = select.options[select.selectedIndex];
    addGlideListChoice(selectID, option.value, option.value);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addfieldBackgroundText</span>(<span class="hljs-params">the_field, the_text</span>) </span>{
    <span class="hljs-keyword">if</span> (the_field.value == <span class="hljs-string">""</span>) {
        the_field.value = the_text;
        the_field.save_old_color = the_field.style.color;
        the_field.style.color = <span class="hljs-string">"blue"</span>;
        the_field.style.fontStyle = <span class="hljs-string">"italic"</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleGlideListIcons</span>(<span class="hljs-params">id, performOnChange</span>) </span>{
    <span class="hljs-keyword">var</span> add_me = gel(<span class="hljs-string">'add_me.'</span> + id);
    <span class="hljs-keyword">var</span> remove = gel(<span class="hljs-string">'remove.'</span> + id);
    <span class="hljs-keyword">var</span> view2 = gel(<span class="hljs-string">'view2.'</span> + id);
    <span class="hljs-keyword">if</span> (!view2)
        view2 = gel(<span class="hljs-string">'view2link.'</span> + id);
    <span class="hljs-keyword">var</span> select = gel(<span class="hljs-string">'select_0'</span> + id);
    <span class="hljs-keyword">var</span> options = select.options;
    <span class="hljs-keyword">var</span> selCnt = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> isMe = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != options.length; i++) {
        <span class="hljs-keyword">if</span> (options[i].selected)
            selCnt++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_user !== <span class="hljs-string">"undefined"</span> &amp;&amp; options[i].value == g_user.userID)
            isMe = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">if</span> (view2) {
        <span class="hljs-keyword">var</span> isEmail = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (selCnt == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> selectValue = select.options[select.selectedIndex].value;
            <span class="hljs-keyword">if</span> (selectValue.indexOf(<span class="hljs-string">"@"</span>) &gt; <span class="hljs-number">-1</span>) {
                <span class="hljs-keyword">var</span> selectText = select.options[select.selectedIndex].text;
                <span class="hljs-keyword">if</span> (selectValue == selectText)
                    isEmail = <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">var</span> view2Link = gel(<span class="hljs-string">'view2link.'</span> + id);
        <span class="hljs-keyword">if</span> (selCnt == <span class="hljs-number">1</span> &amp;&amp; !isEmail) {
            view2.src = <span class="hljs-string">'images/icons/hover_icon_small2.gifx'</span>;
            view2Link.disabled = <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> {
            view2.src = <span class="hljs-string">'images/icons/hover_icon_small2_off.gifx'</span>;
            view2Link.disabled = <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">if</span> (remove) {
        <span class="hljs-keyword">if</span> (selCnt &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">if</span> (remove.tagName == <span class="hljs-string">"BUTTON"</span>)
                remove.disabled = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">else</span>
                remove.src = <span class="hljs-string">'images/delete_edit.gifx'</span>;
        <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">if</span> (remove.tagName == <span class="hljs-string">"BUTTON"</span>)
            remove.disabled = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            remove.src = <span class="hljs-string">'images/delete_edit_off.gifx'</span>;
    }
    <span class="hljs-keyword">if</span> (add_me) {
        <span class="hljs-keyword">if</span> (!isMe)
            <span class="hljs-keyword">if</span> (add_me.tagName == <span class="hljs-string">"BUTTON"</span>)
                add_me.disabled = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">else</span>
                add_me.src = <span class="hljs-string">'images/icons/user_obj.gifx'</span>;
        <span class="hljs-keyword">else</span>
        <span class="hljs-keyword">if</span> (add_me.tagName == <span class="hljs-string">"BUTTON"</span>)
            add_me.disabled = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">else</span>
            add_me.src = <span class="hljs-string">'images/icons/user_obj_off.gifx'</span>;
    }
    add_me = <span class="hljs-literal">null</span>;
    remove = <span class="hljs-literal">null</span>;
    view2 = <span class="hljs-literal">null</span>;
    options = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> performOnChange != <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">if</span> (performOnChange == <span class="hljs-literal">false</span>)
            <span class="hljs-keyword">return</span>;
    glideListSaveList(id);
    <span class="hljs-keyword">if</span> ((id.startsWith(<span class="hljs-string">"IO:"</span>) || id.startsWith(<span class="hljs-string">"ni.VE"</span>) || id.startsWith(<span class="hljs-string">"ni.QS"</span>)) &amp;&amp;
        <span class="hljs-keyword">typeof</span>(variableOnChange) == <span class="hljs-string">'function'</span>)
        variableOnChange(id);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleAddMe</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> add_me_locked = $(<span class="hljs-string">'add_me_locked.'</span> + id);
    <span class="hljs-keyword">if</span> (!add_me_locked)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> select = gel(<span class="hljs-string">'select_0'</span> + id);
    <span class="hljs-keyword">var</span> options = select.options;
    <span class="hljs-keyword">var</span> isMe = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != options.length; i++) {
        <span class="hljs-keyword">if</span> (options[i].value == g_user.userID)
            isMe = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">var</span> unlockImg = $(id + <span class="hljs-string">"_unlock"</span>);
    <span class="hljs-keyword">if</span> (isMe)
        add_me_locked.hide();
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (unlockImg.style.display == <span class="hljs-string">"none"</span>)
        add_me_locked.hide();
    <span class="hljs-keyword">else</span>
        add_me_locked.show();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">glideListSaveList</span>(<span class="hljs-params">id</span>) </span>{
    <span class="hljs-keyword">var</span> sel0 = gel(<span class="hljs-string">'select_0'</span> + id);
    <span class="hljs-keyword">var</span> distribution = gel(id);
    saveAllSelected([sel0], [distribution], <span class="hljs-string">','</span>, <span class="hljs-string">'\\'</span>, <span class="hljs-string">'--None--'</span>);
    onChange(id);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">glideListViewSelection</span>(<span class="hljs-params">id, refParent, reference, clickThroughPopup</span>) </span>{
    <span class="hljs-keyword">var</span> view2Link = gel(<span class="hljs-string">"view2link."</span> + id);
    <span class="hljs-keyword">if</span> (view2Link.disabled == <span class="hljs-literal">true</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> popupView = view2Link.getAttribute(<span class="hljs-string">'data-popup-view'</span>);
    viewSelection(gel(<span class="hljs-string">"select_0"</span> + id), refParent, reference + <span class="hljs-string">".do"</span>, id, clickThroughPopup === <span class="hljs-string">'true'</span>, popupView);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">glideListPopupSelection</span>(<span class="hljs-params">event, id, table</span>) </span>{
    <span class="hljs-keyword">var</span> select = gel(<span class="hljs-string">"select_0"</span> + id);
    <span class="hljs-keyword">var</span> sysid = glideListGetSelected(select);
    <span class="hljs-keyword">if</span> (sysid)
        popRecordDiv(event, table, sysid);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">glideListInit</span>(<span class="hljs-params">id, ref, reference</span>) </span>{
    <span class="hljs-keyword">var</span> sel = gel(id);
    <span class="hljs-keyword">if</span> (sel.form) {
        addOnSubmitEvent(sel.form, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            saveAllSelected([gel(id)], [gel(ref)], <span class="hljs-string">','</span>, <span class="hljs-string">'\\'</span>, <span class="hljs-string">'--None--'</span>);
        });
    }
    <span class="hljs-keyword">var</span> listObject = <span class="hljs-keyword">new</span> GlideListElement(ref, reference);
    g_form.registerHandler(ref, listObject);
    toggleAddMe(ref);
    toggleGlideListIcons(ref, <span class="hljs-literal">false</span>);
    <span class="hljs-keyword">var</span> dynamicTable = gel(ref).getAttribute(<span class="hljs-string">"data-dynamic-table-dependent"</span>);
    <span class="hljs-keyword">if</span> (dynamicTable) {
        $j(gel(dynamicTable)).on(<span class="hljs-string">"change"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> value = $j(<span class="hljs-keyword">this</span>).val();
            <span class="hljs-keyword">var</span> display = gel(<span class="hljs-string">"sys_display."</span> + ref);
            display.setAttribute(<span class="hljs-string">"data-reference"</span>, value);
            <span class="hljs-keyword">if</span> (display.ac) {
                display.ac.setAdditionalValue(<span class="hljs-string">'sysparm_ref_override'</span>, value);
            }
            $j(gel(ref)).val(<span class="hljs-string">""</span>);
            $j(gel(<span class="hljs-string">'select_0'</span> + ref)).find(<span class="hljs-string">'option'</span>).remove().end().val(<span class="hljs-string">""</span>);
            CustomEvent.fire(<span class="hljs-string">"element_mapping:glide_list_table_changed"</span>, {
                <span class="hljs-attr">id</span>: ref,
                <span class="hljs-attr">newTable</span>: value
            });
        })
    }
    <span class="hljs-keyword">var</span> $look = $j(<span class="hljs-string">'[id="lookup.'</span> + ref + <span class="hljs-string">'"]:not(.sn-popover-complex)'</span>);
    <span class="hljs-keyword">if</span> ($look.length) {
        $look.on(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">var</span> dsp = $j(gel(<span class="hljs-string">"sys_display."</span> + ref));
            reflistOpen(ref,
                dsp.attr(<span class="hljs-string">"data-name"</span>),
                dsp.attr(<span class="hljs-string">'data-reference'</span>),
                dsp.attr(<span class="hljs-string">'data-dependent'</span>),
                <span class="hljs-string">'false'</span>,
                dsp.attr(<span class="hljs-string">'data-ref-qual'</span>));
            mousePositionSave(e);
            e.preventDefault();
            e.stopPropagation();
        });
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUserImageElement.js */</span>
<span class="hljs-keyword">var</span> GlideUserImageElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>._ieResize();
    },
    <span class="hljs-attr">isTemplatable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> $element = $(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">return</span> $element.hasClassName(<span class="hljs-string">'readonly'</span>);
    },
    <span class="hljs-attr">_isReadOnlyATF</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> $element = $(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">return</span> $element.hasClassName(<span class="hljs-string">'readonly'</span>) || $element.getAttribute(<span class="hljs-string">"writeaccess"</span>) == <span class="hljs-string">"false"</span>;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> element = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> editButtons = gel(<span class="hljs-string">"edit."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> addButton = gel(<span class="hljs-string">"add."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> image = gel(<span class="hljs-string">"image."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (element)
            element.readOnly = disabled;
        <span class="hljs-keyword">if</span> (disabled) {
            hideObject(editButtons);
            hideObject(addButton);
        } <span class="hljs-keyword">else</span> {
            showObjectInline(editButtons);
            <span class="hljs-keyword">if</span> (!image)
                showObjectInline(addButton);
        }
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> editButtons = $(<span class="hljs-string">"edit."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (editButtons &amp;&amp; editButtons.visible())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> addButton = $(<span class="hljs-string">"add."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (addButton &amp;&amp; addButton.visible())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_ieResize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> iInput = gel(<span class="hljs-string">"image."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (isMSIE &amp;&amp; iInput) {
            <span class="hljs-keyword">var</span> image = $(iInput.value);
            <span class="hljs-keyword">var</span> height = image.getLayout().get(<span class="hljs-string">'height'</span>);
            <span class="hljs-keyword">var</span> maxHeight = <span class="hljs-built_in">parseInt</span>(image.getStyle(<span class="hljs-string">'max-height'</span>).sub(<span class="hljs-string">'px'</span>, <span class="hljs-string">''</span>), <span class="hljs-number">10</span>);
            <span class="hljs-keyword">var</span> width = image.getLayout().get(<span class="hljs-string">'width'</span>);
            <span class="hljs-keyword">var</span> maxWidth = <span class="hljs-built_in">parseInt</span>(image.getStyle(<span class="hljs-string">'max-width'</span>).sub(<span class="hljs-string">'px'</span>, <span class="hljs-string">''</span>), <span class="hljs-number">10</span>);
            <span class="hljs-keyword">if</span> (height &gt; maxHeight || width &gt; maxWidth) {
                <span class="hljs-keyword">var</span> widthRatio = width / maxWidth;
                <span class="hljs-keyword">var</span> heightRatio = height / maxHeight;
                <span class="hljs-keyword">if</span> (widthRatio &gt; heightRatio)
                    image.width = maxWidth;
                <span class="hljs-keyword">else</span>
                    image.height = maxHeight;
            }
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/FieldListElement.js */</span>
<span class="hljs-keyword">var</span> FieldListElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, dependent, dependentTable, defaultDisplayName, newRecord</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.dependent = dependent;
        <span class="hljs-keyword">this</span>.table = dependentTable == <span class="hljs-string">"null"</span> ? <span class="hljs-literal">null</span> : dependentTable;
        <span class="hljs-keyword">this</span>.defaultDisplayName = (defaultDisplayName == <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultDisplayName)
            <span class="hljs-keyword">this</span>.tableChanged = (newRecord == <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.tableChanged = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.displayName = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.lastValue = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>.initialSetup = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">onLoad</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.table) {
            <span class="hljs-keyword">var</span> table = resolveDependentValue(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.dependent, <span class="hljs-keyword">this</span>.table);
            <span class="hljs-keyword">this</span>.table = table;
        }
        <span class="hljs-keyword">this</span>._listCols();
    },
    <span class="hljs-attr">depChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        gel(<span class="hljs-keyword">this</span>.name).value = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">this</span>._setTableName();
    },
    <span class="hljs-attr">moveOptionUpdate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sourceSelect, targetSelect, keepSourceLabel, unmovableSourceValues, keepTargetLabel,
        direction, property</span>) </span>{
        moveOption(sourceSelect, targetSelect, keepSourceLabel, unmovableSourceValues, keepTargetLabel,
            direction, property);
        <span class="hljs-keyword">this</span>._setListValues();
    },
    <span class="hljs-attr">moveUpUpdate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select</span>) </span>{
        moveUp(gel(select));
        <span class="hljs-keyword">this</span>._setListValues();
    },
    <span class="hljs-attr">moveDownUpdate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select</span>) </span>{
        moveDown(gel(select));
        <span class="hljs-keyword">this</span>._setListValues();
    },
    <span class="hljs-attr">_listCols</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> colist = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">"xmlhttp.do?sysparm_processor=ListColumns&amp;sysparm_expanded=0&amp;sysparm_name="</span> + <span class="hljs-keyword">this</span>.table +
            <span class="hljs-string">"&amp;sysparm_include_display_name=true&amp;sysparm_qualified_field_name="</span> + <span class="hljs-keyword">this</span>.name;
        <span class="hljs-keyword">if</span> (colist.value.length &gt; <span class="hljs-number">0</span>)
            url += <span class="hljs-string">"&amp;sysparm_col_list="</span> + colist.value;
        jslog(<span class="hljs-string">"FieldListElement: _listCols calling AJAX "</span> + url);
        serverRequest(url, <span class="hljs-keyword">this</span>._colsReturned.bind(<span class="hljs-keyword">this</span>), <span class="hljs-literal">null</span>);
    },
    <span class="hljs-attr">_colsReturned</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request</span>) </span>{
        jslog(<span class="hljs-string">"FieldListElement: _colsReturned AJAX response received"</span>);
        <span class="hljs-keyword">var</span> tcols = request.responseXML;
        <span class="hljs-keyword">var</span> scols = gel(<span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">".select_1"</span>);
        scols.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> acols = gel(<span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">".select_0"</span>);
        acols.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> colist = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> mfields = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> useSpecFields = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> root = tcols.getElementsByTagName(<span class="hljs-string">"xml"</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">this</span>.displayName = root.getAttribute(<span class="hljs-string">"displayName"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tableChanged) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.defaultDisplayName)
                colist.value = <span class="hljs-keyword">this</span>.displayName;
            <span class="hljs-keyword">else</span>
                colist.value = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">if</span> (colist.value.length &gt; <span class="hljs-number">0</span>) {
            mfields = colist.value.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">if</span> (mfields.length &gt; <span class="hljs-number">0</span>)
                useSpecFields = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> items = tcols.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> value = item.getAttribute(<span class="hljs-string">"value"</span>);
            <span class="hljs-keyword">var</span> label = item.getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> ref = item.getAttribute(<span class="hljs-string">"reference"</span>);
            <span class="hljs-keyword">if</span> (ref) {
                <span class="hljs-keyword">if</span> (ref == <span class="hljs-string">''</span>)
                    ref = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">if</span> (valueExistsInArray(value, mfields)) {
                scols.options[scols.options.length] = <span class="hljs-keyword">this</span>._enhanceOption(item, value, label, root, <span class="hljs-string">"selected"</span>);
                <span class="hljs-keyword">if</span> (ref)
                    acols.options[acols.options.length] = <span class="hljs-keyword">this</span>._enhanceOption(item, value, label, root, <span class="hljs-string">"available"</span>);
            } <span class="hljs-keyword">else</span> {
                acols.options[acols.options.length] = <span class="hljs-keyword">this</span>._enhanceOption(item, value, label, root, <span class="hljs-string">"available"</span>);
            }
        }
        <span class="hljs-keyword">if</span> (useSpecFields) {
            <span class="hljs-keyword">var</span> newOptions = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != mfields.length; i++) {
                <span class="hljs-keyword">var</span> s = mfields[i];
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> z = <span class="hljs-number">0</span>; z != scols.options.length; z++) {
                    <span class="hljs-keyword">if</span> (scols.options[z].value == s) {
                        newOptions[newOptions.length] = scols.options[z];
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
            scols.options.length = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i != newOptions.length; i++) {
                scols.options.add(newOptions[i]);
            }
        }
        <span class="hljs-keyword">this</span>._setListValues();
    },
    <span class="hljs-attr">_fireSetValueEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form != <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">var</span> form = g_form.getFormElement();
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> form != <span class="hljs-string">'undefined'</span>)
                $(form).fire(<span class="hljs-string">'glideform:setvalue'</span>);
        }
    },
    <span class="hljs-attr">_enhanceOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, value, label, root, status</span>) </span>{
        <span class="hljs-keyword">var</span> ref = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> xlabel = label;
        <span class="hljs-keyword">if</span> (status != <span class="hljs-string">"selected"</span>) {
            ref = item.getAttribute(<span class="hljs-string">"reference"</span>);
            <span class="hljs-keyword">if</span> (ref) {
                <span class="hljs-keyword">if</span> (ref != <span class="hljs-string">''</span>) {
                    xlabel += <span class="hljs-string">" (+)"</span>;
                } <span class="hljs-keyword">else</span>
                    ref = <span class="hljs-literal">null</span>;
            }
        }
        <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> Option(xlabel, value);
        o.cv = value;
        o.cl = label;
        <span class="hljs-keyword">if</span> (ref) {
            o.tl = item.getAttribute(<span class="hljs-string">"reflabel"</span>);
            o.style.color = <span class="hljs-string">'green'</span>;
            o.reference = ref;
            o.doNotDelete = <span class="hljs-string">'true'</span>;
            <span class="hljs-keyword">if</span> (root) {
                o.bt = root.getAttribute(<span class="hljs-string">"name"</span>);
                o.btl = root.getAttribute(<span class="hljs-string">"label"</span>);
            }
        }
        <span class="hljs-keyword">return</span> o;
    },
    <span class="hljs-attr">_setTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> table = resolveDependentValue(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.dependent, <span class="hljs-keyword">this</span>.table);
        <span class="hljs-keyword">if</span> (table != <span class="hljs-keyword">this</span>.table) {
            <span class="hljs-keyword">this</span>.tableChanged = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.table = table;
            <span class="hljs-keyword">this</span>._listCols(table);
        }
    },
    <span class="hljs-attr">_setListValues</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> scols = gel(<span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">".select_1"</span>);
        <span class="hljs-keyword">var</span> values = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> text = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; scols.length; i++) {
            <span class="hljs-keyword">var</span> opt = scols.options[i];
            <span class="hljs-keyword">if</span> (opt.value &amp;&amp; opt.value != <span class="hljs-string">"--None--"</span>) {
                <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">0</span>) {
                    values += <span class="hljs-string">","</span>;
                    text += <span class="hljs-string">", "</span>;
                }
                values += opt.value;
                text += opt.text;
                count++;
            }
        }
        gel(<span class="hljs-keyword">this</span>.name).value = values;
        <span class="hljs-keyword">var</span> nonedit = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_nonedit"</span>);
        <span class="hljs-keyword">if</span> (nonedit) {
            nonedit.innerHTML = text;
        }
        <span class="hljs-keyword">this</span>.tableChanged = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.lastValue != values) {
            <span class="hljs-keyword">this</span>.lastValue = values;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.initialSetup)
                onChange(<span class="hljs-keyword">this</span>.name);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.initialSetup)
            <span class="hljs-keyword">this</span>._fireSetValueEvent();
        <span class="hljs-keyword">this</span>.initialSetup = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">if</span> (disabled) {
            <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
            lock(unlockElement, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>, <span class="hljs-string">'ni.'</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'.select_1'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>);
            hideObject(unlockElement);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>).style.display == <span class="hljs-string">"none"</span>) {
            <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
            <span class="hljs-keyword">if</span> (isDoctype())
                showObjectInlineBlock(unlockElement);
            <span class="hljs-keyword">else</span>
                showObjectInline(unlockElement);
        }
        gel(<span class="hljs-keyword">this</span>.name).disabled = disabled;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> unlockElement = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">if</span> (unlockElement &amp;&amp; unlockElement.visible())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, displayValue</span>) </span>{
        gel(<span class="hljs-keyword">this</span>.name).value = value;
        <span class="hljs-keyword">var</span> acols = gel(<span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">".select_0"</span>);
        <span class="hljs-keyword">var</span> scols = gel(<span class="hljs-string">"ni."</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">".select_1"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value == <span class="hljs-string">"string"</span>) {
            value = value.split(<span class="hljs-string">","</span>);
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> displayValue == <span class="hljs-string">"string"</span>) {
            displayValue = displayValue.split(<span class="hljs-string">","</span>);
        }
        <span class="hljs-keyword">if</span> (value &amp;&amp; displayValue) {
            <span class="hljs-keyword">if</span> (value.length != displayValue.length) {
                jslog(<span class="hljs-string">"FieldListElement "</span> + <span class="hljs-keyword">this</span>.name +
                    <span class="hljs-string">".setValue() received value and displayValue parameters of different lengths"</span>);
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">var</span> selectedIds = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        <span class="hljs-keyword">var</span> index = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; scols.options.length; i++) {
            selectedIds[index] = i;
            index++;
        }
        <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">0</span>) {
            moveSelectedOptions(selectedIds, scols, acols, <span class="hljs-string">'--None--'</span>, [<span class="hljs-string">'home'</span>], <span class="hljs-string">'--None--'</span>);
        }
        <span class="hljs-keyword">var</span> text = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> validValue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; value.length; i++) {
            <span class="hljs-keyword">var</span> v = value[i];
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>)
                text += <span class="hljs-string">", "</span>;
            <span class="hljs-keyword">var</span> aIndex = <span class="hljs-keyword">this</span>._getOptionIndex(acols, v);
            <span class="hljs-keyword">if</span> (aIndex &gt; <span class="hljs-number">-1</span>) {
                selectedIds = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
                selectedIds[<span class="hljs-number">0</span>] = aIndex;
                text += acols.options[aIndex].text;
                validValue[i] = v;
                moveSelectedOptions(selectedIds, acols, scols, <span class="hljs-string">'--None--'</span>, [], <span class="hljs-string">'--None--'</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (displayValue &amp;&amp; displayValue[i]) {
                    addChoiceFromValueAndDisplay(scols, v, displayValue[i]);
                    text += displayValue[i];
                    validValue[i] = v;
                }
            }
        }
        <span class="hljs-keyword">if</span> (validValue.length &gt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">this</span>.lastValue = validValue.join(<span class="hljs-string">','</span>);
        <span class="hljs-keyword">var</span> nonedit = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_nonedit"</span>);
        <span class="hljs-keyword">if</span> (nonedit) {
            nonedit.innerHTML = text;
        }
        onChange(<span class="hljs-keyword">this</span>.name);
    },
    <span class="hljs-attr">_getOptionIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">select, value</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; select.length; i++)
            <span class="hljs-keyword">if</span> (select.options[i].value == value)
                <span class="hljs-keyword">return</span> i;
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"FieldListElement"</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideTimeElement.js */</span>
<span class="hljs-keyword">var</span> GlideTimeElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, initialValue</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">if</span> (initialValue)
            <span class="hljs-keyword">this</span>.setValue(initialValue)
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, displayValue</span>) </span>{
        <span class="hljs-keyword">if</span> (value == <span class="hljs-string">""</span>)
            value = <span class="hljs-string">"00:00:00"</span>;
        <span class="hljs-keyword">var</span> hours = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> mins = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> secs = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> ampm = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> dateFormat = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_format'</span>).value;
        <span class="hljs-keyword">if</span> (value == <span class="hljs-string">"00:00:00"</span>) {
            <span class="hljs-keyword">if</span> (dateFormat.indexOf(<span class="hljs-string">"hh"</span>) &gt; <span class="hljs-number">-1</span>) {
                hours = <span class="hljs-number">12</span>;
                ampm = <span class="hljs-string">"AM"</span>;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> timeObject = <span class="hljs-keyword">this</span>._getTimeFromFormat(value, dateFormat);
            <span class="hljs-keyword">if</span> (!timeObject) {
                <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"setValue aborted; unable to interpret time '"</span> + value + <span class="hljs-string">"' for format '"</span> + dateFormat + <span class="hljs-string">"'"</span>);
                <span class="hljs-keyword">return</span>;
            }
            hours = timeObject.hh;
            mins = timeObject.mm;
            secs = timeObject.ss;
            ampm = timeObject.ampm;
        }
        hours = <span class="hljs-keyword">this</span>._LZ(hours, (dateFormat.toLowerCase().indexOf(<span class="hljs-string">"hh"</span>) &gt; <span class="hljs-number">-1</span>));
        mins = <span class="hljs-keyword">this</span>._LZ(mins, (dateFormat.toLowerCase().indexOf(<span class="hljs-string">"mm"</span>) &gt; <span class="hljs-number">-1</span>));
        secs = <span class="hljs-keyword">this</span>._LZ(secs, (dateFormat.toLowerCase().indexOf(<span class="hljs-string">"ss"</span>) &gt; <span class="hljs-number">-1</span>));
        gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'dur_hour'</span>).value = hours;
        gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'dur_min'</span>).value = mins;
        <span class="hljs-keyword">var</span> secondsInput = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'dur_sec'</span>);
        <span class="hljs-keyword">if</span> (secondsInput)
            secondsInput.value = secs;
        <span class="hljs-keyword">var</span> ampmw = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'dur_ampm'</span>);
        <span class="hljs-keyword">if</span> (ampmw)
            <span class="hljs-keyword">if</span> (ampm)
                ampmw.value = ampm;
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"undefined"</span> === <span class="hljs-keyword">typeof</span> g_form)
            GlideTimeElement.updateRealTime(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">else</span> {
            g_form._internalChange = <span class="hljs-literal">true</span>;
            GlideTimeElement.updateRealTime(<span class="hljs-keyword">this</span>.name);
            g_form._internalChange = <span class="hljs-literal">false</span>;
        }
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"dur_hour"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"dur_min"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"dur_sec"</span>).disabled = disabled;
        <span class="hljs-keyword">var</span> dateFormat = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_format'</span>).value;
        <span class="hljs-keyword">if</span> (dateFormat.indexOf(<span class="hljs-string">"z"</span>) &gt; <span class="hljs-number">-1</span>)
            gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"dur_ampm"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.name).disabled = disabled;
    },
    <span class="hljs-attr">_LZ</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val, padded</span>) </span>{
        <span class="hljs-keyword">if</span> (!padded) {
            <span class="hljs-keyword">if</span> (val.length &gt; <span class="hljs-number">1</span>)
                <span class="hljs-keyword">if</span> (val.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">'0'</span>)
                    val = val.substring(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">return</span> val;
        }
        val += <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (val.length &lt; <span class="hljs-number">2</span>)
            val = <span class="hljs-string">"0"</span> + val;
        <span class="hljs-keyword">return</span> val;
    },
    <span class="hljs-attr">_getTimeFromFormat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val, format</span>) </span>{
        val = trim(val);
        <span class="hljs-keyword">var</span> i_val = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> i_format = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> c = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> token = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> hh = <span class="hljs-string">""</span>,
            mm = <span class="hljs-string">""</span>,
            ss = <span class="hljs-string">""</span>,
            ampm = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">while</span> (i_format &lt; format.length) {
            c = format.charAt(i_format);
            token = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">while</span> ((format.charAt(i_format) == c) &amp;&amp; (i_format &lt; format.length)) {
                token += format.charAt(i_format++);
            }
            <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"hh"</span> || token == <span class="hljs-string">"h"</span>) {
                hh = <span class="hljs-keyword">this</span>._getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">1</span>) || (hh &gt; <span class="hljs-number">12</span>)) {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"bad hours: "</span> + hh);
                    <span class="hljs-keyword">return</span>;
                }
                i_val += hh.length;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"HH"</span> || token == <span class="hljs-string">"H"</span>) {
                hh = <span class="hljs-keyword">this</span>._getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (hh == <span class="hljs-literal">null</span> || (hh &lt; <span class="hljs-number">0</span>) || (hh &gt; <span class="hljs-number">23</span>)) {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"bad hours: "</span> + hh);
                    <span class="hljs-keyword">return</span>;
                }
                i_val += hh.length;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"mm"</span> || token == <span class="hljs-string">"m"</span>) {
                mm = <span class="hljs-keyword">this</span>._getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (mm == <span class="hljs-literal">null</span> || (mm &lt; <span class="hljs-number">0</span>) || (mm &gt; <span class="hljs-number">59</span>)) {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"bad minutes: "</span> + mm);
                    <span class="hljs-keyword">return</span>;
                }
                i_val += mm.length;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"ss"</span> || token == <span class="hljs-string">"s"</span>) {
                ss = <span class="hljs-keyword">this</span>._getInt(val, i_val, token.length, <span class="hljs-number">2</span>);
                <span class="hljs-keyword">if</span> (ss == <span class="hljs-literal">null</span> || (ss &lt; <span class="hljs-number">0</span>) || (ss &gt; <span class="hljs-number">59</span>)) {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"bad seconds: "</span> + ss);
                    <span class="hljs-keyword">return</span>;
                }
                i_val += ss.length;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (token == <span class="hljs-string">"a"</span>) {
                <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + <span class="hljs-number">2</span>).toLowerCase() == <span class="hljs-string">"am"</span>)
                    ampm = <span class="hljs-string">"AM"</span>;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + <span class="hljs-number">2</span>).toLowerCase() == <span class="hljs-string">"pm"</span>)
                    ampm = <span class="hljs-string">"PM"</span>;
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"bad AM/PM: "</span> + val.substring(i_val, i_val + <span class="hljs-number">2</span>));
                    <span class="hljs-keyword">return</span>;
                }
                i_val += <span class="hljs-number">2</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (val.substring(i_val, i_val + token.length) != token) {
                    <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"time did not match format at character "</span> + i_val);
                    <span class="hljs-keyword">return</span>;
                } <span class="hljs-keyword">else</span>
                    i_val += token.length;
            }
        }
        <span class="hljs-keyword">if</span> (i_val != val.length) {
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"time includes trailing characters"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">hh</span>: hh,
            <span class="hljs-attr">mm</span>: mm,
            <span class="hljs-attr">ss</span>: ss,
            <span class="hljs-attr">ampm</span>: ampm
        };
    },
    <span class="hljs-attr">_getInt</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str, i, minlength, maxlength</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> x = maxlength; x &gt;= minlength; x--) {
            <span class="hljs-keyword">var</span> token = str.substring(i, i + x);
            <span class="hljs-keyword">var</span> intPart = <span class="hljs-keyword">this</span>._getInteger(token);
            <span class="hljs-keyword">if</span> (intPart != <span class="hljs-string">""</span>)
                <span class="hljs-keyword">return</span> intPart;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_getInteger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{
        <span class="hljs-keyword">var</span> digits = <span class="hljs-string">"1234567890"</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; val.length; i++) {
            <span class="hljs-keyword">if</span> (digits.indexOf(val.charAt(i)) == <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">return</span> val.substring(<span class="hljs-number">0</span>, i);
        }
        <span class="hljs-keyword">return</span> val;
    },
    <span class="hljs-attr">log</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        jslog(<span class="hljs-string">"GetTimeElement - "</span> + msg);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideTimeElement"</span>;
    }
});
GlideTimeElement.updateRealTime = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ref</span>) </span>{
    <span class="hljs-keyword">var</span> sdata = gel(ref);
    <span class="hljs-keyword">var</span> hour = gel(ref + <span class="hljs-string">'dur_hour'</span>);
    <span class="hljs-keyword">var</span> min = gel(ref + <span class="hljs-string">'dur_min'</span>);
    <span class="hljs-keyword">var</span> sec = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> ampm = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> dateFormat = gel(ref + <span class="hljs-string">'_format'</span>).value;
    <span class="hljs-keyword">if</span> (dateFormat.indexOf(<span class="hljs-string">"a"</span>) &gt; <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">var</span> ampmw = gel(ref + <span class="hljs-string">'dur_ampm'</span>);
        <span class="hljs-keyword">if</span> (ampmw)
            ampm = ampmw.value;
    }
    <span class="hljs-keyword">if</span> (dateFormat.indexOf(<span class="hljs-string">"s"</span>) &gt; <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">var</span> secondsInput = gel(ref + <span class="hljs-string">'dur_sec'</span>);
        <span class="hljs-keyword">if</span> (secondsInput)
            sec = secondsInput.value;
    }
    sdata.value = GlideTimeElement.formatTime(<span class="hljs-built_in">parseInt</span>(hour.value || <span class="hljs-number">0</span>, <span class="hljs-number">10</span>),
        <span class="hljs-built_in">parseInt</span>(min.value || <span class="hljs-number">0</span>, <span class="hljs-number">10</span>),
        <span class="hljs-built_in">parseInt</span>(sec || <span class="hljs-number">0</span>, <span class="hljs-number">10</span>),
        ampm,
        dateFormat);
    onChange(ref);
}
GlideTimeElement.formatTime = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hour, minute, second, ampm, format</span>) </span>{
    <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    <span class="hljs-keyword">if</span> (ampm == <span class="hljs-string">"PM"</span>)
        hour += <span class="hljs-number">12</span>;
    value[<span class="hljs-string">"H"</span>] = hour;
    value[<span class="hljs-string">"HH"</span>] = LZ(hour);
    <span class="hljs-keyword">if</span> (hour == <span class="hljs-number">0</span>)
        value[<span class="hljs-string">"h"</span>] = <span class="hljs-number">12</span>;
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (hour &gt; <span class="hljs-number">12</span>)
        value[<span class="hljs-string">"h"</span>] = hour - <span class="hljs-number">12</span>;
    <span class="hljs-keyword">else</span>
        value[<span class="hljs-string">"h"</span>] = hour;
    value[<span class="hljs-string">"hh"</span>] = LZ(value[<span class="hljs-string">"h"</span>]);
    value[<span class="hljs-string">"a"</span>] = ampm;
    value[<span class="hljs-string">"m"</span>] = minute;
    value[<span class="hljs-string">"mm"</span>] = LZ(minute);
    value[<span class="hljs-string">"s"</span>] = second;
    value[<span class="hljs-string">"ss"</span>] = LZ(second);
    <span class="hljs-keyword">var</span> i_format = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> c = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> result = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">while</span> (i_format &lt; format.length) {
        c = format.charAt(i_format);
        token = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">while</span> ((format.charAt(i_format) == c) &amp;&amp; (i_format &lt; format.length)) {
            token += format.charAt(i_format++);
        }
        <span class="hljs-keyword">if</span> (value[token] != <span class="hljs-literal">null</span>)
            result = result + value[token];
        <span class="hljs-keyword">else</span>
            result = result + token;
    }
    <span class="hljs-keyword">return</span> result;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideTimerElement.js */</span>
<span class="hljs-keyword">var</span> GlideTimerElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, tmrID</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.tmrID = tmrID;
        <span class="hljs-keyword">this</span>._incrementInterval = <span class="hljs-number">1000</span>;
        <span class="hljs-keyword">this</span>._setTimer();
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        value = <span class="hljs-keyword">this</span>._cleanDate(value);
        <span class="hljs-keyword">var</span> elem = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"o"</span> + <span class="hljs-keyword">this</span>.tmrID);
        elem.value = value;
        <span class="hljs-keyword">this</span>.updateTotal();
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        gel(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_hour"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_min"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_sec"</span>).disabled = disabled;
        gel(<span class="hljs-keyword">this</span>.name).disabled = disabled;
        g_form.setSensitiveDisplayValue(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">".ui_policy_sensitive"</span>, disabled ? <span class="hljs-string">'none'</span> : <span class="hljs-string">''</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">_cancelTimer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.timerID)
            <span class="hljs-keyword">return</span>;
        clearTimeout(<span class="hljs-keyword">this</span>.timerID);
        <span class="hljs-keyword">this</span>.timerID = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._timerStarted = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._timerTicks = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">_setTimer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._timerStarted)
            <span class="hljs-keyword">this</span>._timerStarted = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._timerTicks)
            <span class="hljs-keyword">this</span>._timerTicks = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> diff = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime() - <span class="hljs-keyword">this</span>._timerStarted) - (<span class="hljs-keyword">this</span>._timerTicks * <span class="hljs-keyword">this</span>._incrementInterval);
        <span class="hljs-keyword">this</span>.timerID = setTimeout(<span class="hljs-keyword">this</span>._incrementTimer.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>._incrementInterval - diff);
    },
    <span class="hljs-attr">_incrementTimer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._isPaused()) {
            <span class="hljs-keyword">var</span> addedTime = <span class="hljs-keyword">this</span>._incrementInterval / <span class="hljs-number">1000</span>;
            <span class="hljs-keyword">var</span> currentTime = <span class="hljs-keyword">this</span>.fields2time() + addedTime;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isScrolling)
                <span class="hljs-keyword">this</span>._deferredTime = !!<span class="hljs-keyword">this</span>._deferredTime ? <span class="hljs-keyword">this</span>._deferredTime + addedTime : currentTime;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.setIncrementingValue(currentTime);
        }
        <span class="hljs-keyword">this</span>._timerTicks++;
        <span class="hljs-keyword">this</span>._setTimer();
    },
    <span class="hljs-attr">_isPaused</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> paused = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_paused"</span>);
        <span class="hljs-keyword">return</span> (paused.value == <span class="hljs-string">'true'</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"GlideTimerElement"</span>;
    },
    <span class="hljs-attr">updateTotal</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = $(<span class="hljs-keyword">this</span>.tmrID).getAttribute(<span class="hljs-string">"data-ref"</span>);
        <span class="hljs-keyword">var</span> setField = $(e);
        <span class="hljs-keyword">var</span> currentTime = <span class="hljs-keyword">this</span>.fields2time();
        <span class="hljs-keyword">var</span> otime = <span class="hljs-keyword">this</span>.duration2time();
        <span class="hljs-keyword">var</span> newSetTime = <span class="hljs-built_in">parseInt</span>(otime || <span class="hljs-number">0</span>) + <span class="hljs-built_in">parseInt</span>(currentTime);
        <span class="hljs-keyword">this</span>.setTimer(newSetTime, setField);
    },
    <span class="hljs-attr">fields2time</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> currentTime = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> eHour = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_hour"</span>);
        <span class="hljs-keyword">var</span> eMin = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_min"</span>);
        <span class="hljs-keyword">var</span> eSec = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_sec"</span>);
        <span class="hljs-keyword">if</span> (eHour.value)
            currentTime = <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-built_in">parseInt</span>((<span class="hljs-built_in">isNaN</span>(eHour.value) ? <span class="hljs-number">0</span> : eHour.value), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (eMin.value)
            currentTime += <span class="hljs-number">60</span> * <span class="hljs-built_in">parseInt</span>((<span class="hljs-built_in">isNaN</span>(eMin.value) ? <span class="hljs-number">0</span> : eMin.value), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">if</span> (eSec.value)
            currentTime += <span class="hljs-built_in">parseInt</span>((<span class="hljs-built_in">isNaN</span>(eSec.value) ? <span class="hljs-number">0</span> : eSec.value), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> currentTime;
    },
    <span class="hljs-attr">setTotalValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">currentTime</span>) </span>{
        <span class="hljs-keyword">var</span> eCalculated = $(<span class="hljs-keyword">this</span>.tmrID);
        <span class="hljs-keyword">var</span> eHour = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_hour"</span>);
        <span class="hljs-keyword">var</span> eMin = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_min"</span>);
        <span class="hljs-keyword">var</span> eSec = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_sec"</span>);
        <span class="hljs-keyword">var</span> hour = doubleDigitFormat(sGetHours(currentTime));
        <span class="hljs-keyword">var</span> minute = doubleDigitFormat(sGetMinutes(currentTime));
        <span class="hljs-keyword">var</span> second = doubleDigitFormat(sGetSeconds(currentTime));
        eCalculated.value = <span class="hljs-string">"0 "</span> + hour + <span class="hljs-string">":"</span> + minute + <span class="hljs-string">":"</span> + second;
        eSec.value = second;
        eMin.value = minute;
        eHour.value = hour;
        <span class="hljs-keyword">this</span>.updateTotal();
    },
    <span class="hljs-attr">setIncrementingValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">currentTime</span>) </span>{
        <span class="hljs-keyword">var</span> eCalculated = $(<span class="hljs-keyword">this</span>.tmrID);
        <span class="hljs-keyword">var</span> eHour = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_hour"</span>);
        <span class="hljs-keyword">var</span> eMin = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_min"</span>);
        <span class="hljs-keyword">var</span> eSec = $(<span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_sec"</span>);
        <span class="hljs-keyword">var</span> hour = doubleDigitFormat(sGetHours(currentTime));
        <span class="hljs-keyword">var</span> minute = doubleDigitFormat(sGetMinutes(currentTime));
        <span class="hljs-keyword">var</span> second = doubleDigitFormat(sGetSeconds(currentTime));
        <span class="hljs-keyword">var</span> hourUpdate = (<span class="hljs-built_in">parseInt</span>(eMin.value) &gt;= <span class="hljs-number">59</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>);
        eCalculated.value = <span class="hljs-string">"0 "</span> + hour + <span class="hljs-string">":"</span> + minute + <span class="hljs-string">":"</span> + second;
        <span class="hljs-keyword">var</span> updateTotal = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (second != eSec.value) {
            eSec.value = second;
            updateTotal = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (minute != eMin.value) {
            eMin.value = minute;
            updateTotal = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (hourUpdate &amp;&amp; hour != eHour.value) {
            eHour.value = hour;
            updateTotal = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">if</span> (updateTotal)
            <span class="hljs-keyword">this</span>.updateTotal();
    },
    <span class="hljs-attr">setTimer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newSetTime, setField</span>) </span>{
        <span class="hljs-keyword">var</span> tHour = $(<span class="hljs-string">"o"</span> + <span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_hour"</span>);
        <span class="hljs-keyword">var</span> tMin = $(<span class="hljs-string">"o"</span> + <span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_min"</span>);
        <span class="hljs-keyword">var</span> tSec = $(<span class="hljs-string">"o"</span> + <span class="hljs-keyword">this</span>.tmrID + <span class="hljs-string">"_sec"</span>);
        <span class="hljs-keyword">var</span> hour = doubleDigitFormat(sGetHours(newSetTime));
        <span class="hljs-keyword">var</span> minute = doubleDigitFormat(sGetMinutes(newSetTime));
        <span class="hljs-keyword">var</span> second = doubleDigitFormat(sGetSeconds(newSetTime));
        tHour.innerHTML = hour;
        tMin.innerHTML = minute;
        tSec.innerHTML = second;
        <span class="hljs-keyword">if</span> (hour &gt; <span class="hljs-number">24</span>) {
            <span class="hljs-keyword">var</span> days = <span class="hljs-built_in">parseInt</span>(hour / <span class="hljs-number">24</span>);
            hour = days + <span class="hljs-string">" "</span> + (hour - (days * <span class="hljs-number">24</span>));
        }
        setField.value = hour + <span class="hljs-string">":"</span> + minute + <span class="hljs-string">":"</span> + second;
    },
    <span class="hljs-attr">duration2time</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> currentTime = $(<span class="hljs-string">"o"</span> + <span class="hljs-keyword">this</span>.tmrID).value;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.duration2timeValue(currentTime);
    },
    <span class="hljs-attr">duration2timeValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">currentTime</span>) </span>{
        <span class="hljs-keyword">var</span> days = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (currentTime == <span class="hljs-number">0</span>)
            currentTime = <span class="hljs-string">"00:00:00"</span>;
        <span class="hljs-keyword">if</span> (currentTime.indexOf(<span class="hljs-string">" "</span>) &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> sp = currentTime.indexOf(<span class="hljs-string">" "</span>);
            days = currentTime.substring(<span class="hljs-number">0</span>, sp);
            currentTime = currentTime.substring(sp + <span class="hljs-number">1</span>, currentTime.length);
        }
        <span class="hljs-keyword">var</span> hours = <span class="hljs-built_in">parseInt</span>(currentTime.substring(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> minutes = <span class="hljs-built_in">parseInt</span>(currentTime.substring(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>), <span class="hljs-number">10</span>);
        <span class="hljs-keyword">var</span> seconds = <span class="hljs-built_in">parseInt</span>(currentTime.substring(<span class="hljs-number">6</span>, <span class="hljs-number">8</span>), <span class="hljs-number">10</span>);
        currentTime = ((<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * <span class="hljs-number">24</span>) * days;
        currentTime += (<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * hours;
        currentTime += <span class="hljs-number">60</span> * minutes;
        currentTime += seconds;
        <span class="hljs-keyword">return</span> currentTime;
    },
    <span class="hljs-attr">_cleanDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dateToClean</span>) </span>{
        <span class="hljs-keyword">if</span> (dateToClean.indexOf(<span class="hljs-string">" "</span>) &gt; <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> sp = dateToClean.indexOf(<span class="hljs-string">" "</span>);
            days = dateToClean.substring(<span class="hljs-number">0</span>, sp);
            <span class="hljs-keyword">if</span> (days.indexOf(<span class="hljs-string">'-'</span>) != <span class="hljs-number">-1</span>)
                days = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(days) / <span class="hljs-number">8.64e7</span>);
            dateToClean = days + <span class="hljs-string">" "</span> + dateToClean.substring(sp + <span class="hljs-number">1</span>, dateToClean.length);
        }
        <span class="hljs-keyword">return</span> dateToClean;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideTimerElement'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/UserRolesElement.js */</span>
<span class="hljs-keyword">var</span> UserRolesElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>._initializeEvents();
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> lockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_lock"</span>);
        <span class="hljs-keyword">if</span> (disabled) {
            <span class="hljs-keyword">if</span> (lockElement)
                hideObject(lockElement);
            <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
            lock(unlockElement, <span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_1'</span>, <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>);
            hideObject(unlockElement);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (lockElement &amp;&amp; lockElement.style.display != <span class="hljs-string">"none"</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> unlockElement = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
            <span class="hljs-keyword">if</span> (isDoctype())
                showObjectInlineBlock(unlockElement);
            <span class="hljs-keyword">else</span>
                showObjectInline(unlockElement);
        }
        gel(<span class="hljs-keyword">this</span>.name).disabled = disabled;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> lockElement = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_lock"</span>);
        <span class="hljs-keyword">if</span> (lockElement &amp;&amp; lockElement.visible())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> unlockElement = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"_unlock"</span>);
        <span class="hljs-keyword">if</span> (unlockElement &amp;&amp; unlockElement.visible())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue</span>) </span>{
        <span class="hljs-keyword">var</span> hiddenElement = $(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">var</span> visibleElement = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"select_1"</span>);
        <span class="hljs-keyword">this</span>.visibleElementId = visibleElement.id;
        <span class="hljs-keyword">var</span> leftSideSelect = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">"select_0"</span>);
        hiddenElement.value = <span class="hljs-string">""</span>;
        visibleElement.options.length = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> newValue == <span class="hljs-string">"string"</span> &amp;&amp; newValue != <span class="hljs-string">""</span>)
            newValue = newValue.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; newValue.length; i++) {
            <span class="hljs-keyword">var</span> value = newValue[i];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = leftSideSelect.length - <span class="hljs-number">1</span>; d &gt;= <span class="hljs-number">0</span>; d--) {
                <span class="hljs-keyword">if</span> (leftSideSelect.options[d].value == value) {
                    leftSideSelect.remove(d);
                }
            }
            <span class="hljs-keyword">this</span>._setValue(value);
        }
        <span class="hljs-keyword">this</span>._updateNonEditValue(newValue);
        UserRolesElement.buildSelectList(<span class="hljs-keyword">this</span>.name, <span class="hljs-literal">true</span>);
        onChange(<span class="hljs-keyword">this</span>.name);
    },
    <span class="hljs-attr">keyDownLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> key = evt.keyCode;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isSpaceOrEnterKey(key))
            <span class="hljs-keyword">this</span>.selectRole();
    },
    <span class="hljs-attr">keyDownRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> key = evt.keyCode;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isSpaceOrEnterKey(key))
            <span class="hljs-keyword">this</span>.deselectRole();
    },
    <span class="hljs-attr">_isSpaceOrEnterKey</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">keycode</span>) </span>{
        <span class="hljs-keyword">return</span> keycode == <span class="hljs-number">32</span> || keycode == <span class="hljs-number">13</span>;
    },
    <span class="hljs-attr">selectRole</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        moveOption($(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_0'</span>), $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_1'</span>), <span class="hljs-string">'--None--'</span>, [], <span class="hljs-string">'--None--'</span>);
        UserRolesElement.buildSelectList(<span class="hljs-keyword">this</span>.name, <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">deselectRole</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        moveOption($(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_1'</span>), $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_0'</span>), <span class="hljs-string">'--None--'</span>, [], <span class="hljs-string">'--None--'</span>);
        UserRolesElement.buildSelectList(<span class="hljs-keyword">this</span>.name, <span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">_setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">if</span> (!value)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> select = <span class="hljs-keyword">new</span> Select(<span class="hljs-keyword">this</span>.visibleElementId);
        <span class="hljs-keyword">if</span> (select.contains(value))
            <span class="hljs-keyword">return</span>;
        select.addOption(value, value);
        select = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_updateNonEditValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue</span>) </span>{
        <span class="hljs-keyword">var</span> elem = $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_nonedit'</span>);
        <span class="hljs-keyword">if</span> (newValue.length &lt; <span class="hljs-number">2</span>) {
            elem
                .setStyle(<span class="hljs-string">'display'</span>, <span class="hljs-string">'inline-block'</span>)
                .update(newValue);
        } <span class="hljs-keyword">else</span> {
            elem
                .setStyle(<span class="hljs-string">'display'</span>, <span class="hljs-string">'inline-block'</span>)
                .update(newValue.join(<span class="hljs-string">', '</span>));
        }
    },
    <span class="hljs-attr">_initializeEvents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_0'</span>).on(<span class="hljs-string">'keydown'</span>, <span class="hljs-keyword">this</span>.keyDownLeft.bind(<span class="hljs-keyword">this</span>));
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_0'</span>).on(<span class="hljs-string">'dblclick'</span>, <span class="hljs-keyword">this</span>.selectRole.bind(<span class="hljs-keyword">this</span>));
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_1'</span>).on(<span class="hljs-string">'keydown'</span>, <span class="hljs-keyword">this</span>.keyDownRight.bind(<span class="hljs-keyword">this</span>));
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'select_1'</span>).on(<span class="hljs-string">'dblclick'</span>, <span class="hljs-keyword">this</span>.deselectRole.bind(<span class="hljs-keyword">this</span>));
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'[data-action="add"]'</span>, <span class="hljs-keyword">this</span>.selectRole.bind(<span class="hljs-keyword">this</span>));
        $(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">'_edit'</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'[data-action="remove"]'</span>, <span class="hljs-keyword">this</span>.deselectRole.bind(<span class="hljs-keyword">this</span>));
    }
});
UserRolesElement.buildSelectList = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ref, performOnChange</span>) </span>{
    <span class="hljs-keyword">var</span> sel0 = $(ref + <span class="hljs-string">'select_0'</span>);
    <span class="hljs-keyword">var</span> sel1 = $(ref + <span class="hljs-string">'select_1'</span>);
    <span class="hljs-keyword">var</span> available = $(ref + <span class="hljs-string">'available'</span>);
    <span class="hljs-keyword">var</span> selected = $(ref);
    saveAllSelected([sel0, sel1], [available, selected], <span class="hljs-string">','</span>, <span class="hljs-string">'\\'</span>, <span class="hljs-string">'--None--'</span>);
    <span class="hljs-keyword">if</span> (performOnChange == <span class="hljs-literal">false</span>)
        <span class="hljs-keyword">return</span>;
    onChange(ref);
}
UserRolesElement.userRolesMaxWidth = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ref</span>) </span>{
    <span class="hljs-keyword">var</span> minWidth = <span class="hljs-number">120</span>;
    <span class="hljs-keyword">var</span> scrollPad = <span class="hljs-number">12</span>;
    <span class="hljs-keyword">if</span> (isMSIE)
        scrollPad = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> prefix = ref + <span class="hljs-string">"select_"</span>;
    <span class="hljs-keyword">var</span> select0 = gel(prefix + <span class="hljs-string">"0"</span>);
    minWidth = <span class="hljs-built_in">Math</span>.max(select0.clientWidth + scrollPad, minWidth);
    <span class="hljs-keyword">var</span> select1 = gel(prefix + <span class="hljs-string">"1"</span>);
    minWidth = <span class="hljs-built_in">Math</span>.max(select1.clientWidth + scrollPad, minWidth);
    select0.style.width = minWidth + <span class="hljs-string">"px"</span>;
    select1.style.width = minWidth + <span class="hljs-string">"px"</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/DaysOfWeekElement.js */</span>
<span class="hljs-keyword">var</span> DaysOfWeekElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (e) {
            <span class="hljs-keyword">var</span> checkedDays = e.value;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i != <span class="hljs-number">8</span>; i++) {
                <span class="hljs-keyword">var</span> cb = gel(<span class="hljs-string">'ni.'</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'.'</span> + i);
                <span class="hljs-keyword">if</span> (cb) {
                    cb.disabled = disabled;
                }
            }
        }
    },
    <span class="hljs-attr">isDisabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cb = $(<span class="hljs-string">'ni.'</span> + <span class="hljs-keyword">this</span>.name + <span class="hljs-string">'.1'</span>);
        <span class="hljs-keyword">if</span> (cb &amp;&amp; !cb.disabled)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/TextAreaElement.js */</span>
<span class="hljs-keyword">var</span> TextAreaElement = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
    },
    <span class="hljs-attr">setReadOnly</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">disabled</span>) </span>{
        <span class="hljs-keyword">var</span> d = gel(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (disabled) {
            d.readOnly = <span class="hljs-string">"readonly"</span>;
            addClassName(d, <span class="hljs-string">"readonly"</span>);
        } <span class="hljs-keyword">else</span> {
            d.readOnly = <span class="hljs-string">""</span>;
            removeClassName(d, <span class="hljs-string">"readonly"</span>);
        }
    },
    <span class="hljs-attr">setValue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue</span>) </span>{
        <span class="hljs-keyword">if</span> (newValue == <span class="hljs-string">'XXmultiChangeXX'</span>) {
            newValue = <span class="hljs-string">''</span>;
        }
        <span class="hljs-keyword">var</span> d = gel(<span class="hljs-keyword">this</span>.name + <span class="hljs-string">".ta"</span>);
        <span class="hljs-keyword">if</span> (d)
            d.value = newValue;
        d = gel(<span class="hljs-keyword">this</span>.name);
        d.value = newValue;
        onChange(<span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.jQuery)
            $j(d).trigger(<span class="hljs-string">"autosize.resize"</span>);
        d = gel(<span class="hljs-string">"sys_original."</span> + <span class="hljs-keyword">this</span>.name);
        <span class="hljs-keyword">if</span> (d) {
            d.value = <span class="hljs-string">"XXmultiChangeXX"</span>;
        }
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/AttachmentUploader.js */</span>
<span class="hljs-keyword">var</span> AttachmentUploader = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, file, fileNumber, canAttach, showView, showPopup</span>) </span>{
        <span class="hljs-keyword">this</span>.target = Event.element(event);
        <span class="hljs-keyword">this</span>.file = file;
        <span class="hljs-keyword">this</span>.fileNumber = fileNumber;
        <span class="hljs-keyword">this</span>.showView = showView;
        <span class="hljs-keyword">this</span>.showPopup = showPopup;
        <span class="hljs-keyword">this</span>.canAttach = canAttach;
        <span class="hljs-keyword">this</span>.control = gel(<span class="hljs-string">"upload_file_"</span> + <span class="hljs-keyword">this</span>.fileNumber);
        <span class="hljs-keyword">this</span>.progress = gel(<span class="hljs-string">"upload_file_progress_"</span> + <span class="hljs-keyword">this</span>.fileNumber);
        <span class="hljs-keyword">this</span>.CRLF = <span class="hljs-string">"\r\n"</span>
        <span class="hljs-keyword">var</span> sys_id = gel(<span class="hljs-string">"sys_uniqueValue"</span>);
        <span class="hljs-keyword">if</span> (!sys_id)
            sys_id = gel(<span class="hljs-string">"sysparm_item_guid"</span>);
        <span class="hljs-keyword">this</span>.parent_sys_id = sys_id.value;
        <span class="hljs-keyword">var</span> table = gel(<span class="hljs-string">"sys_target"</span>);
        <span class="hljs-keyword">if</span> (!table)
            table = gel(<span class="hljs-string">"ni.attachment_target"</span>);
        <span class="hljs-keyword">this</span>.table = table.value;
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.target = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.xhr = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.file = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.control = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.progress = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">send</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">uploadedFunction</span>) </span>{
        <span class="hljs-keyword">this</span>.xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        Event.observe(<span class="hljs-keyword">this</span>.xhr.upload, <span class="hljs-string">"load"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (self.control) {
                <span class="hljs-keyword">try</span> {
                    rel(self.control);
                    $(<span class="hljs-string">'header_attachment'</span>).style.height = <span class="hljs-string">'auto'</span>;
                } <span class="hljs-keyword">catch</span> (ex) {}
            }
        }, <span class="hljs-literal">false</span>);
        Event.observe(<span class="hljs-keyword">this</span>.xhr.upload, <span class="hljs-string">"progress"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">if</span> (e.lengthComputable) {
                <span class="hljs-keyword">var</span> percentage = <span class="hljs-built_in">Math</span>.round((e.loaded * <span class="hljs-number">100</span>) / e.total);
                self._updateProgressBar(percentage);
            }
        }, <span class="hljs-literal">false</span>);
        Event.observe(<span class="hljs-keyword">this</span>.xhr.upload, <span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self._updateProgress(<span class="hljs-string">" error"</span>);
            <span class="hljs-keyword">if</span> (self.control)
                self.control.style.backgroundColor = <span class="hljs-string">"tomato"</span>;
            self.destroy();
        }, <span class="hljs-literal">false</span>);
        Event.observe(<span class="hljs-keyword">this</span>.xhr.upload, <span class="hljs-string">"loadstart"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self._updateProgress(<span class="hljs-string">"started"</span>);
            <span class="hljs-keyword">if</span> (self.control)
                self.control.style.backgroundColor = <span class="hljs-string">"LightCyan"</span>;
        }, <span class="hljs-literal">false</span>);
        Event.observe(<span class="hljs-keyword">this</span>.xhr.upload, <span class="hljs-string">"abort"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self._updateProgress(<span class="hljs-string">" aborted"</span>);
            <span class="hljs-keyword">if</span> (self.control)
                self.control.style.backgroundColor = <span class="hljs-string">"tomato"</span>;
            self.destroy();
        }, <span class="hljs-literal">false</span>);
        <span class="hljs-keyword">this</span>.xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (self.xhr.readyState === <span class="hljs-number">4</span>) {
                <span class="hljs-keyword">var</span> xml = self.xhr.responseXML;
                <span class="hljs-keyword">if</span> (xml) {
                    <span class="hljs-keyword">var</span> sys_id = xml.documentElement.getAttribute(<span class="hljs-string">"sys_id"</span>);
                    <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">"attachment.refused"</span>) {
                        alert(<span class="hljs-string">"Attachment refused because file type not allowed or type does not match file contents."</span>);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">"create.permission"</span>) {
                        alert(<span class="hljs-string">"You do not have ability to attach file to this record."</span>);
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">"upload.error"</span>) {
                        alert(<span class="hljs-string">"Attachment failed. "</span> +
                            <span class="hljs-string">"Invalid table name and/or sys_id when attempting to create attachment."</span>);
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getIconSrc'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'icon'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_value'</span>, sys_id);
                        ga.getXMLWait();
                        <span class="hljs-keyword">var</span> imgSrc = ga.getAnswer();
                        <span class="hljs-keyword">if</span> (!imgSrc)
                            imgSrc = <span class="hljs-string">"images/attachment.gifx"</span>;
                        addAttachmentNameToForm(sys_id, self.file.name, <span class="hljs-string">"New"</span>, imgSrc,
                            self.canAttach, self.showView, self.showPopup);
                        ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AttachmentAjax'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getCanDelete'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_type'</span>, <span class="hljs-string">'canDelete'</span>);
                        ga.addParam(<span class="hljs-string">'sysparm_value'</span>, sys_id);
                        ga.getXMLWait();
                        <span class="hljs-keyword">var</span> canDelete = ga.getAnswer();
                        <span class="hljs-keyword">if</span> (!canDelete)
                            canDelete = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">var</span> gr = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'sys_attachment'</span>);
                        gr.get(sys_id);
                        addAttachmentNameToDialog(sys_id, self.file.name, canDelete,
                            gr.sys_created_by, gr.sys_created_on, gr.content_type, imgSrc);
                        _saveAttachmentClose();
                        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> uploadedFunction == <span class="hljs-string">"function"</span>) {
                            self.sys_id = sys_id;
                            uploadedFunction.call(<span class="hljs-keyword">this</span>, self);
                        }
                    }
                }
                self.destroy();
            }
        };
        <span class="hljs-keyword">this</span>._checkCompatibleFile(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> formData = <span class="hljs-keyword">new</span> FormData();
            formData.append(<span class="hljs-string">"sysparm_sys_id"</span>, self.parent_sys_id);
            formData.append(<span class="hljs-string">"sysparm_table"</span>, self.table);
            formData.append(<span class="hljs-string">"sysparm_nostack"</span>, <span class="hljs-string">"yes"</span>);
            formData.append(<span class="hljs-string">"sysparm_send_xml"</span>, <span class="hljs-string">"true"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_ck)
                formData.append(<span class="hljs-string">"sysparm_ck"</span>, <span class="hljs-built_in">window</span>.g_ck);
            formData.append(<span class="hljs-string">"attachFile"</span>, self.file, self.file.name);
            self.xhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"sys_attachment.do"</span>, <span class="hljs-literal">true</span>);
            self.xhr.send(formData);
            jslog(<span class="hljs-string">"starting send file upload for "</span> + self.file.name);
        })
    },
    <span class="hljs-attr">_updateProgress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">txt</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.progress)
            <span class="hljs-keyword">this</span>.progress.innerHTML = txt;
    },
    <span class="hljs-attr">_updateProgressBar</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">percentage</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.progress)
            <span class="hljs-keyword">this</span>.progress.innerHTML = <span class="hljs-string">"&lt;progress value=\""</span> + percentage +
            <span class="hljs-string">"\" max=\"100\"&gt;"</span> + percentage + <span class="hljs-string">"%"</span>;
    },
    <span class="hljs-attr">_checkCompatibleFile</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sendFunction</span>) </span>{
        <span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> FileReader();
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        reader.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            self._outputIncompatible();
        }
        reader.onloadend = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
            <span class="hljs-keyword">if</span> (evt.target.error)
                <span class="hljs-keyword">return</span>;
            sendFunction();
        }
        reader.readAsArrayBuffer(<span class="hljs-keyword">this</span>.file);
    },
    <span class="hljs-attr">_isIWorkFile</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fileName = <span class="hljs-keyword">this</span>.file.name;
        <span class="hljs-keyword">return</span> fileName.endsWith(<span class="hljs-string">'.key'</span>) ||
            fileName.endsWith(<span class="hljs-string">'.pages'</span>) ||
            fileName.endsWith(<span class="hljs-string">'.numbers'</span>) ||
            fileName.endsWith(<span class="hljs-string">'.keynote'</span>);
    },
    <span class="hljs-attr">_outputIncompatible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> errMsg = <span class="hljs-string">"There was an error uploading \"{0}.\" "</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._isIWorkFile())
            errMsg += <span class="hljs-string">"Some iWork files cannot be added through drag and drop. "</span>;
        errMsg += <span class="hljs-string">"Please select the file and upload through the paperclip icon above."</span>;
        g_form.addErrorMessage(<span class="hljs-keyword">new</span> GwtMessage().getMessage(errMsg, <span class="hljs-keyword">this</span>.file.name));
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.control)
            <span class="hljs-keyword">this</span>.control.style.display = <span class="hljs-string">"none"</span>;
        <span class="hljs-keyword">this</span>.destroy();
    },
    <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">"AttachmentUploader"</span>;
    }
});
AttachmentUploader.uploadBlob = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">blob, filename, url, data</span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>._getFormBuilder();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> data) {
        <span class="hljs-keyword">if</span> (data.hasOwnProperty(key)) {
            form.append(key, data[key]);
        }
    }
    form.append(<span class="hljs-string">'file'</span>, blob, filename);
    <span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        onSuccess({
            <span class="hljs-attr">data</span>: xhr.response,
            <span class="hljs-attr">xml</span>: xhr.responseXML,
            <span class="hljs-attr">sys_id</span>: xhr.responseXML.documentElement.getAttribute(<span class="hljs-string">'sys_id'</span>)
        });
    };
    xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (xhr.readyState === <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">var</span> sys_id = xhr.responseXML.documentElement.getAttribute(<span class="hljs-string">"sys_id"</span>);
                <span class="hljs-keyword">if</span> (!sys_id) {
                    <span class="hljs-keyword">return</span> onError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Attachment failed because file type does not match with file contents."</span>));
                }
                <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">"create.permission"</span>) {
                    <span class="hljs-keyword">return</span> onError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"You do not have ability to attach file to this record."</span>));
                }
                <span class="hljs-keyword">if</span> (sys_id == <span class="hljs-string">"upload.error"</span>) {
                    <span class="hljs-keyword">return</span> onError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Attachment failed. "</span> +
                        <span class="hljs-string">"Invalid table name and/or sys_id when attempting to create attachment."</span>));
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-number">200</span> &lt;= xhr.status &amp;&amp; xhr.status &lt; <span class="hljs-number">300</span>) {
                    <span class="hljs-keyword">return</span> onError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'server responded with: '</span> + xhr.status));
                }
                onSuccess({
                    <span class="hljs-attr">sys_id</span>: sys_id
                });
            } <span class="hljs-keyword">catch</span> (e) {
                onError(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'server responded with unusable data'</span>));
            }
        }
    };
    xhr.open(<span class="hljs-string">"POST"</span>, url);
    xhr.send(form);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">listen</span>(<span class="hljs-params">event, listener</span>) </span>{
        <span class="hljs-keyword">if</span> (!xhr.addEventListener)
            xhr.attachEvent(event, listener);
        <span class="hljs-keyword">else</span>
            xhr.addEventListener(event, listener, <span class="hljs-literal">false</span>);
    }
    listen(<span class="hljs-string">'progress'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (e.lengthComputable) {
            onProgress({
                <span class="hljs-attr">total</span>: e.total,
                <span class="hljs-attr">loaded</span>: e.loaded,
                <span class="hljs-attr">percent</span>: <span class="hljs-built_in">Math</span>.round((e.loaded * <span class="hljs-number">100</span>) / e.total)
            });
        }
    });
    listen(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        onError(e);
    });
    <span class="hljs-keyword">var</span> errFuns = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onError</span>(<span class="hljs-params">data</span>) </span>{
        errFuns.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            fun(data);
        });
    }
    <span class="hljs-keyword">var</span> sucFuns = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onSuccess</span>(<span class="hljs-params">data</span>) </span>{
        sucFuns.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            fun(data);
        });
    }
    <span class="hljs-keyword">var</span> proFuns = [];

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onProgress</span>(<span class="hljs-params">data</span>) </span>{
        proFuns.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            fun(data);
        });
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            sucFuns.push(fun);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        },
        <span class="hljs-attr">progress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            proFuns.push(fun);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        },
        <span class="hljs-attr">error</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fun</span>) </span>{
            errFuns.push(fun);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        }
    }
};
AttachmentUploader.uploadDataURLAttachment = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dataUrl, name, table, sys_id</span>) </span>{
    <span class="hljs-keyword">var</span> parts = AttachmentUploader._parseDataUrl(dataUrl);
    <span class="hljs-keyword">if</span> (name) {
        name = (parts.ext &amp;&amp; name.indexOf(<span class="hljs-string">'.'</span>) == <span class="hljs-number">-1</span>) ? name + parts.ext : name;
    } <span class="hljs-keyword">else</span> {
        name = <span class="hljs-string">'pasted_image'</span> + (parts.ext ? parts.ext : <span class="hljs-string">'.unknown'</span>);
    }
    <span class="hljs-keyword">var</span> data = {
        <span class="hljs-string">'sysparm_sys_id'</span>: sys_id,
        <span class="hljs-string">'sysparm_table'</span>: table
    };
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.uploadBlob(parts.blob, name, <span class="hljs-string">'sys_attachment.do'</span>, data);
};
AttachmentUploader.uploadDataURLDBImage = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dataUrl, name</span>) </span>{
    <span class="hljs-keyword">var</span> parts = AttachmentUploader._parseDataUrl(dataUrl);
    <span class="hljs-keyword">if</span> (name) {
        name = (parts.ext &amp;&amp; name.indexOf(<span class="hljs-string">'.'</span>) == <span class="hljs-number">-1</span>) ? name + parts.ext : name;
    } <span class="hljs-keyword">else</span> {
        name = <span class="hljs-string">'pasted_image'</span> + (parts.ext ? parts.ext : <span class="hljs-string">'.unknown'</span>);
    }
    <span class="hljs-keyword">var</span> data = {
        <span class="hljs-attr">sysparm_table</span>: <span class="hljs-string">'db_image'</span>,
        <span class="hljs-attr">sysparm_sys_id</span>: <span class="hljs-string">'new_db_image'</span>
    };
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.uploadBlob(parts, name, <span class="hljs-string">'sys_user_image.do'</span>, data);
};
AttachmentUploader._getFormBuilder = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">new</span> FormData();
    form.append(<span class="hljs-string">'sysparm_nostack'</span>, <span class="hljs-string">'yes'</span>);
    form.append(<span class="hljs-string">'sysparm_send_xml'</span>, <span class="hljs-string">'true'</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_ck)
        form.append(<span class="hljs-string">'sysparm_ck'</span>, <span class="hljs-built_in">window</span>.g_ck);
    <span class="hljs-keyword">return</span> form;
};
AttachmentUploader._parseDataUrl = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">str</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>.Blob == <span class="hljs-string">'undefined'</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'cannot create Blobs on this browser'</span>);
    <span class="hljs-keyword">var</span> exts = {
        <span class="hljs-string">'image/jpeg'</span>: <span class="hljs-string">'.jpg'</span>,
        <span class="hljs-string">'image/bmp'</span>: <span class="hljs-string">'.bmp'</span>,
        <span class="hljs-string">'image/gif'</span>: <span class="hljs-string">'.gif'</span>,
        <span class="hljs-string">'image/png'</span>: <span class="hljs-string">'.png'</span>,
        <span class="hljs-string">'image/tiff'</span>: <span class="hljs-string">'.tiff'</span>,
        <span class="hljs-string">'image/svg+xml'</span>: <span class="hljs-string">'.svg'</span>,
        <span class="hljs-string">'image/x-icon'</span>: <span class="hljs-string">'.ico'</span>
    };
    <span class="hljs-keyword">var</span> mime = str.substring(str.indexOf(<span class="hljs-string">':'</span>) + <span class="hljs-number">1</span>, str.indexOf(<span class="hljs-string">';'</span>));
    <span class="hljs-keyword">var</span> base64Str = str.substring(str.indexOf(<span class="hljs-string">','</span>) + <span class="hljs-number">1</span>);
    <span class="hljs-keyword">var</span> byteString = atob(base64Str);
    <span class="hljs-keyword">var</span> ab = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ArrayBuffer</span>(byteString.length);
    <span class="hljs-keyword">var</span> ia = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Uint8Array</span>(ab);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = byteString.length; i &lt; l; i++) {
        ia[i] = byteString.charCodeAt(i);
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">blob</span>: <span class="hljs-keyword">new</span> Blob([ia], {
            <span class="hljs-attr">type</span>: mime
        }),
        <span class="hljs-attr">mime</span>: mime,
        <span class="hljs-attr">ext</span>: exts[mime]
    };
};
AttachmentUploader.addDropZone = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dropZone, maxMegabytes, canAttach, showView, showPopup, extensions, uploadedFunction</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> FileReader == <span class="hljs-string">"undefined"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (canAttach == <span class="hljs-string">"false"</span>) {
        AttachmentUploader.noDropZone(<span class="hljs-string">"File attachments not allowed"</span>);
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">if</span> (maxMegabytes !== <span class="hljs-string">""</span>)
        maxMegabytes = <span class="hljs-built_in">parseInt</span>(maxMegabytes, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">else</span>
        maxMegabytes = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(maxMegabytes))
        maxMegabytes = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> gotExtensions = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (extensions) {
        extensions.toLowerCase();
        extensions = extensions.split(<span class="hljs-string">","</span>);
        gotExtensions = <span class="hljs-literal">true</span>;
    }
    Event.observe(dropZone, <span class="hljs-string">"dragover"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        Event.stop(event);
        <span class="hljs-keyword">var</span> headerAttachment = gel(<span class="hljs-string">"header_attachment"</span>);
        <span class="hljs-keyword">if</span> (headerAttachment &amp;&amp; headerAttachment.style.backgroundColor != <span class="hljs-string">"orange"</span>) {
            headerAttachment.style.backgroundColor = <span class="hljs-string">"orange"</span>;
            needsReset = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> line = gel(<span class="hljs-string">"header_attachment_line"</span>);
        <span class="hljs-keyword">if</span> (line) {
            <span class="hljs-keyword">if</span> (line.style.visibility == <span class="hljs-string">"hidden"</span>) {
                line.reverseOnCancel = <span class="hljs-string">"true"</span>;
                <span class="hljs-keyword">if</span> ($$(<span class="hljs-string">'attachment_list_items'</span>).length &gt; <span class="hljs-number">0</span>) {
                    showObjectInline(gel(<span class="hljs-string">"header_attachment_list_label"</span>));
                }
                line.style.visibility = <span class="hljs-string">"visible"</span>;
                line.style.display = <span class="hljs-string">""</span>;
            }
            line.resetDisplay = <span class="hljs-string">"1"</span>;
        }
        setTimeout(<span class="hljs-string">"AttachmentUploader._resetBackground(false)"</span>, <span class="hljs-number">1000</span>);
        <span class="hljs-keyword">if</span> (!(isMSIE || isMSIE11)) {
            event.dataTransfer.effectAllowed = <span class="hljs-string">"copy"</span>;
            event.dataTransfer.dropEffect = <span class="hljs-string">"copy"</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }, <span class="hljs-literal">true</span>);
    Event.observe(dropZone, <span class="hljs-string">"dragend"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        AttachmentUploader._resetBackground(<span class="hljs-literal">true</span>);
    }, <span class="hljs-literal">true</span>);
    Event.observe(dropZone, <span class="hljs-string">"drop"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        AttachmentUploader._resetBackground(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">var</span> files = event.dataTransfer.files
        <span class="hljs-keyword">if</span> (files.length &lt; <span class="hljs-number">1</span>)
            <span class="hljs-keyword">return</span>;
        Event.stop(event);
        <span class="hljs-keyword">if</span> (dropZone.disableAttachments == <span class="hljs-string">"true"</span>) {
            alert(getMessage(<span class="hljs-string">"Attachments are not allowed"</span>));
            <span class="hljs-keyword">return</span>;
        }
        $(<span class="hljs-string">'header_attachment'</span>).style.height = <span class="hljs-string">'auto'</span>;
        <span class="hljs-keyword">if</span> (isFirefox) {
            $(<span class="hljs-string">'header_attachment'</span>).style.height = <span class="hljs-string">'3em'</span>;
        }
        <span class="hljs-keyword">var</span> line = gel(<span class="hljs-string">"header_attachment_line"</span>);
        <span class="hljs-keyword">if</span> (line)
            line.reverseOnCancel = <span class="hljs-string">"false"</span>;
        <span class="hljs-keyword">var</span> progressSpan = gel(<span class="hljs-string">"attachment_upload_progress"</span>);
        progressSpan.innerHTML = <span class="hljs-string">""</span>;
        <span class="hljs-keyword">var</span> filesTooLarge = [];
        <span class="hljs-keyword">var</span> filesBadExtension = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; files.length; i++) {
            <span class="hljs-keyword">var</span> file = files[i];
            <span class="hljs-keyword">var</span> megs = file.size / <span class="hljs-number">1048576</span>;
            <span class="hljs-keyword">if</span> (maxMegabytes &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">if</span> (megs &gt; maxMegabytes) {
                    filesTooLarge.push(file.name + <span class="hljs-string">" ("</span> + AttachmentUploader.getDisplaySize(file.size) + <span class="hljs-string">")"</span>);
                    files[i] = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">if</span> (gotExtensions) {
                <span class="hljs-keyword">var</span> badExtension = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">var</span> periodIndex = file.name.lastIndexOf(<span class="hljs-string">"."</span>);
                <span class="hljs-keyword">var</span> extension = <span class="hljs-string">"(none)"</span>;
                <span class="hljs-keyword">if</span> (periodIndex == <span class="hljs-number">-1</span>)
                    badExtension = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">else</span> {
                    extension = file.name.substring(periodIndex + <span class="hljs-number">1</span>).toLowerCase();
                    <span class="hljs-keyword">if</span> (extensions.indexOf(extension) == <span class="hljs-number">-1</span>)
                        badExtension = <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">if</span> (badExtension) {
                    filesBadExtension.push(file.name);
                    <span class="hljs-keyword">continue</span>;
                }
            }
            <span class="hljs-keyword">var</span> p = cel(<span class="hljs-string">"p"</span>);
            p.id = <span class="hljs-string">"upload_file_"</span> + i;
            addClassName(p, <span class="hljs-string">'file'</span>);
            p.innerHTML = files[i].name + <span class="hljs-string">" ("</span> + AttachmentUploader.getDisplaySize(files[i].size) + <span class="hljs-string">") "</span>;
            <span class="hljs-keyword">var</span> span = cel(<span class="hljs-string">"span"</span>);
            span.id = <span class="hljs-string">"upload_file_progress_"</span> + i;
            p.appendChild(span);
            progressSpan.appendChild(p);
            <span class="hljs-keyword">var</span> uploader = <span class="hljs-keyword">new</span> AttachmentUploader(event, file, i, canAttach, showView, showPopup);
            uploader.send(uploadedFunction);
        }
        <span class="hljs-keyword">if</span> ((filesTooLarge.length + filesBadExtension.length) &gt; <span class="hljs-number">0</span>)
            AttachmentUploader.setWarning(filesTooLarge, filesBadExtension, maxMegabytes);
    }, <span class="hljs-literal">true</span>);
};
AttachmentUploader._resetBackground = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">doNow</span>) </span>{
    <span class="hljs-keyword">var</span> line = gel(<span class="hljs-string">"header_attachment_line"</span>);
    <span class="hljs-keyword">if</span> (!line)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (doNow != <span class="hljs-literal">true</span> &amp;&amp; <span class="hljs-keyword">typeof</span> line.resetDisplay != <span class="hljs-string">"undefined"</span>) {
        <span class="hljs-keyword">var</span> resetDisplay = <span class="hljs-built_in">parseInt</span>(line.resetDisplay);
        resetDisplay++;
        line.resetDisplay = resetDisplay;
        <span class="hljs-keyword">if</span> (resetDisplay &lt; <span class="hljs-number">10</span>)
            <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-keyword">var</span> headerAttachment = gel(<span class="hljs-string">"header_attachment"</span>);
    <span class="hljs-keyword">if</span> (headerAttachment)
        headerAttachment.style.backgroundColor = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span> (line.reverseOnCancel == <span class="hljs-string">"true"</span>) {
        line.reverseOnCanel = <span class="hljs-string">"false"</span>;
        hideObject(gel(<span class="hljs-string">"header_attachment_list_label"</span>));
        line.style.visibility = <span class="hljs-string">"hidden"</span>;
        line.style.display = <span class="hljs-string">"none"</span>;
    }
}
AttachmentUploader.getDisplaySize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sizeInBytes</span>) </span>{
    <span class="hljs-keyword">var</span> kilobytes = <span class="hljs-built_in">Math</span>.round(sizeInBytes / <span class="hljs-number">1024</span>);
    <span class="hljs-keyword">if</span> (kilobytes &lt; <span class="hljs-number">1</span>)
        kilobytes = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> reportSize = kilobytes + <span class="hljs-string">"K"</span>;
    <span class="hljs-keyword">if</span> (kilobytes &gt; <span class="hljs-number">1024</span>)
        reportSize = <span class="hljs-built_in">Math</span>.round(kilobytes / <span class="hljs-number">1024</span>) + <span class="hljs-string">"MB"</span>;
    <span class="hljs-keyword">return</span> reportSize;
}
AttachmentUploader.noDropZone = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message</span>) </span>{
    <span class="hljs-keyword">var</span> dropZone = <span class="hljs-built_in">document</span>.body;
    Event.observe(dropZone, <span class="hljs-string">"dragover"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        Event.stop(event);
        <span class="hljs-keyword">if</span> (isChrome)
            event.dataTransfer.dropEffect = <span class="hljs-string">"copy"</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }, <span class="hljs-literal">true</span>);
    Event.observe(dropZone, <span class="hljs-string">"dragleave"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        Event.stop(event);
    }, <span class="hljs-literal">true</span>);
    Event.observe(dropZone, <span class="hljs-string">"drop"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        Event.stop(event);
        alert(message);
    }, <span class="hljs-literal">true</span>);
}
AttachmentUploader.isAttachmentDisabled = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">document</span>.body[<span class="hljs-string">"disableAttachments"</span>] === <span class="hljs-string">"true"</span>;
}
AttachmentUploader.disableAttachments = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">document</span>.body.disableAttachments = <span class="hljs-string">"true"</span>;
}
AttachmentUploader.enableAttachments = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">document</span>.body.disableAttachments = <span class="hljs-string">"false"</span>;
}
AttachmentUploader.setWarning = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filesTooLarge, filesBadExtension, maxFileSize</span>) </span>{
    <span class="hljs-keyword">var</span> warningString = <span class="hljs-string">"The following files were not uploaded:\n\n"</span>;
    <span class="hljs-keyword">if</span> (filesTooLarge.length &gt; <span class="hljs-number">0</span>) {
        warningString += <span class="hljs-string">"Files larger than the maximum file size ("</span> + maxFileSize + <span class="hljs-string">"MB):\n"</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; filesTooLarge.length; i++)
            warningString += <span class="hljs-string">"\t"</span> + filesTooLarge[i] + <span class="hljs-string">"\n"</span>;
        warningString += <span class="hljs-string">"\n"</span>;
    }
    <span class="hljs-keyword">if</span> (filesBadExtension.length &gt; <span class="hljs-number">0</span>) {
        warningString += <span class="hljs-string">"Files with prohibited extensions:\n"</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; filesBadExtension.length; i++)
            warningString += <span class="hljs-string">"\t"</span> + filesBadExtension[i] + <span class="hljs-string">"\n"</span>;
    }
    alert(warningString);
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GwtDate.js */</span>
<span class="hljs-keyword">var</span> GwtDate = Class.create({
    <span class="hljs-attr">MINUTES_IN_DAY</span>: <span class="hljs-number">1440</span>,
    <span class="hljs-attr">DAYS_IN_MONTH</span>: [<span class="hljs-number">31</span>, <span class="hljs-number">28</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>, <span class="hljs-number">30</span>, <span class="hljs-number">31</span>],
    <span class="hljs-attr">MONTHS_IN_YEAR</span>: [<span class="hljs-string">"Jan"</span>, <span class="hljs-string">"Feb"</span>, <span class="hljs-string">"Mar"</span>, <span class="hljs-string">"Apr"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"Jun"</span>, <span class="hljs-string">"Jul"</span>, <span class="hljs-string">"Aug"</span>, <span class="hljs-string">"Sep"</span>, <span class="hljs-string">"Oct"</span>, <span class="hljs-string">"Nov"</span>, <span class="hljs-string">"Dec"</span>],
    <span class="hljs-attr">AJAX_PROCESSOR</span>: <span class="hljs-string">"xmlhttp.do?sysparm_processor=com.glide.schedules.AJAXDate"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">if</span> (s) {
            <span class="hljs-keyword">this</span>.deserialize(s);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.clear();
        }
    },
    <span class="hljs-attr">clone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> newDate = <span class="hljs-keyword">new</span> GwtDate(<span class="hljs-keyword">this</span>.serialize());
        <span class="hljs-keyword">return</span> newDate;
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.year = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.month = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.day = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.second = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">serialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dateOnly</span>) </span>{
        <span class="hljs-keyword">var</span> s = <span class="hljs-keyword">this</span>.year + <span class="hljs-string">"-"</span> + (<span class="hljs-keyword">this</span>.month + <span class="hljs-number">1</span>) + <span class="hljs-string">"-"</span> + <span class="hljs-keyword">this</span>.day;
        <span class="hljs-keyword">if</span> (!dateOnly)
            s += <span class="hljs-string">" "</span> + <span class="hljs-keyword">this</span>.formatTime(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> s;
    },
    <span class="hljs-attr">serializeInUserFormat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dateOnly</span>) </span>{
        <span class="hljs-keyword">if</span> (dateOnly)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formatDate(g_user_date_format);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formatDate(g_user_date_time_format);
    },
    <span class="hljs-attr">serializeTimeInUserFormat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">includeSeconds</span>) </span>{
        <span class="hljs-keyword">var</span> spaceIndex = g_user_date_time_format.indexOf(<span class="hljs-string">" "</span>);
        <span class="hljs-keyword">var</span> timeFormat = g_user_date_time_format.substr(spaceIndex + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (!includeSeconds)
            timeFormat = timeFormat.replace(<span class="hljs-regexp">/[:\.]ss/</span>, <span class="hljs-string">''</span>);
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.getDateObject(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> formatDate(d, timeFormat);
    },
    <span class="hljs-attr">deserialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) </span>{
        <span class="hljs-keyword">this</span>.clear();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> s == <span class="hljs-string">'number'</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.setFromMs(s);
        <span class="hljs-keyword">var</span> components = s.split(<span class="hljs-string">" "</span>);
        <span class="hljs-keyword">if</span> (components) {
            <span class="hljs-keyword">var</span> parts = components[<span class="hljs-number">0</span>].split(<span class="hljs-string">"-"</span>);
            <span class="hljs-keyword">this</span>.year = parts[<span class="hljs-number">0</span>] * <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (parts.length &gt; <span class="hljs-number">1</span>) {
                <span class="hljs-keyword">this</span>.month = (parts[<span class="hljs-number">1</span>] * <span class="hljs-number">1</span>) - <span class="hljs-number">1</span>;
                <span class="hljs-keyword">if</span> (parts.length &gt; <span class="hljs-number">2</span>) {
                    <span class="hljs-keyword">this</span>.day = parts[<span class="hljs-number">2</span>] * <span class="hljs-number">1</span>;
                }
            }
            <span class="hljs-keyword">if</span> (components.length &gt;= <span class="hljs-number">2</span>) {
                <span class="hljs-keyword">var</span> parts = components[<span class="hljs-number">1</span>].split(<span class="hljs-string">":"</span>);
                <span class="hljs-keyword">this</span>.hour = parts[<span class="hljs-number">0</span>] * <span class="hljs-number">1</span>;
                <span class="hljs-keyword">if</span> (parts.length &gt; <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">this</span>.minute = parts[<span class="hljs-number">1</span>] * <span class="hljs-number">1</span>;
                }
                <span class="hljs-keyword">if</span> (parts.length &gt; <span class="hljs-number">2</span>) {
                    <span class="hljs-keyword">this</span>.second = parts[<span class="hljs-number">2</span>] * <span class="hljs-number">1</span>;
                }
            }
        }
    },
    <span class="hljs-attr">getYear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.year;
    },
    <span class="hljs-attr">getMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.month;
    },
    <span class="hljs-attr">getDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.day;
    },
    <span class="hljs-attr">getHour</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.hour;
    },
    <span class="hljs-attr">getMinute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.minute;
    },
    <span class="hljs-attr">getSecond</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.second;
    },
    <span class="hljs-attr">getTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> h = <span class="hljs-keyword">this</span>.hour * <span class="hljs-number">60</span>;
        <span class="hljs-keyword">var</span> m = <span class="hljs-keyword">this</span>.minute * <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.second &gt;= <span class="hljs-number">30</span>) {
            m++;
        }
        <span class="hljs-keyword">return</span> h + m;
    },
    <span class="hljs-attr">getDaysInMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">this</span>.month == <span class="hljs-number">1</span>) &amp;&amp; ((<span class="hljs-keyword">this</span>.year % <span class="hljs-number">4</span>) == <span class="hljs-number">0</span>) &amp;&amp; (((<span class="hljs-keyword">this</span>.year % <span class="hljs-number">100</span>) != <span class="hljs-number">0</span>) || ((<span class="hljs-keyword">this</span>.year % <span class="hljs-number">400</span>) == <span class="hljs-number">0</span>))) {
            <span class="hljs-keyword">return</span> <span class="hljs-number">29</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.DAYS_IN_MONTH[<span class="hljs-keyword">this</span>.month];
        }
    },
    <span class="hljs-attr">setYear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">year</span>) </span>{
        <span class="hljs-keyword">this</span>.year = year;
    },
    <span class="hljs-attr">setMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">month</span>) </span>{
        <span class="hljs-keyword">this</span>.month = month;
    },
    <span class="hljs-attr">setDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">day</span>) </span>{
        <span class="hljs-keyword">this</span>.day = day;
    },
    <span class="hljs-attr">setHour</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hour</span>) </span>{
        <span class="hljs-keyword">this</span>.hour = hour;
    },
    <span class="hljs-attr">setMinute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">minute</span>) </span>{
        <span class="hljs-keyword">this</span>.minute = minute;
    },
    <span class="hljs-attr">setSecond</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">second</span>) </span>{
        <span class="hljs-keyword">this</span>.second = second;
    },
    <span class="hljs-attr">setStartOfDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.second = <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">setEndOfDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">23</span>;
        <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">59</span>;
        <span class="hljs-keyword">this</span>.second = <span class="hljs-number">59</span>;
    },
    <span class="hljs-attr">setFromJsDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">date</span>) </span>{
        <span class="hljs-keyword">this</span>.year = date.getFullYear();
        <span class="hljs-keyword">this</span>.month = date.getMonth();
        <span class="hljs-keyword">this</span>.day = date.getDate();
        <span class="hljs-keyword">this</span>.hour = date.getHours();
        <span class="hljs-keyword">this</span>.minute = date.getMinutes();
        <span class="hljs-keyword">this</span>.second = date.getSeconds();
    },
    <span class="hljs-attr">setFromMs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">milliseconds</span>) </span>{
        <span class="hljs-keyword">this</span>.setFromJsDate(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(milliseconds));
    },
    <span class="hljs-attr">setFromDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">date</span>) </span>{
        <span class="hljs-keyword">this</span>.year = date.getYear();
        <span class="hljs-keyword">this</span>.month = date.getMonth();
        <span class="hljs-keyword">this</span>.day = date.getDay();
        <span class="hljs-keyword">this</span>.hour = date.getHour();
        <span class="hljs-keyword">this</span>.minute = date.getMinute();
        <span class="hljs-keyword">this</span>.second = date.getSecond();
    },
    <span class="hljs-attr">setFromInt</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">intDate, intTime</span>) </span>{
        <span class="hljs-keyword">this</span>.clear();
        <span class="hljs-keyword">var</span> year = <span class="hljs-built_in">Math</span>.floor(intDate / <span class="hljs-number">10000</span>);
        <span class="hljs-keyword">this</span>.year = year;
        <span class="hljs-keyword">this</span>.month = (<span class="hljs-built_in">Math</span>.floor((intDate - (year * <span class="hljs-number">10000</span>)) / <span class="hljs-number">100</span>)) - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">this</span>.day = intDate % <span class="hljs-number">100</span>;
        <span class="hljs-keyword">if</span> (intTime) {
            <span class="hljs-keyword">var</span> hour = <span class="hljs-built_in">Math</span>.floor(intTime / <span class="hljs-number">10000</span>);
            <span class="hljs-keyword">this</span>.hour = hour;
            <span class="hljs-keyword">this</span>.minute = <span class="hljs-built_in">Math</span>.floor((intTime - (hour * <span class="hljs-number">10000</span>)) / <span class="hljs-number">100</span>);
            <span class="hljs-keyword">this</span>.second = intTime % <span class="hljs-number">100</span>;
        }
    },
    <span class="hljs-attr">formatTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">includeSeconds</span>) </span>{
        <span class="hljs-keyword">var</span> h = doubleDigitFormat(<span class="hljs-keyword">this</span>.hour);
        <span class="hljs-keyword">var</span> m = doubleDigitFormat(<span class="hljs-keyword">this</span>.minute);
        <span class="hljs-keyword">if</span> (!includeSeconds)
            <span class="hljs-keyword">return</span> h + <span class="hljs-string">":"</span> + m;
        <span class="hljs-keyword">return</span> h + <span class="hljs-string">":"</span> + m + <span class="hljs-string">":"</span> + doubleDigitFormat(<span class="hljs-keyword">this</span>.second);
    },
    <span class="hljs-attr">formatDate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">format</span>) </span>{
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.getDateObject(<span class="hljs-literal">false</span>);
        d.setYear(<span class="hljs-keyword">this</span>.year);
        d.setMonth(<span class="hljs-keyword">this</span>.month);
        d.setDate(<span class="hljs-keyword">this</span>.day);
        d.setHours(<span class="hljs-keyword">this</span>.hour);
        d.setMinutes(<span class="hljs-keyword">this</span>.minute);
        d.setSeconds(<span class="hljs-keyword">this</span>.second);
        <span class="hljs-keyword">return</span> formatDate(d, format);
    },
    <span class="hljs-attr">getDateObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">includeTime</span>) </span>{
        <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        d.setDate(<span class="hljs-number">1</span>);
        d.setYear(<span class="hljs-keyword">this</span>.year);
        d.setMonth(<span class="hljs-keyword">this</span>.month);
        d.setDate(<span class="hljs-keyword">this</span>.day);
        <span class="hljs-keyword">if</span> (includeTime) {
            d.setHours(<span class="hljs-keyword">this</span>.getHour());
            d.setMinutes(<span class="hljs-keyword">this</span>.getMinute());
            d.setSeconds(<span class="hljs-keyword">this</span>.getSecond());
        } <span class="hljs-keyword">else</span> {
            d.setHours(<span class="hljs-number">0</span>);
            d.setMinutes(<span class="hljs-number">0</span>);
            d.setSeconds(<span class="hljs-number">0</span>);
        }
        <span class="hljs-keyword">return</span> d;
    },
    <span class="hljs-attr">isAllDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">toDate</span>) </span>{
        <span class="hljs-keyword">return</span> ((<span class="hljs-keyword">this</span>.getTime() == <span class="hljs-number">0</span>) &amp;&amp; (toDate.getTime() &gt;= (<span class="hljs-keyword">this</span>.MINUTES_IN_DAY)));
    },
    <span class="hljs-attr">compare</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">otherDate, includeTimes</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getYear() != otherDate.getYear()) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getYear() - otherDate.getYear();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getMonth() != otherDate.getMonth()) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMonth() - otherDate.getMonth();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getDay() != otherDate.getDay()) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getDay() - otherDate.getDay();
        }
        <span class="hljs-keyword">if</span> (includeTimes) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getHour() != otherDate.getHour()) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getHour() - otherDate.getHour();
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getMinute() != otherDate.getMinute()) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getMinute() - otherDate.getMinute();
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.getSecond() != otherDate.getSecond()) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.getSecond() - otherDate.getSecond();
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    },
    <span class="hljs-attr">addSeconds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">seconds</span>) </span>{
        <span class="hljs-keyword">if</span> (seconds &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.subtractSeconds(seconds * <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; seconds; i++) {
            <span class="hljs-keyword">this</span>._incrementSecond();
        }
    },
    <span class="hljs-attr">addMinutes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">minutes</span>) </span>{
        <span class="hljs-keyword">if</span> (minutes &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.subtractMinutes(minutes * <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; minutes; i++) {
            <span class="hljs-keyword">this</span>._incrementMinute();
        }
    },
    <span class="hljs-attr">addHours</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hours</span>) </span>{
        <span class="hljs-keyword">if</span> (hours &lt; <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.subtractHours(hours * <span class="hljs-number">-1</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; hours; i++) {
            <span class="hljs-keyword">this</span>._incrementHour();
        }
    },
    <span class="hljs-attr">addDays</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">days</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; days; i++) {
            <span class="hljs-keyword">this</span>._incrementDay();
        }
    },
    <span class="hljs-attr">addMonths</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">months</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; months; i++) {
            <span class="hljs-keyword">this</span>._incrementMonth();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.day &gt; <span class="hljs-keyword">this</span>.getDaysInMonth()) {
            <span class="hljs-keyword">this</span>.day = <span class="hljs-keyword">this</span>.getDaysInMonth();
        }
    },
    <span class="hljs-attr">addYears</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">years</span>) </span>{
        <span class="hljs-keyword">this</span>.year += years;
    },
    <span class="hljs-attr">subtractSeconds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">seconds</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; seconds; i++) {
            <span class="hljs-keyword">this</span>._decrementSecond();
        }
    },
    <span class="hljs-attr">subtractMinutes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">minutes</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; minutes; i++) {
            <span class="hljs-keyword">this</span>._decrementMinute();
        }
    },
    <span class="hljs-attr">subtractHours</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hours</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; hours; i++) {
            <span class="hljs-keyword">this</span>._decrementHour();
        }
    },
    <span class="hljs-attr">subtractDays</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">days</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; days; i++) {
            <span class="hljs-keyword">this</span>._decrementDay();
        }
    },
    <span class="hljs-attr">subtractMonths</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">months</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; months; i++) {
            <span class="hljs-keyword">this</span>._decrementMonth();
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.day &gt; <span class="hljs-keyword">this</span>.getDaysInMonth()) {
            <span class="hljs-keyword">this</span>.day = <span class="hljs-keyword">this</span>.getDaysInMonth();
        }
    },
    <span class="hljs-attr">subtractYears</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">years</span>) </span>{
        <span class="hljs-keyword">this</span>.year -= years;
    },
    <span class="hljs-attr">_incrementSecond</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.second++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.second &gt; <span class="hljs-number">59</span>) {
            <span class="hljs-keyword">this</span>.second = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>._incrementMinute();
        }
    },
    <span class="hljs-attr">_incrementMinute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.minute++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.minute &gt; <span class="hljs-number">59</span>) {
            <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>._incrementHour();
        }
    },
    <span class="hljs-attr">_incrementHour</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hour++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hour &gt; <span class="hljs-number">23</span>) {
            <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">this</span>._incrementDay();
        }
    },
    <span class="hljs-attr">_incrementDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.day++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.day &gt; <span class="hljs-keyword">this</span>.getDaysInMonth()) {
            <span class="hljs-keyword">this</span>.day = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">this</span>._incrementMonth();
        }
    },
    <span class="hljs-attr">_incrementMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.month++;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.month &gt;= <span class="hljs-number">12</span>) {
            <span class="hljs-keyword">this</span>.year++;
            <span class="hljs-keyword">this</span>.month = <span class="hljs-number">0</span>;
        }
    },
    <span class="hljs-attr">_decrementSecond</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.second--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.second &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.second = <span class="hljs-number">59</span>;
            <span class="hljs-keyword">this</span>._decrementMinute();
        }
    },
    <span class="hljs-attr">_decrementMinute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.minute--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.minute &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.minute = <span class="hljs-number">59</span>;
            <span class="hljs-keyword">this</span>._decrementHour();
        }
    },
    <span class="hljs-attr">_decrementHour</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.hour--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.hour &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.hour = <span class="hljs-number">23</span>;
            <span class="hljs-keyword">this</span>._decrementDay();
        }
    },
    <span class="hljs-attr">_decrementDay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.day--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.day == <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>._decrementMonth();
            <span class="hljs-keyword">this</span>.day = <span class="hljs-keyword">this</span>.getDaysInMonth();
        }
    },
    <span class="hljs-attr">_decrementMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.month--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.month &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">this</span>.year--;
            <span class="hljs-keyword">this</span>.month = <span class="hljs-number">11</span>;
        }
    },
    <span class="hljs-attr">now</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parms = <span class="hljs-string">"&amp;sysparm_type=now"</span>;
        <span class="hljs-keyword">var</span> response = serverRequestWait(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR + parms);
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">this</span>.clear();
        <span class="hljs-keyword">this</span>.deserialize(e.getAttribute(<span class="hljs-string">"now"</span>));
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    <span class="hljs-attr">getCurrentTimeZone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parms = <span class="hljs-string">"&amp;sysparm_type=now"</span>;
        <span class="hljs-keyword">var</span> response = serverRequestWait(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR + parms);
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">return</span> e.getAttribute(<span class="hljs-string">"time_zone"</span>);
    },
    <span class="hljs-attr">getDayOfWeek</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parms = <span class="hljs-string">"&amp;sysparm_type=day_of_week&amp;date="</span> + <span class="hljs-keyword">this</span>.serialize(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">var</span> response = serverRequestWait(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR + parms);
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">return</span> e.getAttribute(<span class="hljs-string">"day_of_week"</span>);
    },
    <span class="hljs-attr">getCurrentMonth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.MONTHS_IN_YEAR[<span class="hljs-keyword">this</span>.getMonth()];
    },
    <span class="hljs-attr">getWeekNumber</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parms = <span class="hljs-string">"&amp;sysparm_type=week_number&amp;date="</span> + <span class="hljs-keyword">this</span>.serialize(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">var</span> response = serverRequestWait(<span class="hljs-keyword">this</span>.AJAX_PROCESSOR + parms);
        <span class="hljs-keyword">var</span> xml = response.responseXML;
        <span class="hljs-keyword">var</span> e = xml.documentElement;
        <span class="hljs-keyword">return</span> e.getAttribute(<span class="hljs-string">"week_number"</span>);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.formatDate(<span class="hljs-string">'yyyy-MM-dd HH:mm:ss'</span>);
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/PageTimingService.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.PageTimingService)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-built_in">window</span>.NOW.PageTimingService = {
        <span class="hljs-attr">send</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, success, error</span>) </span>{
            <span class="hljs-keyword">if</span> (!data.transaction_id) {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.console &amp;&amp; <span class="hljs-built_in">window</span>.console.warn)
                    <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">"missing data.transaction_id, could not send page timing"</span>);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> transactionID = data.transaction_id;
            <span class="hljs-keyword">delete</span> data.transaction_id;
            <span class="hljs-keyword">if</span> (!error)
                error = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xhr, textStatus, errorThrown</span>) </span>{
                    <span class="hljs-keyword">throw</span> errorThrown;
                };
            <span class="hljs-keyword">var</span> headers = {
                <span class="hljs-string">'Accept'</span>: <span class="hljs-string">'application/json'</span>,
                <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
            };
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span>)
                headers[<span class="hljs-string">'X-UserToken'</span>] = g_ck;
            <span class="hljs-keyword">return</span> $j.ajax({
                <span class="hljs-attr">headers</span>: headers,
                <span class="hljs-string">'type'</span>: <span class="hljs-string">'PATCH'</span>,
                <span class="hljs-string">'url'</span>: <span class="hljs-string">"/api/now/ui/page_timing/"</span> + transactionID,
                <span class="hljs-string">'data'</span>: <span class="hljs-built_in">JSON</span>.stringify(data),
                <span class="hljs-string">'success'</span>: success,
                <span class="hljs-string">'error'</span>: error
            });
        }
    };
})();;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/PageTiming14.js */</span>
NOW.PageTiming = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">var</span> categories = <span class="hljs-literal">null</span>;
    initialize();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initialize</span>(<span class="hljs-params"></span>) </span>{
        CustomEvent.observe(<span class="hljs-string">'page_timing'</span>, _pageTiming);
        CustomEvent.observe(<span class="hljs-string">'page_timing_network'</span>, _pageTimingNetwork);
        CustomEvent.observe(<span class="hljs-string">'page_timing_show'</span>, _pageTimingShow);
        CustomEvent.observe(<span class="hljs-string">'page_timing_clear'</span>, _clearTimingDiv);
        CustomEvent.observe(<span class="hljs-string">'page_timing_client'</span>, _clientTransaction);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_pageTiming</span>(<span class="hljs-params">timing</span>) </span>{
        <span class="hljs-keyword">var</span> ms;
        <span class="hljs-keyword">if</span> (timing.startTime)
            ms = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>() - timing.startTime;
        <span class="hljs-keyword">else</span>
            ms = timing.ms;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(ms))
            <span class="hljs-keyword">return</span>;
        _initCategories();
        <span class="hljs-keyword">var</span> category = timing.name + <span class="hljs-string">''</span>;
        ms = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Number</span>(ms);
        <span class="hljs-keyword">if</span> (!categories[category]) {
            categories[category] = {
                <span class="hljs-attr">children</span>: [],
                <span class="hljs-attr">ms</span>: <span class="hljs-number">0</span>
            }
        }
        <span class="hljs-keyword">var</span> cat = categories[category];
        <span class="hljs-keyword">if</span> (timing.child) {
            <span class="hljs-keyword">if</span> (timing.child.description)
                cat.children.push({
                    <span class="hljs-attr">name</span>: timing.child.description + <span class="hljs-string">''</span>,
                    <span class="hljs-attr">script_type</span>: timing.child.type,
                    <span class="hljs-attr">ms</span>: ms,
                    <span class="hljs-attr">sys_id</span>: timing.child.sys_id,
                    <span class="hljs-attr">source_table</span>: timing.child.source_table
                });
            <span class="hljs-keyword">else</span>
                cat.children.push({
                    <span class="hljs-attr">name</span>: timing.child + <span class="hljs-string">''</span>,
                    <span class="hljs-attr">ms</span>: ms
                });
        }
        cat.ms += ms;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_pageTimingNetwork</span>(<span class="hljs-params">timing</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>._timingStartTime)
            timing.ms = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.performance &amp;&amp; performance.timing.requestStart != performance.timing.responseStart)
            timing.ms = <span class="hljs-built_in">window</span>.performance.timing.requestStart - <span class="hljs-built_in">window</span>.performance.timing.navigationStart;
        <span class="hljs-keyword">else</span>
            timing.ms = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, timing.loadTime - <span class="hljs-built_in">window</span>._timingStartTime - _getTiming(<span class="hljs-string">'SERV'</span>));
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(timing.ms))
            timing.ms = <span class="hljs-number">0</span>;
        _pageTiming(timing);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_pageTimingShow</span>(<span class="hljs-params">info</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>._timingStartTime)
            <span class="hljs-keyword">return</span>;
        _setRlCatName();
        <span class="hljs-keyword">var</span> tot;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.performance)
            tot = (<span class="hljs-built_in">window</span>.performance.timing.loadEventEnd - <span class="hljs-built_in">window</span>.performance.timing.navigationStart);
        <span class="hljs-keyword">else</span>
            tot = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime() - <span class="hljs-built_in">window</span>._timingStartTime;
        <span class="hljs-keyword">if</span> (tot &gt; <span class="hljs-number">900000</span>) {
            _clearTimingDiv(info);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-built_in">window</span>._timingTotal = tot;
        <span class="hljs-keyword">var</span> div = _getOrCreateTimingDiv();
        <span class="hljs-keyword">var</span> o = {
            <span class="hljs-attr">RESP</span>: tot
        };
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c <span class="hljs-keyword">in</span> categories)
            o[c] = _getTiming(c) + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> txt = <span class="hljs-keyword">new</span> XMLTemplate(<span class="hljs-string">'glide:page_timing_div'</span>).evaluate(o);
        div.innerHTML = txt + <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (tot &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> timingGraph = $j(<span class="hljs-string">'.timing_graph'</span>);
            timingGraph.find(<span class="hljs-string">'.timing_network'</span>).width(<span class="hljs-built_in">Math</span>.round((_getTiming(<span class="hljs-string">'NETW'</span>) / tot) * <span class="hljs-number">100</span>) + <span class="hljs-string">'%'</span>);
            timingGraph.find(<span class="hljs-string">'.timing_server'</span>).width(<span class="hljs-built_in">Math</span>.round((_getTiming(<span class="hljs-string">'SERV'</span>) / tot) * <span class="hljs-number">100</span>) + <span class="hljs-string">'%'</span>);
            timingGraph.find(<span class="hljs-string">'.timing_browser'</span>).width(<span class="hljs-built_in">Math</span>.round((_getTiming(<span class="hljs-string">'REND'</span>) / tot) * <span class="hljs-number">100</span>) + <span class="hljs-string">'%'</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.performance) {
                timingGraph.attr(<span class="hljs-string">"role"</span>, <span class="hljs-string">"button"</span>);
                timingGraph.attr(<span class="hljs-string">"tabindex"</span>, <span class="hljs-string">"0"</span>);
                timingGraph.attr(<span class="hljs-string">"aria-label"</span>, timingGraph.data(<span class="hljs-string">"ariaLabel"</span>));
                timingGraph.attr(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"false"</span>);
                timingGraph.one(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> timingBreakdown = $j(<span class="hljs-string">'&lt;table class="timing_breakdown"&gt;'</span> +
                        <span class="hljs-string">'&lt;thead&gt;'</span> +
                        <span class="hljs-string">'	&lt;th aria-hidden="true"&gt;&lt;/th&gt;'</span> +
                        <span class="hljs-string">'	&lt;th&gt;Timing Type&lt;/th&gt;'</span> +
                        <span class="hljs-string">'	&lt;th&gt;Time Range&lt;/th&gt;'</span> +
                        <span class="hljs-string">'	&lt;th&gt;Total Time&lt;/th&gt;'</span> +
                        <span class="hljs-string">'&lt;/thead&gt;'</span>);
                    <span class="hljs-keyword">var</span> events = [
                        [<span class="hljs-string">'timing_network'</span>, <span class="hljs-string">'Cache/DNS/TCP'</span>, <span class="hljs-string">'fetchStart'</span>, <span class="hljs-string">'connectEnd'</span>],
                        [<span class="hljs-string">'timing_server'</span>, <span class="hljs-string">'Server'</span>, <span class="hljs-string">'requestStart'</span>, <span class="hljs-string">'responseEnd'</span>],
                        [<span class="hljs-string">'timing_browser'</span>, <span class="hljs-string">'Unload'</span>, <span class="hljs-string">'unloadEventStart'</span>, <span class="hljs-string">'unloadEventEnd'</span>],
                        [<span class="hljs-string">'timing_browser'</span>, <span class="hljs-string">'DOM Processing'</span>, <span class="hljs-string">'domLoading'</span>, <span class="hljs-string">'domComplete'</span>],
                        [<span class="hljs-string">'timing_browser'</span>, <span class="hljs-string">'onLoad'</span>, <span class="hljs-string">'loadEventStart'</span>, <span class="hljs-string">'loadEventEnd'</span>]
                    ];
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; events.length; i++) {
                        <span class="hljs-keyword">var</span> runTime = <span class="hljs-built_in">window</span>.performance.timing[events[i][<span class="hljs-number">3</span>]] - <span class="hljs-built_in">window</span>.performance.timing[events[i][<span class="hljs-number">2</span>]];
                        <span class="hljs-keyword">var</span> startTime = (<span class="hljs-built_in">window</span>.performance.timing[events[i][<span class="hljs-number">2</span>]] - <span class="hljs-built_in">window</span>.performance.timing.navigationStart) + <span class="hljs-string">'-'</span> + (<span class="hljs-built_in">window</span>.performance.timing[events[i][<span class="hljs-number">3</span>]] - <span class="hljs-built_in">window</span>.performance.timing.navigationStart);
                        timingBreakdown.append($j(<span class="hljs-string">'&lt;tr&gt;&lt;td aria-hidden="true" class="'</span> + events[i][<span class="hljs-number">0</span>] + <span class="hljs-string">'"&gt;&lt;/td&gt;&lt;td&gt;'</span> + events[i][<span class="hljs-number">1</span>] + <span class="hljs-string">'&lt;/td&gt;&lt;td&gt;'</span> + startTime + <span class="hljs-string">'ms&lt;/td&gt;&lt;td&gt;'</span> + runTime + <span class="hljs-string">'ms&lt;/td&gt;&lt;/tr&gt;'</span>));
                    }
                    timingBreakdown.insertAfter(<span class="hljs-keyword">this</span>);
                    timingGraph.attr(<span class="hljs-string">"aria-disabled"</span>, <span class="hljs-string">"true"</span>);
                    timingGraph.attr(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"true"</span>);
                });
            }
        }
        <span class="hljs-keyword">var</span> img = div.down(<span class="hljs-string">'img'</span>);
        <span class="hljs-keyword">if</span> (!img)
            img = div.down(<span class="hljs-string">'button'</span>);
        <span class="hljs-keyword">if</span> (!img)
            <span class="hljs-keyword">return</span>;
        img.observe(<span class="hljs-string">'click'</span>, toggle.bindAsEventListener(<span class="hljs-keyword">this</span>));
        img.setAttribute(<span class="hljs-string">'aria-expanded'</span>, info.show);
        <span class="hljs-keyword">if</span> (info.show == <span class="hljs-string">'true'</span>)
            _toggle(img);
        <span class="hljs-keyword">var</span> a = div.down(<span class="hljs-string">'a'</span>);
        a.observe(<span class="hljs-string">'click'</span>, toggleDetails);
        a.next().down().down().next().observe(<span class="hljs-string">'click'</span>, toggleDetails);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggle</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">var</span> img = Event.element(evt);
        <span class="hljs-keyword">var</span> isVisible = _toggle(img);
        img.setAttribute(<span class="hljs-string">'aria-expanded'</span>, isVisible);
        _setPreference(isVisible);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_toggle</span>(<span class="hljs-params">img</span>) </span>{
        <span class="hljs-keyword">var</span> span = img.up().down(<span class="hljs-string">'.timing_span'</span>);
        <span class="hljs-keyword">if</span> (!span)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        span.toggle();
        <span class="hljs-keyword">return</span> span.visible();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_setPreference</span>(<span class="hljs-params">flag</span>) </span>{
        <span class="hljs-keyword">try</span> {
            setPreference(<span class="hljs-string">'glide.ui.response_time'</span>, flag + <span class="hljs-string">''</span>);
        } <span class="hljs-keyword">catch</span> (e) {}
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleDetails</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> span = gel(<span class="hljs-string">'page_timing_details'</span>);
        <span class="hljs-keyword">var</span> a = gel(<span class="hljs-string">'page_timing_div'</span>).down(<span class="hljs-string">'a'</span>);
        <span class="hljs-keyword">var</span> state = span.getAttribute(<span class="hljs-string">'data-state'</span>);
        <span class="hljs-keyword">if</span> (state === <span class="hljs-string">'shown'</span>) {
            span.setAttribute(<span class="hljs-string">'data-state'</span>, <span class="hljs-string">'hidden'</span>);
            a.setAttribute(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'false'</span>);
            span.up().up().setAttribute(<span class="hljs-string">'aria-hidden'</span>, <span class="hljs-string">'true'</span>);
            span.hide();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (state === <span class="hljs-string">'hidden'</span>) {
            span.setAttribute(<span class="hljs-string">'data-state'</span>, <span class="hljs-string">'shown'</span>);
            a.setAttribute(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'true'</span>);
            span.up().up().setAttribute(<span class="hljs-string">'aria-hidden'</span>, <span class="hljs-string">'false'</span>);
            span.show();
            <span class="hljs-keyword">return</span>;
        }
        span.innerHTML = _buildDetails();
        span.setAttribute(<span class="hljs-string">'data-state'</span>, <span class="hljs-string">'shown'</span>);
        a.setAttribute(<span class="hljs-string">'aria-expanded'</span>, <span class="hljs-string">'true'</span>);
        span.up().up().setAttribute(<span class="hljs-string">'aria-hidden'</span>, <span class="hljs-string">'false'</span>);
        span.on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'div.timing_detail_line'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt, element</span>) </span>{
            <span class="hljs-keyword">if</span> (element.getAttribute(<span class="hljs-string">'data-children'</span>) === <span class="hljs-string">'0'</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> div = element.down(<span class="hljs-string">'div'</span>);
            <span class="hljs-keyword">if</span> (div)
                div.toggle();
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_buildDetails</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> txt = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> o;
        <span class="hljs-keyword">var</span> other = _getTiming(<span class="hljs-string">'REND'</span>);
        <span class="hljs-keyword">var</span> detailLine = <span class="hljs-keyword">new</span> XMLTemplate(<span class="hljs-string">'glide:page_timing_detail_line'</span>);
        CATEGORIES.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cat</span>) </span>{
            <span class="hljs-keyword">if</span> (!categories[cat.category])
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> ms = _getTiming(cat.category) + <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">'RLV2'</span> !== cat.category)
                other -= ms;
            <span class="hljs-keyword">var</span> children = categories[cat.category].children;
            o = {
                <span class="hljs-attr">name</span>: cat.name,
                <span class="hljs-attr">ms</span>: ms,
                <span class="hljs-attr">child_count</span>: (children.length + <span class="hljs-string">''</span>),
                <span class="hljs-attr">children</span>: <span class="hljs-string">''</span>,
                <span class="hljs-attr">has_children</span>: <span class="hljs-string">''</span>
            };
            <span class="hljs-keyword">if</span> (children.length &gt; <span class="hljs-number">0</span>) {
                o.children = _buildChildren(children);
                o.has_children = <span class="hljs-string">'timing_detail_line_has_children'</span>;
            }
            txt += detailLine.evaluate(o);
        });
        <span class="hljs-keyword">if</span> (other &gt; <span class="hljs-number">10</span>)
            txt += detailLine.evaluate({
                <span class="hljs-attr">name</span>: <span class="hljs-string">'Other'</span>,
                <span class="hljs-attr">ms</span>: other,
                <span class="hljs-attr">child_count</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">has_children</span>: <span class="hljs-string">''</span>
            });
        o = {
            <span class="hljs-attr">details</span>: txt
        };
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> XMLTemplate(<span class="hljs-string">'glide:page_timing_details'</span>).evaluate(o);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_buildChildren</span>(<span class="hljs-params">children</span>) </span>{
        <span class="hljs-keyword">var</span> txt = <span class="hljs-string">'&lt;div style="display:none; cursor:default"&gt;'</span>;
        <span class="hljs-keyword">var</span> detailChild = <span class="hljs-keyword">new</span> XMLTemplate(<span class="hljs-string">'glide:page_timing_child_line'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; children.length; i++) {
            <span class="hljs-keyword">var</span> child = children[i];
            <span class="hljs-keyword">var</span> o = {
                <span class="hljs-attr">name</span>: child.name,
                <span class="hljs-attr">ms</span>: (child.ms + <span class="hljs-string">''</span>)
            };
            txt += detailChild.evaluate(o);
        }
        txt += <span class="hljs-string">'&lt;/div&gt;'</span>;
        <span class="hljs-keyword">return</span> txt;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_initCategories</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (categories)
            <span class="hljs-keyword">return</span>;
        categories = {};
        <span class="hljs-keyword">var</span> startTime = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.performance)
            startTime = <span class="hljs-built_in">window</span>.performance.timing.navigationStart;
        <span class="hljs-keyword">else</span>
            startTime = <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">new</span> CookieJar().get(<span class="hljs-string">'g_startTime'</span>), <span class="hljs-number">10</span>);
        <span class="hljs-built_in">window</span>._timingStartTime = startTime;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_getTiming</span>(<span class="hljs-params">category</span>) </span>{
        <span class="hljs-keyword">if</span> (!categories[category])
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, categories[category].ms);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_setRlCatName</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> isDeferred = <span class="hljs-built_in">window</span>.g_related_list_timing != <span class="hljs-string">'default'</span>;
        <span class="hljs-keyword">var</span> postFix = (isDeferred === <span class="hljs-literal">true</span>) ? <span class="hljs-string">' (async)'</span> : <span class="hljs-string">' (sync)'</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; CATEGORIES.length; i++) {
            <span class="hljs-keyword">if</span> ((CATEGORIES[i].category === <span class="hljs-string">'RLV2'</span>) &amp;&amp; (!hasPostFix(CATEGORIES[i].name)))
                CATEGORIES[i].name = CATEGORIES[i].name + postFix;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasPostFix</span>(<span class="hljs-params">cat_name</span>) </span>{
            <span class="hljs-keyword">var</span> cat_name_split = cat_name.split(<span class="hljs-string">' '</span>);
            <span class="hljs-keyword">var</span> len = cat_name_split.length;
            <span class="hljs-keyword">return</span> !!((cat_name_split[len - <span class="hljs-number">1</span>] === <span class="hljs-string">'(async)'</span>) || (cat_name_split[len - <span class="hljs-number">1</span>] === <span class="hljs-string">'(sync)'</span>));
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_clearTimingDiv</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>._timingTotal = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">var</span> div = gel(<span class="hljs-string">'page_timing_div'</span>);
        <span class="hljs-keyword">if</span> (div) {
            div.innerHTML = <span class="hljs-string">''</span>;
            div.style.visibility = <span class="hljs-string">'hidden'</span>;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_getOrCreateTimingDiv</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> div = gel(<span class="hljs-string">'page_timing_div'</span>);
        <span class="hljs-keyword">if</span> (!div) {
            div = cel(<span class="hljs-string">'div'</span>);
            div.id = <span class="hljs-string">'page_timing_div'</span>;
            div.className = <span class="hljs-string">'timingDiv'</span>;
            <span class="hljs-built_in">document</span>.body.appendChild(div);
        }
        div.style.visibility = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> div;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_clientTransaction</span>(<span class="hljs-params">o</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>._timingStartTime || !<span class="hljs-built_in">window</span>._timingTotal || <span class="hljs-built_in">window</span>._timingTotal &lt;= <span class="hljs-number">0</span> || getActiveUser() === <span class="hljs-literal">false</span> || getTopWindow().loggingOut === <span class="hljs-literal">true</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> det = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; CATEGORIES.length; i++) {
            <span class="hljs-keyword">var</span> cat = CATEGORIES[i];
            <span class="hljs-keyword">if</span> (!o.types[cat.category])
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (!categories[cat.category])
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">var</span> children = categories[cat.category].children;
            <span class="hljs-keyword">if</span> (!children)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ndx = <span class="hljs-number">0</span>; ndx &lt; children.length; ndx++) {
                <span class="hljs-keyword">var</span> child = children[ndx];
                <span class="hljs-keyword">var</span> t = {};
                t.type_code = cat.category;
                t.type = cat.name;
                t.script_detail = child.script_type;
                t.name = child.name;
                t.duration = child.ms;
                t.sys_id = child.sys_id;
                t.source_table = child.source_table;
                det.push(t);
            }
        }
        <span class="hljs-keyword">var</span> data = {
            <span class="hljs-string">'transaction_id'</span>: o.transaction_id,
            <span class="hljs-string">'table_name'</span>: o.table_name,
            <span class="hljs-string">'form_name'</span>: o.form_name,
            <span class="hljs-string">'view_id'</span>: o.view_id,
            <span class="hljs-string">'transaction_time'</span>: <span class="hljs-built_in">window</span>._timingTotal,
            <span class="hljs-string">'browser_server_time'</span>: _getTiming(<span class="hljs-string">'SERV'</span>),
            <span class="hljs-string">'network_time'</span>: _getTiming(<span class="hljs-string">'NETW'</span>),
            <span class="hljs-string">'browser_time'</span>: _getTiming(<span class="hljs-string">'REND'</span>),
            <span class="hljs-string">'client_script_time'</span>: (_getTiming(<span class="hljs-string">'CSOL'</span>) + _getTiming(<span class="hljs-string">'CSOC'</span>)),
            <span class="hljs-string">'policy_time'</span>: _getTiming(<span class="hljs-string">'UIOL'</span>),
            <span class="hljs-string">'client_details'</span>: <span class="hljs-built_in">Object</span>.toJSON(det)
        };
        <span class="hljs-keyword">if</span> (o.logged_in !== <span class="hljs-literal">false</span>)
            <span class="hljs-built_in">window</span>.NOW.PageTimingService.send(data);
    }
    <span class="hljs-keyword">var</span> CATEGORIES = [{
            <span class="hljs-attr">category</span>: <span class="hljs-string">'SCPT'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Script Load/Parse'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'PARS'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'CSS and JS Parse'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'SECT'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Form Sections'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'UIOL'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'UI Policy - On Load'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'CSOL'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Client Scripts - On Load'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'CSOC'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Client Scripts - On Change (initial load)'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'PROC'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Browser processing before onload'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'DOMC'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'DOMContentLoaded to LoadEventEnd'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'LOADF'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'addLoadEvent functions'</span>
        },
        {
            <span class="hljs-attr">category</span>: <span class="hljs-string">'RLV2'</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'Related Lists'</span>
        }
    ]
};
addTopRenderEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    NOW.PageTiming();
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUI.js */</span>
<span class="hljs-keyword">var</span> GlideUI = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.topWindow = getTopWindow() || <span class="hljs-built_in">window</span>;
        <span class="hljs-keyword">this</span>.outputMessagesTag = <span class="hljs-string">"output_messages"</span>;
        <span class="hljs-keyword">this</span>.outputMsgDivClass = <span class="hljs-string">".outputmsg_div"</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW &amp;&amp; <span class="hljs-built_in">window</span>.NOW.ngLegacySessionNotificationSupport) {
            <span class="hljs-keyword">return</span>;
        }
        CustomEvent.observe(GlideUI.UI_NOTIFICATION_SYSTEM, <span class="hljs-keyword">this</span>._systemNotification.bind(<span class="hljs-keyword">this</span>));
        CustomEvent.observe(GlideUI.UI_NOTIFICATION_INFO, <span class="hljs-keyword">this</span>._systemNotification.bind(<span class="hljs-keyword">this</span>));
        CustomEvent.observe(GlideUI.UI_NOTIFICATION_ERROR, <span class="hljs-keyword">this</span>._systemNotification.bind(<span class="hljs-keyword">this</span>));
        CustomEvent.observe(GlideUI.UI_NOTIFICATION_SYSTEM_EVENT, <span class="hljs-keyword">this</span>._eventNotification.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>._setupAnnouncer();
        <span class="hljs-keyword">this</span>._scrapePageLoadMessages();
    },
    <span class="hljs-attr">setMsgTags</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msgTag, msgDivClass</span>) </span>{
        <span class="hljs-keyword">this</span>.outputMessagesTag = msgTag;
        <span class="hljs-keyword">this</span>.outputMsgDivClass = msgDivClass;
    },
    <span class="hljs-attr">display</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">htmlTextOrOptions</span>) </span>{
        alert(<span class="hljs-string">'GlideUI.display() needs to be implemented in an overriding class'</span>);
    },
    <span class="hljs-attr">fireNotifications</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> spans = $$(<span class="hljs-string">'span.ui_notification'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
            <span class="hljs-keyword">var</span> span = spans[i];
            <span class="hljs-keyword">this</span>.fire(<span class="hljs-keyword">new</span> GlideUINotification({
                <span class="hljs-attr">xml</span>: span
            }));
        }
    },
    <span class="hljs-attr">fire</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
        <span class="hljs-keyword">this</span>.topWindow.CustomEvent.fireTop(GlideUI.UI_NOTIFICATION + <span class="hljs-string">'.'</span> + notification.getType(), notification);
    },
    <span class="hljs-attr">_systemNotification</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW &amp;&amp; <span class="hljs-built_in">window</span>.NOW.ngLegacySessionNotificationSupport) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> options = {
            <span class="hljs-attr">text</span>: notification.getText(),
            <span class="hljs-attr">type</span>: notification.getType()
        };
        <span class="hljs-keyword">if</span> (!options.text)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.display(options);
    },
    <span class="hljs-attr">_eventNotification</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
        <span class="hljs-keyword">var</span> type = notification.getAttribute(<span class="hljs-string">'event'</span>);
        <span class="hljs-keyword">if</span> (type == <span class="hljs-string">'refresh_nav'</span>)
            CustomEvent.fireTop(<span class="hljs-string">'navigator.refresh'</span>);
    },
    <span class="hljs-attr">addOutputMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        srMessage = {
            <span class="hljs-attr">info</span>: <span class="hljs-string">"Info Message"</span>,
            <span class="hljs-attr">warning</span>: <span class="hljs-string">"Warning Message"</span>,
            <span class="hljs-attr">error</span>: <span class="hljs-string">"Error Message"</span>,
            <span class="hljs-attr">success</span>: <span class="hljs-string">"Success Message"</span>
        }
        options = <span class="hljs-built_in">Object</span>.extend({
            <span class="hljs-attr">msg</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">id</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">icon</span>: <span class="hljs-string">'icon-info'</span>,
            <span class="hljs-attr">iconSr</span>: srMessage.info,
            <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>
        }, options || {});
        <span class="hljs-built_in">document</span>.addEventListener(<span class="hljs-string">"DOMContentLoaded"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.nowapi) {
                <span class="hljs-built_in">window</span>.nowapi.g_i18n.getMessages([srMessage.info, srMessage.warning, srMessage.error, srMessage.success], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">translations</span>) </span>{
                    srMessage.info = translations[srMessage.info];
                    srMessage.warning = translations[srMessage.warning];
                    srMessage.error = translations[srMessage.error];
                    srMessage.success = translations[srMessage.success];
                });
            }
        });
        <span class="hljs-keyword">if</span> (options.type == <span class="hljs-string">'error'</span>) {
            options.icon = <span class="hljs-string">'icon-cross-circle'</span>;
            options.iconSr = srMessage.error;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.type == <span class="hljs-string">'warning'</span>) {
            options.icon = <span class="hljs-string">'icon-alert'</span>;
            options.iconSr = srMessage.warning;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.type = <span class="hljs-string">'success'</span>) {
            options.icon = <span class="hljs-string">'icon-check-circle'</span>;
            options.iconSr = srMessage.success;
        }
        <span class="hljs-keyword">var</span> divs = <span class="hljs-keyword">this</span>._getOutputMessageDivs();
        <span class="hljs-keyword">if</span> (!divs)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> newMsg;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.id == <span class="hljs-string">'undefined'</span> || options.id == <span class="hljs-string">''</span>)
            newMsg = GlideUI.OUTPUT_MESSAGE_TEMPLATE.evaluate(options);
        <span class="hljs-keyword">else</span>
            newMsg = GlideUI.OUTPUT_MESSAGE_TEMPLATE_WITH_ID.evaluate(options);
        divs.container.insert(newMsg);
        divs.messages.show();
        <span class="hljs-keyword">if</span> (options.msg)
            <span class="hljs-keyword">this</span>._announce(options.type, options.msg);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>._frameChanged)
            _frameChanged();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">clearOutputMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">closeImg</span>) </span>{
        <span class="hljs-keyword">var</span> divs;
        <span class="hljs-keyword">if</span> (closeImg) {
            closeImg = $(closeImg);
            divs = {
                <span class="hljs-attr">messages</span>: closeImg.up(),
                <span class="hljs-attr">container</span>: closeImg.up().select(<span class="hljs-keyword">this</span>.outputMsgDivClass)[<span class="hljs-number">0</span>]
            }
        } <span class="hljs-keyword">else</span>
            divs = <span class="hljs-keyword">this</span>._getOutputMessageDivs();
        <span class="hljs-keyword">if</span> (!divs)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        divs.messages.hide();
        divs.container.innerHTML = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setNavMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        options = <span class="hljs-built_in">Object</span>.extend({
            <span class="hljs-attr">msg</span>: <span class="hljs-string">''</span>
        }, options || {});
        <span class="hljs-keyword">var</span> navMessage = $(<span class="hljs-string">'nav_message'</span>);
        <span class="hljs-keyword">if</span> (navMessage) {
            navMessage.replace(GlideUI.NAV_MESSAGE_TEMPLATE.evaluate(options));
            <span class="hljs-keyword">this</span>.adjustTopScrollHeight();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">var</span> firstNavElement = $$(<span class="hljs-string">'nav.navbar'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (firstNavElement) {
            firstNavElement.setStyle({
                <span class="hljs-attr">marginBottom</span>: <span class="hljs-string">'0px'</span>
            });
            firstNavElement.insert({
                <span class="hljs-attr">after</span>: GlideUI.NAV_MESSAGE_TEMPLATE.evaluate(options)
            });
            <span class="hljs-keyword">this</span>.adjustTopScrollHeight();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">clearNavMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> navMessage = $(<span class="hljs-string">'nav_message'</span>);
        <span class="hljs-keyword">if</span> (!navMessage)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        navMessage.remove();
        <span class="hljs-keyword">var</span> firstNavElement = $$(<span class="hljs-string">'nav.navbar'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (firstNavElement)
            firstNavElement.setStyle({
                <span class="hljs-attr">marginBottom</span>: <span class="hljs-string">'5px'</span>
            });
        <span class="hljs-keyword">this</span>.adjustTopScrollHeight();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">adjustTopScrollHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fixedContent = $$(<span class="hljs-string">'div[data-position-fixed-header="true"]'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (!fixedContent)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> scrollContent = $$(<span class="hljs-string">'div[data-position-below-header="true"]'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (!scrollContent)
            <span class="hljs-keyword">return</span>;
        scrollContent.setStyle({
            <span class="hljs-attr">top</span>: fixedContent.getHeight() + <span class="hljs-string">'px'</span>
        });
        <span class="hljs-keyword">if</span> (fixedContent.getHeight() &gt; <span class="hljs-number">60</span>) {
            <span class="hljs-keyword">var</span> debugRelated = $$(<span class="hljs-string">'div#debug_related'</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">if</span> (debugRelated) {
                <span class="hljs-keyword">var</span> marginHeight = fixedContent.getHeight() + <span class="hljs-number">20</span>;
                debugRelated.setStyle({
                    <span class="hljs-attr">marginTop</span>: marginHeight + <span class="hljs-string">'px'</span>
                });
            }
        }
    },
    <span class="hljs-attr">_getOutputMessageDivs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> divs = {};
        divs.messages = $(<span class="hljs-keyword">this</span>.outputMessagesTag);
        <span class="hljs-keyword">if</span> (!divs.messages)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        divs.container = divs.messages.select(<span class="hljs-keyword">this</span>.outputMsgDivClass)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (!divs.container)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> divs;
    },
    <span class="hljs-attr">_setupAnnouncer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        addRenderEvent(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> element = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'span'</span>);
            element.setAttribute(<span class="hljs-string">'aria-live'</span>, <span class="hljs-string">'polite'</span>);
            element.setAttribute(<span class="hljs-string">'class'</span>, <span class="hljs-string">'sr-only'</span>);
            <span class="hljs-built_in">document</span>.body.appendChild(element);
            self._announcer = element;
        }, <span class="hljs-literal">false</span>);
    },
    <span class="hljs-attr">_scrapePageLoadMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> messages = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'.outputmsg_div .outputmsg'</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; messages.length; i++) {
                <span class="hljs-keyword">var</span> msg = messages[i];
                <span class="hljs-keyword">var</span> text = msg.textContent;
                <span class="hljs-keyword">var</span> type = <span class="hljs-string">'info'</span>;
                <span class="hljs-keyword">if</span> (msg.classList.contains(<span class="hljs-string">'outputmsg_error'</span>))
                    type = <span class="hljs-string">'error'</span>;
                <span class="hljs-keyword">if</span> (msg.classList.contains(<span class="hljs-string">'outputmsg_warning'</span>))
                    type = <span class="hljs-string">'warning'</span>;
                self._announce(type, text);
            }
        }, <span class="hljs-number">2000</span>);
    },
    <span class="hljs-attr">_announce</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, text</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._announcer) {
            <span class="hljs-keyword">this</span>._pruneOldMessages();
            <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">var</span> textNode;
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                textNode = <span class="hljs-built_in">document</span>.createTextNode(type + <span class="hljs-string">': '</span> + text);
                that._announcer.appendChild(textNode);
                that._announcer.style.display = <span class="hljs-string">'none'</span>;
                that._announcer.style.display = <span class="hljs-string">'inline'</span>;
            }, <span class="hljs-number">500</span>);
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                textNode.readyToDelete = <span class="hljs-literal">true</span>;
            }, <span class="hljs-number">5000</span>);
        }
    },
    <span class="hljs-attr">_pruneOldMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> nodes = <span class="hljs-keyword">this</span>._announcer.childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; nodes.length; i++) {
            <span class="hljs-keyword">var</span> node = nodes[i];
            <span class="hljs-keyword">if</span> (node.readyToDelete)
                node.parentNode.removeChild(node);
        }
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideUI'</span>;
    }
});
GlideUI.UI_NOTIFICATION = <span class="hljs-string">'glide:ui_notification'</span>;
GlideUI.UI_NOTIFICATION_SYSTEM = GlideUI.UI_NOTIFICATION + <span class="hljs-string">'.system'</span>;
GlideUI.UI_NOTIFICATION_INFO = GlideUI.UI_NOTIFICATION + <span class="hljs-string">'.info'</span>;
GlideUI.UI_NOTIFICATION_ERROR = GlideUI.UI_NOTIFICATION + <span class="hljs-string">'.error'</span>;
GlideUI.UI_NOTIFICATION_SYSTEM_EVENT = GlideUI.UI_NOTIFICATION + <span class="hljs-string">'.system_event'</span>;
GlideUI.OUTPUT_MESSAGE_TEMPLATE = <span class="hljs-keyword">new</span> Template(
    <span class="hljs-string">'&lt;div class="outputmsg outputmsg_#{type} notification notification-#{type}"&gt;'</span> +
    <span class="hljs-string">'&lt;span class="notification-icon #{icon}"&gt;'</span> +
    <span class="hljs-string">'&lt;span class="sr-only"&gt;#{iconSr}&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;span class="outputmsg_text"&gt;#{msg}&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;/div&gt;'</span>
);
GlideUI.OUTPUT_MESSAGE_TEMPLATE_WITH_ID = <span class="hljs-keyword">new</span> Template(
    <span class="hljs-string">'&lt;div class="outputmsg outputmsg_#{type} notification notification-#{type}" id="#{id}"&gt;'</span> +
    <span class="hljs-string">'&lt;span class="notification-icon #{icon}"&gt;'</span> +
    <span class="hljs-string">'&lt;span class="sr-only"&gt;#{iconSr}&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;span class="outputmsg_text"&gt;#{msg}&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;/div&gt;'</span>
);
GlideUI.NAV_MESSAGE_TEMPLATE = <span class="hljs-keyword">new</span> Template(
    <span class="hljs-string">'&lt;div id="nav_message" class="outputmsg_nav"&gt;'</span> +
    <span class="hljs-string">'&lt;img src="images/icon_nav_info.png"/&gt;'</span> +
    <span class="hljs-string">'&lt;span class="outputmsg_text outputmsg_nav_inner"&gt;&amp;nbsp;#{msg}&lt;/span&gt;'</span> +
    <span class="hljs-string">'&lt;/div&gt;'</span>
);
<span class="hljs-built_in">window</span>.g_GlideUI = <span class="hljs-keyword">new</span> GlideUI();
GlideUI.get = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">window</span>.g_GlideUI;
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUINotification.js */</span>
<span class="hljs-keyword">var</span> GlideUINotification = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        options = <span class="hljs-built_in">Object</span>.extend({
            <span class="hljs-attr">type</span>: <span class="hljs-string">'system'</span>,
            <span class="hljs-attr">text</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">duration</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">attributes</span>: {},
            <span class="hljs-attr">xml</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">window</span>: <span class="hljs-built_in">window</span>
        }, options || {});
        <span class="hljs-keyword">this</span>.window = options.window;
        <span class="hljs-keyword">if</span> (!options.xml) {
            <span class="hljs-keyword">this</span>.type = options.type;
            <span class="hljs-keyword">this</span>.text = options.text;
            <span class="hljs-keyword">this</span>.attributes = options.attributes;
            <span class="hljs-keyword">this</span>.duration = options.duration;
        } <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">this</span>.xml = options.xml;
    },
    <span class="hljs-attr">getType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.xml)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.xml.getAttribute(<span class="hljs-string">'data-type'</span>) || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.type;
    },
    <span class="hljs-attr">getText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.xml)
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.xml.getAttribute(<span class="hljs-string">'data-text'</span>) || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.text;
    },
    <span class="hljs-attr">getDuration</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.xml)
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.xml.getAttribute(<span class="hljs-string">'data-duration'</span>), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.duration;
    },
    <span class="hljs-attr">getAttribute</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">var</span> v;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.xml)
            v = <span class="hljs-keyword">this</span>.xml.getAttribute(<span class="hljs-string">'data-attr-'</span> + n) || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">else</span>
            v = <span class="hljs-keyword">this</span>.attributes[n] || <span class="hljs-string">''</span>;
        <span class="hljs-keyword">return</span> v;
    },
    <span class="hljs-attr">getWindow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.window;
    },
    <span class="hljs-attr">getChildren</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.xml)
            <span class="hljs-keyword">return</span> [];
        <span class="hljs-keyword">var</span> children = [];
        <span class="hljs-keyword">var</span> spans = <span class="hljs-keyword">this</span>.xml.childNodes;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
            <span class="hljs-keyword">if</span> ((spans[i].getAttribute(<span class="hljs-string">'class'</span>) == <span class="hljs-string">'ui_notification_child'</span>) || (spans[i].getAttribute(<span class="hljs-string">'className'</span>) == <span class="hljs-string">'ui_notification_child'</span>))
                children.push(<span class="hljs-keyword">new</span> GlideUINotification({
                    <span class="hljs-attr">xml</span>: spans[i],
                    <span class="hljs-attr">window</span>: <span class="hljs-keyword">this</span>.window
                }));
        }
        <span class="hljs-keyword">return</span> children;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'GlideUINotification'</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideUIDefault.js */</span>
<span class="hljs-keyword">var</span> GlideUIDefault = {
    <span class="hljs-attr">init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">display</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">htmlTextOrOptions</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> htmlTextOrOptions == <span class="hljs-string">'string'</span>)
            <span class="hljs-keyword">new</span> NotificationMessage({
                <span class="hljs-attr">text</span>: htmlTextOrOptions
            });
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">new</span> NotificationMessage(htmlTextOrOptions);
    }
};
<span class="hljs-keyword">if</span> (GlideUI.get())
    <span class="hljs-built_in">Object</span>.extend(GlideUI.get(), GlideUIDefault).init();;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/doctype/NotificationMessage.js */</span>
<span class="hljs-keyword">var</span> NotificationMessage = Class.create({
    <span class="hljs-attr">FADE_IN_DEFAULT_MS</span>: <span class="hljs-number">400</span>,
    <span class="hljs-attr">FADE_OUT_DEFAULT_MS</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">CLOSE_DEFAULT_MS</span>: <span class="hljs-number">3000</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        <span class="hljs-keyword">this</span>.options = <span class="hljs-built_in">Object</span>.extend({
            <span class="hljs-attr">text</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">type</span>: <span class="hljs-string">'info'</span>,
            <span class="hljs-attr">image</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">styles</span>: {},
            <span class="hljs-attr">sticky</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">fadeIn</span>: <span class="hljs-keyword">this</span>.FADE_IN_DEFAULT_MS,
            <span class="hljs-attr">fadeOut</span>: <span class="hljs-keyword">this</span>.FADE_OUT_DEFAULT_MS,
            <span class="hljs-attr">closeDelay</span>: <span class="hljs-keyword">this</span>.CLOSE_DEFAULT_MS,
            <span class="hljs-attr">classPrefix</span>: <span class="hljs-string">'notification'</span>,
            <span class="hljs-attr">container</span>: <span class="hljs-string">'ui_notification'</span>,
            <span class="hljs-attr">classContainer</span>: <span class="hljs-string">'panel-body'</span>,
            <span class="hljs-attr">bundleMessages</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">singleMessage</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">onBeforeOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
            <span class="hljs-attr">onAfterOpen</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
            <span class="hljs-attr">onBeforeClose</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
            <span class="hljs-attr">onAfterClose</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{}
        }, options || {});
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.type == <span class="hljs-string">'warn'</span>)
            <span class="hljs-keyword">this</span>.options.type = <span class="hljs-string">'warning'</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.type === <span class="hljs-string">''</span>)
            <span class="hljs-keyword">this</span>.options.type = <span class="hljs-string">'info'</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.type == <span class="hljs-string">'system'</span>)
            <span class="hljs-keyword">this</span>.options.type = <span class="hljs-string">'info'</span>;
        <span class="hljs-keyword">this</span>.options.fadeIn = <span class="hljs-keyword">this</span>._validNumber(<span class="hljs-keyword">this</span>.options.fadeIn, <span class="hljs-keyword">this</span>.FADE_IN_DEFAULT_MS);
        <span class="hljs-keyword">this</span>.options.fadeOut = <span class="hljs-keyword">this</span>._validNumber(<span class="hljs-keyword">this</span>.options.fadeOut, <span class="hljs-keyword">this</span>.FADE_OUT_DEFAULT_MS);
        <span class="hljs-keyword">this</span>.options.closeDelay = <span class="hljs-keyword">this</span>._validNumber(<span class="hljs-keyword">this</span>.options.closeDelay, <span class="hljs-keyword">this</span>.CLOSE_DEFAULT_MS);
        <span class="hljs-keyword">this</span>._show();
    },
    <span class="hljs-attr">_show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> container = <span class="hljs-keyword">this</span>._getContainer(<span class="hljs-keyword">this</span>.options.container);
        <span class="hljs-keyword">this</span>.options.onBeforeOpen.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.singleMessage)
            container.update(<span class="hljs-string">""</span>);
        <span class="hljs-keyword">this</span>.notification = <span class="hljs-keyword">this</span>._create();
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.bundleMessages || container.childElements().length === <span class="hljs-number">0</span>) {
            container.insert(<span class="hljs-keyword">this</span>.notification);
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.sticky) {
                <span class="hljs-keyword">this</span>.timeoutId = setTimeout(<span class="hljs-keyword">this</span>._close.bind(<span class="hljs-keyword">this</span>, <span class="hljs-literal">false</span>),
                    <span class="hljs-keyword">this</span>.options.closeDelay + <span class="hljs-keyword">this</span>.options.fadeIn);
                <span class="hljs-keyword">this</span>.notification.observe(<span class="hljs-string">'mouseover'</span>, <span class="hljs-keyword">this</span>._makeSticky.bind(<span class="hljs-keyword">this</span>));
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> notification = container.down(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classPrefix);
            <span class="hljs-keyword">if</span> (!notification)
                notification = <span class="hljs-keyword">this</span>.notification;
            <span class="hljs-keyword">this</span>._showOuterPanel(notification);
            NotificationMessage.prototype.messages.push(<span class="hljs-keyword">this</span>.notification);
            <span class="hljs-keyword">this</span>._updateMoreText(notification, NotificationMessage.prototype.messages.length + <span class="hljs-string">" more..."</span>);
        }
        <span class="hljs-keyword">this</span>.notification.on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'.notification_close_action'</span>, <span class="hljs-keyword">this</span>._close.bind(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>));
        <span class="hljs-keyword">this</span>.notification.fadeIn(<span class="hljs-keyword">this</span>.options.fadeIn, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.options.onAfterOpen.call(<span class="hljs-keyword">this</span>);
        }.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">_close</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">boolCloseImmediately, closeEvent</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.notification || <span class="hljs-keyword">this</span>._isClosing === <span class="hljs-literal">true</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._isClosing = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.options.onBeforeClose.call(<span class="hljs-keyword">this</span>);
        clearTimeout(<span class="hljs-keyword">this</span>.timeoutId);
        <span class="hljs-keyword">this</span>.timeoutId = <span class="hljs-literal">null</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_onClose</span>(<span class="hljs-params">notification</span>) </span>{
            <span class="hljs-keyword">this</span>._isClosing = <span class="hljs-literal">false</span>;
            notification.stopObserving();
            <span class="hljs-keyword">var</span> parent = notification.up();
            <span class="hljs-keyword">if</span> (notification.up(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classContainer) &amp;&amp;
                notification
                .up(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classContainer).select(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classPrefix).length &lt;= <span class="hljs-number">1</span>)
                notification.up(<span class="hljs-string">'#'</span> + <span class="hljs-keyword">this</span>.options.container).remove();
            <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (notification.parentNode)
                    notification.remove();
                notification = <span class="hljs-literal">null</span>;
            }
            <span class="hljs-keyword">this</span>.options.onAfterClose.call(<span class="hljs-keyword">this</span>);
            <span class="hljs-keyword">if</span> (isMSIE &amp;&amp; parent) {
                parent.style.display = <span class="hljs-string">"none"</span>
                parent.style.display = <span class="hljs-string">"block"</span>;
            }
        }
        <span class="hljs-keyword">var</span> notification = <span class="hljs-keyword">this</span>.notification;
        <span class="hljs-keyword">if</span> (closeEvent &amp;&amp; closeEvent.element)
            notification = closeEvent.element().up(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'-closable'</span>);
        <span class="hljs-keyword">if</span> (boolCloseImmediately)
            _onClose.call(<span class="hljs-keyword">this</span>, notification);
        <span class="hljs-keyword">else</span>
            notification.animate({
                <span class="hljs-attr">height</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.2</span>
            }, <span class="hljs-keyword">this</span>.options.fadeOut, _onClose.bind(<span class="hljs-keyword">this</span>, notification));
    },
    <span class="hljs-attr">_makeSticky</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearTimeout(<span class="hljs-keyword">this</span>.timeoutId);
        <span class="hljs-keyword">this</span>.notification.stopObserving(<span class="hljs-string">'mouseover'</span>);
        <span class="hljs-keyword">this</span>.notification.down(<span class="hljs-string">'.close'</span>).show();
        <span class="hljs-keyword">this</span>.notification.addClassName(<span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'_message_sticky'</span>);
    },
    <span class="hljs-attr">_showAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">more</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.notification.up(<span class="hljs-string">".panel-body"</span>).length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> notificationContainer = <span class="hljs-keyword">this</span>._createContainer();
            <span class="hljs-keyword">this</span>.notification.insert(notificationContainer)
            <span class="hljs-keyword">this</span>.notification.wrap(notificationContainer);
            <span class="hljs-keyword">this</span>.notification.addClassName(<span class="hljs-string">"notification_inner"</span>);
            <span class="hljs-keyword">this</span>.notification = notificationContainer;
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; NotificationMessage.prototype.messages.length; i++) {
            <span class="hljs-keyword">var</span> notification = NotificationMessage.prototype.messages[i];
            <span class="hljs-keyword">this</span>.notification.up(<span class="hljs-string">'.panel-body'</span>).insert(notification);
            notification.stopObserving(<span class="hljs-string">'mouseover'</span>);
            notification.down(<span class="hljs-string">'.close'</span>).show();
            notification.addClassName(<span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'_message_sticky'</span>);
        }
        more.up(<span class="hljs-string">'.notification-more-container'</span>).hide();
        NotificationMessage.prototype.messages = [];
    },
    <span class="hljs-attr">_getContainer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">var</span> c = $(n);
        <span class="hljs-keyword">if</span> (c)
            <span class="hljs-keyword">return</span> c.down(<span class="hljs-string">'.'</span> + <span class="hljs-keyword">this</span>.options.classContainer);
        c = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'div'</span>, {
            <span class="hljs-string">'id'</span>: n,
            <span class="hljs-string">'className'</span>: <span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'_container notification-closable'</span>
        });
        <span class="hljs-built_in">document</span>.body.appendChild(c);
        <span class="hljs-keyword">this</span>._createHeading(c);
        <span class="hljs-keyword">var</span> body = <span class="hljs-keyword">this</span>._createBody(c);
        <span class="hljs-keyword">this</span>._createFooter(c);
        <span class="hljs-keyword">return</span> body;
    },
    <span class="hljs-attr">_createContainer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._createMainDiv(<span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">_createHeading</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">container</span>) </span>{
        <span class="hljs-keyword">var</span> heading = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'div'</span>, {
            <span class="hljs-attr">className</span>: <span class="hljs-string">"panel-heading"</span>,
            <span class="hljs-attr">style</span>: <span class="hljs-string">'display: none;'</span>
        });
        <span class="hljs-keyword">var</span> close = <span class="hljs-keyword">this</span>._createCloseIcon();
        close.setStyle({
            <span class="hljs-attr">display</span>: <span class="hljs-string">"block"</span>
        });
        heading.insert(close);
        heading.insert(<span class="hljs-string">"&lt;h3 class=\"panel-title\"&gt;Current Notification Messages&lt;/h3&gt;"</span>);
        container.insert(heading);
    },
    <span class="hljs-attr">_createBody</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">container</span>) </span>{
        <span class="hljs-keyword">var</span> el = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'div'</span>, {
            <span class="hljs-attr">className</span>: <span class="hljs-keyword">this</span>.options.classContainer,
            <span class="hljs-attr">style</span>: <span class="hljs-string">'padding: 0;'</span>
        });
        container.insert(el);
        <span class="hljs-keyword">return</span> el;
    },
    <span class="hljs-attr">_createFooter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">container</span>) </span>{
        <span class="hljs-keyword">var</span> el = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'div'</span>, {
            <span class="hljs-attr">className</span>: <span class="hljs-string">'panel-footer notification-more-container'</span>,
            <span class="hljs-attr">style</span>: <span class="hljs-string">'display:none; '</span>
        });
        container.insert(el);
        el.insert(<span class="hljs-keyword">this</span>._createMoreIcon());
    },
    <span class="hljs-attr">_create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">this</span>._createMainDiv();
        e.appendChild(<span class="hljs-keyword">this</span>._createCloseIcon());
        e.insert(<span class="hljs-keyword">this</span>.options.text);
        e.style.display = <span class="hljs-string">'none'</span>;
        <span class="hljs-keyword">return</span> e;
    },
    <span class="hljs-attr">_createCloseIcon</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> close = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'span'</span>, {
            <span class="hljs-attr">className</span>: <span class="hljs-string">'icon-cross close'</span>,
            <span class="hljs-attr">style</span>: <span class="hljs-string">'display: '</span> + (<span class="hljs-keyword">this</span>.options.sticky ? <span class="hljs-string">'block'</span> : <span class="hljs-string">'none'</span>)
        });
        close.observe(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">this</span>._close.bind(<span class="hljs-keyword">this</span>, <span class="hljs-literal">true</span>));
        <span class="hljs-keyword">return</span> close;
    },
    <span class="hljs-attr">_createMainDiv</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">isContainer</span>) </span>{
        <span class="hljs-keyword">var</span> className = <span class="hljs-keyword">this</span>.options.classPrefix;
        <span class="hljs-keyword">if</span> (!isContainer &amp;&amp; <span class="hljs-keyword">this</span>.options.type)
            className += <span class="hljs-string">' notification-closable '</span> + <span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'-'</span> + <span class="hljs-keyword">this</span>.options.type;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isContainer)
            className = <span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'_message_container panel-body'</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.sticky)
            className += <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.options.classPrefix + <span class="hljs-string">'_sticky'</span>;
        <span class="hljs-keyword">var</span> e = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">'div'</span>, {
            <span class="hljs-string">'className'</span>: className
        });
        e.setStyle(<span class="hljs-keyword">this</span>.options.styles);
        <span class="hljs-keyword">return</span> e;
    },
    <span class="hljs-attr">_createMoreIcon</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> more = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"a"</span>, {
            <span class="hljs-string">"className"</span>: <span class="hljs-string">"notification-more"</span>
        });
        more.observe(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">this</span>._showAll.bind(<span class="hljs-keyword">this</span>, more));
        <span class="hljs-keyword">return</span> more;
    },
    <span class="hljs-attr">_showOuterPanel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
        notification.up(<span class="hljs-string">'.notification_container'</span>).down(<span class="hljs-string">'.panel-heading'</span>).show();
        notification.up(<span class="hljs-string">'.notification_container'</span>).down(<span class="hljs-string">'.panel-body'</span>).style.padding = <span class="hljs-string">''</span>;
        notification.up(<span class="hljs-string">'.notification_container'</span>).addClassName(<span class="hljs-string">'panel panel-default'</span>);
        notification.up(<span class="hljs-string">'.panel'</span>).down(<span class="hljs-string">".notification-more-container"</span>).show();
    },
    <span class="hljs-attr">_updateMoreText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification, text</span>) </span>{
        notification.up(<span class="hljs-string">'.panel'</span>).select(<span class="hljs-string">".notification-more"</span>)[<span class="hljs-number">0</span>].update(text);
    },
    <span class="hljs-attr">_validNumber</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">n, v</span>) </span>{
        n = <span class="hljs-built_in">parseInt</span>(n, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">isNaN</span>(n) ? v : n;
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'NotificationMessage'</span>;
    }
});
NotificationMessage.prototype.messages = [];;
<span class="hljs-comment">/*! RESOURCE: /scripts/section.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">expandCollapseAllSections</span>(<span class="hljs-params">expandFlag</span>) </span>{
    <span class="hljs-keyword">var</span> spans = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'span'</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
        <span class="hljs-keyword">if</span> (spans[i].id.substr(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>) != <span class="hljs-string">"section."</span>)
            <span class="hljs-keyword">continue</span>;
        <span class="hljs-keyword">var</span> id = spans[i].id.substring(<span class="hljs-number">8</span>);
        <span class="hljs-keyword">var</span> state = collapsedState(id);
        <span class="hljs-keyword">if</span> (state == expandFlag)
            toggleSectionDisplay(id);
    }
    CustomEvent.fire(<span class="hljs-string">'toggle.sections'</span>, expandFlag);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">collapsedState</span>(<span class="hljs-params">sectionName</span>) </span>{
    <span class="hljs-keyword">var</span> el = $(sectionName);
    <span class="hljs-keyword">if</span> (el)
        <span class="hljs-keyword">return</span> (el.style.display == <span class="hljs-string">"none"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCollapseAllIcons</span>(<span class="hljs-params">action, sectionID</span>) </span>{
    <span class="hljs-keyword">var</span> exp = gel(<span class="hljs-string">'img.'</span> + sectionID + <span class="hljs-string">'_expandall'</span>);
    <span class="hljs-keyword">var</span> col = gel(<span class="hljs-string">'img.'</span> + sectionID + <span class="hljs-string">'_collapseall'</span>);
    <span class="hljs-keyword">if</span> (!exp || !col)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (action == <span class="hljs-string">"expand"</span>) {
        exp.style.display = <span class="hljs-string">"none"</span>;
        col.style.display = <span class="hljs-string">"inline"</span>;
        <span class="hljs-keyword">return</span>;
    }
    exp.style.display = <span class="hljs-string">"inline"</span>;
    col.style.display = <span class="hljs-string">"none"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toggleSectionDisplay</span>(<span class="hljs-params">id, imagePrefix, sectionID</span>) </span>{
    <span class="hljs-keyword">var</span> collapsed = collapsedState(id);
    setPreference(<span class="hljs-string">"collapse.section."</span> + id, !collapsed, <span class="hljs-literal">null</span>);
    hideReveal(id, imagePrefix);
    toggleDivDisplay(id + <span class="hljs-string">'_spacer'</span>);
    <span class="hljs-keyword">if</span> (collapsed) {
        CustomEvent.fire(<span class="hljs-string">"section.expanded"</span>, id);
        setCollapseAllIcons(<span class="hljs-string">"expand"</span>, sectionID);
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/doctype/GlideTabs2.js */</span>
<span class="hljs-keyword">var</span> GlideTabs2 = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className, parentElement, offset, tabClassPrefix, isPreloaded</span>) </span>{
        <span class="hljs-keyword">this</span>._timeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>._lastIndex = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">this</span>.tabs = [];
        <span class="hljs-keyword">this</span>.tabIDs = [];
        <span class="hljs-keyword">this</span>.tabNames = [];
        <span class="hljs-keyword">this</span>.isHidable = [];
        <span class="hljs-keyword">this</span>.className = className;
        <span class="hljs-keyword">if</span> (parentElement == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.parentElement = parentElement;
        <span class="hljs-keyword">this</span>.isFormTabs = <span class="hljs-built_in">window</span>.g_form &amp;&amp; parentElement == g_form.getFormElement();
        <span class="hljs-keyword">this</span>.tabs = <span class="hljs-keyword">this</span>.getChildNodesWithClass(parentElement, className);
        <span class="hljs-keyword">if</span> (offset == <span class="hljs-number">1</span>)
            <span class="hljs-keyword">this</span>.tabs.shift();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFormTabs) {
            CustomEvent.observe(<span class="hljs-string">"form.loaded"</span>, <span class="hljs-keyword">this</span>.markMandatoryTabs.bind(<span class="hljs-keyword">this</span>));
            CustomEvent.observe(<span class="hljs-string">"ui_policy.loaded"</span>, <span class="hljs-keyword">this</span>.startCatchingMandatory.bind(<span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">var</span> initialIndex = <span class="hljs-built_in">parseInt</span>($j(<span class="hljs-string">'#tabs2_section'</span>).attr(<span class="hljs-string">'data-initial-tab-index'</span>), <span class="hljs-number">10</span>);
            <span class="hljs-keyword">this</span>._lastIndex = <span class="hljs-built_in">isNaN</span>(initialIndex) ? <span class="hljs-number">0</span> : initialIndex;
        }
        CustomEvent.observe(<span class="hljs-string">"change.handlers.run"</span>, <span class="hljs-keyword">this</span>.showTabs.bind(<span class="hljs-keyword">this</span>));
        CustomEvent.observe(<span class="hljs-string">"change.handlers.run.all"</span>, <span class="hljs-keyword">this</span>.showTabs.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">if</span> (className !== <span class="hljs-string">'tabs2_list'</span> || !<span class="hljs-built_in">window</span>.NOW.g_relatedLists)
            CustomEvent.observe(<span class="hljs-string">"partial.page.reload"</span>, <span class="hljs-keyword">this</span>.updateTabs.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.activated = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.tabDiv = gel(className);
        <span class="hljs-keyword">this</span>.activeTab = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">this</span>.createTabs(tabClassPrefix, isPreloaded);
        <span class="hljs-keyword">this</span>.state = <span class="hljs-keyword">new</span> GlideTabs2State(className + <span class="hljs-string">"_"</span> + g_tabs_reference);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tabDiv) {
            $j(<span class="hljs-keyword">this</span>.tabDiv).attr(<span class="hljs-string">'role'</span>, <span class="hljs-string">'tablist'</span>).on(<span class="hljs-string">'keydown'</span>, <span class="hljs-keyword">this</span>, <span class="hljs-keyword">this</span>.handleKeydown);
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabDiv</span>) </span>{
                $j(tabDiv.getElementsByClassName(<span class="hljs-string">'tabs2_tab'</span>)).not(<span class="hljs-string">'.tabs2_active'</span>).attr(<span class="hljs-string">'tabindex'</span>, <span class="hljs-number">-1</span>);
            }, <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.tabDiv);
        }
    },
    <span class="hljs-attr">handleKeydown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> self = e.data;
        <span class="hljs-keyword">if</span> (e.which == <span class="hljs-number">37</span>) {
            <span class="hljs-keyword">var</span> newIndex = (self.activeTab - <span class="hljs-number">1</span> + self.tabsTabs.length) % self.tabsTabs.length;
            <span class="hljs-keyword">var</span> loopCount = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (self.tabsTabs[newIndex].element.style[<span class="hljs-string">'display'</span>] == <span class="hljs-string">'none'</span> &amp;&amp; loopCount &lt; self.tabsTabs.length) {
                newIndex = (newIndex - <span class="hljs-number">1</span> + self.tabsTabs.length) % self.tabsTabs.length;
                loopCount++;
            }
            self.setActive(newIndex);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.which == <span class="hljs-number">39</span>) {
            <span class="hljs-keyword">var</span> newIndex = (self.activeTab + <span class="hljs-number">1</span> + self.tabsTabs.length) % self.tabsTabs.length;
            <span class="hljs-keyword">var</span> loopCount = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (self.tabsTabs[newIndex].element.style[<span class="hljs-string">'display'</span>] == <span class="hljs-string">'none'</span> &amp;&amp; loopCount &lt; self.tabsTabs.length) {
                newIndex = (newIndex + <span class="hljs-number">1</span> + self.tabsTabs.length) % self.tabsTabs.length;
                loopCount++;
            }
            self.setActive(newIndex);
        }
        <span class="hljs-keyword">var</span> activeTab = $j(<span class="hljs-keyword">this</span>.getElementsByClassName(<span class="hljs-string">'tabs2_active'</span>)[<span class="hljs-number">0</span>]);
        activeTab.attr(<span class="hljs-string">'tabindex'</span>, <span class="hljs-number">0</span>);
        activeTab.focus();
        $j(<span class="hljs-keyword">this</span>.getElementsByClassName(<span class="hljs-string">'tabs2_tab'</span>)).not(<span class="hljs-string">'.tabs2_active'</span>).attr(<span class="hljs-string">'tabindex'</span>, <span class="hljs-number">-1</span>);
    },
    <span class="hljs-attr">setActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) </span>{
        <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt; <span class="hljs-keyword">this</span>.tabs.length - <span class="hljs-number">1</span>)
            index = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> tab = <span class="hljs-keyword">this</span>.tabs[index];
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.activeTab != <span class="hljs-number">-1</span>) {
            <span class="hljs-keyword">var</span> previousTab = <span class="hljs-keyword">this</span>.tabs[<span class="hljs-keyword">this</span>.activeTab];
            setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> newHeight = (<span class="hljs-built_in">document</span>.height !== <span class="hljs-literal">undefined</span>) ? <span class="hljs-built_in">document</span>.height : <span class="hljs-built_in">document</span>.body.offsetHeight;
                <span class="hljs-keyword">this</span>._bumpSpacer(newHeight);
            }.bind(<span class="hljs-keyword">this</span>));
            hide(previousTab);
            <span class="hljs-keyword">this</span>.tabsTabs[<span class="hljs-keyword">this</span>.activeTab].setActive(<span class="hljs-literal">false</span>);
        }
        show(tab);
        <span class="hljs-keyword">this</span>.activeTab = <span class="hljs-built_in">parseInt</span>(index, <span class="hljs-number">10</span>);
        <span class="hljs-keyword">this</span>.state.set(<span class="hljs-keyword">this</span>.activeTab);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFormTabs &amp;&amp; <span class="hljs-keyword">this</span>._lastIndex !== <span class="hljs-keyword">this</span>.activeTab &amp;&amp; <span class="hljs-keyword">this</span>.tabsTabs[<span class="hljs-keyword">this</span>._lastIndex]) {
            $j(<span class="hljs-keyword">this</span>.tabsTabs[<span class="hljs-keyword">this</span>._lastIndex].element).removeClass(<span class="hljs-string">'tabs2_active'</span>);
            <span class="hljs-keyword">this</span>.setFormTabIndex();
        }
        <span class="hljs-keyword">this</span>.tabsTabs[index].setActive(<span class="hljs-literal">true</span>);
    },
    <span class="hljs-attr">isActivated</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.activated;
    },
    <span class="hljs-attr">setFormTabIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearTimeout(<span class="hljs-keyword">this</span>._timeout);
        <span class="hljs-keyword">this</span>._timeout = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>._lastIndex = <span class="hljs-keyword">this</span>.activeTab;
            setPreference(<span class="hljs-string">'tabs2.section.'</span> + g_form.getTableName(), <span class="hljs-keyword">this</span>.activeTab);
        }.bind(<span class="hljs-keyword">this</span>), <span class="hljs-number">2000</span>);
    },
    <span class="hljs-attr">deactivate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        removeClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_enabled'</span>);
        removeClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_disabled'</span>);
        addClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_disabled'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tabs.length == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (isDoctype) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabs.length; i++)
                $(<span class="hljs-keyword">this</span>.tabs[i]).removeClassName(<span class="hljs-string">"tab_section"</span>);
        }
        <span class="hljs-keyword">var</span> count = <span class="hljs-keyword">this</span>.tabsTabs.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
            <span class="hljs-keyword">var</span> tabsTab = <span class="hljs-keyword">this</span>.tabsTabs[i];
            <span class="hljs-keyword">if</span> (tabsTab.isVisible())
                show(<span class="hljs-keyword">this</span>.tabs[i]);
        }
        hide(<span class="hljs-keyword">this</span>.tabDiv);
        <span class="hljs-keyword">this</span>.activated = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">activate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.className === <span class="hljs-string">"tabs2_vars"</span>)
            <span class="hljs-keyword">return</span>;
        removeClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_enabled'</span>);
        removeClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_disabled'</span>);
        addClassName(<span class="hljs-keyword">this</span>.parentElement, <span class="hljs-string">'tabs_enabled'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tabs.length &lt; <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">this</span>.deactivate();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (isDoctype) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabs.length; i++)
                $(<span class="hljs-keyword">this</span>.tabs[i]).addClassName(<span class="hljs-string">"tab_section"</span>);
        }
        show(<span class="hljs-keyword">this</span>.tabDiv);
        <span class="hljs-keyword">this</span>.hideAll();
        <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>.state.get();
        <span class="hljs-keyword">if</span> (index == <span class="hljs-literal">null</span>)
            index = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tabsTabs[index] || !<span class="hljs-keyword">this</span>.tabsTabs[index].isVisible()) {
            index = <span class="hljs-keyword">this</span>._findFirstVisibleTab();
            <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span>)
                <span class="hljs-keyword">this</span>.setActive(index);
        }
        <span class="hljs-keyword">if</span> (index != <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">this</span>.setActive(index);
        <span class="hljs-keyword">this</span>.activated = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">hideAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> tabs = <span class="hljs-keyword">this</span>.tabs;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; tabs.length; i++)
            hide(tabs[i]);
    },
    <span class="hljs-attr">hideTabByID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabID</span>) </span>{
        <span class="hljs-keyword">var</span> tabIndex = <span class="hljs-keyword">this</span>.findTabIndexByID(tabID);
        <span class="hljs-keyword">if</span> (tabIndex == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.hideTab(tabIndex);
    },
    <span class="hljs-attr">hideTabByName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> tabIndex = <span class="hljs-keyword">this</span>.findTabIndexByName(name);
        <span class="hljs-keyword">if</span> (tabIndex == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.hideTab(tabIndex);
    },
    <span class="hljs-attr">hideTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isHidable[index] === <span class="hljs-literal">true</span>) {
            hide(<span class="hljs-keyword">this</span>.tabs[index].firstChild);
            <span class="hljs-keyword">this</span>.showTabs();
        }
    },
    <span class="hljs-attr">_findFirstVisibleTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> count = <span class="hljs-keyword">this</span>.tabsTabs.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
            <span class="hljs-keyword">var</span> tabsTab = <span class="hljs-keyword">this</span>.tabsTabs[i];
            <span class="hljs-keyword">if</span> (tabsTab.isVisible()) {
                <span class="hljs-keyword">this</span>.setActive(i);
                <span class="hljs-keyword">return</span> i;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">showAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> tabs = <span class="hljs-keyword">this</span>.tabs;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; tabs.length; i++)
            show(tabs[i]);
    },
    <span class="hljs-attr">showTabByID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabID</span>) </span>{
        <span class="hljs-keyword">var</span> tabIndex = <span class="hljs-keyword">this</span>.findTabIndexByID(tabID);
        <span class="hljs-keyword">if</span> (tabIndex == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.showTab(tabIndex);
    },
    <span class="hljs-attr">showTabByName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> tabIndex = <span class="hljs-keyword">this</span>.findTabIndexByName(name);
        <span class="hljs-keyword">if</span> (tabIndex == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.showTab(tabIndex);
    },
    <span class="hljs-attr">isVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) </span>{
        <span class="hljs-keyword">var</span> visibility = <span class="hljs-keyword">this</span>.tabs[index].firstChild.style.display;
        <span class="hljs-keyword">return</span> !(visibility == <span class="hljs-string">'none'</span>);
    },
    <span class="hljs-attr">showTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index</span>) </span>{
        show(<span class="hljs-keyword">this</span>.tabs[index].firstChild);
        <span class="hljs-keyword">this</span>.showTabs();
    },
    <span class="hljs-attr">findTabIndexByID</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabID</span>) </span>{
        <span class="hljs-keyword">var</span> count = <span class="hljs-keyword">this</span>.tabIDs.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tabIDs[i] == tabID)
                <span class="hljs-keyword">return</span> i;
        }
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"findTabIndexByID could not find "</span> + tabID);
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
    },
    <span class="hljs-attr">findTabIndexByName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabName</span>) </span>{
        <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">this</span>.tabNames.indexOf(tabName);
        <span class="hljs-keyword">if</span> (index === <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"findTabIndexByName could not find "</span> + tabName);
        <span class="hljs-keyword">return</span> index;
    },
    <span class="hljs-attr">createTabs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tabClassPrefix, isPreloaded</span>) </span>{
        <span class="hljs-keyword">var</span> tabs = <span class="hljs-keyword">this</span>.tabs;
        <span class="hljs-keyword">this</span>.tabsTabs = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, n = tabs.length, tab, title, name; i &lt; n; i++) {
            tab = tabs[i];
            title = <span class="hljs-keyword">this</span>._getCaption(tab);
            name = tab.getAttribute(<span class="hljs-string">'tab_caption_raw'</span>);
            <span class="hljs-keyword">this</span>.tabsTabs[i] = <span class="hljs-keyword">new</span> GlideTabs2Tab(<span class="hljs-keyword">this</span>, i, title, tabClassPrefix, isPreloaded);
            <span class="hljs-keyword">this</span>.tabIDs[i] = tab.getAttribute(<span class="hljs-string">'id'</span>);
            <span class="hljs-keyword">this</span>.isHidable[i] = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (name) {
                <span class="hljs-keyword">this</span>.tabNames[i] = name.toLowerCase().replace(<span class="hljs-string">" "</span>, <span class="hljs-string">"_"</span>).replace(<span class="hljs-regexp">/[^0-9a-z_]/gi</span>, <span class="hljs-string">""</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.tabNames[i] = tab.getAttribute(<span class="hljs-string">'tab_list_name_raw'</span>);
            }
            <span class="hljs-keyword">if</span> (!isPreloaded) {
                <span class="hljs-keyword">var</span> header = isDoctype ? cel(<span class="hljs-string">'span'</span>) : cel(<span class="hljs-string">'h3'</span>);
                header.className = <span class="hljs-string">'tab_header'</span>;
                <span class="hljs-keyword">if</span> (isTextDirectionRTL()) {
                    header.dir = <span class="hljs-string">'rtl'</span>;
                }
                header.appendChild(<span class="hljs-keyword">this</span>.tabsTabs[i].getElement());
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.tabDiv) {
                    <span class="hljs-keyword">continue</span>;
                }
                <span class="hljs-keyword">this</span>.tabDiv.appendChild(header);
                <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">'img'</span>);
                img.className = <span class="hljs-string">'tab_spacer'</span>;
                img.src = <span class="hljs-string">'images/s.gifx'</span>;
                img.width = <span class="hljs-string">'4'</span>;
                img.height = <span class="hljs-string">'24'</span>;
                <span class="hljs-keyword">this</span>.tabDiv.appendChild(img);
            }
        }
        <span class="hljs-keyword">this</span>.showTabs();
    },
    <span class="hljs-attr">showTabs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabs.length; i++) {
            <span class="hljs-keyword">var</span> tab = <span class="hljs-keyword">this</span>.tabs[i];
            <span class="hljs-keyword">var</span> s = tab.firstChild;
            <span class="hljs-keyword">var</span> displayed = s.style.display != <span class="hljs-string">'none'</span>;
            <span class="hljs-keyword">this</span>.tabsTabs[i].showTab(displayed);
        }
        <span class="hljs-keyword">this</span>._setActiveTab();
    },
    <span class="hljs-attr">updateTabs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> tabs = <span class="hljs-keyword">this</span>.tabs;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; tabs.length; i++) {
            <span class="hljs-keyword">var</span> tab = tabs[i];
            <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">this</span>._getCaption(tab)
            <span class="hljs-keyword">this</span>.tabsTabs[i].updateCaption(t);
        }
    },
    <span class="hljs-attr">_setActiveTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.activeTab == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> currentTab = <span class="hljs-keyword">this</span>.tabsTabs[<span class="hljs-keyword">this</span>.activeTab];
        <span class="hljs-keyword">if</span> (currentTab.isVisible())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabsTabs.length; i++) {
            <span class="hljs-keyword">var</span> t = <span class="hljs-keyword">this</span>.tabsTabs[i];
            <span class="hljs-keyword">if</span> (!t.isVisible())
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">this</span>.setActive(i);
            <span class="hljs-keyword">break</span>;
        }
    },
    <span class="hljs-attr">startCatchingMandatory</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.markMandatoryTabs();
        CustomEvent.observe(<span class="hljs-string">"mandatory.changed"</span>, <span class="hljs-keyword">this</span>.markMandatoryTabs.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">markMandatoryTabs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.markAllTabsOK();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_form) == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> missingFields = g_form.getMissingFields();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; missingFields.length; i++)
            <span class="hljs-keyword">this</span>.markTabMandatoryByField(missingFields[i]);
    },
    <span class="hljs-attr">markTabMandatoryByField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field</span>) </span>{
        <span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.findTabIndex(field);
        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.isHidable[i] = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isVisible(i))
            <span class="hljs-keyword">this</span>.showTab(i);
        <span class="hljs-keyword">this</span>.tabsTabs[i].markAsComplete(<span class="hljs-literal">false</span>);
    },
    <span class="hljs-attr">findTabIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">var</span> answer = <span class="hljs-number">-1</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(g_form) == <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> element = g_form.getControl(fieldName);
        <span class="hljs-keyword">var</span> tabSpan = findParentByTag(element, <span class="hljs-string">"span"</span>);
        <span class="hljs-keyword">while</span> (tabSpan) {
            <span class="hljs-keyword">if</span> (hasClassName(tabSpan, <span class="hljs-string">'tabs2_section'</span>))
                <span class="hljs-keyword">break</span>;
            tabSpan = findParentByTag(tabSpan, <span class="hljs-string">"span"</span>);
        }
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabs.length; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tabs[i] == tabSpan) {
                answer = i;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">markAllTabsOK</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.tabsTabs.length; i++) {
            <span class="hljs-keyword">this</span>.isHidable[i] = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.tabsTabs[i].markAsComplete(<span class="hljs-literal">true</span>);
        }
    },
    <span class="hljs-attr">hasTabs</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tabs.length &gt; <span class="hljs-number">1</span>;
    },
    <span class="hljs-attr">_bumpSpacer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newHeight</span>) </span>{
        <span class="hljs-keyword">var</span> spacerDiv = gel(<span class="hljs-string">'tabs2_spacer'</span>);
        <span class="hljs-keyword">if</span> (!spacerDiv)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> spacerHeight = spacerDiv.offsetHeight;
        <span class="hljs-keyword">if</span> (newHeight &lt; spacerHeight)
            newHeight = spacerHeight;
        spacerDiv.style.height = newHeight + <span class="hljs-string">"px"</span>;
        spacerDiv.style.minHeight = newHeight + <span class="hljs-string">"px"</span>;
    },
    <span class="hljs-attr">_getCaption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tab</span>) </span>{
        <span class="hljs-keyword">var</span> caption = tab.getAttribute(<span class="hljs-string">'tab_caption'</span>);
        <span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">this</span>._getRowCount(tab);
        <span class="hljs-keyword">if</span> (!rows || rows == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> caption;
        <span class="hljs-keyword">var</span> rows = formatNumber(rows);
        <span class="hljs-keyword">if</span> (rows == <span class="hljs-number">0</span>)
            <span class="hljs-keyword">return</span> caption;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">"{0} ({1})"</span>, caption, rows);
    },
    <span class="hljs-attr">_getRowCount</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tab</span>) </span>{
        <span class="hljs-keyword">if</span> (tab.firstChild &amp;&amp; (tab.firstChild.tagName.toLowerCase() == <span class="hljs-string">"span"</span>) &amp;&amp; tab.id &amp;&amp; tab.id.endsWith(<span class="hljs-string">"_tab"</span>)) {
            <span class="hljs-keyword">var</span> rows = tab.getAttribute(<span class="hljs-string">'tab_rows'</span>);
            <span class="hljs-keyword">if</span> (!rows)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> span = tab.firstChild;
            <span class="hljs-keyword">if</span> (!span)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">var</span> f;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; span.childNodes.length; i++) {
                f = span.childNodes[i];
                <span class="hljs-keyword">if</span> (f.tagName.toLowerCase() == <span class="hljs-string">"form"</span>)
                    <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">if</span> (!f || !f[rows])
                <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> f[rows].value;
        }
        <span class="hljs-keyword">var</span> id = tab.id.substring(<span class="hljs-number">0</span>, tab.id.length - <span class="hljs-number">5</span>) + <span class="hljs-string">"_table"</span>;
        <span class="hljs-keyword">var</span> tab = gel(id);
        <span class="hljs-keyword">if</span> (tab)
            <span class="hljs-keyword">return</span> tab.getAttribute(<span class="hljs-string">'total_rows'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    },
    <span class="hljs-attr">getChildNodesWithClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">p, className</span>) </span>{
        <span class="hljs-keyword">var</span> children = p.childNodes;
        <span class="hljs-keyword">var</span> answer = [];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, nodes = <span class="hljs-number">0</span>, n = children.length; i &lt; n; i++) {
            <span class="hljs-keyword">var</span> node = children[i];
            <span class="hljs-keyword">if</span> (hasClassName(node, className))
                answer.push(node);
        }
        <span class="hljs-keyword">return</span> answer;
    },
    <span class="hljs-attr">log</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        jslog(<span class="hljs-string">"GlideTabs2 "</span> + msg);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">'GlideTabs2'</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/doctype/GlideTabs2Tab.js */</span>
<span class="hljs-keyword">var</span> GlideTabs2Tab = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parent, index, caption, classPrefix, isPreloaded</span>) </span>{
        <span class="hljs-keyword">var</span> el;
        <span class="hljs-keyword">var</span> tabs = isPreloaded ? $j(<span class="hljs-string">'#tabs2_section'</span>).find(<span class="hljs-string">'.tabs2_tab'</span>) : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.caption = caption.replace(<span class="hljs-regexp">/\s/g</span>, <span class="hljs-string">"\u00a0"</span>);
        <span class="hljs-keyword">this</span>.parent = parent;
        <span class="hljs-keyword">this</span>.index = index;
        <span class="hljs-keyword">if</span> (isPreloaded &amp;&amp; tabs.length !== <span class="hljs-number">0</span> &amp;&amp; tabs[index]) {
            el = tabs[index];
            <span class="hljs-keyword">this</span>.element = el;
            <span class="hljs-keyword">this</span>.classPrefix = <span class="hljs-string">"tabs2"</span>;
            <span class="hljs-keyword">this</span>.mandatorySpan = $j(el).find(<span class="hljs-string">'[mandatory=true]'</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">this</span>._createMandatorySpan(<span class="hljs-keyword">this</span>.mandatorySpan);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.element = cel(<span class="hljs-string">"span"</span>);
            el = <span class="hljs-keyword">this</span>.element;
            <span class="hljs-keyword">if</span> (!classPrefix)
                <span class="hljs-keyword">this</span>.classPrefix = <span class="hljs-string">"tabs2"</span>;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">this</span>.classPrefix = classPrefix;
            el.className = <span class="hljs-keyword">this</span>.classPrefix + <span class="hljs-string">'_tab'</span>;
            el.tabIndex = <span class="hljs-string">"0"</span>;
            el.setAttribute(<span class="hljs-string">'role'</span>, <span class="hljs-string">'tab'</span>);
            <span class="hljs-keyword">this</span>.mandatorySpan = <span class="hljs-keyword">this</span>._createMandatorySpan();
            el.appendChild(<span class="hljs-keyword">this</span>.mandatorySpan);
            <span class="hljs-keyword">var</span> c = cel(<span class="hljs-string">"span"</span>);
            c.className = <span class="hljs-string">"tab_caption_text"</span>;
            c.innerHTML = <span class="hljs-keyword">this</span>.caption;
            el.appendChild(c);
        }
        <span class="hljs-keyword">if</span> (isTextDirectionRTL() &amp;&amp; (isMSIE6 || isMSIE7 || isMSIE8 || (isMSIE9 &amp;&amp; !getTopWindow().document.getElementById(<span class="hljs-string">'edge_west'</span>))))
            $j(el).addClass(<span class="hljs-string">'tabs2_tab_ie'</span>);
        Event.observe(el, <span class="hljs-string">'click'</span>, <span class="hljs-keyword">this</span>.onClick.bind(<span class="hljs-keyword">this</span>));
        Event.observe(el, <span class="hljs-string">'mouseover'</span>, <span class="hljs-keyword">this</span>.onMouseOver.bind(<span class="hljs-keyword">this</span>));
        Event.observe(el, <span class="hljs-string">'mouseout'</span>, <span class="hljs-keyword">this</span>.onMouseOut.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">setActive</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">yesNo</span>) </span>{
        <span class="hljs-keyword">if</span> (yesNo) {
            addClassName(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.classPrefix + <span class="hljs-string">'_active'</span>);
            CustomEvent.fire(<span class="hljs-string">"tab.activated"</span>, <span class="hljs-keyword">this</span>.parent.className + (<span class="hljs-keyword">this</span>.index + <span class="hljs-number">1</span>));
        } <span class="hljs-keyword">else</span>
            removeClassName(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.classPrefix + <span class="hljs-string">'_active'</span>);
    },
    <span class="hljs-attr">showTab</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">yesNo</span>) </span>{
        <span class="hljs-keyword">var</span> display = <span class="hljs-string">'none'</span>;
        <span class="hljs-keyword">if</span> (yesNo)
            display = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">this</span>.element.style.display = display;
        <span class="hljs-keyword">var</span> elementParent = <span class="hljs-keyword">this</span>.element.parentElement;
        <span class="hljs-keyword">if</span> (!elementParent || elementParent.tagName != <span class="hljs-string">'H3'</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> elementParentSibling = elementParent.nextSibling;
        <span class="hljs-keyword">if</span> (elementParentSibling &amp;&amp; elementParentSibling.tagName == <span class="hljs-string">'IMG'</span>)
            elementParentSibling.style.display = display;
    },
    <span class="hljs-attr">updateCaption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">caption</span>) </span>{
        <span class="hljs-keyword">this</span>.caption = caption;
        <span class="hljs-keyword">this</span>.getElement().getElementsByClassName(<span class="hljs-string">'tab_caption_text'</span>)[<span class="hljs-number">0</span>].innerHTML = <span class="hljs-keyword">this</span>.caption;
    },
    <span class="hljs-attr">isVisible</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element.style.display == <span class="hljs-string">''</span>;
    },
    <span class="hljs-attr">getElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element;
    },
    <span class="hljs-attr">onClick</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.parent.setActive(<span class="hljs-keyword">this</span>.index);
    },
    <span class="hljs-attr">onMouseOver</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        addClassName(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.classPrefix + <span class="hljs-string">'_hover'</span>);
    },
    <span class="hljs-attr">onMouseOut</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        removeClassName(<span class="hljs-keyword">this</span>.element, <span class="hljs-keyword">this</span>.classPrefix + <span class="hljs-string">'_hover'</span>);
    },
    <span class="hljs-attr">markAsComplete</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">yesNo</span>) </span>{
        <span class="hljs-keyword">this</span>.mandatorySpan.style.visibility = yesNo ? <span class="hljs-string">'hidden'</span> : <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (isDoctype())
            <span class="hljs-keyword">this</span>.mandatorySpan.style.display = yesNo ? <span class="hljs-string">'none'</span> : <span class="hljs-string">'inline-block'</span>;
    },
    <span class="hljs-attr">_createMandatorySpan</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">var</span> answer = element || cel(<span class="hljs-string">"span"</span>);
        answer.style.marginRight = <span class="hljs-string">'2px'</span>;
        answer.style.visibility = <span class="hljs-string">'hidden'</span>;
        <span class="hljs-keyword">if</span> (isDoctype()) {
            answer.setAttribute(<span class="hljs-string">'mandatory'</span>, <span class="hljs-string">'true'</span>);
            answer.className = <span class="hljs-string">'label_description'</span>;
            answer.innerHTML = <span class="hljs-string">'*'</span>;
            answer.style.display = <span class="hljs-string">'none'</span>;
        } <span class="hljs-keyword">else</span> {
            answer.className = <span class="hljs-string">'mandatory'</span>;
            <span class="hljs-keyword">var</span> img = cel(<span class="hljs-string">"img"</span>, answer);
            img.src = <span class="hljs-string">'images/s.gifx'</span>;
            img.alt = <span class="hljs-string">''</span>;
            img.style.width = <span class="hljs-string">'4px'</span>;
            img.style.height = <span class="hljs-string">'12px'</span>;
            img.style.margin = <span class="hljs-string">'0px'</span>;
        }
        <span class="hljs-keyword">return</span> answer;
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/GlideTabs2State.js */</span>
<span class="hljs-keyword">var</span> GlideTabs2State = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">this</span>.name = name;
        <span class="hljs-keyword">this</span>.cj = <span class="hljs-keyword">new</span> CookieJar();
    },
    <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cj.get(<span class="hljs-keyword">this</span>.name);
    },
    <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
        <span class="hljs-keyword">this</span>.cj.put(<span class="hljs-keyword">this</span>.name, value);
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">'GlideTabs2State'</span>
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/tabs2_14.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-built_in">window</span>.g_tabs2Sections = <span class="hljs-literal">null</span>;
    <span class="hljs-built_in">window</span>.g_tabs2List = <span class="hljs-literal">null</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tabs2Init</span>(<span class="hljs-params"></span>) </span>{
        initFormTabs();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initFormTabs</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = <span class="hljs-built_in">document</span>.forms[<span class="hljs-number">0</span>];
        <span class="hljs-built_in">window</span>.g_tabs2Sections = <span class="hljs-keyword">new</span> GlideTabs2(<span class="hljs-string">'tabs2_section'</span>, f, <span class="hljs-number">1</span>, <span class="hljs-literal">undefined</span>, <span class="hljs-literal">true</span>);
        initTabs(<span class="hljs-built_in">window</span>.g_tabs2Sections);
        initVariablesTabs();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initRelatedListTabs</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = $j(<span class="hljs-string">'#related_lists_wrapper'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-built_in">window</span>.g_tabs2List = <span class="hljs-keyword">new</span> GlideTabs2(<span class="hljs-string">'tabs2_list'</span>, f, <span class="hljs-number">0</span>);
        initTabs(<span class="hljs-built_in">window</span>.g_tabs2List);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; hiddenOnLoad.length; i++)
            hideTab(hiddenOnLoad[i]);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; showOnLoad.length; i++)
            showTab(showOnLoad[i]);
        showOnLoad = [];
        hiddenOnLoad = [];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initVariablesTabs</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = $j(<span class="hljs-string">'[id^="var_container"]'</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, l = f.length; l &gt; i; i++) {
            <span class="hljs-keyword">var</span> varTabs = <span class="hljs-keyword">new</span> GlideTabs2(<span class="hljs-string">"tabs2_vars"</span>, f[i], <span class="hljs-number">0</span>);
            initTabs(varTabs);
            varTabs.deactivate();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initTabs</span>(<span class="hljs-params">tabSet</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs_print) {
            tabSet.deactivate();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs_preference)
            tabSet.activate();
        <span class="hljs-keyword">else</span>
            tabSet.deactivate();
        <span class="hljs-keyword">if</span> (!hasTabs(<span class="hljs-built_in">window</span>.g_tabs2Sections) &amp;&amp; !hasTabs(<span class="hljs-built_in">window</span>.g_tabs2List))
            tabs2ToggleDisable();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasTabs</span>(<span class="hljs-params">tabSet</span>) </span>{
        <span class="hljs-keyword">if</span> (tabSet === <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> tabSet.hasTabs();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tabs2ToggleDisable</span>(<span class="hljs-params"></span>) </span>{}

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tabs2Toggle</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">window</span>.g_tabs_preference = !<span class="hljs-built_in">window</span>.g_tabs_preference;
        CustomEvent.fireAll(<span class="hljs-string">'tabbed'</span>, <span class="hljs-built_in">window</span>.g_tabs_preference);
    }
    CustomEvent.observe(<span class="hljs-string">'tabbed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
        <span class="hljs-built_in">window</span>.NOW.tabbed = trueFalse;
        <span class="hljs-built_in">window</span>.g_tabs_preference = <span class="hljs-built_in">window</span>.NOW.tabbed;
        setPreference(<span class="hljs-string">'tabbed.forms'</span>, <span class="hljs-built_in">window</span>.g_tabs_preference);
        setTabbed();
    })

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTabbed</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs_preference) {
            <span class="hljs-built_in">window</span>.g_tabs2Sections.activate();
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs2List)
                <span class="hljs-built_in">window</span>.g_tabs2List.activate();
            CustomEvent.fire(<span class="hljs-string">'tabs.enable'</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">window</span>.g_tabs2Sections.deactivate();
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.g_tabs2List)
                <span class="hljs-built_in">window</span>.g_tabs2List.deactivate();
            CustomEvent.fire(<span class="hljs-string">'tabs.disable'</span>);
        }
    }
    <span class="hljs-built_in">window</span>.tabs2Init = tabs2Init;
    <span class="hljs-built_in">window</span>.tabs2Toggle = tabs2Toggle;
    CustomEvent.observe(<span class="hljs-string">'related_lists.ready'</span>, initRelatedListTabs);
    <span class="hljs-keyword">var</span> hiddenOnLoad = [];
    <span class="hljs-keyword">var</span> showOnLoad = [];
    CustomEvent.observe(<span class="hljs-string">'related_lists.show'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.g_relatedLists) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.NOW.g_relatedLists.loaded) {
                showOnLoad.push(listTableName);
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.g_tabs2List) {
            <span class="hljs-keyword">if</span> (showOnLoad.indexOf(listTableName) == <span class="hljs-number">-1</span>)
                showOnLoad.push(listTableName);
            <span class="hljs-keyword">return</span>;
        }
        showTab(listTableName);
    });
    CustomEvent.observe(<span class="hljs-string">'related_lists.hide'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.g_relatedLists) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.NOW.g_relatedLists.loaded) {
                hiddenOnLoad.push(listTableName);
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.g_tabs2List) {
            <span class="hljs-keyword">if</span> (hiddenOnLoad.indexOf(listTableName) == <span class="hljs-number">-1</span>)
                hiddenOnLoad.push(listTableName);
            <span class="hljs-keyword">return</span>;
        }
        hideTab(listTableName);
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showTab</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">var</span> relatedListID = g_form._getRelatedListID(listTableName);
        <span class="hljs-built_in">window</span>.g_tabs2List.showTabByID(relatedListID);
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.g_tabs2List.isActivated())
            show(relatedListID);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.g_relatedLists)
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.g_relatedLists.loaded)
                CustomEvent.fire(<span class="hljs-string">'calculate_fixed_headers'</span>);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideTab</span>(<span class="hljs-params">listTableName</span>) </span>{
        <span class="hljs-keyword">var</span> relatedListID = g_form._getRelatedListID(listTableName);
        <span class="hljs-built_in">window</span>.g_tabs2List.hideTabByID(relatedListID);
        <span class="hljs-keyword">if</span> (!g_tabs2List.isActivated())
            hide(relatedListID);
    }
})();;
<span class="hljs-comment">/*! RESOURCE: /scripts/annotations_toggle.js */</span>
<span class="hljs-keyword">var</span> SN = SN || {};
SN.formAnnotations = {
    <span class="hljs-attr">preference</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">annotations</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        SN.formAnnotations.annotations.fadeOut();
        SN.formAnnotations.preference = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        SN.formAnnotations.annotations.fadeIn();
        SN.formAnnotations.preference = <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">toggle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (SN.formAnnotations.preference)
            SN.formAnnotations.hide();
        <span class="hljs-keyword">else</span>
            SN.formAnnotations.show();
        setPreference(<span class="hljs-string">'glide.ui.show_annotations'</span>, SN.formAnnotations.preference);
    },
    <span class="hljs-attr">toggleFromInfoMsg</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        SN.formAnnotations.toggle();
        GlideUI.get().clearOutputMessages();
    },
    <span class="hljs-attr">init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> selectors = [<span class="hljs-string">'.annotation-row[data-annotation-type="Info Box Blue"]'</span>,
            <span class="hljs-string">'.annotation-row[data-annotation-type="Info Box Red"]'</span>,
            <span class="hljs-string">'.annotation-row[data-annotation-type="Section Details"]'</span>,
            <span class="hljs-string">'.annotation-row[data-annotation-type="Text"]'</span>
        ];
        SN.formAnnotations.annotations = $j(selectors.join(<span class="hljs-string">','</span>));
        <span class="hljs-keyword">var</span> $annotationButton = $j(<span class="hljs-string">'#header_toggle_annotations'</span>);
        <span class="hljs-keyword">if</span> (SN.formAnnotations.annotations.length) {
            $annotationButton.show().click(SN.formAnnotations.toggle);
            <span class="hljs-keyword">if</span> (!SN.formAnnotations.preference &amp;&amp; SN.formAnnotations.infoPreference) {
                SN.formAnnotations.addHiddenAnnotationMessage();
                $j(<span class="hljs-string">"#info_toggle_annotations"</span>).show().click(SN.formAnnotations.toggleFromInfoMsg);
            }
        } <span class="hljs-keyword">else</span> {
            $annotationButton.prop(<span class="hljs-string">'disabled'</span>, <span class="hljs-literal">true</span>)
            <span class="hljs-keyword">var</span> $annotationTooltip = $annotationButton.closest(<span class="hljs-string">'.annotation-tooltip'</span>);
            $annotationTooltip.attr(<span class="hljs-string">'title'</span>, $annotationTooltip.attr(<span class="hljs-string">'data-title-disabled'</span>));
        }
        <span class="hljs-keyword">if</span> (SN.formAnnotations.preference)
            SN.formAnnotations.show();
    },
    <span class="hljs-attr">setInfoPref</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        setPreference(<span class="hljs-string">"glide.ui.annotations.show_hidden_msg"</span>, <span class="hljs-string">"false"</span>);
        GlideUI.get().clearOutputMessages();
    },
    <span class="hljs-attr">addHiddenAnnotationMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> msg = getMessage(<span class="hljs-string">'This form has annotations - click'</span>);
        msg += <span class="hljs-string">' &lt;span id="info_toggle_annotations" tabindex="0" class="icon-button icon-help sn-cloak" title="Toggle annotations on / off" style="display: inline-block;color:#678;cursor:pointer;font-size:1.4em"&gt;&lt;/span&gt; '</span>;
        msg += getMessage(<span class="hljs-string">"to toggle them"</span>);
        msg += <span class="hljs-string">' - (&lt;span style="text-decoration:underline;cursor:pointer;" onclick="SN.formAnnotations.setInfoPref()"&gt;'</span>;
        msg += getMessage(<span class="hljs-string">"click here"</span>);
        msg += <span class="hljs-string">'&lt;/span&gt; '</span>;
        msg += getMessage(<span class="hljs-string">"to never show this again"</span>);
        msg += <span class="hljs-string">')'</span>;
        g_form.addInfoMessage(msg);
    }
};
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/jquery2_includes.js */</span>
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/jquery/jquery_clean.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.jQuery)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">window</span>.$j_glide)
        <span class="hljs-built_in">window</span>.$j = jQuery.noConflict();
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.$j_glide &amp;&amp; jQuery != <span class="hljs-built_in">window</span>.$j_glide) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.$j_glide)
            jQuery.noConflict(<span class="hljs-literal">true</span>);
        <span class="hljs-built_in">window</span>.$j = <span class="hljs-built_in">window</span>.$j_glide;
    }
})();;
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/jquery/jquery-2.2.3.min.js */</span>
<span class="hljs-comment">/*! jQuery v2.2.3 | (c) jQuery Foundation | jquery.org/license */</span>
! <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> &amp;&amp; <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span>.exports ? <span class="hljs-built_in">module</span>.exports = a.document ? b(a, !<span class="hljs-number">0</span>) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (!a.document) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"jQuery requires a window with a document"</span>);
        <span class="hljs-keyword">return</span> b(a)
    } : b(a)
}(<span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> ? <span class="hljs-built_in">window</span> : <span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-keyword">var</span> c = [],
        d = a.document,
        e = c.slice,
        f = c.concat,
        g = c.push,
        h = c.indexOf,
        i = {},
        j = i.toString,
        k = i.hasOwnProperty,
        l = {},
        m = <span class="hljs-string">"2.2.3"</span>,
        n = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> n.fn.init(a, b)
        },
        o = <span class="hljs-regexp">/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g</span>,
        p = <span class="hljs-regexp">/^-ms-/</span>,
        q = <span class="hljs-regexp">/-([\da-z])/gi</span>,
        r = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> b.toUpperCase()
        };
    n.fn = n.prototype = {
        <span class="hljs-attr">jquery</span>: m,
        <span class="hljs-attr">constructor</span>: n,
        <span class="hljs-attr">selector</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">length</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">toArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> e.call(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> != a ? <span class="hljs-number">0</span> &gt; a ? <span class="hljs-keyword">this</span>[a + <span class="hljs-keyword">this</span>.length] : <span class="hljs-keyword">this</span>[a] : e.call(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">pushStack</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = n.merge(<span class="hljs-keyword">this</span>.constructor(), a);
            <span class="hljs-keyword">return</span> b.prevObject = <span class="hljs-keyword">this</span>, b.context = <span class="hljs-keyword">this</span>.context, b
        },
        <span class="hljs-attr">each</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> n.each(<span class="hljs-keyword">this</span>, a)
        },
        <span class="hljs-attr">map</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(n.map(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
                <span class="hljs-keyword">return</span> a.call(b, c, b)
            }))
        },
        <span class="hljs-attr">slice</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(e.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>))
        },
        <span class="hljs-attr">first</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.eq(<span class="hljs-number">0</span>)
        },
        <span class="hljs-attr">last</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.eq(<span class="hljs-number">-1</span>)
        },
        <span class="hljs-attr">eq</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">this</span>.length,
                c = +a + (<span class="hljs-number">0</span> &gt; a ? b : <span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(c &gt;= <span class="hljs-number">0</span> &amp;&amp; b &gt; c ? [<span class="hljs-keyword">this</span>[c]] : [])
        },
        <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.prevObject || <span class="hljs-keyword">this</span>.constructor()
        },
        <span class="hljs-attr">push</span>: g,
        <span class="hljs-attr">sort</span>: c.sort,
        <span class="hljs-attr">splice</span>: c.splice
    }, n.extend = n.fn.extend = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a, b, c, d, e, f, g = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {},
            h = <span class="hljs-number">1</span>,
            i = <span class="hljs-built_in">arguments</span>.length,
            j = !<span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-string">"boolean"</span> == <span class="hljs-keyword">typeof</span> g &amp;&amp; (j = g, g = <span class="hljs-built_in">arguments</span>[h] || {}, h++), <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> g || n.isFunction(g) || (g = {}), h === i &amp;&amp; (g = <span class="hljs-keyword">this</span>, h--); i &gt; h; h++)
            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != (a = <span class="hljs-built_in">arguments</span>[h]))
                <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> a) c = g[b], d = a[b], g !== d &amp;&amp; (j &amp;&amp; d &amp;&amp; (n.isPlainObject(d) || (e = n.isArray(d))) ? (e ? (e = !<span class="hljs-number">1</span>, f = c &amp;&amp; n.isArray(c) ? c : []) : f = c &amp;&amp; n.isPlainObject(c) ? c : {}, g[b] = n.extend(j, f, d)) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== d &amp;&amp; (g[b] = d));
        <span class="hljs-keyword">return</span> g
    }, n.extend({
        <span class="hljs-attr">expando</span>: <span class="hljs-string">"jQuery"</span> + (m + <span class="hljs-built_in">Math</span>.random()).replace(<span class="hljs-regexp">/\D/g</span>, <span class="hljs-string">""</span>),
        <span class="hljs-attr">isReady</span>: !<span class="hljs-number">0</span>,
        <span class="hljs-attr">error</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(a)
        },
        <span class="hljs-attr">noop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
        <span class="hljs-attr">isFunction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"function"</span> === n.type(a)
        },
        <span class="hljs-attr">isArray</span>: <span class="hljs-built_in">Array</span>.isArray,
        <span class="hljs-attr">isWindow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> != a &amp;&amp; a === a.window
        },
        <span class="hljs-attr">isNumeric</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a &amp;&amp; a.toString();
            <span class="hljs-keyword">return</span> !n.isArray(a) &amp;&amp; b - <span class="hljs-built_in">parseFloat</span>(b) + <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">isPlainObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> !== n.type(a) || a.nodeType || n.isWindow(a)) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span> (a.constructor &amp;&amp; !k.call(a, <span class="hljs-string">"constructor"</span>) &amp;&amp; !k.call(a.constructor.prototype || {}, <span class="hljs-string">"isPrototypeOf"</span>)) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
            <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> a);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b || k.call(a, b)
        },
        <span class="hljs-attr">isEmptyObject</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b;
            <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> a) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
            <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
        },
        <span class="hljs-attr">type</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a ? a + <span class="hljs-string">""</span> : <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> a || <span class="hljs-string">"function"</span> == <span class="hljs-keyword">typeof</span> a ? i[j.call(a)] || <span class="hljs-string">"object"</span> : <span class="hljs-keyword">typeof</span> a
        },
        <span class="hljs-attr">globalEval</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c = <span class="hljs-built_in">eval</span>;
            a = n.trim(a), a &amp;&amp; (<span class="hljs-number">1</span> === a.indexOf(<span class="hljs-string">"use strict"</span>) ? (b = d.createElement(<span class="hljs-string">"script"</span>), b.text = a, d.head.appendChild(b).parentNode.removeChild(b)) : c(a))
        },
        <span class="hljs-attr">camelCase</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.replace(p, <span class="hljs-string">"ms-"</span>).replace(q, r)
        },
        <span class="hljs-attr">nodeName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> a.nodeName &amp;&amp; a.nodeName.toLowerCase() === b.toLowerCase()
        },
        <span class="hljs-attr">each</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (s(a)) {
                <span class="hljs-keyword">for</span> (c = a.length; c &gt; d; d++)
                    <span class="hljs-keyword">if</span> (b.call(a[d], d, a[d]) === !<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">for</span> (d <span class="hljs-keyword">in</span> a)
                    <span class="hljs-keyword">if</span> (b.call(a[d], d, a[d]) === !<span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">return</span> a
        },
        <span class="hljs-attr">trim</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a ? <span class="hljs-string">""</span> : (a + <span class="hljs-string">""</span>).replace(o, <span class="hljs-string">""</span>)
        },
        <span class="hljs-attr">makeArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b || [];
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> != a &amp;&amp; (s(<span class="hljs-built_in">Object</span>(a)) ? n.merge(c, <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a ? [a] : a) : g.call(c, a)), c
        },
        <span class="hljs-attr">inArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == b ? <span class="hljs-number">-1</span> : h.call(b, a, c)
        },
        <span class="hljs-attr">merge</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = +b.length, d = <span class="hljs-number">0</span>, e = a.length; c &gt; d; d++) a[e++] = b[d];
            <span class="hljs-keyword">return</span> a.length = e, a
        },
        <span class="hljs-attr">grep</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d, e = [], f = <span class="hljs-number">0</span>, g = a.length, h = !c; g &gt; f; f++) d = !b(a[f], f), d !== h &amp;&amp; e.push(a[f]);
            <span class="hljs-keyword">return</span> e
        },
        <span class="hljs-attr">map</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e, g = <span class="hljs-number">0</span>,
                h = [];
            <span class="hljs-keyword">if</span> (s(a))
                <span class="hljs-keyword">for</span> (d = a.length; d &gt; g; g++) e = b(a[g], g, c), <span class="hljs-literal">null</span> != e &amp;&amp; h.push(e);
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">for</span> (g <span class="hljs-keyword">in</span> a) e = b(a[g], g, c), <span class="hljs-literal">null</span> != e &amp;&amp; h.push(e);
            <span class="hljs-keyword">return</span> f.apply([], h)
        },
        <span class="hljs-attr">guid</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">proxy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d, f;
            <span class="hljs-keyword">return</span> <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; (c = a[b], b = a, a = c), n.isFunction(a) ? (d = e.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">2</span>), f = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> a.apply(b || <span class="hljs-keyword">this</span>, d.concat(e.call(<span class="hljs-built_in">arguments</span>)))
            }, f.guid = a.guid = a.guid || n.guid++, f) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">now</span>: <span class="hljs-built_in">Date</span>.now,
        <span class="hljs-attr">support</span>: l
    }), <span class="hljs-string">"function"</span> == <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Symbol</span> &amp;&amp; (n.fn[<span class="hljs-built_in">Symbol</span>.iterator] = c[<span class="hljs-built_in">Symbol</span>.iterator]), n.each(<span class="hljs-string">"Boolean Number String Function Array Date RegExp Object Error Symbol"</span>.split(<span class="hljs-string">" "</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        i[<span class="hljs-string">"[object "</span> + b + <span class="hljs-string">"]"</span>] = b.toLowerCase()
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> b = !!a &amp;&amp; <span class="hljs-string">"length"</span> <span class="hljs-keyword">in</span> a &amp;&amp; a.length,
            c = n.type(a);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"function"</span> === c || n.isWindow(a) ? !<span class="hljs-number">1</span> : <span class="hljs-string">"array"</span> === c || <span class="hljs-number">0</span> === b || <span class="hljs-string">"number"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; b &gt; <span class="hljs-number">0</span> &amp;&amp; b - <span class="hljs-number">1</span> <span class="hljs-keyword">in</span> a
    }
    <span class="hljs-keyword">var</span> t = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = <span class="hljs-string">"sizzle"</span> + <span class="hljs-number">1</span> * <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>,
            v = a.document,
            w = <span class="hljs-number">0</span>,
            x = <span class="hljs-number">0</span>,
            y = ga(),
            z = ga(),
            A = ga(),
            B = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">return</span> a === b &amp;&amp; (l = !<span class="hljs-number">0</span>), <span class="hljs-number">0</span>
            },
            C = <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-number">31</span>,
            D = {}.hasOwnProperty,
            E = [],
            F = E.pop,
            G = E.push,
            H = E.push,
            I = E.slice,
            J = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>, d = a.length; d &gt; c; c++)
                    <span class="hljs-keyword">if</span> (a[c] === b) <span class="hljs-keyword">return</span> c;
                <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>
            },
            K = <span class="hljs-string">"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped"</span>,
            L = <span class="hljs-string">"[\\x20\\t\\r\\n\\f]"</span>,
            M = <span class="hljs-string">"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+"</span>,
            N = <span class="hljs-string">"\\["</span> + L + <span class="hljs-string">"*("</span> + M + <span class="hljs-string">")(?:"</span> + L + <span class="hljs-string">"*([*^$|!~]?=)"</span> + L + <span class="hljs-string">"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("</span> + M + <span class="hljs-string">"))|)"</span> + L + <span class="hljs-string">"*\\]"</span>,
            O = <span class="hljs-string">":("</span> + M + <span class="hljs-string">")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"</span> + N + <span class="hljs-string">")*)|.*)\\)|)"</span>,
            P = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(L + <span class="hljs-string">"+"</span>, <span class="hljs-string">"g"</span>),
            Q = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + L + <span class="hljs-string">"+|((?:^|[^\\\\])(?:\\\\.)*)"</span> + L + <span class="hljs-string">"+$"</span>, <span class="hljs-string">"g"</span>),
            R = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + L + <span class="hljs-string">"*,"</span> + L + <span class="hljs-string">"*"</span>),
            S = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + L + <span class="hljs-string">"*([&gt;+~]|"</span> + L + <span class="hljs-string">")"</span> + L + <span class="hljs-string">"*"</span>),
            T = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"="</span> + L + <span class="hljs-string">"*([^\\]'\"]*?)"</span> + L + <span class="hljs-string">"*\\]"</span>, <span class="hljs-string">"g"</span>),
            U = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(O),
            V = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + M + <span class="hljs-string">"$"</span>),
            W = {
                <span class="hljs-attr">ID</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^#("</span> + M + <span class="hljs-string">")"</span>),
                <span class="hljs-attr">CLASS</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^\\.("</span> + M + <span class="hljs-string">")"</span>),
                <span class="hljs-attr">TAG</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^("</span> + M + <span class="hljs-string">"|[*])"</span>),
                <span class="hljs-attr">ATTR</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + N),
                <span class="hljs-attr">PSEUDO</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + O),
                <span class="hljs-attr">CHILD</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("</span> + L + <span class="hljs-string">"*(even|odd|(([+-]|)(\\d*)n|)"</span> + L + <span class="hljs-string">"*(?:([+-]|)"</span> + L + <span class="hljs-string">"*(\\d+)|))"</span> + L + <span class="hljs-string">"*\\)|)"</span>, <span class="hljs-string">"i"</span>),
                <span class="hljs-attr">bool</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^(?:"</span> + K + <span class="hljs-string">")$"</span>, <span class="hljs-string">"i"</span>),
                <span class="hljs-attr">needsContext</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + L + <span class="hljs-string">"*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("</span> + L + <span class="hljs-string">"*((?:-\\d)?\\d*)"</span> + L + <span class="hljs-string">"*\\)|)(?=[^-]|$)"</span>, <span class="hljs-string">"i"</span>)
            },
            X = <span class="hljs-regexp">/^(?:input|select|textarea|button)$/i</span>,
            Y = <span class="hljs-regexp">/^h\d$/i</span>,
            Z = <span class="hljs-regexp">/^[^{]+\{\s*\[native \w/</span>,
            $ = <span class="hljs-regexp">/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/</span>,
            _ = <span class="hljs-regexp">/[+~]/</span>,
            aa = <span class="hljs-regexp">/'|\\/g</span>,
            ba = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\\\\([\\da-f]{1,6}"</span> + L + <span class="hljs-string">"?|("</span> + L + <span class="hljs-string">")|.)"</span>, <span class="hljs-string">"ig"</span>),
            ca = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                <span class="hljs-keyword">var</span> d = <span class="hljs-string">"0x"</span> + b - <span class="hljs-number">65536</span>;
                <span class="hljs-keyword">return</span> d !== d || c ? b : <span class="hljs-number">0</span> &gt; d ? <span class="hljs-built_in">String</span>.fromCharCode(d + <span class="hljs-number">65536</span>) : <span class="hljs-built_in">String</span>.fromCharCode(d &gt;&gt; <span class="hljs-number">10</span> | <span class="hljs-number">55296</span>, <span class="hljs-number">1023</span> &amp; d | <span class="hljs-number">56320</span>)
            },
            da = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                m()
            };
        <span class="hljs-keyword">try</span> {
            H.apply(E = I.call(v.childNodes), v.childNodes), E[v.childNodes.length].nodeType
        } <span class="hljs-keyword">catch</span> (ea) {
            H = {
                <span class="hljs-attr">apply</span>: E.length ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    G.apply(a, I.call(b))
                } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">var</span> c = a.length,
                        d = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">while</span> (a[c++] = b[d++]);
                    a.length = c - <span class="hljs-number">1</span>
                }
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fa</span>(<span class="hljs-params">a, b, d, e</span>) </span>{
            <span class="hljs-keyword">var</span> f, h, j, k, l, o, r, s, w = b &amp;&amp; b.ownerDocument,
                x = b ? b.nodeType : <span class="hljs-number">9</span>;
            <span class="hljs-keyword">if</span> (d = d || [], <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a || !a || <span class="hljs-number">1</span> !== x &amp;&amp; <span class="hljs-number">9</span> !== x &amp;&amp; <span class="hljs-number">11</span> !== x) <span class="hljs-keyword">return</span> d;
            <span class="hljs-keyword">if</span> (!e &amp;&amp; ((b ? b.ownerDocument || b : v) !== n &amp;&amp; m(b), b = b || n, p)) {
                <span class="hljs-keyword">if</span> (<span class="hljs-number">11</span> !== x &amp;&amp; (o = $.exec(a)))
                    <span class="hljs-keyword">if</span> (f = o[<span class="hljs-number">1</span>]) {
                        <span class="hljs-keyword">if</span> (<span class="hljs-number">9</span> === x) {
                            <span class="hljs-keyword">if</span> (!(j = b.getElementById(f))) <span class="hljs-keyword">return</span> d;
                            <span class="hljs-keyword">if</span> (j.id === f) <span class="hljs-keyword">return</span> d.push(j), d
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (w &amp;&amp; (j = w.getElementById(f)) &amp;&amp; t(b, j) &amp;&amp; j.id === f) <span class="hljs-keyword">return</span> d.push(j), d
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (o[<span class="hljs-number">2</span>]) <span class="hljs-keyword">return</span> H.apply(d, b.getElementsByTagName(a)), d;
                        <span class="hljs-keyword">if</span> ((f = o[<span class="hljs-number">3</span>]) &amp;&amp; c.getElementsByClassName &amp;&amp; b.getElementsByClassName) <span class="hljs-keyword">return</span> H.apply(d, b.getElementsByClassName(f)), d
                    }
                <span class="hljs-keyword">if</span> (c.qsa &amp;&amp; !A[a + <span class="hljs-string">" "</span>] &amp;&amp; (!q || !q.test(a))) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> !== x) w = b, s = a;
                    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> !== b.nodeName.toLowerCase()) {
                        (k = b.getAttribute(<span class="hljs-string">"id"</span>)) ? k = k.replace(aa, <span class="hljs-string">"\\$&amp;"</span>): b.setAttribute(<span class="hljs-string">"id"</span>, k = u), r = g(a), h = r.length, l = V.test(k) ? <span class="hljs-string">"#"</span> + k : <span class="hljs-string">"[id='"</span> + k + <span class="hljs-string">"']"</span>;
                        <span class="hljs-keyword">while</span> (h--) r[h] = l + <span class="hljs-string">" "</span> + qa(r[h]);
                        s = r.join(<span class="hljs-string">","</span>), w = _.test(a) &amp;&amp; oa(b.parentNode) || b
                    }
                    <span class="hljs-keyword">if</span> (s) <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">return</span> H.apply(d, w.querySelectorAll(s)), d
                    } <span class="hljs-keyword">catch</span> (y) {} <span class="hljs-keyword">finally</span> {
                        k === u &amp;&amp; b.removeAttribute(<span class="hljs-string">"id"</span>)
                    }
                }
            }
            <span class="hljs-keyword">return</span> i(a.replace(Q, <span class="hljs-string">"$1"</span>), b, d, e)
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ga</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = [];

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">b</span>(<span class="hljs-params">c, e</span>) </span>{
                <span class="hljs-keyword">return</span> a.push(c + <span class="hljs-string">" "</span>) &gt; d.cacheLength &amp;&amp; <span class="hljs-keyword">delete</span> b[a.shift()], b[c + <span class="hljs-string">" "</span>] = e
            }
            <span class="hljs-keyword">return</span> b
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ha</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a[u] = !<span class="hljs-number">0</span>, a
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ia</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = n.createElement(<span class="hljs-string">"div"</span>);
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> !!a(b)
            } <span class="hljs-keyword">catch</span> (c) {
                <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>
            } <span class="hljs-keyword">finally</span> {
                b.parentNode &amp;&amp; b.parentNode.removeChild(b), b = <span class="hljs-literal">null</span>
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ja</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = a.split(<span class="hljs-string">"|"</span>),
                e = c.length;
            <span class="hljs-keyword">while</span> (e--) d.attrHandle[c[e]] = b
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ka</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b &amp;&amp; a,
                d = c &amp;&amp; <span class="hljs-number">1</span> === a.nodeType &amp;&amp; <span class="hljs-number">1</span> === b.nodeType &amp;&amp; (~b.sourceIndex || C) - (~a.sourceIndex || C);
            <span class="hljs-keyword">if</span> (d) <span class="hljs-keyword">return</span> d;
            <span class="hljs-keyword">if</span> (c)
                <span class="hljs-keyword">while</span> (c = c.nextSibling)
                    <span class="hljs-keyword">if</span> (c === b) <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
            <span class="hljs-keyword">return</span> a ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">la</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                <span class="hljs-keyword">var</span> c = b.nodeName.toLowerCase();
                <span class="hljs-keyword">return</span> <span class="hljs-string">"input"</span> === c &amp;&amp; b.type === a
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ma</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                <span class="hljs-keyword">var</span> c = b.nodeName.toLowerCase();
                <span class="hljs-keyword">return</span> (<span class="hljs-string">"input"</span> === c || <span class="hljs-string">"button"</span> === c) &amp;&amp; b.type === a
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">na</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                <span class="hljs-keyword">return</span> b = +b, ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, d</span>) </span>{
                    <span class="hljs-keyword">var</span> e, f = a([], c.length, b),
                        g = f.length;
                    <span class="hljs-keyword">while</span> (g--) c[e = f[g]] &amp;&amp; (c[e] = !(d[e] = c[e]))
                })
            })
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">oa</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a &amp;&amp; <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> a.getElementsByTagName &amp;&amp; a
        }
        c = fa.support = {}, f = fa.isXML = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a &amp;&amp; (a.ownerDocument || a).documentElement;
            <span class="hljs-keyword">return</span> b ? <span class="hljs-string">"HTML"</span> !== b.nodeName : !<span class="hljs-number">1</span>
        }, m = fa.setDocument = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, e, g = a ? a.ownerDocument || a : v;
            <span class="hljs-keyword">return</span> g !== n &amp;&amp; <span class="hljs-number">9</span> === g.nodeType &amp;&amp; g.documentElement ? (n = g, o = n.documentElement, p = !f(n), (e = n.defaultView) &amp;&amp; e.top !== e &amp;&amp; (e.addEventListener ? e.addEventListener(<span class="hljs-string">"unload"</span>, da, !<span class="hljs-number">1</span>) : e.attachEvent &amp;&amp; e.attachEvent(<span class="hljs-string">"onunload"</span>, da)), c.attributes = ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> a.className = <span class="hljs-string">"i"</span>, !a.getAttribute(<span class="hljs-string">"className"</span>)
            }), c.getElementsByTagName = ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> a.appendChild(n.createComment(<span class="hljs-string">""</span>)), !a.getElementsByTagName(<span class="hljs-string">"*"</span>).length
            }), c.getElementsByClassName = Z.test(n.getElementsByClassName), c.getById = ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> o.appendChild(a).id = u, !n.getElementsByName || !n.getElementsByName(u).length
            }), c.getById ? (d.find.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> b.getElementById &amp;&amp; p) {
                    <span class="hljs-keyword">var</span> c = b.getElementById(a);
                    <span class="hljs-keyword">return</span> c ? [c] : []
                }
            }, d.filter.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> b = a.replace(ba, ca);
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a.getAttribute(<span class="hljs-string">"id"</span>) === b
                }
            }) : (<span class="hljs-keyword">delete</span> d.find.ID, d.filter.ID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> b = a.replace(ba, ca);
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> c = <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> a.getAttributeNode &amp;&amp; a.getAttributeNode(<span class="hljs-string">"id"</span>);
                    <span class="hljs-keyword">return</span> c &amp;&amp; c.value === b
                }
            }), d.find.TAG = c.getElementsByTagName ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> b.getElementsByTagName ? b.getElementsByTagName(a) : c.qsa ? b.querySelectorAll(a) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">var</span> c, d = [],
                    e = <span class="hljs-number">0</span>,
                    f = b.getElementsByTagName(a);
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"*"</span> === a) {
                    <span class="hljs-keyword">while</span> (c = f[e++]) <span class="hljs-number">1</span> === c.nodeType &amp;&amp; d.push(c);
                    <span class="hljs-keyword">return</span> d
                }
                <span class="hljs-keyword">return</span> f
            }, d.find.CLASS = c.getElementsByClassName &amp;&amp; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> b.getElementsByClassName &amp;&amp; p ? b.getElementsByClassName(a) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
            }, r = [], q = [], (c.qsa = Z.test(n.querySelectorAll)) &amp;&amp; (ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                o.appendChild(a).innerHTML = <span class="hljs-string">"&lt;a id='"</span> + u + <span class="hljs-string">"'&gt;&lt;/a&gt;&lt;select id='"</span> + u + <span class="hljs-string">"-\r\\' msallowcapture=''&gt;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;"</span>, a.querySelectorAll(<span class="hljs-string">"[msallowcapture^='']"</span>).length &amp;&amp; q.push(<span class="hljs-string">"[*^$]="</span> + L + <span class="hljs-string">"*(?:''|\"\")"</span>), a.querySelectorAll(<span class="hljs-string">"[selected]"</span>).length || q.push(<span class="hljs-string">"\\["</span> + L + <span class="hljs-string">"*(?:value|"</span> + K + <span class="hljs-string">")"</span>), a.querySelectorAll(<span class="hljs-string">"[id~="</span> + u + <span class="hljs-string">"-]"</span>).length || q.push(<span class="hljs-string">"~="</span>), a.querySelectorAll(<span class="hljs-string">":checked"</span>).length || q.push(<span class="hljs-string">":checked"</span>), a.querySelectorAll(<span class="hljs-string">"a#"</span> + u + <span class="hljs-string">"+*"</span>).length || q.push(<span class="hljs-string">".#.+[+~]"</span>)
            }), ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> b = n.createElement(<span class="hljs-string">"input"</span>);
                b.setAttribute(<span class="hljs-string">"type"</span>, <span class="hljs-string">"hidden"</span>), a.appendChild(b).setAttribute(<span class="hljs-string">"name"</span>, <span class="hljs-string">"D"</span>), a.querySelectorAll(<span class="hljs-string">"[name=d]"</span>).length &amp;&amp; q.push(<span class="hljs-string">"name"</span> + L + <span class="hljs-string">"*[*^$|!~]?="</span>), a.querySelectorAll(<span class="hljs-string">":enabled"</span>).length || q.push(<span class="hljs-string">":enabled"</span>, <span class="hljs-string">":disabled"</span>), a.querySelectorAll(<span class="hljs-string">"*,:x"</span>), q.push(<span class="hljs-string">",.*:"</span>)
            })), (c.matchesSelector = Z.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) &amp;&amp; ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                c.disconnectedMatch = s.call(a, <span class="hljs-string">"div"</span>), s.call(a, <span class="hljs-string">"[s!='']:x"</span>), r.push(<span class="hljs-string">"!="</span>, O)
            }), q = q.length &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(q.join(<span class="hljs-string">"|"</span>)), r = r.length &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(r.join(<span class="hljs-string">"|"</span>)), b = Z.test(o.compareDocumentPosition), t = b || Z.test(o.contains) ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">var</span> c = <span class="hljs-number">9</span> === a.nodeType ? a.documentElement : a,
                    d = b &amp;&amp; b.parentNode;
                <span class="hljs-keyword">return</span> a === d || !(!d || <span class="hljs-number">1</span> !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition &amp;&amp; <span class="hljs-number">16</span> &amp; a.compareDocumentPosition(d)))
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">if</span> (b)
                    <span class="hljs-keyword">while</span> (b = b.parentNode)
                        <span class="hljs-keyword">if</span> (b === a) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>;
                <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>
            }, B = b ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">if</span> (a === b) <span class="hljs-keyword">return</span> l = !<span class="hljs-number">0</span>, <span class="hljs-number">0</span>;
                <span class="hljs-keyword">var</span> d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                <span class="hljs-keyword">return</span> d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : <span class="hljs-number">1</span>, <span class="hljs-number">1</span> &amp; d || !c.sortDetached &amp;&amp; b.compareDocumentPosition(a) === d ? a === n || a.ownerDocument === v &amp;&amp; t(v, a) ? <span class="hljs-number">-1</span> : b === n || b.ownerDocument === v &amp;&amp; t(v, b) ? <span class="hljs-number">1</span> : k ? J(k, a) - J(k, b) : <span class="hljs-number">0</span> : <span class="hljs-number">4</span> &amp; d ? <span class="hljs-number">-1</span> : <span class="hljs-number">1</span>)
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">if</span> (a === b) <span class="hljs-keyword">return</span> l = !<span class="hljs-number">0</span>, <span class="hljs-number">0</span>;
                <span class="hljs-keyword">var</span> c, d = <span class="hljs-number">0</span>,
                    e = a.parentNode,
                    f = b.parentNode,
                    g = [a],
                    h = [b];
                <span class="hljs-keyword">if</span> (!e || !f) <span class="hljs-keyword">return</span> a === n ? <span class="hljs-number">-1</span> : b === n ? <span class="hljs-number">1</span> : e ? <span class="hljs-number">-1</span> : f ? <span class="hljs-number">1</span> : k ? J(k, a) - J(k, b) : <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (e === f) <span class="hljs-keyword">return</span> ka(a, b);
                c = a;
                <span class="hljs-keyword">while</span> (c = c.parentNode) g.unshift(c);
                c = b;
                <span class="hljs-keyword">while</span> (c = c.parentNode) h.unshift(c);
                <span class="hljs-keyword">while</span> (g[d] === h[d]) d++;
                <span class="hljs-keyword">return</span> d ? ka(g[d], h[d]) : g[d] === v ? <span class="hljs-number">-1</span> : h[d] === v ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>
            }, n) : n
        }, fa.matches = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> fa(a, <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>, b)
        }, fa.matchesSelector = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">if</span> ((a.ownerDocument || a) !== n &amp;&amp; m(a), b = b.replace(T, <span class="hljs-string">"='$1']"</span>), c.matchesSelector &amp;&amp; p &amp;&amp; !A[b + <span class="hljs-string">" "</span>] &amp;&amp; (!r || !r.test(b)) &amp;&amp; (!q || !q.test(b))) <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">var</span> d = s.call(a, b);
                <span class="hljs-keyword">if</span> (d || c.disconnectedMatch || a.document &amp;&amp; <span class="hljs-number">11</span> !== a.document.nodeType) <span class="hljs-keyword">return</span> d
            } <span class="hljs-keyword">catch</span> (e) {}
            <span class="hljs-keyword">return</span> fa(b, n, <span class="hljs-literal">null</span>, [a]).length &gt; <span class="hljs-number">0</span>
        }, fa.contains = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> (a.ownerDocument || a) !== n &amp;&amp; m(a), t(a, b)
        }, fa.attr = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            (a.ownerDocument || a) !== n &amp;&amp; m(a);
            <span class="hljs-keyword">var</span> e = d.attrHandle[b.toLowerCase()],
                f = e &amp;&amp; D.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) &amp;&amp; f.specified ? f.value : <span class="hljs-literal">null</span>
        }, fa.error = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Syntax error, unrecognized expression: "</span> + a)
        }, fa.uniqueSort = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, d = [],
                e = <span class="hljs-number">0</span>,
                f = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (l = !c.detectDuplicates, k = !c.sortStable &amp;&amp; a.slice(<span class="hljs-number">0</span>), a.sort(B), l) {
                <span class="hljs-keyword">while</span> (b = a[f++]) b === a[f] &amp;&amp; (e = d.push(f));
                <span class="hljs-keyword">while</span> (e--) a.splice(d[e], <span class="hljs-number">1</span>)
            }
            <span class="hljs-keyword">return</span> k = <span class="hljs-literal">null</span>, a
        }, e = fa.getText = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c = <span class="hljs-string">""</span>,
                d = <span class="hljs-number">0</span>,
                f = a.nodeType;
            <span class="hljs-keyword">if</span> (f) {
                <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === f || <span class="hljs-number">9</span> === f || <span class="hljs-number">11</span> === f) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a.textContent) <span class="hljs-keyword">return</span> a.textContent;
                    <span class="hljs-keyword">for</span> (a = a.firstChild; a; a = a.nextSibling) c += e(a)
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-number">3</span> === f || <span class="hljs-number">4</span> === f) <span class="hljs-keyword">return</span> a.nodeValue
            } <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">while</span> (b = a[d++]) c += e(b);
            <span class="hljs-keyword">return</span> c
        }, d = fa.selectors = {
            <span class="hljs-attr">cacheLength</span>: <span class="hljs-number">50</span>,
            <span class="hljs-attr">createPseudo</span>: ha,
            <span class="hljs-attr">match</span>: W,
            <span class="hljs-attr">attrHandle</span>: {},
            <span class="hljs-attr">find</span>: {},
            <span class="hljs-attr">relative</span>: {
                <span class="hljs-string">"&gt;"</span>: {
                    <span class="hljs-attr">dir</span>: <span class="hljs-string">"parentNode"</span>,
                    <span class="hljs-attr">first</span>: !<span class="hljs-number">0</span>
                },
                <span class="hljs-string">" "</span>: {
                    <span class="hljs-attr">dir</span>: <span class="hljs-string">"parentNode"</span>
                },
                <span class="hljs-string">"+"</span>: {
                    <span class="hljs-attr">dir</span>: <span class="hljs-string">"previousSibling"</span>,
                    <span class="hljs-attr">first</span>: !<span class="hljs-number">0</span>
                },
                <span class="hljs-string">"~"</span>: {
                    <span class="hljs-attr">dir</span>: <span class="hljs-string">"previousSibling"</span>
                }
            },
            <span class="hljs-attr">preFilter</span>: {
                <span class="hljs-attr">ATTR</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a[<span class="hljs-number">1</span>] = a[<span class="hljs-number">1</span>].replace(ba, ca), a[<span class="hljs-number">3</span>] = (a[<span class="hljs-number">3</span>] || a[<span class="hljs-number">4</span>] || a[<span class="hljs-number">5</span>] || <span class="hljs-string">""</span>).replace(ba, ca), <span class="hljs-string">"~="</span> === a[<span class="hljs-number">2</span>] &amp;&amp; (a[<span class="hljs-number">3</span>] = <span class="hljs-string">" "</span> + a[<span class="hljs-number">3</span>] + <span class="hljs-string">" "</span>), a.slice(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>)
                },
                <span class="hljs-attr">CHILD</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a[<span class="hljs-number">1</span>] = a[<span class="hljs-number">1</span>].toLowerCase(), <span class="hljs-string">"nth"</span> === a[<span class="hljs-number">1</span>].slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) ? (a[<span class="hljs-number">3</span>] || fa.error(a[<span class="hljs-number">0</span>]), a[<span class="hljs-number">4</span>] = +(a[<span class="hljs-number">4</span>] ? a[<span class="hljs-number">5</span>] + (a[<span class="hljs-number">6</span>] || <span class="hljs-number">1</span>) : <span class="hljs-number">2</span> * (<span class="hljs-string">"even"</span> === a[<span class="hljs-number">3</span>] || <span class="hljs-string">"odd"</span> === a[<span class="hljs-number">3</span>])), a[<span class="hljs-number">5</span>] = +(a[<span class="hljs-number">7</span>] + a[<span class="hljs-number">8</span>] || <span class="hljs-string">"odd"</span> === a[<span class="hljs-number">3</span>])) : a[<span class="hljs-number">3</span>] &amp;&amp; fa.error(a[<span class="hljs-number">0</span>]), a
                },
                <span class="hljs-attr">PSEUDO</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b, c = !a[<span class="hljs-number">6</span>] &amp;&amp; a[<span class="hljs-number">2</span>];
                    <span class="hljs-keyword">return</span> W.CHILD.test(a[<span class="hljs-number">0</span>]) ? <span class="hljs-literal">null</span> : (a[<span class="hljs-number">3</span>] ? a[<span class="hljs-number">2</span>] = a[<span class="hljs-number">4</span>] || a[<span class="hljs-number">5</span>] || <span class="hljs-string">""</span> : c &amp;&amp; U.test(c) &amp;&amp; (b = g(c, !<span class="hljs-number">0</span>)) &amp;&amp; (b = c.indexOf(<span class="hljs-string">")"</span>, c.length - b) - c.length) &amp;&amp; (a[<span class="hljs-number">0</span>] = a[<span class="hljs-number">0</span>].slice(<span class="hljs-number">0</span>, b), a[<span class="hljs-number">2</span>] = c.slice(<span class="hljs-number">0</span>, b)), a.slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>))
                }
            },
            <span class="hljs-attr">filter</span>: {
                <span class="hljs-attr">TAG</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = a.replace(ba, ca).toLowerCase();
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"*"</span> === a ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
                    } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> a.nodeName &amp;&amp; a.nodeName.toLowerCase() === b
                    }
                },
                <span class="hljs-attr">CLASS</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = y[a + <span class="hljs-string">" "</span>];
                    <span class="hljs-keyword">return</span> b || (b = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|"</span> + L + <span class="hljs-string">")"</span> + a + <span class="hljs-string">"("</span> + L + <span class="hljs-string">"|$)"</span>)) &amp;&amp; y(a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> b.test(<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a.className &amp;&amp; a.className || <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> a.getAttribute &amp;&amp; a.getAttribute(<span class="hljs-string">"class"</span>) || <span class="hljs-string">""</span>)
                    })
                },
                <span class="hljs-attr">ATTR</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
                        <span class="hljs-keyword">var</span> e = fa.attr(d, a);
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == e ? <span class="hljs-string">"!="</span> === b : b ? (e += <span class="hljs-string">""</span>, <span class="hljs-string">"="</span> === b ? e === c : <span class="hljs-string">"!="</span> === b ? e !== c : <span class="hljs-string">"^="</span> === b ? c &amp;&amp; <span class="hljs-number">0</span> === e.indexOf(c) : <span class="hljs-string">"*="</span> === b ? c &amp;&amp; e.indexOf(c) &gt; <span class="hljs-number">-1</span> : <span class="hljs-string">"$="</span> === b ? c &amp;&amp; e.slice(-c.length) === c : <span class="hljs-string">"~="</span> === b ? (<span class="hljs-string">" "</span> + e.replace(P, <span class="hljs-string">" "</span>) + <span class="hljs-string">" "</span>).indexOf(c) &gt; <span class="hljs-number">-1</span> : <span class="hljs-string">"|="</span> === b ? e === c || e.slice(<span class="hljs-number">0</span>, c.length + <span class="hljs-number">1</span>) === c + <span class="hljs-string">"-"</span> : !<span class="hljs-number">1</span>) : !<span class="hljs-number">0</span>
                    }
                },
                <span class="hljs-attr">CHILD</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
                    <span class="hljs-keyword">var</span> f = <span class="hljs-string">"nth"</span> !== a.slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>),
                        g = <span class="hljs-string">"last"</span> !== a.slice(<span class="hljs-number">-4</span>),
                        h = <span class="hljs-string">"of-type"</span> === b;
                    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === d &amp;&amp; <span class="hljs-number">0</span> === e ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> !!a.parentNode
                    } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, i</span>) </span>{
                        <span class="hljs-keyword">var</span> j, k, l, m, n, o, p = f !== g ? <span class="hljs-string">"nextSibling"</span> : <span class="hljs-string">"previousSibling"</span>,
                            q = b.parentNode,
                            r = h &amp;&amp; b.nodeName.toLowerCase(),
                            s = !i &amp;&amp; !h,
                            t = !<span class="hljs-number">1</span>;
                        <span class="hljs-keyword">if</span> (q) {
                            <span class="hljs-keyword">if</span> (f) {
                                <span class="hljs-keyword">while</span> (p) {
                                    m = b;
                                    <span class="hljs-keyword">while</span> (m = m[p])
                                        <span class="hljs-keyword">if</span> (h ? m.nodeName.toLowerCase() === r : <span class="hljs-number">1</span> === m.nodeType) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
                                    o = p = <span class="hljs-string">"only"</span> === a &amp;&amp; !o &amp;&amp; <span class="hljs-string">"nextSibling"</span>
                                }
                                <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
                            }
                            <span class="hljs-keyword">if</span> (o = [g ? q.firstChild : q.lastChild], g &amp;&amp; s) {
                                m = q, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[<span class="hljs-number">0</span>] === w &amp;&amp; j[<span class="hljs-number">1</span>], t = n &amp;&amp; j[<span class="hljs-number">2</span>], m = n &amp;&amp; q.childNodes[n];
                                <span class="hljs-keyword">while</span> (m = ++n &amp;&amp; m &amp;&amp; m[p] || (t = n = <span class="hljs-number">0</span>) || o.pop())
                                    <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === m.nodeType &amp;&amp; ++t &amp;&amp; m === b) {
                                        k[a] = [w, n, t];
                                        <span class="hljs-keyword">break</span>
                                    }
                            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (s &amp;&amp; (m = b, l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), j = k[a] || [], n = j[<span class="hljs-number">0</span>] === w &amp;&amp; j[<span class="hljs-number">1</span>], t = n), t === !<span class="hljs-number">1</span>)
                                <span class="hljs-keyword">while</span> (m = ++n &amp;&amp; m &amp;&amp; m[p] || (t = n = <span class="hljs-number">0</span>) || o.pop())
                                    <span class="hljs-keyword">if</span> ((h ? m.nodeName.toLowerCase() === r : <span class="hljs-number">1</span> === m.nodeType) &amp;&amp; ++t &amp;&amp; (s &amp;&amp; (l = m[u] || (m[u] = {}), k = l[m.uniqueID] || (l[m.uniqueID] = {}), k[a] = [w, t]), m === b)) <span class="hljs-keyword">break</span>;
                            <span class="hljs-keyword">return</span> t -= e, t === d || t % d === <span class="hljs-number">0</span> &amp;&amp; t / d &gt;= <span class="hljs-number">0</span>
                        }
                    }
                },
                <span class="hljs-attr">PSEUDO</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">var</span> c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fa.error(<span class="hljs-string">"unsupported pseudo: "</span> + a);
                    <span class="hljs-keyword">return</span> e[u] ? e(b) : e.length &gt; <span class="hljs-number">1</span> ? (c = [a, a, <span class="hljs-string">""</span>, b], d.setFilters.hasOwnProperty(a.toLowerCase()) ? ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
                        <span class="hljs-keyword">var</span> d, f = e(a, b),
                            g = f.length;
                        <span class="hljs-keyword">while</span> (g--) d = J(a, f[g]), a[d] = !(c[d] = f[g])
                    }) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> e(a, <span class="hljs-number">0</span>, c)
                    }) : e
                }
            },
            <span class="hljs-attr">pseudos</span>: {
                <span class="hljs-attr">not</span>: ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = [],
                        c = [],
                        d = h(a.replace(Q, <span class="hljs-string">"$1"</span>));
                    <span class="hljs-keyword">return</span> d[u] ? ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, e</span>) </span>{
                        <span class="hljs-keyword">var</span> f, g = d(a, <span class="hljs-literal">null</span>, e, []),
                            h = a.length;
                        <span class="hljs-keyword">while</span> (h--)(f = g[h]) &amp;&amp; (a[h] = !(b[h] = f))
                    }) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, e, f</span>) </span>{
                        <span class="hljs-keyword">return</span> b[<span class="hljs-number">0</span>] = a, d(b, <span class="hljs-literal">null</span>, f, c), b[<span class="hljs-number">0</span>] = <span class="hljs-literal">null</span>, !c.pop()
                    }
                }),
                <span class="hljs-attr">has</span>: ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                        <span class="hljs-keyword">return</span> fa(a, b).length &gt; <span class="hljs-number">0</span>
                    }
                }),
                <span class="hljs-attr">contains</span>: ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a = a.replace(ba, ca),
                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                            <span class="hljs-keyword">return</span> (b.textContent || b.innerText || e(b)).indexOf(a) &gt; <span class="hljs-number">-1</span>
                        }
                }),
                <span class="hljs-attr">lang</span>: ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> V.test(a || <span class="hljs-string">""</span>) || fa.error(<span class="hljs-string">"unsupported lang: "</span> + a), a = a.replace(ba, ca).toLowerCase(),
                        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                            <span class="hljs-keyword">var</span> c;
                            <span class="hljs-keyword">do</span>
                                <span class="hljs-keyword">if</span> (c = p ? b.lang : b.getAttribute(<span class="hljs-string">"xml:lang"</span>) || b.getAttribute(<span class="hljs-string">"lang"</span>)) <span class="hljs-keyword">return</span> c = c.toLowerCase(), c === a || <span class="hljs-number">0</span> === c.indexOf(a + <span class="hljs-string">"-"</span>); <span class="hljs-keyword">while</span> ((b = b.parentNode) &amp;&amp; <span class="hljs-number">1</span> === b.nodeType);
                            <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>
                        }
                }),
                <span class="hljs-attr">target</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                    <span class="hljs-keyword">var</span> c = a.location &amp;&amp; a.location.hash;
                    <span class="hljs-keyword">return</span> c &amp;&amp; c.slice(<span class="hljs-number">1</span>) === b.id
                },
                <span class="hljs-attr">root</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a === o
                },
                <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a === n.activeElement &amp;&amp; (!n.hasFocus || n.hasFocus()) &amp;&amp; !!(a.type || a.href || ~a.tabIndex)
                },
                <span class="hljs-attr">enabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a.disabled === !<span class="hljs-number">1</span>
                },
                <span class="hljs-attr">disabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a.disabled === !<span class="hljs-number">0</span>
                },
                <span class="hljs-attr">checked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = a.nodeName.toLowerCase();
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"input"</span> === b &amp;&amp; !!a.checked || <span class="hljs-string">"option"</span> === b &amp;&amp; !!a.selected
                },
                <span class="hljs-attr">selected</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a.parentNode &amp;&amp; a.parentNode.selectedIndex, a.selected === !<span class="hljs-number">0</span>
                },
                <span class="hljs-attr">empty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">for</span> (a = a.firstChild; a; a = a.nextSibling)
                        <span class="hljs-keyword">if</span> (a.nodeType &lt; <span class="hljs-number">6</span>) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
                    <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
                },
                <span class="hljs-attr">parent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> !d.pseudos.empty(a)
                },
                <span class="hljs-attr">header</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> Y.test(a.nodeName)
                },
                <span class="hljs-attr">input</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> X.test(a.nodeName)
                },
                <span class="hljs-attr">button</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = a.nodeName.toLowerCase();
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"input"</span> === b &amp;&amp; <span class="hljs-string">"button"</span> === a.type || <span class="hljs-string">"button"</span> === b
                },
                <span class="hljs-attr">text</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b;
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"input"</span> === a.nodeName.toLowerCase() &amp;&amp; <span class="hljs-string">"text"</span> === a.type &amp;&amp; (<span class="hljs-literal">null</span> == (b = a.getAttribute(<span class="hljs-string">"type"</span>)) || <span class="hljs-string">"text"</span> === b.toLowerCase())
                },
                <span class="hljs-attr">first</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span>]
                }),
                <span class="hljs-attr">last</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">return</span> [b - <span class="hljs-number">1</span>]
                }),
                <span class="hljs-attr">eq</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">return</span> [<span class="hljs-number">0</span> &gt; c ? c + b : c]
                }),
                <span class="hljs-attr">even</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; b &gt; c; c += <span class="hljs-number">2</span>) a.push(c);
                    <span class="hljs-keyword">return</span> a
                }),
                <span class="hljs-attr">odd</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">1</span>; b &gt; c; c += <span class="hljs-number">2</span>) a.push(c);
                    <span class="hljs-keyword">return</span> a
                }),
                <span class="hljs-attr">lt</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span> &gt; c ? c + b : c; --d &gt;= <span class="hljs-number">0</span>;) a.push(d);
                    <span class="hljs-keyword">return</span> a
                }),
                <span class="hljs-attr">gt</span>: na(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span> &gt; c ? c + b : c; ++d &lt; b;) a.push(d);
                    <span class="hljs-keyword">return</span> a
                })
            }
        }, d.pseudos.nth = d.pseudos.eq;
        <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> {
                <span class="hljs-attr">radio</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">checkbox</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">file</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">password</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">image</span>: !<span class="hljs-number">0</span>
            }) d.pseudos[b] = la(b);
        <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> {
                <span class="hljs-attr">submit</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">reset</span>: !<span class="hljs-number">0</span>
            }) d.pseudos[b] = ma(b);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pa</span>(<span class="hljs-params"></span>) </span>{}
        pa.prototype = d.filters = d.pseudos, d.setFilters = <span class="hljs-keyword">new</span> pa, g = fa.tokenize = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, e, f, g, h, i, j, k = z[a + <span class="hljs-string">" "</span>];
            <span class="hljs-keyword">if</span> (k) <span class="hljs-keyword">return</span> b ? <span class="hljs-number">0</span> : k.slice(<span class="hljs-number">0</span>);
            h = a, i = [], j = d.preFilter;
            <span class="hljs-keyword">while</span> (h) {
                c &amp;&amp; !(e = R.exec(h)) || (e &amp;&amp; (h = h.slice(e[<span class="hljs-number">0</span>].length) || h), i.push(f = [])), c = !<span class="hljs-number">1</span>, (e = S.exec(h)) &amp;&amp; (c = e.shift(), f.push({
                    <span class="hljs-attr">value</span>: c,
                    <span class="hljs-attr">type</span>: e[<span class="hljs-number">0</span>].replace(Q, <span class="hljs-string">" "</span>)
                }), h = h.slice(c.length));
                <span class="hljs-keyword">for</span> (g <span class="hljs-keyword">in</span> d.filter) !(e = W[g].exec(h)) || j[g] &amp;&amp; !(e = j[g](e)) || (c = e.shift(), f.push({
                    <span class="hljs-attr">value</span>: c,
                    <span class="hljs-attr">type</span>: g,
                    <span class="hljs-attr">matches</span>: e
                }), h = h.slice(c.length));
                <span class="hljs-keyword">if</span> (!c) <span class="hljs-keyword">break</span>
            }
            <span class="hljs-keyword">return</span> b ? h.length : h ? fa.error(a) : z(a, i).slice(<span class="hljs-number">0</span>)
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qa</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>, c = a.length, d = <span class="hljs-string">""</span>; c &gt; b; b++) d += a[b].value;
            <span class="hljs-keyword">return</span> d
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ra</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d = b.dir,
                e = c &amp;&amp; <span class="hljs-string">"parentNode"</span> === d,
                f = x++;
            <span class="hljs-keyword">return</span> b.first ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, f</span>) </span>{
                <span class="hljs-keyword">while</span> (b = b[d])
                    <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === b.nodeType || e) <span class="hljs-keyword">return</span> a(b, c, f)
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, g</span>) </span>{
                <span class="hljs-keyword">var</span> h, i, j, k = [w, f];
                <span class="hljs-keyword">if</span> (g) {
                    <span class="hljs-keyword">while</span> (b = b[d])
                        <span class="hljs-keyword">if</span> ((<span class="hljs-number">1</span> === b.nodeType || e) &amp;&amp; a(b, c, g)) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
                } <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">while</span> (b = b[d])
                        <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === b.nodeType || e) {
                            <span class="hljs-keyword">if</span> (j = b[u] || (b[u] = {}), i = j[b.uniqueID] || (j[b.uniqueID] = {}), (h = i[d]) &amp;&amp; h[<span class="hljs-number">0</span>] === w &amp;&amp; h[<span class="hljs-number">1</span>] === f) <span class="hljs-keyword">return</span> k[<span class="hljs-number">2</span>] = h[<span class="hljs-number">2</span>];
                            <span class="hljs-keyword">if</span> (i[d] = k, k[<span class="hljs-number">2</span>] = a(b, c, g)) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
                        }
            }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sa</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.length &gt; <span class="hljs-number">1</span> ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, d</span>) </span>{
                <span class="hljs-keyword">var</span> e = a.length;
                <span class="hljs-keyword">while</span> (e--)
                    <span class="hljs-keyword">if</span> (!a[e](b, c, d)) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
                <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
            } : a[<span class="hljs-number">0</span>]
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ta</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span>, e = b.length; e &gt; d; d++) fa(a, b[d], c);
            <span class="hljs-keyword">return</span> c
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ua</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f, g = [], h = <span class="hljs-number">0</span>, i = a.length, j = <span class="hljs-literal">null</span> != b; i &gt; h; h++)(f = a[h]) &amp;&amp; (c &amp;&amp; !c(f, d, e) || (g.push(f), j &amp;&amp; b.push(h)));
            <span class="hljs-keyword">return</span> g
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">va</span>(<span class="hljs-params">a, b, c, d, e, f</span>) </span>{
            <span class="hljs-keyword">return</span> d &amp;&amp; !d[u] &amp;&amp; (d = va(d)), e &amp;&amp; !e[u] &amp;&amp; (e = va(e, f)), ha(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, g, h, i</span>) </span>{
                <span class="hljs-keyword">var</span> j, k, l, m = [],
                    n = [],
                    o = g.length,
                    p = f || ta(b || <span class="hljs-string">"*"</span>, h.nodeType ? [h] : h, []),
                    q = !a || !f &amp;&amp; b ? p : ua(p, m, a, h, i),
                    r = c ? e || (f ? a : o || d) ? [] : g : q;
                <span class="hljs-keyword">if</span> (c &amp;&amp; c(q, r, h, i), d) {
                    j = ua(r, n), d(j, [], h, i), k = j.length;
                    <span class="hljs-keyword">while</span> (k--)(l = j[k]) &amp;&amp; (r[n[k]] = !(q[n[k]] = l))
                }
                <span class="hljs-keyword">if</span> (f) {
                    <span class="hljs-keyword">if</span> (e || a) {
                        <span class="hljs-keyword">if</span> (e) {
                            j = [], k = r.length;
                            <span class="hljs-keyword">while</span> (k--)(l = r[k]) &amp;&amp; j.push(q[k] = l);
                            e(<span class="hljs-literal">null</span>, r = [], j, i)
                        }
                        k = r.length;
                        <span class="hljs-keyword">while</span> (k--)(l = r[k]) &amp;&amp; (j = e ? J(f, l) : m[k]) &gt; <span class="hljs-number">-1</span> &amp;&amp; (f[j] = !(g[j] = l))
                    }
                } <span class="hljs-keyword">else</span> r = ua(r === g ? r.splice(o, r.length) : r), e ? e(<span class="hljs-literal">null</span>, g, r, i) : H.apply(g, r)
            })
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wa</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b, c, e, f = a.length, g = d.relative[a[<span class="hljs-number">0</span>].type], h = g || d.relative[<span class="hljs-string">" "</span>], i = g ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>, k = ra(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a === b
                }, h, !<span class="hljs-number">0</span>), l = ra(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> J(b, a) &gt; <span class="hljs-number">-1</span>
                }, h, !<span class="hljs-number">0</span>), m = [<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, d</span>) </span>{
                    <span class="hljs-keyword">var</span> e = !g &amp;&amp; (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d));
                    <span class="hljs-keyword">return</span> b = <span class="hljs-literal">null</span>, e
                }]; f &gt; i; i++)
                <span class="hljs-keyword">if</span> (c = d.relative[a[i].type]) m = [ra(sa(m), c)];
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (c = d.filter[a[i].type].apply(<span class="hljs-literal">null</span>, a[i].matches), c[u]) {
                        <span class="hljs-keyword">for</span> (e = ++i; f &gt; e; e++)
                            <span class="hljs-keyword">if</span> (d.relative[a[e].type]) <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">return</span> va(i &gt; <span class="hljs-number">1</span> &amp;&amp; sa(m), i &gt; <span class="hljs-number">1</span> &amp;&amp; qa(a.slice(<span class="hljs-number">0</span>, i - <span class="hljs-number">1</span>).concat({
                            <span class="hljs-attr">value</span>: <span class="hljs-string">" "</span> === a[i - <span class="hljs-number">2</span>].type ? <span class="hljs-string">"*"</span> : <span class="hljs-string">""</span>
                        })).replace(Q, <span class="hljs-string">"$1"</span>), c, e &gt; i &amp;&amp; wa(a.slice(i, e)), f &gt; e &amp;&amp; wa(a = a.slice(e)), f &gt; e &amp;&amp; qa(a))
                    }
                    m.push(c)
                }
            <span class="hljs-keyword">return</span> sa(m)
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xa</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b.length &gt; <span class="hljs-number">0</span>,
                e = a.length &gt; <span class="hljs-number">0</span>,
                f = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">f, g, h, i, k</span>) </span>{
                    <span class="hljs-keyword">var</span> l, o, q, r = <span class="hljs-number">0</span>,
                        s = <span class="hljs-string">"0"</span>,
                        t = f &amp;&amp; [],
                        u = [],
                        v = j,
                        x = f || e &amp;&amp; d.find.TAG(<span class="hljs-string">"*"</span>, k),
                        y = w += <span class="hljs-literal">null</span> == v ? <span class="hljs-number">1</span> : <span class="hljs-built_in">Math</span>.random() || <span class="hljs-number">.1</span>,
                        z = x.length;
                    <span class="hljs-keyword">for</span> (k &amp;&amp; (j = g === n || g || k); s !== z &amp;&amp; <span class="hljs-literal">null</span> != (l = x[s]); s++) {
                        <span class="hljs-keyword">if</span> (e &amp;&amp; l) {
                            o = <span class="hljs-number">0</span>, g || l.ownerDocument === n || (m(l), h = !p);
                            <span class="hljs-keyword">while</span> (q = a[o++])
                                <span class="hljs-keyword">if</span> (q(l, g || n, h)) {
                                    i.push(l);
                                    <span class="hljs-keyword">break</span>
                                }
                            k &amp;&amp; (w = y)
                        }
                        c &amp;&amp; ((l = !q &amp;&amp; l) &amp;&amp; r--, f &amp;&amp; t.push(l))
                    }
                    <span class="hljs-keyword">if</span> (r += s, c &amp;&amp; s !== r) {
                        o = <span class="hljs-number">0</span>;
                        <span class="hljs-keyword">while</span> (q = b[o++]) q(t, u, g, h);
                        <span class="hljs-keyword">if</span> (f) {
                            <span class="hljs-keyword">if</span> (r &gt; <span class="hljs-number">0</span>)
                                <span class="hljs-keyword">while</span> (s--) t[s] || u[s] || (u[s] = F.call(i));
                            u = ua(u)
                        }
                        H.apply(i, u), k &amp;&amp; !f &amp;&amp; u.length &gt; <span class="hljs-number">0</span> &amp;&amp; r + b.length &gt; <span class="hljs-number">1</span> &amp;&amp; fa.uniqueSort(i)
                    }
                    <span class="hljs-keyword">return</span> k &amp;&amp; (w = y, j = v), t
                };
            <span class="hljs-keyword">return</span> c ? ha(f) : f
        }
        <span class="hljs-keyword">return</span> h = fa.compile = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d = [],
                e = [],
                f = A[a + <span class="hljs-string">" "</span>];
            <span class="hljs-keyword">if</span> (!f) {
                b || (b = g(a)), c = b.length;
                <span class="hljs-keyword">while</span> (c--) f = wa(b[c]), f[u] ? d.push(f) : e.push(f);
                f = A(a, xa(e, d)), f.selector = a
            }
            <span class="hljs-keyword">return</span> f
        }, i = fa.select = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, e, f</span>) </span>{
            <span class="hljs-keyword">var</span> i, j, k, l, m, n = <span class="hljs-string">"function"</span> == <span class="hljs-keyword">typeof</span> a &amp;&amp; a,
                o = !f &amp;&amp; g(a = n.selector || a);
            <span class="hljs-keyword">if</span> (e = e || [], <span class="hljs-number">1</span> === o.length) {
                <span class="hljs-keyword">if</span> (j = o[<span class="hljs-number">0</span>] = o[<span class="hljs-number">0</span>].slice(<span class="hljs-number">0</span>), j.length &gt; <span class="hljs-number">2</span> &amp;&amp; <span class="hljs-string">"ID"</span> === (k = j[<span class="hljs-number">0</span>]).type &amp;&amp; c.getById &amp;&amp; <span class="hljs-number">9</span> === b.nodeType &amp;&amp; p &amp;&amp; d.relative[j[<span class="hljs-number">1</span>].type]) {
                    <span class="hljs-keyword">if</span> (b = (d.find.ID(k.matches[<span class="hljs-number">0</span>].replace(ba, ca), b) || [])[<span class="hljs-number">0</span>], !b) <span class="hljs-keyword">return</span> e;
                    n &amp;&amp; (b = b.parentNode), a = a.slice(j.shift().value.length)
                }
                i = W.needsContext.test(a) ? <span class="hljs-number">0</span> : j.length;
                <span class="hljs-keyword">while</span> (i--) {
                    <span class="hljs-keyword">if</span> (k = j[i], d.relative[l = k.type]) <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">if</span> ((m = d.find[l]) &amp;&amp; (f = m(k.matches[<span class="hljs-number">0</span>].replace(ba, ca), _.test(j[<span class="hljs-number">0</span>].type) &amp;&amp; oa(b.parentNode) || b))) {
                        <span class="hljs-keyword">if</span> (j.splice(i, <span class="hljs-number">1</span>), a = f.length &amp;&amp; qa(j), !a) <span class="hljs-keyword">return</span> H.apply(e, f), e;
                        <span class="hljs-keyword">break</span>
                    }
                }
            }
            <span class="hljs-keyword">return</span> (n || h(a, o))(f, b, !p, e, !b || _.test(a) &amp;&amp; oa(b.parentNode) || b), e
        }, c.sortStable = u.split(<span class="hljs-string">""</span>).sort(B).join(<span class="hljs-string">""</span>) === u, c.detectDuplicates = !!l, m(), c.sortDetached = ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> &amp; a.compareDocumentPosition(n.createElement(<span class="hljs-string">"div"</span>))
        }), ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.innerHTML = <span class="hljs-string">"&lt;a href='#'&gt;&lt;/a&gt;"</span>, <span class="hljs-string">"#"</span> === a.firstChild.getAttribute(<span class="hljs-string">"href"</span>)
        }) || ja(<span class="hljs-string">"type|href|height|width"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> c ? <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : a.getAttribute(b, <span class="hljs-string">"type"</span> === b.toLowerCase() ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>)
        }), c.attributes &amp;&amp; ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.innerHTML = <span class="hljs-string">"&lt;input/&gt;"</span>, a.firstChild.setAttribute(<span class="hljs-string">"value"</span>, <span class="hljs-string">""</span>), <span class="hljs-string">""</span> === a.firstChild.getAttribute(<span class="hljs-string">"value"</span>)
        }) || ja(<span class="hljs-string">"value"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> c || <span class="hljs-string">"input"</span> !== a.nodeName.toLowerCase() ? <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : a.defaultValue
        }), ia(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a.getAttribute(<span class="hljs-string">"disabled"</span>)
        }) || ja(K, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d;
            <span class="hljs-keyword">return</span> c ? <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : a[b] === !<span class="hljs-number">0</span> ? b.toLowerCase() : (d = a.getAttributeNode(b)) &amp;&amp; d.specified ? d.value : <span class="hljs-literal">null</span>
        }), fa
    }(a);
    n.find = t, n.expr = t.selectors, n.expr[<span class="hljs-string">":"</span>] = n.expr.pseudos, n.uniqueSort = n.unique = t.uniqueSort, n.text = t.getText, n.isXMLDoc = t.isXML, n.contains = t.contains;
    <span class="hljs-keyword">var</span> u = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d = [],
                e = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c;
            <span class="hljs-keyword">while</span> ((a = a[b]) &amp;&amp; <span class="hljs-number">9</span> !== a.nodeType)
                <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === a.nodeType) {
                    <span class="hljs-keyword">if</span> (e &amp;&amp; n(a).is(c)) <span class="hljs-keyword">break</span>;
                    d.push(a)
                }
            <span class="hljs-keyword">return</span> d
        },
        v = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = []; a; a = a.nextSibling) <span class="hljs-number">1</span> === a.nodeType &amp;&amp; a !== b &amp;&amp; c.push(a);
            <span class="hljs-keyword">return</span> c
        },
        w = n.expr.match.needsContext,
        x = <span class="hljs-regexp">/^&lt;([\w-]+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/</span>,
        y = <span class="hljs-regexp">/^.[^:#\[\.,]*$/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">if</span> (n.isFunction(b)) <span class="hljs-keyword">return</span> n.grep(a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, d</span>) </span>{
            <span class="hljs-keyword">return</span> !!b.call(a, d, a) !== c
        });
        <span class="hljs-keyword">if</span> (b.nodeType) <span class="hljs-keyword">return</span> n.grep(a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a === b !== c
        });
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> b) {
            <span class="hljs-keyword">if</span> (y.test(b)) <span class="hljs-keyword">return</span> n.filter(b, a, c);
            b = n.filter(b, a)
        }
        <span class="hljs-keyword">return</span> n.grep(a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> h.call(b, a) &gt; <span class="hljs-number">-1</span> !== c
        })
    }
    n.filter = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d = b[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">return</span> c &amp;&amp; (a = <span class="hljs-string">":not("</span> + a + <span class="hljs-string">")"</span>), <span class="hljs-number">1</span> === b.length &amp;&amp; <span class="hljs-number">1</span> === d.nodeType ? n.find.matchesSelector(d, a) ? [d] : [] : n.find.matches(a, n.grep(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === a.nodeType
        }))
    }, n.fn.extend({
        <span class="hljs-attr">find</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c = <span class="hljs-keyword">this</span>.length,
                d = [],
                e = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(n(a).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">for</span> (b = <span class="hljs-number">0</span>; c &gt; b; b++)
                    <span class="hljs-keyword">if</span> (n.contains(e[b], <span class="hljs-keyword">this</span>)) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
            }));
            <span class="hljs-keyword">for</span> (b = <span class="hljs-number">0</span>; c &gt; b; b++) n.find(a, e[b], d);
            <span class="hljs-keyword">return</span> d = <span class="hljs-keyword">this</span>.pushStack(c &gt; <span class="hljs-number">1</span> ? n.unique(d) : d), d.selector = <span class="hljs-keyword">this</span>.selector ? <span class="hljs-keyword">this</span>.selector + <span class="hljs-string">" "</span> + a : a, d
        },
        <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(z(<span class="hljs-keyword">this</span>, a || [], !<span class="hljs-number">1</span>))
        },
        <span class="hljs-attr">not</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(z(<span class="hljs-keyword">this</span>, a || [], !<span class="hljs-number">0</span>))
        },
        <span class="hljs-attr">is</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> !!z(<span class="hljs-keyword">this</span>, <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a &amp;&amp; w.test(a) ? n(a) : a || [], !<span class="hljs-number">1</span>).length
        }
    });
    <span class="hljs-keyword">var</span> A, B = <span class="hljs-regexp">/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]*))$/</span>,
        C = n.fn.init = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> e, f;
            <span class="hljs-keyword">if</span> (!a) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (c = c || A, <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a) {
                <span class="hljs-keyword">if</span> (e = <span class="hljs-string">"&lt;"</span> === a[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-string">"&gt;"</span> === a[a.length - <span class="hljs-number">1</span>] &amp;&amp; a.length &gt;= <span class="hljs-number">3</span> ? [<span class="hljs-literal">null</span>, a, <span class="hljs-literal">null</span>] : B.exec(a), !e || !e[<span class="hljs-number">1</span>] &amp;&amp; b) <span class="hljs-keyword">return</span> !b || b.jquery ? (b || c).find(a) : <span class="hljs-keyword">this</span>.constructor(b).find(a);
                <span class="hljs-keyword">if</span> (e[<span class="hljs-number">1</span>]) {
                    <span class="hljs-keyword">if</span> (b = b <span class="hljs-keyword">instanceof</span> n ? b[<span class="hljs-number">0</span>] : b, n.merge(<span class="hljs-keyword">this</span>, n.parseHTML(e[<span class="hljs-number">1</span>], b &amp;&amp; b.nodeType ? b.ownerDocument || b : d, !<span class="hljs-number">0</span>)), x.test(e[<span class="hljs-number">1</span>]) &amp;&amp; n.isPlainObject(b))
                        <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> b) n.isFunction(<span class="hljs-keyword">this</span>[e]) ? <span class="hljs-keyword">this</span>[e](b[e]) : <span class="hljs-keyword">this</span>.attr(e, b[e]);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
                }
                <span class="hljs-keyword">return</span> f = d.getElementById(e[<span class="hljs-number">2</span>]), f &amp;&amp; f.parentNode &amp;&amp; (<span class="hljs-keyword">this</span>.length = <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] = f), <span class="hljs-keyword">this</span>.context = d, <span class="hljs-keyword">this</span>.selector = a, <span class="hljs-keyword">this</span>
            }
            <span class="hljs-keyword">return</span> a.nodeType ? (<span class="hljs-keyword">this</span>.context = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] = a, <span class="hljs-keyword">this</span>.length = <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>) : n.isFunction(a) ? <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c.ready ? c.ready(a) : a(n) : (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== a.selector &amp;&amp; (<span class="hljs-keyword">this</span>.selector = a.selector, <span class="hljs-keyword">this</span>.context = a.context), n.makeArray(a, <span class="hljs-keyword">this</span>))
        };
    C.prototype = n.fn, A = n(d);
    <span class="hljs-keyword">var</span> D = <span class="hljs-regexp">/^(?:parents|prev(?:Until|All))/</span>,
        E = {
            <span class="hljs-attr">children</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">contents</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">next</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">prev</span>: !<span class="hljs-number">0</span>
        };
    n.fn.extend({
        <span class="hljs-attr">has</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = n(a, <span class="hljs-keyword">this</span>),
                c = b.length;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; c &gt; a; a++)
                    <span class="hljs-keyword">if</span> (n.contains(<span class="hljs-keyword">this</span>, b[a])) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
            })
        },
        <span class="hljs-attr">closest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c, d = <span class="hljs-number">0</span>, e = <span class="hljs-keyword">this</span>.length, f = [], g = w.test(a) || <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a ? n(a, b || <span class="hljs-keyword">this</span>.context) : <span class="hljs-number">0</span>; e &gt; d; d++)
                <span class="hljs-keyword">for</span> (c = <span class="hljs-keyword">this</span>[d]; c &amp;&amp; c !== b; c = c.parentNode)
                    <span class="hljs-keyword">if</span> (c.nodeType &lt; <span class="hljs-number">11</span> &amp;&amp; (g ? g.index(c) &gt; <span class="hljs-number">-1</span> : <span class="hljs-number">1</span> === c.nodeType &amp;&amp; n.find.matchesSelector(c, a))) {
                        f.push(c);
                        <span class="hljs-keyword">break</span>
                    }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(f.length &gt; <span class="hljs-number">1</span> ? n.uniqueSort(f) : f)
        },
        <span class="hljs-attr">index</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a ? <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a ? h.call(n(a), <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]) : h.call(<span class="hljs-keyword">this</span>, a.jquery ? a[<span class="hljs-number">0</span>] : a) : <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>].parentNode ? <span class="hljs-keyword">this</span>.first().prevAll().length : <span class="hljs-number">-1</span>
        },
        <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(n.uniqueSort(n.merge(<span class="hljs-keyword">this</span>.get(), n(a, b))))
        },
        <span class="hljs-attr">addBack</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.add(<span class="hljs-literal">null</span> == a ? <span class="hljs-keyword">this</span>.prevObject : <span class="hljs-keyword">this</span>.prevObject.filter(a))
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">F</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">while</span> ((a = a[b]) &amp;&amp; <span class="hljs-number">1</span> !== a.nodeType);
        <span class="hljs-keyword">return</span> a
    }
    n.each({
        <span class="hljs-attr">parent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a.parentNode;
            <span class="hljs-keyword">return</span> b &amp;&amp; <span class="hljs-number">11</span> !== b.nodeType ? b : <span class="hljs-literal">null</span>
        },
        <span class="hljs-attr">parents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"parentNode"</span>)
        },
        <span class="hljs-attr">parentsUntil</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"parentNode"</span>, c)
        },
        <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> F(a, <span class="hljs-string">"nextSibling"</span>)
        },
        <span class="hljs-attr">prev</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> F(a, <span class="hljs-string">"previousSibling"</span>)
        },
        <span class="hljs-attr">nextAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"nextSibling"</span>)
        },
        <span class="hljs-attr">prevAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"previousSibling"</span>)
        },
        <span class="hljs-attr">nextUntil</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"nextSibling"</span>, c)
        },
        <span class="hljs-attr">prevUntil</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> u(a, <span class="hljs-string">"previousSibling"</span>, c)
        },
        <span class="hljs-attr">siblings</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> v((a.parentNode || {}).firstChild, a)
        },
        <span class="hljs-attr">children</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> v(a.firstChild)
        },
        <span class="hljs-attr">contents</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.contentDocument || n.merge([], a.childNodes)
        }
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.fn[a] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, d</span>) </span>{
            <span class="hljs-keyword">var</span> e = n.map(<span class="hljs-keyword">this</span>, b, c);
            <span class="hljs-keyword">return</span> <span class="hljs-string">"Until"</span> !== a.slice(<span class="hljs-number">-5</span>) &amp;&amp; (d = c), d &amp;&amp; <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> d &amp;&amp; (e = n.filter(d, e)), <span class="hljs-keyword">this</span>.length &gt; <span class="hljs-number">1</span> &amp;&amp; (E[a] || n.uniqueSort(e), D.test(a) &amp;&amp; e.reverse()), <span class="hljs-keyword">this</span>.pushStack(e)
        }
    });
    <span class="hljs-keyword">var</span> G = <span class="hljs-regexp">/\S+/g</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">H</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> b = {};
        <span class="hljs-keyword">return</span> n.each(a.match(G) || [], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
            b[c] = !<span class="hljs-number">0</span>
        }), b
    }
    n.Callbacks = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        a = <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a ? H(a) : n.extend({}, a);
        <span class="hljs-keyword">var</span> b, c, d, e, f = [],
            g = [],
            h = <span class="hljs-number">-1</span>,
            i = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">for</span> (e = a.once, d = b = !<span class="hljs-number">0</span>; g.length; h = <span class="hljs-number">-1</span>) {
                    c = g.shift();
                    <span class="hljs-keyword">while</span> (++h &lt; f.length) f[h].apply(c[<span class="hljs-number">0</span>], c[<span class="hljs-number">1</span>]) === !<span class="hljs-number">1</span> &amp;&amp; a.stopOnFalse &amp;&amp; (h = f.length, c = !<span class="hljs-number">1</span>)
                }
                a.memory || (c = !<span class="hljs-number">1</span>), b = !<span class="hljs-number">1</span>, e &amp;&amp; (f = c ? [] : <span class="hljs-string">""</span>)
            },
            j = {
                <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> f &amp;&amp; (c &amp;&amp; !b &amp;&amp; (h = f.length - <span class="hljs-number">1</span>, g.push(c)), <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">d</span>(<span class="hljs-params">b</span>) </span>{
                        n.each(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
                            n.isFunction(c) ? a.unique &amp;&amp; j.has(c) || f.push(c) : c &amp;&amp; c.length &amp;&amp; <span class="hljs-string">"string"</span> !== n.type(c) &amp;&amp; d(c)
                        })
                    }(<span class="hljs-built_in">arguments</span>), c &amp;&amp; !b &amp;&amp; i()), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> n.each(<span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                        <span class="hljs-keyword">var</span> c;
                        <span class="hljs-keyword">while</span> ((c = n.inArray(b, f, c)) &gt; <span class="hljs-number">-1</span>) f.splice(c, <span class="hljs-number">1</span>), h &gt;= c &amp;&amp; h--
                    }), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">has</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> a ? n.inArray(a, f) &gt; <span class="hljs-number">-1</span> : f.length &gt; <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">empty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> f &amp;&amp; (f = []), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> e = g = [], f = c = <span class="hljs-string">""</span>, <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">disabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> !f
                },
                <span class="hljs-attr">lock</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> e = g = [], c || (f = c = <span class="hljs-string">""</span>), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">locked</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> !!e
                },
                <span class="hljs-attr">fireWith</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
                    <span class="hljs-keyword">return</span> e || (c = c || [], c = [a, c.slice ? c.slice() : c], g.push(c), b || i()), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">fire</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> j.fireWith(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), <span class="hljs-keyword">this</span>
                },
                <span class="hljs-attr">fired</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> !!d
                }
            };
        <span class="hljs-keyword">return</span> j
    }, n.extend({
        <span class="hljs-attr">Deferred</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = [
                    [<span class="hljs-string">"resolve"</span>, <span class="hljs-string">"done"</span>, n.Callbacks(<span class="hljs-string">"once memory"</span>), <span class="hljs-string">"resolved"</span>],
                    [<span class="hljs-string">"reject"</span>, <span class="hljs-string">"fail"</span>, n.Callbacks(<span class="hljs-string">"once memory"</span>), <span class="hljs-string">"rejected"</span>],
                    [<span class="hljs-string">"notify"</span>, <span class="hljs-string">"progress"</span>, n.Callbacks(<span class="hljs-string">"memory"</span>)]
                ],
                c = <span class="hljs-string">"pending"</span>,
                d = {
                    <span class="hljs-attr">state</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> c
                    },
                    <span class="hljs-attr">always</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> e.done(<span class="hljs-built_in">arguments</span>).fail(<span class="hljs-built_in">arguments</span>), <span class="hljs-keyword">this</span>
                    },
                    <span class="hljs-attr">then</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">arguments</span>;
                        <span class="hljs-keyword">return</span> n.Deferred(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                            n.each(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, f</span>) </span>{
                                <span class="hljs-keyword">var</span> g = n.isFunction(a[b]) &amp;&amp; a[b];
                                e[f[<span class="hljs-number">1</span>]](<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                                    <span class="hljs-keyword">var</span> a = g &amp;&amp; g.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                                    a &amp;&amp; n.isFunction(a.promise) ? a.promise().progress(c.notify).done(c.resolve).fail(c.reject) : c[f[<span class="hljs-number">0</span>] + <span class="hljs-string">"With"</span>](<span class="hljs-keyword">this</span> === d ? c.promise() : <span class="hljs-keyword">this</span>, g ? [a] : <span class="hljs-built_in">arguments</span>)
                                })
                            }), a = <span class="hljs-literal">null</span>
                        }).promise()
                    },
                    <span class="hljs-attr">promise</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> != a ? n.extend(a, d) : d
                    }
                },
                e = {};
            <span class="hljs-keyword">return</span> d.pipe = d.then, n.each(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, f</span>) </span>{
                <span class="hljs-keyword">var</span> g = f[<span class="hljs-number">2</span>],
                    h = f[<span class="hljs-number">3</span>];
                d[f[<span class="hljs-number">1</span>]] = g.add, h &amp;&amp; g.add(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    c = h
                }, b[<span class="hljs-number">1</span> ^ a][<span class="hljs-number">2</span>].disable, b[<span class="hljs-number">2</span>][<span class="hljs-number">2</span>].lock), e[f[<span class="hljs-number">0</span>]] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> e[f[<span class="hljs-number">0</span>] + <span class="hljs-string">"With"</span>](<span class="hljs-keyword">this</span> === e ? d : <span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), <span class="hljs-keyword">this</span>
                }, e[f[<span class="hljs-number">0</span>] + <span class="hljs-string">"With"</span>] = g.fireWith
            }), d.promise(e), a &amp;&amp; a.call(e, e), e
        },
        <span class="hljs-attr">when</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>,
                c = e.call(<span class="hljs-built_in">arguments</span>),
                d = c.length,
                f = <span class="hljs-number">1</span> !== d || a &amp;&amp; n.isFunction(a.promise) ? d : <span class="hljs-number">0</span>,
                g = <span class="hljs-number">1</span> === f ? a : n.Deferred(),
                h = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
                        b[a] = <span class="hljs-keyword">this</span>, c[a] = <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span> ? e.call(<span class="hljs-built_in">arguments</span>) : d, c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                    }
                },
                i, j, k;
            <span class="hljs-keyword">if</span> (d &gt; <span class="hljs-number">1</span>)
                <span class="hljs-keyword">for</span> (i = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(d), j = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(d), k = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(d); d &gt; b; b++) c[b] &amp;&amp; n.isFunction(c[b].promise) ? c[b].promise().progress(h(b, j, i)).done(h(b, k, c)).fail(g.reject) : --f;
            <span class="hljs-keyword">return</span> f || g.resolveWith(k, c), g.promise()
        }
    });
    <span class="hljs-keyword">var</span> I;
    n.fn.ready = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> n.ready.promise().done(a), <span class="hljs-keyword">this</span>
    }, n.extend({
        <span class="hljs-attr">isReady</span>: !<span class="hljs-number">1</span>,
        <span class="hljs-attr">readyWait</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">holdReady</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            a ? n.readyWait++ : n.ready(!<span class="hljs-number">0</span>)
        },
        <span class="hljs-attr">ready</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            (a === !<span class="hljs-number">0</span> ? --n.readyWait : n.isReady) || (n.isReady = !<span class="hljs-number">0</span>, a !== !<span class="hljs-number">0</span> &amp;&amp; --n.readyWait &gt; <span class="hljs-number">0</span> || (I.resolveWith(d, [n]), n.fn.triggerHandler &amp;&amp; (n(d).triggerHandler(<span class="hljs-string">"ready"</span>), n(d).off(<span class="hljs-string">"ready"</span>))))
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">J</span>(<span class="hljs-params"></span>) </span>{
        d.removeEventListener(<span class="hljs-string">"DOMContentLoaded"</span>, J), a.removeEventListener(<span class="hljs-string">"load"</span>, J), n.ready()
    }
    n.ready.promise = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">return</span> I || (I = n.Deferred(), <span class="hljs-string">"complete"</span> === d.readyState || <span class="hljs-string">"loading"</span> !== d.readyState &amp;&amp; !d.documentElement.doScroll ? a.setTimeout(n.ready) : (d.addEventListener(<span class="hljs-string">"DOMContentLoaded"</span>, J), a.addEventListener(<span class="hljs-string">"load"</span>, J))), I.promise(b)
    }, n.ready.promise();
    <span class="hljs-keyword">var</span> K = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d, e, f, g</span>) </span>{
            <span class="hljs-keyword">var</span> h = <span class="hljs-number">0</span>,
                i = a.length,
                j = <span class="hljs-literal">null</span> == c;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> === n.type(c)) {
                e = !<span class="hljs-number">0</span>;
                <span class="hljs-keyword">for</span> (h <span class="hljs-keyword">in</span> c) K(a, b, h, c[h], !<span class="hljs-number">0</span>, f, g)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== d &amp;&amp; (e = !<span class="hljs-number">0</span>, n.isFunction(d) || (g = !<span class="hljs-number">0</span>), j &amp;&amp; (g ? (b.call(a, d), b = <span class="hljs-literal">null</span>) : (j = b, b = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                    <span class="hljs-keyword">return</span> j.call(n(a), c)
                })), b))
                <span class="hljs-keyword">for</span> (; i &gt; h; h++) b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
            <span class="hljs-keyword">return</span> e ? a : j ? b.call(a) : i ? b(a[<span class="hljs-number">0</span>], c) : f
        },
        L = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === a.nodeType || <span class="hljs-number">9</span> === a.nodeType || !+a.nodeType
        };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">M</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.expando = n.expando + M.uid++
    }
    M.uid = <span class="hljs-number">1</span>, M.prototype = {
        <span class="hljs-attr">register</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b || {};
            <span class="hljs-keyword">return</span> a.nodeType ? a[<span class="hljs-keyword">this</span>.expando] = c : <span class="hljs-built_in">Object</span>.defineProperty(a, <span class="hljs-keyword">this</span>.expando, {
                <span class="hljs-attr">value</span>: c,
                <span class="hljs-attr">writable</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">configurable</span>: !<span class="hljs-number">0</span>
            }), a[<span class="hljs-keyword">this</span>.expando]
        },
        <span class="hljs-attr">cache</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">if</span> (!L(a)) <span class="hljs-keyword">return</span> {};
            <span class="hljs-keyword">var</span> b = a[<span class="hljs-keyword">this</span>.expando];
            <span class="hljs-keyword">return</span> b || (b = {}, L(a) &amp;&amp; (a.nodeType ? a[<span class="hljs-keyword">this</span>.expando] = b : <span class="hljs-built_in">Object</span>.defineProperty(a, <span class="hljs-keyword">this</span>.expando, {
                <span class="hljs-attr">value</span>: b,
                <span class="hljs-attr">configurable</span>: !<span class="hljs-number">0</span>
            }))), b
        },
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e = <span class="hljs-keyword">this</span>.cache(a);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> b) e[b] = c;
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">for</span> (d <span class="hljs-keyword">in</span> b) e[d] = b[d];
            <span class="hljs-keyword">return</span> e
        },
        <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b ? <span class="hljs-keyword">this</span>.cache(a) : a[<span class="hljs-keyword">this</span>.expando] &amp;&amp; a[<span class="hljs-keyword">this</span>.expando][b]
        },
        <span class="hljs-attr">access</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b || b &amp;&amp; <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === c ? (d = <span class="hljs-keyword">this</span>.get(a, b), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== d ? d : <span class="hljs-keyword">this</span>.get(a, n.camelCase(b))) : (<span class="hljs-keyword">this</span>.set(a, b, c), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c ? c : b)
        },
        <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d, e, f = a[<span class="hljs-keyword">this</span>.expando];
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== f) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b) <span class="hljs-keyword">this</span>.register(a);
                <span class="hljs-keyword">else</span> {
                    n.isArray(b) ? d = b.concat(b.map(n.camelCase)) : (e = n.camelCase(b), b <span class="hljs-keyword">in</span> f ? d = [b, e] : (d = e, d = d <span class="hljs-keyword">in</span> f ? [d] : d.match(G) || [])), c = d.length;
                    <span class="hljs-keyword">while</span> (c--) <span class="hljs-keyword">delete</span> f[d[c]]
                }(<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b || n.isEmptyObject(f)) &amp;&amp; (a.nodeType ? a[<span class="hljs-keyword">this</span>.expando] = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : <span class="hljs-keyword">delete</span> a[<span class="hljs-keyword">this</span>.expando])
            }
        },
        <span class="hljs-attr">hasData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a[<span class="hljs-keyword">this</span>.expando];
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== b &amp;&amp; !n.isEmptyObject(b)
        }
    };
    <span class="hljs-keyword">var</span> N = <span class="hljs-keyword">new</span> M,
        O = <span class="hljs-keyword">new</span> M,
        P = <span class="hljs-regexp">/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/</span>,
        Q = <span class="hljs-regexp">/[A-Z]/g</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">R</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === c &amp;&amp; <span class="hljs-number">1</span> === a.nodeType)
            <span class="hljs-keyword">if</span> (d = <span class="hljs-string">"data-"</span> + b.replace(Q, <span class="hljs-string">"-$&amp;"</span>).toLowerCase(), c = a.getAttribute(d), <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> c) {
                <span class="hljs-keyword">try</span> {
                    c = <span class="hljs-string">"true"</span> === c ? !<span class="hljs-number">0</span> : <span class="hljs-string">"false"</span> === c ? !<span class="hljs-number">1</span> : <span class="hljs-string">"null"</span> === c ? <span class="hljs-literal">null</span> : +c + <span class="hljs-string">""</span> === c ? +c : P.test(c) ? n.parseJSON(c) : c;
                } <span class="hljs-keyword">catch</span> (e) {}
                O.set(a, b, c)
            } <span class="hljs-keyword">else</span> c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> c
    }
    n.extend({
        <span class="hljs-attr">hasData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> O.hasData(a) || N.hasData(a)
        },
        <span class="hljs-attr">data</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> O.access(a, b, c)
        },
        <span class="hljs-attr">removeData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            O.remove(a, b)
        },
        <span class="hljs-attr">_data</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> N.access(a, b, c)
        },
        <span class="hljs-attr">_removeData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            N.remove(a, b)
        }
    }), n.fn.extend({
        <span class="hljs-attr">data</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d, e, f = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>],
                g = f &amp;&amp; f.attributes;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.length &amp;&amp; (e = O.get(f), <span class="hljs-number">1</span> === f.nodeType &amp;&amp; !N.get(f, <span class="hljs-string">"hasDataAttrs"</span>))) {
                    c = g.length;
                    <span class="hljs-keyword">while</span> (c--) g[c] &amp;&amp; (d = g[c].name, <span class="hljs-number">0</span> === d.indexOf(<span class="hljs-string">"data-"</span>) &amp;&amp; (d = n.camelCase(d.slice(<span class="hljs-number">5</span>)), R(f, d, e[d])));
                    N.set(f, <span class="hljs-string">"hasDataAttrs"</span>, !<span class="hljs-number">0</span>)
                }
                <span class="hljs-keyword">return</span> e
            }
            <span class="hljs-keyword">return</span> <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> a ? <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                O.set(<span class="hljs-keyword">this</span>, a)
            }) : K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                <span class="hljs-keyword">var</span> c, d;
                <span class="hljs-keyword">if</span> (f &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b) {
                    <span class="hljs-keyword">if</span> (c = O.get(f, a) || O.get(f, a.replace(Q, <span class="hljs-string">"-$&amp;"</span>).toLowerCase()), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c) <span class="hljs-keyword">return</span> c;
                    <span class="hljs-keyword">if</span> (d = n.camelCase(a), c = O.get(f, d), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c) <span class="hljs-keyword">return</span> c;
                    <span class="hljs-keyword">if</span> (c = R(f, d, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c) <span class="hljs-keyword">return</span> c
                } <span class="hljs-keyword">else</span> d = n.camelCase(a), <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> c = O.get(<span class="hljs-keyword">this</span>, d);
                    O.set(<span class="hljs-keyword">this</span>, d, b), a.indexOf(<span class="hljs-string">"-"</span>) &gt; <span class="hljs-number">-1</span> &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c &amp;&amp; O.set(<span class="hljs-keyword">this</span>, a, b)
                })
            }, <span class="hljs-literal">null</span>, b, <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>, <span class="hljs-literal">null</span>, !<span class="hljs-number">0</span>)
        },
        <span class="hljs-attr">removeData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                O.remove(<span class="hljs-keyword">this</span>, a)
            })
        }
    }), n.extend({
        <span class="hljs-attr">queue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d;
            <span class="hljs-keyword">return</span> a ? (b = (b || <span class="hljs-string">"fx"</span>) + <span class="hljs-string">"queue"</span>, d = N.get(a, b), c &amp;&amp; (!d || n.isArray(c) ? d = N.access(a, b, n.makeArray(c)) : d.push(c)), d || []) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        },
        <span class="hljs-attr">dequeue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            b = b || <span class="hljs-string">"fx"</span>;
            <span class="hljs-keyword">var</span> c = n.queue(a, b),
                d = c.length,
                e = c.shift(),
                f = n._queueHooks(a, b),
                g = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    n.dequeue(a, b)
                };
            <span class="hljs-string">"inprogress"</span> === e &amp;&amp; (e = c.shift(), d--), e &amp;&amp; (<span class="hljs-string">"fx"</span> === b &amp;&amp; c.unshift(<span class="hljs-string">"inprogress"</span>), <span class="hljs-keyword">delete</span> f.stop, e.call(a, g, f)), !d &amp;&amp; f &amp;&amp; f.empty.fire()
        },
        <span class="hljs-attr">_queueHooks</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b + <span class="hljs-string">"queueHooks"</span>;
            <span class="hljs-keyword">return</span> N.get(a, c) || N.access(a, c, {
                <span class="hljs-attr">empty</span>: n.Callbacks(<span class="hljs-string">"once memory"</span>).add(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    N.remove(a, [b + <span class="hljs-string">"queue"</span>, c])
                })
            })
        }
    }), n.fn.extend({
        <span class="hljs-attr">queue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = <span class="hljs-number">2</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a &amp;&amp; (b = a, a = <span class="hljs-string">"fx"</span>, c--), <span class="hljs-built_in">arguments</span>.length &lt; c ? n.queue(<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>], a) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> c = n.queue(<span class="hljs-keyword">this</span>, a, b);
                n._queueHooks(<span class="hljs-keyword">this</span>, a), <span class="hljs-string">"fx"</span> === a &amp;&amp; <span class="hljs-string">"inprogress"</span> !== c[<span class="hljs-number">0</span>] &amp;&amp; n.dequeue(<span class="hljs-keyword">this</span>, a)
            })
        },
        <span class="hljs-attr">dequeue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.dequeue(<span class="hljs-keyword">this</span>, a)
            })
        },
        <span class="hljs-attr">clearQueue</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queue(a || <span class="hljs-string">"fx"</span>, [])
        },
        <span class="hljs-attr">promise</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d = <span class="hljs-number">1</span>,
                e = n.Deferred(),
                f = <span class="hljs-keyword">this</span>,
                g = <span class="hljs-keyword">this</span>.length,
                h = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    --d || e.resolveWith(f, [f])
                };
            <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a &amp;&amp; (b = a, a = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), a = a || <span class="hljs-string">"fx"</span>;
            <span class="hljs-keyword">while</span> (g--) c = N.get(f[g], a + <span class="hljs-string">"queueHooks"</span>), c &amp;&amp; c.empty &amp;&amp; (d++, c.empty.add(h));
            <span class="hljs-keyword">return</span> h(), e.promise(b)
        }
    });
    <span class="hljs-keyword">var</span> S = <span class="hljs-regexp">/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/</span>.source,
        T = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^(?:([+-])=|)("</span> + S + <span class="hljs-string">")([a-z%]*)$"</span>, <span class="hljs-string">"i"</span>),
        U = [<span class="hljs-string">"Top"</span>, <span class="hljs-string">"Right"</span>, <span class="hljs-string">"Bottom"</span>, <span class="hljs-string">"Left"</span>],
        V = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> a = b || a, <span class="hljs-string">"none"</span> === n.css(a, <span class="hljs-string">"display"</span>) || !n.contains(a.ownerDocument, a)
        };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">W</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
        <span class="hljs-keyword">var</span> e, f = <span class="hljs-number">1</span>,
            g = <span class="hljs-number">20</span>,
            h = d ? <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> d.cur()
            } : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> n.css(a, b, <span class="hljs-string">""</span>)
            },
            i = h(),
            j = c &amp;&amp; c[<span class="hljs-number">3</span>] || (n.cssNumber[b] ? <span class="hljs-string">""</span> : <span class="hljs-string">"px"</span>),
            k = (n.cssNumber[b] || <span class="hljs-string">"px"</span> !== j &amp;&amp; +i) &amp;&amp; T.exec(n.css(a, b));
        <span class="hljs-keyword">if</span> (k &amp;&amp; k[<span class="hljs-number">3</span>] !== j) {
            j = j || k[<span class="hljs-number">3</span>], c = c || [], k = +i || <span class="hljs-number">1</span>;
            <span class="hljs-keyword">do</span> f = f || <span class="hljs-string">".5"</span>, k /= f, n.style(a, b, k + j); <span class="hljs-keyword">while</span> (f !== (f = h() / i) &amp;&amp; <span class="hljs-number">1</span> !== f &amp;&amp; --g)
        }
        <span class="hljs-keyword">return</span> c &amp;&amp; (k = +k || +i || <span class="hljs-number">0</span>, e = c[<span class="hljs-number">1</span>] ? k + (c[<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) * c[<span class="hljs-number">2</span>] : +c[<span class="hljs-number">2</span>], d &amp;&amp; (d.unit = j, d.start = k, d.end = e)), e
    }
    <span class="hljs-keyword">var</span> X = <span class="hljs-regexp">/^(?:checkbox|radio)$/i</span>,
        Y = <span class="hljs-regexp">/&lt;([\w:-]+)/</span>,
        Z = <span class="hljs-regexp">/^$|\/(?:java|ecma)script/i</span>,
        $ = {
            <span class="hljs-attr">option</span>: [<span class="hljs-number">1</span>, <span class="hljs-string">"&lt;select multiple='multiple'&gt;"</span>, <span class="hljs-string">"&lt;/select&gt;"</span>],
            <span class="hljs-attr">thead</span>: [<span class="hljs-number">1</span>, <span class="hljs-string">"&lt;table&gt;"</span>, <span class="hljs-string">"&lt;/table&gt;"</span>],
            <span class="hljs-attr">col</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">"&lt;table&gt;&lt;colgroup&gt;"</span>, <span class="hljs-string">"&lt;/colgroup&gt;&lt;/table&gt;"</span>],
            <span class="hljs-attr">tr</span>: [<span class="hljs-number">2</span>, <span class="hljs-string">"&lt;table&gt;&lt;tbody&gt;"</span>, <span class="hljs-string">"&lt;/tbody&gt;&lt;/table&gt;"</span>],
            <span class="hljs-attr">td</span>: [<span class="hljs-number">3</span>, <span class="hljs-string">"&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;"</span>, <span class="hljs-string">"&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;"</span>],
            <span class="hljs-attr">_default</span>: [<span class="hljs-number">0</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>]
        };
    $.optgroup = $.option, $.tbody = $.tfoot = $.colgroup = $.caption = $.thead, $.th = $.td;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> a.getElementsByTagName ? a.getElementsByTagName(b || <span class="hljs-string">"*"</span>) : <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> a.querySelectorAll ? a.querySelectorAll(b || <span class="hljs-string">"*"</span>) : [];
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b || b &amp;&amp; n.nodeName(a, b) ? n.merge([a], c) : c
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">aa</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>, d = a.length; d &gt; c; c++) N.set(a[c], <span class="hljs-string">"globalEval"</span>, !b || N.get(b[c], <span class="hljs-string">"globalEval"</span>))
    }
    <span class="hljs-keyword">var</span> ba = <span class="hljs-regexp">/&lt;|&amp;#?\w+;/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ca</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f, g, h, i, j, k, l = b.createDocumentFragment(), m = [], o = <span class="hljs-number">0</span>, p = a.length; p &gt; o; o++)
            <span class="hljs-keyword">if</span> (f = a[o], f || <span class="hljs-number">0</span> === f)
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> === n.type(f)) n.merge(m, f.nodeType ? [f] : f);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ba.test(f)) {
            g = g || l.appendChild(b.createElement(<span class="hljs-string">"div"</span>)), h = (Y.exec(f) || [<span class="hljs-string">""</span>, <span class="hljs-string">""</span>])[<span class="hljs-number">1</span>].toLowerCase(), i = $[h] || $._default, g.innerHTML = i[<span class="hljs-number">1</span>] + n.htmlPrefilter(f) + i[<span class="hljs-number">2</span>], k = i[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">while</span> (k--) g = g.lastChild;
            n.merge(m, g.childNodes), g = l.firstChild, g.textContent = <span class="hljs-string">""</span>
        } <span class="hljs-keyword">else</span> m.push(b.createTextNode(f));
        l.textContent = <span class="hljs-string">""</span>, o = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (f = m[o++])
            <span class="hljs-keyword">if</span> (d &amp;&amp; n.inArray(f, d) &gt; <span class="hljs-number">-1</span>) e &amp;&amp; e.push(f);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j = n.contains(f.ownerDocument, f), g = _(l.appendChild(f), <span class="hljs-string">"script"</span>), j &amp;&amp; aa(g), c) {
            k = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">while</span> (f = g[k++]) Z.test(f.type || <span class="hljs-string">""</span>) &amp;&amp; c.push(f)
        }
        <span class="hljs-keyword">return</span> l
    }! <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> a = d.createDocumentFragment(),
            b = a.appendChild(d.createElement(<span class="hljs-string">"div"</span>)),
            c = d.createElement(<span class="hljs-string">"input"</span>);
        c.setAttribute(<span class="hljs-string">"type"</span>, <span class="hljs-string">"radio"</span>), c.setAttribute(<span class="hljs-string">"checked"</span>, <span class="hljs-string">"checked"</span>), c.setAttribute(<span class="hljs-string">"name"</span>, <span class="hljs-string">"t"</span>), b.appendChild(c), l.checkClone = b.cloneNode(!<span class="hljs-number">0</span>).cloneNode(!<span class="hljs-number">0</span>).lastChild.checked, b.innerHTML = <span class="hljs-string">"&lt;textarea&gt;x&lt;/textarea&gt;"</span>, l.noCloneChecked = !!b.cloneNode(!<span class="hljs-number">0</span>).lastChild.defaultValue
    }();
    <span class="hljs-keyword">var</span> da = <span class="hljs-regexp">/^key/</span>,
        ea = <span class="hljs-regexp">/^(?:mouse|pointer|contextmenu|drag|drop)|click/</span>,
        fa = <span class="hljs-regexp">/^([^.]*)(?:\.(.+)|)/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ga</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ha</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ia</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> d.activeElement
        } <span class="hljs-keyword">catch</span> (a) {}
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ja</span>(<span class="hljs-params">a, b, c, d, e, f</span>) </span>{
        <span class="hljs-keyword">var</span> g, h;
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> b) {
            <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> c &amp;&amp; (d = d || c, c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>);
            <span class="hljs-keyword">for</span> (h <span class="hljs-keyword">in</span> b) ja(a, h, c, d, b[h], f);
            <span class="hljs-keyword">return</span> a
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> == d &amp;&amp; <span class="hljs-literal">null</span> == e ? (e = c, d = c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) : <span class="hljs-literal">null</span> == e &amp;&amp; (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> c ? (e = d, d = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) : (e = d, d = c, c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)), e === !<span class="hljs-number">1</span>) e = ha;
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!e) <span class="hljs-keyword">return</span> a;
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === f &amp;&amp; (g = e, e = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> n().off(a), g.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
        }, e.guid = g.guid || (g.guid = n.guid++)), a.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            n.event.add(<span class="hljs-keyword">this</span>, b, e, d, c)
        })
    }
    n.event = {
        <span class="hljs-attr">global</span>: {},
        <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
            <span class="hljs-keyword">var</span> f, g, h, i, j, k, l, m, o, p, q, r = N.get(a);
            <span class="hljs-keyword">if</span> (r) {
                c.handler &amp;&amp; (f = c, c = f.handler, e = f.selector), c.guid || (c.guid = n.guid++), (i = r.events) || (i = r.events = {}), (g = r.handle) || (g = r.handle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"undefined"</span> != <span class="hljs-keyword">typeof</span> n &amp;&amp; n.event.triggered !== b.type ? n.event.dispatch.apply(a, <span class="hljs-built_in">arguments</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
                }), b = (b || <span class="hljs-string">""</span>).match(G) || [<span class="hljs-string">""</span>], j = b.length;
                <span class="hljs-keyword">while</span> (j--) h = fa.exec(b[j]) || [], o = q = h[<span class="hljs-number">1</span>], p = (h[<span class="hljs-number">2</span>] || <span class="hljs-string">""</span>).split(<span class="hljs-string">"."</span>).sort(), o &amp;&amp; (l = n.event.special[o] || {}, o = (e ? l.delegateType : l.bindType) || o, l = n.event.special[o] || {}, k = n.extend({
                    <span class="hljs-attr">type</span>: o,
                    <span class="hljs-attr">origType</span>: q,
                    <span class="hljs-attr">data</span>: d,
                    <span class="hljs-attr">handler</span>: c,
                    <span class="hljs-attr">guid</span>: c.guid,
                    <span class="hljs-attr">selector</span>: e,
                    <span class="hljs-attr">needsContext</span>: e &amp;&amp; n.expr.match.needsContext.test(e),
                    <span class="hljs-attr">namespace</span>: p.join(<span class="hljs-string">"."</span>)
                }, f), (m = i[o]) || (m = i[o] = [], m.delegateCount = <span class="hljs-number">0</span>, l.setup &amp;&amp; l.setup.call(a, d, p, g) !== !<span class="hljs-number">1</span> || a.addEventListener &amp;&amp; a.addEventListener(o, g)), l.add &amp;&amp; (l.add.call(a, k), k.handler.guid || (k.handler.guid = c.guid)), e ? m.splice(m.delegateCount++, <span class="hljs-number">0</span>, k) : m.push(k), n.event.global[o] = !<span class="hljs-number">0</span>)
            }
        },
        <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
            <span class="hljs-keyword">var</span> f, g, h, i, j, k, l, m, o, p, q, r = N.hasData(a) &amp;&amp; N.get(a);
            <span class="hljs-keyword">if</span> (r &amp;&amp; (i = r.events)) {
                b = (b || <span class="hljs-string">""</span>).match(G) || [<span class="hljs-string">""</span>], j = b.length;
                <span class="hljs-keyword">while</span> (j--)
                    <span class="hljs-keyword">if</span> (h = fa.exec(b[j]) || [], o = q = h[<span class="hljs-number">1</span>], p = (h[<span class="hljs-number">2</span>] || <span class="hljs-string">""</span>).split(<span class="hljs-string">"."</span>).sort(), o) {
                        l = n.event.special[o] || {}, o = (d ? l.delegateType : l.bindType) || o, m = i[o] || [], h = h[<span class="hljs-number">2</span>] &amp;&amp; <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|\\.)"</span> + p.join(<span class="hljs-string">"\\.(?:.*\\.|)"</span>) + <span class="hljs-string">"(\\.|$)"</span>), g = f = m.length;
                        <span class="hljs-keyword">while</span> (f--) k = m[f], !e &amp;&amp; q !== k.origType || c &amp;&amp; c.guid !== k.guid || h &amp;&amp; !h.test(k.namespace) || d &amp;&amp; d !== k.selector &amp;&amp; (<span class="hljs-string">"**"</span> !== d || !k.selector) || (m.splice(f, <span class="hljs-number">1</span>), k.selector &amp;&amp; m.delegateCount--, l.remove &amp;&amp; l.remove.call(a, k));
                        g &amp;&amp; !m.length &amp;&amp; (l.teardown &amp;&amp; l.teardown.call(a, p, r.handle) !== !<span class="hljs-number">1</span> || n.removeEvent(a, o, r.handle), <span class="hljs-keyword">delete</span> i[o])
                    } <span class="hljs-keyword">else</span>
                        <span class="hljs-keyword">for</span> (o <span class="hljs-keyword">in</span> i) n.event.remove(a, o + b[j], c, d, !<span class="hljs-number">0</span>);
                n.isEmptyObject(i) &amp;&amp; N.remove(a, <span class="hljs-string">"handle events"</span>)
            }
        },
        <span class="hljs-attr">dispatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            a = n.event.fix(a);
            <span class="hljs-keyword">var</span> b, c, d, f, g, h = [],
                i = e.call(<span class="hljs-built_in">arguments</span>),
                j = (N.get(<span class="hljs-keyword">this</span>, <span class="hljs-string">"events"</span>) || {})[a.type] || [],
                k = n.event.special[a.type] || {};
            <span class="hljs-keyword">if</span> (i[<span class="hljs-number">0</span>] = a, a.delegateTarget = <span class="hljs-keyword">this</span>, !k.preDispatch || k.preDispatch.call(<span class="hljs-keyword">this</span>, a) !== !<span class="hljs-number">1</span>) {
                h = n.event.handlers.call(<span class="hljs-keyword">this</span>, a, j), b = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> ((f = h[b++]) &amp;&amp; !a.isPropagationStopped()) {
                    a.currentTarget = f.elem, c = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">while</span> ((g = f.handlers[c++]) &amp;&amp; !a.isImmediatePropagationStopped()) a.rnamespace &amp;&amp; !a.rnamespace.test(g.namespace) || (a.handleObj = g, a.data = g.data, d = ((n.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== d &amp;&amp; (a.result = d) === !<span class="hljs-number">1</span> &amp;&amp; (a.preventDefault(), a.stopPropagation()))
                }
                <span class="hljs-keyword">return</span> k.postDispatch &amp;&amp; k.postDispatch.call(<span class="hljs-keyword">this</span>, a), a.result
            }
        },
        <span class="hljs-attr">handlers</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d, e, f, g = [],
                h = b.delegateCount,
                i = a.target;
            <span class="hljs-keyword">if</span> (h &amp;&amp; i.nodeType &amp;&amp; (<span class="hljs-string">"click"</span> !== a.type || <span class="hljs-built_in">isNaN</span>(a.button) || a.button &lt; <span class="hljs-number">1</span>))
                <span class="hljs-keyword">for</span> (; i !== <span class="hljs-keyword">this</span>; i = i.parentNode || <span class="hljs-keyword">this</span>)
                    <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === i.nodeType &amp;&amp; (i.disabled !== !<span class="hljs-number">0</span> || <span class="hljs-string">"click"</span> !== a.type)) {
                        <span class="hljs-keyword">for</span> (d = [], c = <span class="hljs-number">0</span>; h &gt; c; c++) f = b[c], e = f.selector + <span class="hljs-string">" "</span>, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === d[e] &amp;&amp; (d[e] = f.needsContext ? n(e, <span class="hljs-keyword">this</span>).index(i) &gt; <span class="hljs-number">-1</span> : n.find(e, <span class="hljs-keyword">this</span>, <span class="hljs-literal">null</span>, [i]).length), d[e] &amp;&amp; d.push(f);
                        d.length &amp;&amp; g.push({
                            <span class="hljs-attr">elem</span>: i,
                            <span class="hljs-attr">handlers</span>: d
                        })
                    }
            <span class="hljs-keyword">return</span> h &lt; b.length &amp;&amp; g.push({
                <span class="hljs-attr">elem</span>: <span class="hljs-keyword">this</span>,
                <span class="hljs-attr">handlers</span>: b.slice(h)
            }), g
        },
        <span class="hljs-attr">props</span>: <span class="hljs-string">"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which"</span>.split(<span class="hljs-string">" "</span>),
        <span class="hljs-attr">fixHooks</span>: {},
        <span class="hljs-attr">keyHooks</span>: {
            <span class="hljs-attr">props</span>: <span class="hljs-string">"char charCode key keyCode"</span>.split(<span class="hljs-string">" "</span>),
            <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a.which &amp;&amp; (a.which = <span class="hljs-literal">null</span> != b.charCode ? b.charCode : b.keyCode), a
            }
        },
        <span class="hljs-attr">mouseHooks</span>: {
            <span class="hljs-attr">props</span>: <span class="hljs-string">"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement"</span>.split(<span class="hljs-string">" "</span>),
            <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">var</span> c, e, f, g = b.button;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a.pageX &amp;&amp; <span class="hljs-literal">null</span> != b.clientX &amp;&amp; (c = a.target.ownerDocument || d, e = c.documentElement, f = c.body, a.pageX = b.clientX + (e &amp;&amp; e.scrollLeft || f &amp;&amp; f.scrollLeft || <span class="hljs-number">0</span>) - (e &amp;&amp; e.clientLeft || f &amp;&amp; f.clientLeft || <span class="hljs-number">0</span>), a.pageY = b.clientY + (e &amp;&amp; e.scrollTop || f &amp;&amp; f.scrollTop || <span class="hljs-number">0</span>) - (e &amp;&amp; e.clientTop || f &amp;&amp; f.clientTop || <span class="hljs-number">0</span>)), a.which || <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === g || (a.which = <span class="hljs-number">1</span> &amp; g ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span> &amp; g ? <span class="hljs-number">3</span> : <span class="hljs-number">4</span> &amp; g ? <span class="hljs-number">2</span> : <span class="hljs-number">0</span>), a
            }
        },
        <span class="hljs-attr">fix</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">if</span> (a[n.expando]) <span class="hljs-keyword">return</span> a;
            <span class="hljs-keyword">var</span> b, c, e, f = a.type,
                g = a,
                h = <span class="hljs-keyword">this</span>.fixHooks[f];
            h || (<span class="hljs-keyword">this</span>.fixHooks[f] = h = ea.test(f) ? <span class="hljs-keyword">this</span>.mouseHooks : da.test(f) ? <span class="hljs-keyword">this</span>.keyHooks : {}), e = h.props ? <span class="hljs-keyword">this</span>.props.concat(h.props) : <span class="hljs-keyword">this</span>.props, a = <span class="hljs-keyword">new</span> n.Event(g), b = e.length;
            <span class="hljs-keyword">while</span> (b--) c = e[b], a[c] = g[c];
            <span class="hljs-keyword">return</span> a.target || (a.target = d), <span class="hljs-number">3</span> === a.target.nodeType &amp;&amp; (a.target = a.target.parentNode), h.filter ? h.filter(a, g) : a
        },
        <span class="hljs-attr">special</span>: {
            <span class="hljs-attr">load</span>: {
                <span class="hljs-attr">noBubble</span>: !<span class="hljs-number">0</span>
            },
            <span class="hljs-attr">focus</span>: {
                <span class="hljs-attr">trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> !== ia() &amp;&amp; <span class="hljs-keyword">this</span>.focus ? (<span class="hljs-keyword">this</span>.focus(), !<span class="hljs-number">1</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">delegateType</span>: <span class="hljs-string">"focusin"</span>
            },
            <span class="hljs-attr">blur</span>: {
                <span class="hljs-attr">trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> === ia() &amp;&amp; <span class="hljs-keyword">this</span>.blur ? (<span class="hljs-keyword">this</span>.blur(), !<span class="hljs-number">1</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">delegateType</span>: <span class="hljs-string">"focusout"</span>
            },
            <span class="hljs-attr">click</span>: {
                <span class="hljs-attr">trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"checkbox"</span> === <span class="hljs-keyword">this</span>.type &amp;&amp; <span class="hljs-keyword">this</span>.click &amp;&amp; n.nodeName(<span class="hljs-keyword">this</span>, <span class="hljs-string">"input"</span>) ? (<span class="hljs-keyword">this</span>.click(), !<span class="hljs-number">1</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">_default</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> n.nodeName(a.target, <span class="hljs-string">"a"</span>)
                }
            },
            <span class="hljs-attr">beforeunload</span>: {
                <span class="hljs-attr">postDispatch</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== a.result &amp;&amp; a.originalEvent &amp;&amp; (a.originalEvent.returnValue = a.result)
                }
            }
        }
    }, n.removeEvent = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
        a.removeEventListener &amp;&amp; a.removeEventListener(b, c)
    }, n.Event = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> n.Event ? (a &amp;&amp; a.type ? (<span class="hljs-keyword">this</span>.originalEvent = a, <span class="hljs-keyword">this</span>.type = a.type, <span class="hljs-keyword">this</span>.isDefaultPrevented = a.defaultPrevented || <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a.defaultPrevented &amp;&amp; a.returnValue === !<span class="hljs-number">1</span> ? ga : ha) : <span class="hljs-keyword">this</span>.type = a, b &amp;&amp; n.extend(<span class="hljs-keyword">this</span>, b), <span class="hljs-keyword">this</span>.timeStamp = a &amp;&amp; a.timeStamp || n.now(), <span class="hljs-keyword">void</span>(<span class="hljs-keyword">this</span>[n.expando] = !<span class="hljs-number">0</span>)) : <span class="hljs-keyword">new</span> n.Event(a, b)
    }, n.Event.prototype = {
        <span class="hljs-attr">constructor</span>: n.Event,
        <span class="hljs-attr">isDefaultPrevented</span>: ha,
        <span class="hljs-attr">isPropagationStopped</span>: ha,
        <span class="hljs-attr">isImmediatePropagationStopped</span>: ha,
        <span class="hljs-attr">preventDefault</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.originalEvent;
            <span class="hljs-keyword">this</span>.isDefaultPrevented = ga, a &amp;&amp; a.preventDefault()
        },
        <span class="hljs-attr">stopPropagation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.originalEvent;
            <span class="hljs-keyword">this</span>.isPropagationStopped = ga, a &amp;&amp; a.stopPropagation()
        },
        <span class="hljs-attr">stopImmediatePropagation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.originalEvent;
            <span class="hljs-keyword">this</span>.isImmediatePropagationStopped = ga, a &amp;&amp; a.stopImmediatePropagation(), <span class="hljs-keyword">this</span>.stopPropagation()
        }
    }, n.each({
        <span class="hljs-attr">mouseenter</span>: <span class="hljs-string">"mouseover"</span>,
        <span class="hljs-attr">mouseleave</span>: <span class="hljs-string">"mouseout"</span>,
        <span class="hljs-attr">pointerenter</span>: <span class="hljs-string">"pointerover"</span>,
        <span class="hljs-attr">pointerleave</span>: <span class="hljs-string">"pointerout"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.event.special[a] = {
            <span class="hljs-attr">delegateType</span>: b,
            <span class="hljs-attr">bindType</span>: b,
            <span class="hljs-attr">handle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> c, d = <span class="hljs-keyword">this</span>,
                    e = a.relatedTarget,
                    f = a.handleObj;
                <span class="hljs-keyword">return</span> e &amp;&amp; (e === d || n.contains(d, e)) || (a.type = f.origType, c = f.handler.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>), a.type = b), c
            }
        }
    }), n.fn.extend({
        <span class="hljs-attr">on</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">return</span> ja(<span class="hljs-keyword">this</span>, a, b, c, d)
        },
        <span class="hljs-attr">one</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">return</span> ja(<span class="hljs-keyword">this</span>, a, b, c, d, <span class="hljs-number">1</span>)
        },
        <span class="hljs-attr">off</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e;
            <span class="hljs-keyword">if</span> (a &amp;&amp; a.preventDefault &amp;&amp; a.handleObj) <span class="hljs-keyword">return</span> d = a.handleObj, n(a.delegateTarget).off(d.namespace ? d.origType + <span class="hljs-string">"."</span> + d.namespace : d.origType, d.selector, d.handler), <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> a) {
                <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> a) <span class="hljs-keyword">this</span>.off(e, b, a[e]);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
            }
            <span class="hljs-keyword">return</span> b !== !<span class="hljs-number">1</span> &amp;&amp; <span class="hljs-string">"function"</span> != <span class="hljs-keyword">typeof</span> b || (c = b, b = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), c === !<span class="hljs-number">1</span> &amp;&amp; (c = ha), <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.event.remove(<span class="hljs-keyword">this</span>, a, c, b)
            })
        }
    });
    <span class="hljs-keyword">var</span> ka = <span class="hljs-regexp">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^&gt;]*)\/&gt;/gi</span>,
        la = <span class="hljs-regexp">/&lt;script|&lt;style|&lt;link/i</span>,
        ma = <span class="hljs-regexp">/checked\s*(?:[^=]|=\s*.checked.)/i</span>,
        na = <span class="hljs-regexp">/^true\/(.*)/</span>,
        oa = <span class="hljs-regexp">/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pa</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> n.nodeName(a, <span class="hljs-string">"table"</span>) &amp;&amp; n.nodeName(<span class="hljs-number">11</span> !== b.nodeType ? b : b.firstChild, <span class="hljs-string">"tr"</span>) ? a.getElementsByTagName(<span class="hljs-string">"tbody"</span>)[<span class="hljs-number">0</span>] || a.appendChild(a.ownerDocument.createElement(<span class="hljs-string">"tbody"</span>)) : a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">qa</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> a.type = (<span class="hljs-literal">null</span> !== a.getAttribute(<span class="hljs-string">"type"</span>)) + <span class="hljs-string">"/"</span> + a.type, a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ra</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> b = na.exec(a.type);
        <span class="hljs-keyword">return</span> b ? a.type = b[<span class="hljs-number">1</span>] : a.removeAttribute(<span class="hljs-string">"type"</span>), a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sa</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d, e, f, g, h, i, j;
        <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === b.nodeType) {
            <span class="hljs-keyword">if</span> (N.hasData(a) &amp;&amp; (f = N.access(a), g = N.set(b, f), j = f.events)) {
                <span class="hljs-keyword">delete</span> g.handle, g.events = {};
                <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> j)
                    <span class="hljs-keyword">for</span> (c = <span class="hljs-number">0</span>, d = j[e].length; d &gt; c; c++) n.event.add(b, e, j[e][c])
            }
            O.hasData(a) &amp;&amp; (h = O.access(a), i = n.extend({}, h), O.set(b, i))
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ta</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = b.nodeName.toLowerCase();
        <span class="hljs-string">"input"</span> === c &amp;&amp; X.test(a.type) ? b.checked = a.checked : <span class="hljs-string">"input"</span> !== c &amp;&amp; <span class="hljs-string">"textarea"</span> !== c || (b.defaultValue = a.defaultValue)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ua</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
        b = f.apply([], b);
        <span class="hljs-keyword">var</span> e, g, h, i, j, k, m = <span class="hljs-number">0</span>,
            o = a.length,
            p = o - <span class="hljs-number">1</span>,
            q = b[<span class="hljs-number">0</span>],
            r = n.isFunction(q);
        <span class="hljs-keyword">if</span> (r || o &gt; <span class="hljs-number">1</span> &amp;&amp; <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> q &amp;&amp; !l.checkClone &amp;&amp; ma.test(q)) <span class="hljs-keyword">return</span> a.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">var</span> f = a.eq(e);
            r &amp;&amp; (b[<span class="hljs-number">0</span>] = q.call(<span class="hljs-keyword">this</span>, e, f.html())), ua(f, b, c, d)
        });
        <span class="hljs-keyword">if</span> (o &amp;&amp; (e = ca(b, a[<span class="hljs-number">0</span>].ownerDocument, !<span class="hljs-number">1</span>, a, d), g = e.firstChild, <span class="hljs-number">1</span> === e.childNodes.length &amp;&amp; (e = g), g || d)) {
            <span class="hljs-keyword">for</span> (h = n.map(_(e, <span class="hljs-string">"script"</span>), qa), i = h.length; o &gt; m; m++) j = e, m !== p &amp;&amp; (j = n.clone(j, !<span class="hljs-number">0</span>, !<span class="hljs-number">0</span>), i &amp;&amp; n.merge(h, _(j, <span class="hljs-string">"script"</span>))), c.call(a[m], j, m);
            <span class="hljs-keyword">if</span> (i)
                <span class="hljs-keyword">for</span> (k = h[h.length - <span class="hljs-number">1</span>].ownerDocument, n.map(h, ra), m = <span class="hljs-number">0</span>; i &gt; m; m++) j = h[m], Z.test(j.type || <span class="hljs-string">""</span>) &amp;&amp; !N.access(j, <span class="hljs-string">"globalEval"</span>) &amp;&amp; n.contains(k, j) &amp;&amp; (j.src ? n._evalUrl &amp;&amp; n._evalUrl(j.src) : n.globalEval(j.textContent.replace(oa, <span class="hljs-string">""</span>)))
        }
        <span class="hljs-keyword">return</span> a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">va</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d, e = b ? n.filter(b, a) : a, f = <span class="hljs-number">0</span>; <span class="hljs-literal">null</span> != (d = e[f]); f++) c || <span class="hljs-number">1</span> !== d.nodeType || n.cleanData(_(d)), d.parentNode &amp;&amp; (c &amp;&amp; n.contains(d.ownerDocument, d) &amp;&amp; aa(_(d, <span class="hljs-string">"script"</span>)), d.parentNode.removeChild(d));
        <span class="hljs-keyword">return</span> a
    }
    n.extend({
        <span class="hljs-attr">htmlPrefilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a.replace(ka, <span class="hljs-string">"&lt;$1&gt;&lt;/$2&gt;"</span>)
        },
        <span class="hljs-attr">clone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e, f, g, h = a.cloneNode(!<span class="hljs-number">0</span>),
                i = n.contains(a.ownerDocument, a);
            <span class="hljs-keyword">if</span> (!(l.noCloneChecked || <span class="hljs-number">1</span> !== a.nodeType &amp;&amp; <span class="hljs-number">11</span> !== a.nodeType || n.isXMLDoc(a)))
                <span class="hljs-keyword">for</span> (g = _(h), f = _(a), d = <span class="hljs-number">0</span>, e = f.length; e &gt; d; d++) ta(f[d], g[d]);
            <span class="hljs-keyword">if</span> (b)
                <span class="hljs-keyword">if</span> (c)
                    <span class="hljs-keyword">for</span> (f = f || _(a), g = g || _(h), d = <span class="hljs-number">0</span>, e = f.length; e &gt; d; d++) sa(f[d], g[d]);
                <span class="hljs-keyword">else</span> sa(a, h);
            <span class="hljs-keyword">return</span> g = _(h, <span class="hljs-string">"script"</span>), g.length &gt; <span class="hljs-number">0</span> &amp;&amp; aa(g, !i &amp;&amp; _(a, <span class="hljs-string">"script"</span>)), h
        },
        <span class="hljs-attr">cleanData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b, c, d, e = n.event.special, f = <span class="hljs-number">0</span>; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== (c = a[f]); f++)
                <span class="hljs-keyword">if</span> (L(c)) {
                    <span class="hljs-keyword">if</span> (b = c[N.expando]) {
                        <span class="hljs-keyword">if</span> (b.events)
                            <span class="hljs-keyword">for</span> (d <span class="hljs-keyword">in</span> b.events) e[d] ? n.event.remove(c, d) : n.removeEvent(c, d, b.handle);
                        c[N.expando] = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
                    }
                    c[O.expando] &amp;&amp; (c[O.expando] = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)
                }
        }
    }), n.fn.extend({
        <span class="hljs-attr">domManip</span>: ua,
        <span class="hljs-attr">detach</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> va(<span class="hljs-keyword">this</span>, a, !<span class="hljs-number">0</span>)
        },
        <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> va(<span class="hljs-keyword">this</span>, a)
        },
        <span class="hljs-attr">text</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a ? n.text(<span class="hljs-keyword">this</span>) : <span class="hljs-keyword">this</span>.empty().each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-number">1</span> !== <span class="hljs-keyword">this</span>.nodeType &amp;&amp; <span class="hljs-number">11</span> !== <span class="hljs-keyword">this</span>.nodeType &amp;&amp; <span class="hljs-number">9</span> !== <span class="hljs-keyword">this</span>.nodeType || (<span class="hljs-keyword">this</span>.textContent = a)
                })
            }, <span class="hljs-literal">null</span>, a, <span class="hljs-built_in">arguments</span>.length)
        },
        <span class="hljs-attr">append</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> ua(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === <span class="hljs-keyword">this</span>.nodeType || <span class="hljs-number">11</span> === <span class="hljs-keyword">this</span>.nodeType || <span class="hljs-number">9</span> === <span class="hljs-keyword">this</span>.nodeType) {
                    <span class="hljs-keyword">var</span> b = pa(<span class="hljs-keyword">this</span>, a);
                    b.appendChild(a)
                }
            })
        },
        <span class="hljs-attr">prepend</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> ua(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === <span class="hljs-keyword">this</span>.nodeType || <span class="hljs-number">11</span> === <span class="hljs-keyword">this</span>.nodeType || <span class="hljs-number">9</span> === <span class="hljs-keyword">this</span>.nodeType) {
                    <span class="hljs-keyword">var</span> b = pa(<span class="hljs-keyword">this</span>, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        <span class="hljs-attr">before</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> ua(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">this</span>.parentNode &amp;&amp; <span class="hljs-keyword">this</span>.parentNode.insertBefore(a, <span class="hljs-keyword">this</span>)
            })
        },
        <span class="hljs-attr">after</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> ua(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">this</span>.parentNode &amp;&amp; <span class="hljs-keyword">this</span>.parentNode.insertBefore(a, <span class="hljs-keyword">this</span>.nextSibling)
            })
        },
        <span class="hljs-attr">empty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a, b = <span class="hljs-number">0</span>; <span class="hljs-literal">null</span> != (a = <span class="hljs-keyword">this</span>[b]); b++) <span class="hljs-number">1</span> === a.nodeType &amp;&amp; (n.cleanData(_(a, !<span class="hljs-number">1</span>)), a.textContent = <span class="hljs-string">""</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        },
        <span class="hljs-attr">clone</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> a = <span class="hljs-literal">null</span> == a ? !<span class="hljs-number">1</span> : a, b = <span class="hljs-literal">null</span> == b ? a : b, <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> n.clone(<span class="hljs-keyword">this</span>, a, b)
            })
        },
        <span class="hljs-attr">html</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> b = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] || {},
                    c = <span class="hljs-number">0</span>,
                    d = <span class="hljs-keyword">this</span>.length;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a &amp;&amp; <span class="hljs-number">1</span> === b.nodeType) <span class="hljs-keyword">return</span> b.innerHTML;
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a &amp;&amp; !la.test(a) &amp;&amp; !$[(Y.exec(a) || [<span class="hljs-string">""</span>, <span class="hljs-string">""</span>])[<span class="hljs-number">1</span>].toLowerCase()]) {
                    a = n.htmlPrefilter(a);
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">for</span> (; d &gt; c; c++) b = <span class="hljs-keyword">this</span>[c] || {}, <span class="hljs-number">1</span> === b.nodeType &amp;&amp; (n.cleanData(_(b, !<span class="hljs-number">1</span>)), b.innerHTML = a);
                        b = <span class="hljs-number">0</span>
                    } <span class="hljs-keyword">catch</span> (e) {}
                }
                b &amp;&amp; <span class="hljs-keyword">this</span>.empty().append(a)
            }, <span class="hljs-literal">null</span>, a, <span class="hljs-built_in">arguments</span>.length)
        },
        <span class="hljs-attr">replaceWith</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = [];
            <span class="hljs-keyword">return</span> ua(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>.parentNode;
                n.inArray(<span class="hljs-keyword">this</span>, a) &lt; <span class="hljs-number">0</span> &amp;&amp; (n.cleanData(_(<span class="hljs-keyword">this</span>)), c &amp;&amp; c.replaceChild(b, <span class="hljs-keyword">this</span>))
            }, a)
        }
    }), n.each({
        <span class="hljs-attr">appendTo</span>: <span class="hljs-string">"append"</span>,
        <span class="hljs-attr">prependTo</span>: <span class="hljs-string">"prepend"</span>,
        <span class="hljs-attr">insertBefore</span>: <span class="hljs-string">"before"</span>,
        <span class="hljs-attr">insertAfter</span>: <span class="hljs-string">"after"</span>,
        <span class="hljs-attr">replaceAll</span>: <span class="hljs-string">"replaceWith"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.fn[a] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c, d = [], e = n(a), f = e.length - <span class="hljs-number">1</span>, h = <span class="hljs-number">0</span>; f &gt;= h; h++) c = h === f ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.clone(!<span class="hljs-number">0</span>), n(e[h])[b](c), g.apply(d, c.get());
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.pushStack(d)
        }
    });
    <span class="hljs-keyword">var</span> wa, xa = {
        <span class="hljs-attr">HTML</span>: <span class="hljs-string">"block"</span>,
        <span class="hljs-attr">BODY</span>: <span class="hljs-string">"block"</span>
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ya</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = n(b.createElement(a)).appendTo(b.body),
            d = n.css(c[<span class="hljs-number">0</span>], <span class="hljs-string">"display"</span>);
        <span class="hljs-keyword">return</span> c.detach(), d
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">za</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">var</span> b = d,
            c = xa[a];
        <span class="hljs-keyword">return</span> c || (c = ya(a, b), <span class="hljs-string">"none"</span> !== c &amp;&amp; c || (wa = (wa || n(<span class="hljs-string">"&lt;iframe frameborder='0' width='0' height='0'/&gt;"</span>)).appendTo(b.documentElement), b = wa[<span class="hljs-number">0</span>].contentDocument, b.write(), b.close(), c = ya(a, b), wa.detach()), xa[a] = c), c
    }
    <span class="hljs-keyword">var</span> Aa = <span class="hljs-regexp">/^margin/</span>,
        Ba = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^("</span> + S + <span class="hljs-string">")(?!px)[a-z%]+$"</span>, <span class="hljs-string">"i"</span>),
        Ca = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
            <span class="hljs-keyword">var</span> c = b.ownerDocument.defaultView;
            <span class="hljs-keyword">return</span> c &amp;&amp; c.opener || (c = a), c.getComputedStyle(b)
        },
        Da = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">var</span> e, f, g = {};
            <span class="hljs-keyword">for</span> (f <span class="hljs-keyword">in</span> b) g[f] = a.style[f], a.style[f] = b[f];
            e = c.apply(a, d || []);
            <span class="hljs-keyword">for</span> (f <span class="hljs-keyword">in</span> b) a.style[f] = g[f];
            <span class="hljs-keyword">return</span> e
        },
        Ea = d.documentElement;
    ! <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> b, c, e, f, g = d.createElement(<span class="hljs-string">"div"</span>),
            h = d.createElement(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">if</span> (h.style) {
            h.style.backgroundClip = <span class="hljs-string">"content-box"</span>, h.cloneNode(!<span class="hljs-number">0</span>).style.backgroundClip = <span class="hljs-string">""</span>, l.clearCloneStyle = <span class="hljs-string">"content-box"</span> === h.style.backgroundClip, g.style.cssText = <span class="hljs-string">"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute"</span>, g.appendChild(h);

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>) </span>{
                h.style.cssText = <span class="hljs-string">"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%"</span>, h.innerHTML = <span class="hljs-string">""</span>, Ea.appendChild(g);
                <span class="hljs-keyword">var</span> d = a.getComputedStyle(h);
                b = <span class="hljs-string">"1%"</span> !== d.top, f = <span class="hljs-string">"2px"</span> === d.marginLeft, c = <span class="hljs-string">"4px"</span> === d.width, h.style.marginRight = <span class="hljs-string">"50%"</span>, e = <span class="hljs-string">"4px"</span> === d.marginRight, Ea.removeChild(g)
            }
            n.extend(l, {
                <span class="hljs-attr">pixelPosition</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> i(), b
                },
                <span class="hljs-attr">boxSizingReliable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == c &amp;&amp; i(), c
                },
                <span class="hljs-attr">pixelMarginRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == c &amp;&amp; i(), e
                },
                <span class="hljs-attr">reliableMarginLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == c &amp;&amp; i(), f
                },
                <span class="hljs-attr">reliableMarginRight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> b, c = h.appendChild(d.createElement(<span class="hljs-string">"div"</span>));
                    <span class="hljs-keyword">return</span> c.style.cssText = h.style.cssText = <span class="hljs-string">"-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0"</span>, c.style.marginRight = c.style.width = <span class="hljs-string">"0"</span>, h.style.width = <span class="hljs-string">"1px"</span>, Ea.appendChild(g), b = !<span class="hljs-built_in">parseFloat</span>(a.getComputedStyle(c).marginRight), Ea.removeChild(g), h.removeChild(c), b
                }
            })
        }
    }();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Fa</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d, e, f, g, h = a.style;
        <span class="hljs-keyword">return</span> c = c || Ca(a), g = c ? c.getPropertyValue(b) || c[b] : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, <span class="hljs-string">""</span> !== g &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== g || n.contains(a.ownerDocument, a) || (g = n.style(a, b)), c &amp;&amp; !l.pixelMarginRight() &amp;&amp; Ba.test(g) &amp;&amp; Aa.test(b) &amp;&amp; (d = h.width, e = h.minWidth, f = h.maxWidth, h.minWidth = h.maxWidth = h.width = g, g = c.width, h.width = d, h.minWidth = e, h.maxWidth = f), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== g ? g + <span class="hljs-string">""</span> : g
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ga</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> a() ? <span class="hljs-keyword">void</span> <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.get : (<span class="hljs-keyword">this</span>.get = b).apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>)
            }
        }
    }
    <span class="hljs-keyword">var</span> Ha = <span class="hljs-regexp">/^(none|table(?!-c[ea]).+)/</span>,
        Ia = {
            <span class="hljs-attr">position</span>: <span class="hljs-string">"absolute"</span>,
            <span class="hljs-attr">visibility</span>: <span class="hljs-string">"hidden"</span>,
            <span class="hljs-attr">display</span>: <span class="hljs-string">"block"</span>
        },
        Ja = {
            <span class="hljs-attr">letterSpacing</span>: <span class="hljs-string">"0"</span>,
            <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"400"</span>
        },
        Ka = [<span class="hljs-string">"Webkit"</span>, <span class="hljs-string">"O"</span>, <span class="hljs-string">"Moz"</span>, <span class="hljs-string">"ms"</span>],
        La = d.createElement(<span class="hljs-string">"div"</span>).style;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ma</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (a <span class="hljs-keyword">in</span> La) <span class="hljs-keyword">return</span> a;
        <span class="hljs-keyword">var</span> b = a[<span class="hljs-number">0</span>].toUpperCase() + a.slice(<span class="hljs-number">1</span>),
            c = Ka.length;
        <span class="hljs-keyword">while</span> (c--)
            <span class="hljs-keyword">if</span> (a = Ka[c] + b, a <span class="hljs-keyword">in</span> La) <span class="hljs-keyword">return</span> a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Na</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d = T.exec(b);
        <span class="hljs-keyword">return</span> d ? <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, d[<span class="hljs-number">2</span>] - (c || <span class="hljs-number">0</span>)) + (d[<span class="hljs-number">3</span>] || <span class="hljs-string">"px"</span>) : b
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Oa</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f = c === (d ? <span class="hljs-string">"border"</span> : <span class="hljs-string">"content"</span>) ? <span class="hljs-number">4</span> : <span class="hljs-string">"width"</span> === b ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>, g = <span class="hljs-number">0</span>; <span class="hljs-number">4</span> &gt; f; f += <span class="hljs-number">2</span>) <span class="hljs-string">"margin"</span> === c &amp;&amp; (g += n.css(a, c + U[f], !<span class="hljs-number">0</span>, e)), d ? (<span class="hljs-string">"content"</span> === c &amp;&amp; (g -= n.css(a, <span class="hljs-string">"padding"</span> + U[f], !<span class="hljs-number">0</span>, e)), <span class="hljs-string">"margin"</span> !== c &amp;&amp; (g -= n.css(a, <span class="hljs-string">"border"</span> + U[f] + <span class="hljs-string">"Width"</span>, !<span class="hljs-number">0</span>, e))) : (g += n.css(a, <span class="hljs-string">"padding"</span> + U[f], !<span class="hljs-number">0</span>, e), <span class="hljs-string">"padding"</span> !== c &amp;&amp; (g += n.css(a, <span class="hljs-string">"border"</span> + U[f] + <span class="hljs-string">"Width"</span>, !<span class="hljs-number">0</span>, e)));
        <span class="hljs-keyword">return</span> g
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Pa</span>(<span class="hljs-params">b, c, e</span>) </span>{
        <span class="hljs-keyword">var</span> f = !<span class="hljs-number">0</span>,
            g = <span class="hljs-string">"width"</span> === c ? b.offsetWidth : b.offsetHeight,
            h = Ca(b),
            i = <span class="hljs-string">"border-box"</span> === n.css(b, <span class="hljs-string">"boxSizing"</span>, !<span class="hljs-number">1</span>, h);
        <span class="hljs-keyword">if</span> (d.msFullscreenElement &amp;&amp; a.top !== a &amp;&amp; b.getClientRects().length &amp;&amp; (g = <span class="hljs-built_in">Math</span>.round(<span class="hljs-number">100</span> * b.getBoundingClientRect()[c])), <span class="hljs-number">0</span> &gt;= g || <span class="hljs-literal">null</span> == g) {
            <span class="hljs-keyword">if</span> (g = Fa(b, c, h), (<span class="hljs-number">0</span> &gt; g || <span class="hljs-literal">null</span> == g) &amp;&amp; (g = b.style[c]), Ba.test(g)) <span class="hljs-keyword">return</span> g;
            f = i &amp;&amp; (l.boxSizingReliable() || g === b.style[c]), g = <span class="hljs-built_in">parseFloat</span>(g) || <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">return</span> g + Oa(b, c, e || (i ? <span class="hljs-string">"border"</span> : <span class="hljs-string">"content"</span>), f, h) + <span class="hljs-string">"px"</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Qa</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c, d, e, f = [], g = <span class="hljs-number">0</span>, h = a.length; h &gt; g; g++) d = a[g], d.style &amp;&amp; (f[g] = N.get(d, <span class="hljs-string">"olddisplay"</span>), c = d.style.display, b ? (f[g] || <span class="hljs-string">"none"</span> !== c || (d.style.display = <span class="hljs-string">""</span>), <span class="hljs-string">""</span> === d.style.display &amp;&amp; V(d) &amp;&amp; (f[g] = N.access(d, <span class="hljs-string">"olddisplay"</span>, za(d.nodeName)))) : (e = V(d), <span class="hljs-string">"none"</span> === c &amp;&amp; e || N.set(d, <span class="hljs-string">"olddisplay"</span>, e ? c : n.css(d, <span class="hljs-string">"display"</span>))));
        <span class="hljs-keyword">for</span> (g = <span class="hljs-number">0</span>; h &gt; g; g++) d = a[g], d.style &amp;&amp; (b &amp;&amp; <span class="hljs-string">"none"</span> !== d.style.display &amp;&amp; <span class="hljs-string">""</span> !== d.style.display || (d.style.display = b ? f[g] || <span class="hljs-string">""</span> : <span class="hljs-string">"none"</span>));
        <span class="hljs-keyword">return</span> a
    }
    n.extend({
        <span class="hljs-attr">cssHooks</span>: {
            <span class="hljs-attr">opacity</span>: {
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">if</span> (b) {
                        <span class="hljs-keyword">var</span> c = Fa(a, <span class="hljs-string">"opacity"</span>);
                        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span> === c ? <span class="hljs-string">"1"</span> : c
                    }
                }
            }
        },
        <span class="hljs-attr">cssNumber</span>: {
            <span class="hljs-attr">animationIterationCount</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">columnCount</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">fillOpacity</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">flexGrow</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">flexShrink</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">fontWeight</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">lineHeight</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">opacity</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">order</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">orphans</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">widows</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">zIndex</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">zoom</span>: !<span class="hljs-number">0</span>
        },
        <span class="hljs-attr">cssProps</span>: {
            <span class="hljs-string">"float"</span>: <span class="hljs-string">"cssFloat"</span>
        },
        <span class="hljs-attr">style</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">if</span> (a &amp;&amp; <span class="hljs-number">3</span> !== a.nodeType &amp;&amp; <span class="hljs-number">8</span> !== a.nodeType &amp;&amp; a.style) {
                <span class="hljs-keyword">var</span> e, f, g, h = n.camelCase(b),
                    i = a.style;
                <span class="hljs-keyword">return</span> b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h), g = n.cssHooks[b] || n.cssHooks[h], <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === c ? g &amp;&amp; <span class="hljs-string">"get"</span> <span class="hljs-keyword">in</span> g &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== (e = g.get(a, !<span class="hljs-number">1</span>, d)) ? e : i[b] : (f = <span class="hljs-keyword">typeof</span> c, <span class="hljs-string">"string"</span> === f &amp;&amp; (e = T.exec(c)) &amp;&amp; e[<span class="hljs-number">1</span>] &amp;&amp; (c = W(a, b, e), f = <span class="hljs-string">"number"</span>), <span class="hljs-literal">null</span> != c &amp;&amp; c === c &amp;&amp; (<span class="hljs-string">"number"</span> === f &amp;&amp; (c += e &amp;&amp; e[<span class="hljs-number">3</span>] || (n.cssNumber[h] ? <span class="hljs-string">""</span> : <span class="hljs-string">"px"</span>)), l.clearCloneStyle || <span class="hljs-string">""</span> !== c || <span class="hljs-number">0</span> !== b.indexOf(<span class="hljs-string">"background"</span>) || (i[b] = <span class="hljs-string">"inherit"</span>), g &amp;&amp; <span class="hljs-string">"set"</span> <span class="hljs-keyword">in</span> g &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === (c = g.set(a, c, d)) || (i[b] = c)), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)
            }
        },
        <span class="hljs-attr">css</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">var</span> e, f, g, h = n.camelCase(b);
            <span class="hljs-keyword">return</span> b = n.cssProps[h] || (n.cssProps[h] = Ma(h) || h), g = n.cssHooks[b] || n.cssHooks[h], g &amp;&amp; <span class="hljs-string">"get"</span> <span class="hljs-keyword">in</span> g &amp;&amp; (e = g.get(a, !<span class="hljs-number">0</span>, c)), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === e &amp;&amp; (e = Fa(a, b, d)), <span class="hljs-string">"normal"</span> === e &amp;&amp; b <span class="hljs-keyword">in</span> Ja &amp;&amp; (e = Ja[b]), <span class="hljs-string">""</span> === c || c ? (f = <span class="hljs-built_in">parseFloat</span>(e), c === !<span class="hljs-number">0</span> || <span class="hljs-built_in">isFinite</span>(f) ? f || <span class="hljs-number">0</span> : e) : e
        }
    }), n.each([<span class="hljs-string">"height"</span>, <span class="hljs-string">"width"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.cssHooks[b] = {
            <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, d</span>) </span>{
                <span class="hljs-keyword">return</span> c ? Ha.test(n.css(a, <span class="hljs-string">"display"</span>)) &amp;&amp; <span class="hljs-number">0</span> === a.offsetWidth ? Da(a, Ia, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> Pa(a, b, d)
                }) : Pa(a, b, d) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
            },
            <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, d</span>) </span>{
                <span class="hljs-keyword">var</span> e, f = d &amp;&amp; Ca(a),
                    g = d &amp;&amp; Oa(a, b, d, <span class="hljs-string">"border-box"</span> === n.css(a, <span class="hljs-string">"boxSizing"</span>, !<span class="hljs-number">1</span>, f), f);
                <span class="hljs-keyword">return</span> g &amp;&amp; (e = T.exec(c)) &amp;&amp; <span class="hljs-string">"px"</span> !== (e[<span class="hljs-number">3</span>] || <span class="hljs-string">"px"</span>) &amp;&amp; (a.style[b] = c, c = n.css(a, b)), Na(a, c, g)
            }
        }
    }), n.cssHooks.marginLeft = Ga(l.reliableMarginLeft, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> b ? (<span class="hljs-built_in">parseFloat</span>(Fa(a, <span class="hljs-string">"marginLeft"</span>)) || a.getBoundingClientRect().left - Da(a, {
            <span class="hljs-attr">marginLeft</span>: <span class="hljs-number">0</span>
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> a.getBoundingClientRect().left
        })) + <span class="hljs-string">"px"</span> : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
    }), n.cssHooks.marginRight = Ga(l.reliableMarginRight, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">return</span> b ? Da(a, {
            <span class="hljs-attr">display</span>: <span class="hljs-string">"inline-block"</span>
        }, Fa, [a, <span class="hljs-string">"marginRight"</span>]) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
    }), n.each({
        <span class="hljs-attr">margin</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">padding</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">border</span>: <span class="hljs-string">"Width"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.cssHooks[a + b] = {
            <span class="hljs-attr">expand</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d = <span class="hljs-number">0</span>, e = {}, f = <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> c ? c.split(<span class="hljs-string">" "</span>) : [c]; <span class="hljs-number">4</span> &gt; d; d++) e[a + U[d] + b] = f[d] || f[d - <span class="hljs-number">2</span>] || f[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">return</span> e
            }
        }, Aa.test(a) || (n.cssHooks[a + b].set = Na)
    }), n.fn.extend({
        <span class="hljs-attr">css</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                <span class="hljs-keyword">var</span> d, e, f = {},
                    g = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">if</span> (n.isArray(b)) {
                    <span class="hljs-keyword">for</span> (d = Ca(a), e = b.length; e &gt; g; g++) f[b[g]] = n.css(a, b[g], !<span class="hljs-number">1</span>, d);
                    <span class="hljs-keyword">return</span> f
                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c ? n.style(a, b, c) : n.css(a, b)
            }, a, b, <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>)
        },
        <span class="hljs-attr">show</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> Qa(<span class="hljs-keyword">this</span>, !<span class="hljs-number">0</span>)
        },
        <span class="hljs-attr">hide</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> Qa(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">toggle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"boolean"</span> == <span class="hljs-keyword">typeof</span> a ? a ? <span class="hljs-keyword">this</span>.show() : <span class="hljs-keyword">this</span>.hide() : <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                V(<span class="hljs-keyword">this</span>) ? n(<span class="hljs-keyword">this</span>).show() : n(<span class="hljs-keyword">this</span>).hide()
            })
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ra</span>(<span class="hljs-params">a, b, c, d, e</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Ra.prototype.init(a, b, c, d, e)
    }
    n.Tween = Ra, Ra.prototype = {
        <span class="hljs-attr">constructor</span>: Ra,
        <span class="hljs-attr">init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d, e, f</span>) </span>{
            <span class="hljs-keyword">this</span>.elem = a, <span class="hljs-keyword">this</span>.prop = c, <span class="hljs-keyword">this</span>.easing = e || n.easing._default, <span class="hljs-keyword">this</span>.options = b, <span class="hljs-keyword">this</span>.start = <span class="hljs-keyword">this</span>.now = <span class="hljs-keyword">this</span>.cur(), <span class="hljs-keyword">this</span>.end = d, <span class="hljs-keyword">this</span>.unit = f || (n.cssNumber[c] ? <span class="hljs-string">""</span> : <span class="hljs-string">"px"</span>)
        },
        <span class="hljs-attr">cur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = Ra.propHooks[<span class="hljs-keyword">this</span>.prop];
            <span class="hljs-keyword">return</span> a &amp;&amp; a.get ? a.get(<span class="hljs-keyword">this</span>) : Ra.propHooks._default.get(<span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">run</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c = Ra.propHooks[<span class="hljs-keyword">this</span>.prop];
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options.duration ? <span class="hljs-keyword">this</span>.pos = b = n.easing[<span class="hljs-keyword">this</span>.easing](a, <span class="hljs-keyword">this</span>.options.duration * a, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-keyword">this</span>.options.duration) : <span class="hljs-keyword">this</span>.pos = b = a, <span class="hljs-keyword">this</span>.now = (<span class="hljs-keyword">this</span>.end - <span class="hljs-keyword">this</span>.start) * b + <span class="hljs-keyword">this</span>.start, <span class="hljs-keyword">this</span>.options.step &amp;&amp; <span class="hljs-keyword">this</span>.options.step.call(<span class="hljs-keyword">this</span>.elem, <span class="hljs-keyword">this</span>.now, <span class="hljs-keyword">this</span>), c &amp;&amp; c.set ? c.set(<span class="hljs-keyword">this</span>) : Ra.propHooks._default.set(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>
        }
    }, Ra.prototype.init.prototype = Ra.prototype, Ra.propHooks = {
        <span class="hljs-attr">_default</span>: {
            <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">var</span> b;
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> !== a.elem.nodeType || <span class="hljs-literal">null</span> != a.elem[a.prop] &amp;&amp; <span class="hljs-literal">null</span> == a.elem.style[a.prop] ? a.elem[a.prop] : (b = n.css(a.elem, a.prop, <span class="hljs-string">""</span>), b &amp;&amp; <span class="hljs-string">"auto"</span> !== b ? b : <span class="hljs-number">0</span>)
            },
            <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                n.fx.step[a.prop] ? n.fx.step[a.prop](a) : <span class="hljs-number">1</span> !== a.elem.nodeType || <span class="hljs-literal">null</span> == a.elem.style[n.cssProps[a.prop]] &amp;&amp; !n.cssHooks[a.prop] ? a.elem[a.prop] = a.now : n.style(a.elem, a.prop, a.now + a.unit)
            }
        }
    }, Ra.propHooks.scrollTop = Ra.propHooks.scrollLeft = {
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            a.elem.nodeType &amp;&amp; a.elem.parentNode &amp;&amp; (a.elem[a.prop] = a.now)
        }
    }, n.easing = {
        <span class="hljs-attr">linear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> a
        },
        <span class="hljs-attr">swing</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">.5</span> - <span class="hljs-built_in">Math</span>.cos(a * <span class="hljs-built_in">Math</span>.PI) / <span class="hljs-number">2</span>
        },
        <span class="hljs-attr">_default</span>: <span class="hljs-string">"swing"</span>
    }, n.fx = Ra.prototype.init, n.fx.step = {};
    <span class="hljs-keyword">var</span> Sa, Ta, Ua = <span class="hljs-regexp">/^(?:toggle|show|hide)$/</span>,
        Va = <span class="hljs-regexp">/queueHooks$/</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Wa</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> a.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            Sa = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        }), Sa = n.now()
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Xa</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d = <span class="hljs-number">0</span>,
            e = {
                <span class="hljs-attr">height</span>: a
            };
        <span class="hljs-keyword">for</span> (b = b ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>; <span class="hljs-number">4</span> &gt; d; d += <span class="hljs-number">2</span> - b) c = U[d], e[<span class="hljs-string">"margin"</span> + c] = e[<span class="hljs-string">"padding"</span> + c] = a;
        <span class="hljs-keyword">return</span> b &amp;&amp; (e.opacity = e.width = a), e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ya</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> d, e = (_a.tweeners[b] || []).concat(_a.tweeners[<span class="hljs-string">"*"</span>]), f = <span class="hljs-number">0</span>, g = e.length; g &gt; f; f++)
            <span class="hljs-keyword">if</span> (d = e[f].call(c, b, a)) <span class="hljs-keyword">return</span> d
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Za</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d, e, f, g, h, i, j, k, l = <span class="hljs-keyword">this</span>,
            m = {},
            o = a.style,
            p = a.nodeType &amp;&amp; V(a),
            q = N.get(a, <span class="hljs-string">"fxshow"</span>);
        c.queue || (h = n._queueHooks(a, <span class="hljs-string">"fx"</span>), <span class="hljs-literal">null</span> == h.unqueued &amp;&amp; (h.unqueued = <span class="hljs-number">0</span>, i = h.empty.fire, h.empty.fire = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            h.unqueued || i()
        }), h.unqueued++, l.always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            l.always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                h.unqueued--, n.queue(a, <span class="hljs-string">"fx"</span>).length || h.empty.fire()
            })
        })), <span class="hljs-number">1</span> === a.nodeType &amp;&amp; (<span class="hljs-string">"height"</span> <span class="hljs-keyword">in</span> b || <span class="hljs-string">"width"</span> <span class="hljs-keyword">in</span> b) &amp;&amp; (c.overflow = [o.overflow, o.overflowX, o.overflowY], j = n.css(a, <span class="hljs-string">"display"</span>), k = <span class="hljs-string">"none"</span> === j ? N.get(a, <span class="hljs-string">"olddisplay"</span>) || za(a.nodeName) : j, <span class="hljs-string">"inline"</span> === k &amp;&amp; <span class="hljs-string">"none"</span> === n.css(a, <span class="hljs-string">"float"</span>) &amp;&amp; (o.display = <span class="hljs-string">"inline-block"</span>)), c.overflow &amp;&amp; (o.overflow = <span class="hljs-string">"hidden"</span>, l.always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            o.overflow = c.overflow[<span class="hljs-number">0</span>], o.overflowX = c.overflow[<span class="hljs-number">1</span>], o.overflowY = c.overflow[<span class="hljs-number">2</span>]
        }));
        <span class="hljs-keyword">for</span> (d <span class="hljs-keyword">in</span> b)
            <span class="hljs-keyword">if</span> (e = b[d], Ua.exec(e)) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">delete</span> b[d], f = f || <span class="hljs-string">"toggle"</span> === e, e === (p ? <span class="hljs-string">"hide"</span> : <span class="hljs-string">"show"</span>)) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-string">"show"</span> !== e || !q || <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === q[d]) <span class="hljs-keyword">continue</span>;
                    p = !<span class="hljs-number">0</span>
                }
                m[d] = q &amp;&amp; q[d] || n.style(a, d)
            } <span class="hljs-keyword">else</span> j = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (n.isEmptyObject(m)) <span class="hljs-string">"inline"</span> === (<span class="hljs-string">"none"</span> === j ? za(a.nodeName) : j) &amp;&amp; (o.display = j);
        <span class="hljs-keyword">else</span> {
            q ? <span class="hljs-string">"hidden"</span> <span class="hljs-keyword">in</span> q &amp;&amp; (p = q.hidden) : q = N.access(a, <span class="hljs-string">"fxshow"</span>, {}), f &amp;&amp; (q.hidden = !p), p ? n(a).show() : l.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n(a).hide()
            }), l.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> b;
                N.remove(a, <span class="hljs-string">"fxshow"</span>);
                <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> m) n.style(a, b, m[b])
            });
            <span class="hljs-keyword">for</span> (d <span class="hljs-keyword">in</span> m) g = Ya(p ? q[d] : <span class="hljs-number">0</span>, d, l), d <span class="hljs-keyword">in</span> q || (q[d] = g.start, p &amp;&amp; (g.end = g.start, g.start = <span class="hljs-string">"width"</span> === d || <span class="hljs-string">"height"</span> === d ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>))
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$a</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d, e, f, g;
        <span class="hljs-keyword">for</span> (c <span class="hljs-keyword">in</span> a)
            <span class="hljs-keyword">if</span> (d = n.camelCase(c), e = b[d], f = a[c], n.isArray(f) &amp;&amp; (e = f[<span class="hljs-number">1</span>], f = a[c] = f[<span class="hljs-number">0</span>]), c !== d &amp;&amp; (a[d] = f, <span class="hljs-keyword">delete</span> a[c]), g = n.cssHooks[d], g &amp;&amp; <span class="hljs-string">"expand"</span> <span class="hljs-keyword">in</span> g) {
                f = g.expand(f), <span class="hljs-keyword">delete</span> a[d];
                <span class="hljs-keyword">for</span> (c <span class="hljs-keyword">in</span> f) c <span class="hljs-keyword">in</span> a || (a[c] = f[c], b[c] = e)
            } <span class="hljs-keyword">else</span> b[d] = e
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_a</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d, e, f = <span class="hljs-number">0</span>,
            g = _a.prefilters.length,
            h = n.Deferred().always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">delete</span> i.elem
            }),
            i = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b = Sa || Wa(), c = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, j.startTime + j.duration - b), d = c / j.duration || <span class="hljs-number">0</span>, f = <span class="hljs-number">1</span> - d, g = <span class="hljs-number">0</span>, i = j.tweens.length; i &gt; g; g++) j.tweens[g].run(f);
                <span class="hljs-keyword">return</span> h.notifyWith(a, [j, f, c]), <span class="hljs-number">1</span> &gt; f &amp;&amp; i ? c : (h.resolveWith(a, [j]), !<span class="hljs-number">1</span>)
            },
            j = h.promise({
                <span class="hljs-attr">elem</span>: a,
                <span class="hljs-attr">props</span>: n.extend({}, b),
                <span class="hljs-attr">opts</span>: n.extend(!<span class="hljs-number">0</span>, {
                    <span class="hljs-attr">specialEasing</span>: {},
                    <span class="hljs-attr">easing</span>: n.easing._default
                }, c),
                <span class="hljs-attr">originalProperties</span>: b,
                <span class="hljs-attr">originalOptions</span>: c,
                <span class="hljs-attr">startTime</span>: Sa || Wa(),
                <span class="hljs-attr">duration</span>: c.duration,
                <span class="hljs-attr">tweens</span>: [],
                <span class="hljs-attr">createTween</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
                    <span class="hljs-keyword">var</span> d = n.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                    <span class="hljs-keyword">return</span> j.tweens.push(d), d
                },
                <span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                    <span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>,
                        d = b ? j.tweens.length : <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
                    <span class="hljs-keyword">for</span> (e = !<span class="hljs-number">0</span>; d &gt; c; c++) j.tweens[c].run(<span class="hljs-number">1</span>);
                    <span class="hljs-keyword">return</span> b ? (h.notifyWith(a, [j, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>]), h.resolveWith(a, [j, b])) : h.rejectWith(a, [j, b]), <span class="hljs-keyword">this</span>
                }
            }),
            k = j.props;
        <span class="hljs-keyword">for</span> ($a(k, j.opts.specialEasing); g &gt; f; f++)
            <span class="hljs-keyword">if</span> (d = _a.prefilters[f].call(j, a, k, j.opts)) <span class="hljs-keyword">return</span> n.isFunction(d.stop) &amp;&amp; (n._queueHooks(j.elem, j.opts.queue).stop = n.proxy(d.stop, d)), d;
        <span class="hljs-keyword">return</span> n.map(k, Ya, j), n.isFunction(j.opts.start) &amp;&amp; j.opts.start.call(a, j), n.fx.timer(n.extend(i, {
            <span class="hljs-attr">elem</span>: a,
            <span class="hljs-attr">anim</span>: j,
            <span class="hljs-attr">queue</span>: j.opts.queue
        })), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    n.Animation = n.extend(_a, {
            <span class="hljs-attr">tweeners</span>: {
                <span class="hljs-string">"*"</span>: [<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>.createTween(a, b);
                    <span class="hljs-keyword">return</span> W(c.elem, a, T.exec(b), c), c
                }]
            },
            <span class="hljs-attr">tweener</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                n.isFunction(a) ? (b = a, a = [<span class="hljs-string">"*"</span>]) : a = a.match(G);
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c, d = <span class="hljs-number">0</span>, e = a.length; e &gt; d; d++) c = a[d], _a.tweeners[c] = _a.tweeners[c] || [], _a.tweeners[c].unshift(b)
            },
            <span class="hljs-attr">prefilters</span>: [Za],
            <span class="hljs-attr">prefilter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                b ? _a.prefilters.unshift(a) : _a.prefilters.push(a)
            }
        }), n.speed = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d = a &amp;&amp; <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> a ? n.extend({}, a) : {
                <span class="hljs-attr">complete</span>: c || !c &amp;&amp; b || n.isFunction(a) &amp;&amp; a,
                <span class="hljs-attr">duration</span>: a,
                <span class="hljs-attr">easing</span>: c &amp;&amp; b || b &amp;&amp; !n.isFunction(b) &amp;&amp; b
            };
            <span class="hljs-keyword">return</span> d.duration = n.fx.off ? <span class="hljs-number">0</span> : <span class="hljs-string">"number"</span> == <span class="hljs-keyword">typeof</span> d.duration ? d.duration : d.duration <span class="hljs-keyword">in</span> n.fx.speeds ? n.fx.speeds[d.duration] : n.fx.speeds._default, <span class="hljs-literal">null</span> != d.queue &amp;&amp; d.queue !== !<span class="hljs-number">0</span> || (d.queue = <span class="hljs-string">"fx"</span>), d.old = d.complete, d.complete = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.isFunction(d.old) &amp;&amp; d.old.call(<span class="hljs-keyword">this</span>), d.queue &amp;&amp; n.dequeue(<span class="hljs-keyword">this</span>, d.queue)
            }, d
        }, n.fn.extend({
            <span class="hljs-attr">fadeTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.filter(V).css(<span class="hljs-string">"opacity"</span>, <span class="hljs-number">0</span>).show().end().animate({
                    <span class="hljs-attr">opacity</span>: b
                }, a, c, d)
            },
            <span class="hljs-attr">animate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
                <span class="hljs-keyword">var</span> e = n.isEmptyObject(a),
                    f = n.speed(b, c, d),
                    g = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">var</span> b = _a(<span class="hljs-keyword">this</span>, n.extend({}, a), f);
                        (e || N.get(<span class="hljs-keyword">this</span>, <span class="hljs-string">"finish"</span>)) &amp;&amp; b.stop(!<span class="hljs-number">0</span>)
                    };
                <span class="hljs-keyword">return</span> g.finish = g, e || f.queue === !<span class="hljs-number">1</span> ? <span class="hljs-keyword">this</span>.each(g) : <span class="hljs-keyword">this</span>.queue(f.queue, g)
            },
            <span class="hljs-attr">stop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
                <span class="hljs-keyword">var</span> d = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = a.stop;
                    <span class="hljs-keyword">delete</span> a.stop, b(c)
                };
                <span class="hljs-keyword">return</span> <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a &amp;&amp; (c = b, b = a, a = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), b &amp;&amp; a !== !<span class="hljs-number">1</span> &amp;&amp; <span class="hljs-keyword">this</span>.queue(a || <span class="hljs-string">"fx"</span>, []), <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> b = !<span class="hljs-number">0</span>,
                        e = <span class="hljs-literal">null</span> != a &amp;&amp; a + <span class="hljs-string">"queueHooks"</span>,
                        f = n.timers,
                        g = N.get(<span class="hljs-keyword">this</span>);
                    <span class="hljs-keyword">if</span> (e) g[e] &amp;&amp; g[e].stop &amp;&amp; d(g[e]);
                    <span class="hljs-keyword">else</span>
                        <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> g) g[e] &amp;&amp; g[e].stop &amp;&amp; Va.test(e) &amp;&amp; d(g[e]);
                    <span class="hljs-keyword">for</span> (e = f.length; e--;) f[e].elem !== <span class="hljs-keyword">this</span> || <span class="hljs-literal">null</span> != a &amp;&amp; f[e].queue !== a || (f[e].anim.stop(c), b = !<span class="hljs-number">1</span>, f.splice(e, <span class="hljs-number">1</span>));
                    !b &amp;&amp; c || n.dequeue(<span class="hljs-keyword">this</span>, a)
                })
            },
            <span class="hljs-attr">finish</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> a !== !<span class="hljs-number">1</span> &amp;&amp; (a = a || <span class="hljs-string">"fx"</span>), <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> b, c = N.get(<span class="hljs-keyword">this</span>),
                        d = c[a + <span class="hljs-string">"queue"</span>],
                        e = c[a + <span class="hljs-string">"queueHooks"</span>],
                        f = n.timers,
                        g = d ? d.length : <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">for</span> (c.finish = !<span class="hljs-number">0</span>, n.queue(<span class="hljs-keyword">this</span>, a, []), e &amp;&amp; e.stop &amp;&amp; e.stop.call(<span class="hljs-keyword">this</span>, !<span class="hljs-number">0</span>), b = f.length; b--;) f[b].elem === <span class="hljs-keyword">this</span> &amp;&amp; f[b].queue === a &amp;&amp; (f[b].anim.stop(!<span class="hljs-number">0</span>), f.splice(b, <span class="hljs-number">1</span>));
                    <span class="hljs-keyword">for</span> (b = <span class="hljs-number">0</span>; g &gt; b; b++) d[b] &amp;&amp; d[b].finish &amp;&amp; d[b].finish.call(<span class="hljs-keyword">this</span>);
                    <span class="hljs-keyword">delete</span> c.finish
                })
            }
        }), n.each([<span class="hljs-string">"toggle"</span>, <span class="hljs-string">"show"</span>, <span class="hljs-string">"hide"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = n.fn[b];
            n.fn[b] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, d, e</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a || <span class="hljs-string">"boolean"</span> == <span class="hljs-keyword">typeof</span> a ? c.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>) : <span class="hljs-keyword">this</span>.animate(Xa(b, !<span class="hljs-number">0</span>), a, d, e)
            }
        }), n.each({
            <span class="hljs-attr">slideDown</span>: Xa(<span class="hljs-string">"show"</span>),
            <span class="hljs-attr">slideUp</span>: Xa(<span class="hljs-string">"hide"</span>),
            <span class="hljs-attr">slideToggle</span>: Xa(<span class="hljs-string">"toggle"</span>),
            <span class="hljs-attr">fadeIn</span>: {
                <span class="hljs-attr">opacity</span>: <span class="hljs-string">"show"</span>
            },
            <span class="hljs-attr">fadeOut</span>: {
                <span class="hljs-attr">opacity</span>: <span class="hljs-string">"hide"</span>
            },
            <span class="hljs-attr">fadeToggle</span>: {
                <span class="hljs-attr">opacity</span>: <span class="hljs-string">"toggle"</span>
            }
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            n.fn[a] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, d</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.animate(b, a, c, d)
            }
        }), n.timers = [], n.fx.tick = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a, b = <span class="hljs-number">0</span>,
                c = n.timers;
            <span class="hljs-keyword">for</span> (Sa = n.now(); b &lt; c.length; b++) a = c[b], a() || c[b] !== a || c.splice(b--, <span class="hljs-number">1</span>);
            c.length || n.fx.stop(), Sa = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        }, n.fx.timer = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            n.timers.push(a), a() ? n.fx.start() : n.timers.pop()
        }, n.fx.interval = <span class="hljs-number">13</span>, n.fx.start = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            Ta || (Ta = a.setInterval(n.fx.tick, n.fx.interval))
        }, n.fx.stop = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            a.clearInterval(Ta), Ta = <span class="hljs-literal">null</span>
        }, n.fx.speeds = {
            <span class="hljs-attr">slow</span>: <span class="hljs-number">600</span>,
            <span class="hljs-attr">fast</span>: <span class="hljs-number">200</span>,
            <span class="hljs-attr">_default</span>: <span class="hljs-number">400</span>
        }, n.fn.delay = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
            <span class="hljs-keyword">return</span> b = n.fx ? n.fx.speeds[b] || b : b, c = c || <span class="hljs-string">"fx"</span>, <span class="hljs-keyword">this</span>.queue(c, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, d</span>) </span>{
                <span class="hljs-keyword">var</span> e = a.setTimeout(c, b);
                d.stop = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    a.clearTimeout(e)
                }
            })
        },
        <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = d.createElement(<span class="hljs-string">"input"</span>),
                b = d.createElement(<span class="hljs-string">"select"</span>),
                c = b.appendChild(d.createElement(<span class="hljs-string">"option"</span>));
            a.type = <span class="hljs-string">"checkbox"</span>, l.checkOn = <span class="hljs-string">""</span> !== a.value, l.optSelected = c.selected, b.disabled = !<span class="hljs-number">0</span>, l.optDisabled = !c.disabled, a = d.createElement(<span class="hljs-string">"input"</span>), a.value = <span class="hljs-string">"t"</span>, a.type = <span class="hljs-string">"radio"</span>, l.radioValue = <span class="hljs-string">"t"</span> === a.value
        }();
    <span class="hljs-keyword">var</span> ab, bb = n.expr.attrHandle;
    n.fn.extend({
        <span class="hljs-attr">attr</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, n.attr, a, b, <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>)
        },
        <span class="hljs-attr">removeAttr</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.removeAttr(<span class="hljs-keyword">this</span>, a)
            })
        }
    }), n.extend({
        <span class="hljs-attr">attr</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e, f = a.nodeType;
            <span class="hljs-keyword">if</span> (<span class="hljs-number">3</span> !== f &amp;&amp; <span class="hljs-number">8</span> !== f &amp;&amp; <span class="hljs-number">2</span> !== f) <span class="hljs-keyword">return</span> <span class="hljs-string">"undefined"</span> == <span class="hljs-keyword">typeof</span> a.getAttribute ? n.prop(a, b, c) : (<span class="hljs-number">1</span> === f &amp;&amp; n.isXMLDoc(a) || (b = b.toLowerCase(), e = n.attrHooks[b] || (n.expr.match.bool.test(b) ? ab : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c ? <span class="hljs-literal">null</span> === c ? <span class="hljs-keyword">void</span> n.removeAttr(a, b) : e &amp;&amp; <span class="hljs-string">"set"</span> <span class="hljs-keyword">in</span> e &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== (d = e.set(a, c, b)) ? d : (a.setAttribute(b, c + <span class="hljs-string">""</span>), c) : e &amp;&amp; <span class="hljs-string">"get"</span> <span class="hljs-keyword">in</span> e &amp;&amp; <span class="hljs-literal">null</span> !== (d = e.get(a, b)) ? d : (d = n.find.attr(a, b), <span class="hljs-literal">null</span> == d ? <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : d))
        },
        <span class="hljs-attr">attrHooks</span>: {
            <span class="hljs-attr">type</span>: {
                <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">if</span> (!l.radioValue &amp;&amp; <span class="hljs-string">"radio"</span> === b &amp;&amp; n.nodeName(a, <span class="hljs-string">"input"</span>)) {
                        <span class="hljs-keyword">var</span> c = a.value;
                        <span class="hljs-keyword">return</span> a.setAttribute(<span class="hljs-string">"type"</span>, b), c &amp;&amp; (a.value = c), b
                    }
                }
            }
        },
        <span class="hljs-attr">removeAttr</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c, d, e = <span class="hljs-number">0</span>,
                f = b &amp;&amp; b.match(G);
            <span class="hljs-keyword">if</span> (f &amp;&amp; <span class="hljs-number">1</span> === a.nodeType)
                <span class="hljs-keyword">while</span> (c = f[e++]) d = n.propFix[c] || c, n.expr.match.bool.test(c) &amp;&amp; (a[d] = !<span class="hljs-number">1</span>), a.removeAttribute(c)
        }
    }), ab = {
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> b === !<span class="hljs-number">1</span> ? n.removeAttr(a, c) : a.setAttribute(c, c), c
        }
    }, n.each(n.expr.match.bool.source.match(<span class="hljs-regexp">/\w+/g</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = bb[b] || n.find.attr;
        bb[b] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, d</span>) </span>{
            <span class="hljs-keyword">var</span> e, f;
            <span class="hljs-keyword">return</span> d || (f = bb[b], bb[b] = e, e = <span class="hljs-literal">null</span> != c(a, b, d) ? b.toLowerCase() : <span class="hljs-literal">null</span>, bb[b] = f), e
        }
    });
    <span class="hljs-keyword">var</span> cb = <span class="hljs-regexp">/^(?:input|select|textarea|button)$/i</span>,
        db = <span class="hljs-regexp">/^(?:a|area)$/i</span>;
    n.fn.extend({
        <span class="hljs-attr">prop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, n.prop, a, b, <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">1</span>)
        },
        <span class="hljs-attr">removeProp</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>[n.propFix[a] || a]
            })
        }
    }), n.extend({
        <span class="hljs-attr">prop</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e, f = a.nodeType;
            <span class="hljs-keyword">if</span> (<span class="hljs-number">3</span> !== f &amp;&amp; <span class="hljs-number">8</span> !== f &amp;&amp; <span class="hljs-number">2</span> !== f) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === f &amp;&amp; n.isXMLDoc(a) || (b = n.propFix[b] || b,
                e = n.propHooks[b]), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== c ? e &amp;&amp; <span class="hljs-string">"set"</span> <span class="hljs-keyword">in</span> e &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== (d = e.set(a, c, b)) ? d : a[b] = c : e &amp;&amp; <span class="hljs-string">"get"</span> <span class="hljs-keyword">in</span> e &amp;&amp; <span class="hljs-literal">null</span> !== (d = e.get(a, b)) ? d : a[b]
        },
        <span class="hljs-attr">propHooks</span>: {
            <span class="hljs-attr">tabIndex</span>: {
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = n.find.attr(a, <span class="hljs-string">"tabindex"</span>);
                    <span class="hljs-keyword">return</span> b ? <span class="hljs-built_in">parseInt</span>(b, <span class="hljs-number">10</span>) : cb.test(a.nodeName) || db.test(a.nodeName) &amp;&amp; a.href ? <span class="hljs-number">0</span> : <span class="hljs-number">-1</span>
                }
            }
        },
        <span class="hljs-attr">propFix</span>: {
            <span class="hljs-string">"for"</span>: <span class="hljs-string">"htmlFor"</span>,
            <span class="hljs-string">"class"</span>: <span class="hljs-string">"className"</span>
        }
    }), l.optSelected || (n.propHooks.selected = {
        <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a.parentNode;
            <span class="hljs-keyword">return</span> b &amp;&amp; b.parentNode &amp;&amp; b.parentNode.selectedIndex, <span class="hljs-literal">null</span>
        },
        <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = a.parentNode;
            b &amp;&amp; (b.selectedIndex, b.parentNode &amp;&amp; b.parentNode.selectedIndex)
        }
    }), n.each([<span class="hljs-string">"tabIndex"</span>, <span class="hljs-string">"readOnly"</span>, <span class="hljs-string">"maxLength"</span>, <span class="hljs-string">"cellSpacing"</span>, <span class="hljs-string">"cellPadding"</span>, <span class="hljs-string">"rowSpan"</span>, <span class="hljs-string">"colSpan"</span>, <span class="hljs-string">"useMap"</span>, <span class="hljs-string">"frameBorder"</span>, <span class="hljs-string">"contentEditable"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        n.propFix[<span class="hljs-keyword">this</span>.toLowerCase()] = <span class="hljs-keyword">this</span>
    });
    <span class="hljs-keyword">var</span> eb = <span class="hljs-regexp">/[\t\r\n\f]/g</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fb</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> a.getAttribute &amp;&amp; a.getAttribute(<span class="hljs-string">"class"</span>) || <span class="hljs-string">""</span>
    }
    n.fn.extend({
        <span class="hljs-attr">addClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c, d, e, f, g, h, i = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (n.isFunction(a)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                n(<span class="hljs-keyword">this</span>).addClass(a.call(<span class="hljs-keyword">this</span>, b, fb(<span class="hljs-keyword">this</span>)))
            });
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a &amp;&amp; a) {
                b = a.match(G) || [];
                <span class="hljs-keyword">while</span> (c = <span class="hljs-keyword">this</span>[i++])
                    <span class="hljs-keyword">if</span> (e = fb(c), d = <span class="hljs-number">1</span> === c.nodeType &amp;&amp; (<span class="hljs-string">" "</span> + e + <span class="hljs-string">" "</span>).replace(eb, <span class="hljs-string">" "</span>)) {
                        g = <span class="hljs-number">0</span>;
                        <span class="hljs-keyword">while</span> (f = b[g++]) d.indexOf(<span class="hljs-string">" "</span> + f + <span class="hljs-string">" "</span>) &lt; <span class="hljs-number">0</span> &amp;&amp; (d += f + <span class="hljs-string">" "</span>);
                        h = n.trim(d), e !== h &amp;&amp; c.setAttribute(<span class="hljs-string">"class"</span>, h)
                    }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        },
        <span class="hljs-attr">removeClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c, d, e, f, g, h, i = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span> (n.isFunction(a)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                n(<span class="hljs-keyword">this</span>).removeClass(a.call(<span class="hljs-keyword">this</span>, b, fb(<span class="hljs-keyword">this</span>)))
            });
            <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">arguments</span>.length) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.attr(<span class="hljs-string">"class"</span>, <span class="hljs-string">""</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> a &amp;&amp; a) {
                b = a.match(G) || [];
                <span class="hljs-keyword">while</span> (c = <span class="hljs-keyword">this</span>[i++])
                    <span class="hljs-keyword">if</span> (e = fb(c), d = <span class="hljs-number">1</span> === c.nodeType &amp;&amp; (<span class="hljs-string">" "</span> + e + <span class="hljs-string">" "</span>).replace(eb, <span class="hljs-string">" "</span>)) {
                        g = <span class="hljs-number">0</span>;
                        <span class="hljs-keyword">while</span> (f = b[g++])
                            <span class="hljs-keyword">while</span> (d.indexOf(<span class="hljs-string">" "</span> + f + <span class="hljs-string">" "</span>) &gt; <span class="hljs-number">-1</span>) d = d.replace(<span class="hljs-string">" "</span> + f + <span class="hljs-string">" "</span>, <span class="hljs-string">" "</span>);
                        h = n.trim(d), e !== h &amp;&amp; c.setAttribute(<span class="hljs-string">"class"</span>, h)
                    }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
        },
        <span class="hljs-attr">toggleClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">typeof</span> a;
            <span class="hljs-keyword">return</span> <span class="hljs-string">"boolean"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; <span class="hljs-string">"string"</span> === c ? b ? <span class="hljs-keyword">this</span>.addClass(a) : <span class="hljs-keyword">this</span>.removeClass(a) : n.isFunction(a) ? <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                n(<span class="hljs-keyword">this</span>).toggleClass(a.call(<span class="hljs-keyword">this</span>, c, fb(<span class="hljs-keyword">this</span>), b), b)
            }) : <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> b, d, e, f;
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> === c) {
                    d = <span class="hljs-number">0</span>, e = n(<span class="hljs-keyword">this</span>), f = a.match(G) || [];
                    <span class="hljs-keyword">while</span> (b = f[d++]) e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== a &amp;&amp; <span class="hljs-string">"boolean"</span> !== c || (b = fb(<span class="hljs-keyword">this</span>), b &amp;&amp; N.set(<span class="hljs-keyword">this</span>, <span class="hljs-string">"__className__"</span>, b), <span class="hljs-keyword">this</span>.setAttribute &amp;&amp; <span class="hljs-keyword">this</span>.setAttribute(<span class="hljs-string">"class"</span>, b || a === !<span class="hljs-number">1</span> ? <span class="hljs-string">""</span> : N.get(<span class="hljs-keyword">this</span>, <span class="hljs-string">"__className__"</span>) || <span class="hljs-string">""</span>))
            })
        },
        <span class="hljs-attr">hasClass</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c, d = <span class="hljs-number">0</span>;
            b = <span class="hljs-string">" "</span> + a + <span class="hljs-string">" "</span>;
            <span class="hljs-keyword">while</span> (c = <span class="hljs-keyword">this</span>[d++])
                <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> === c.nodeType &amp;&amp; (<span class="hljs-string">" "</span> + fb(c) + <span class="hljs-string">" "</span>).replace(eb, <span class="hljs-string">" "</span>).indexOf(b) &gt; <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span> !<span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> !<span class="hljs-number">1</span>
        }
    });
    <span class="hljs-keyword">var</span> gb = <span class="hljs-regexp">/\r/g</span>,
        hb = <span class="hljs-regexp">/[\x20\t\r\n\f]+/g</span>;
    n.fn.extend({
        <span class="hljs-attr">val</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b, c, d, e = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]; {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length) <span class="hljs-keyword">return</span> d = n.isFunction(a), <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                    <span class="hljs-keyword">var</span> e;
                    <span class="hljs-number">1</span> === <span class="hljs-keyword">this</span>.nodeType &amp;&amp; (e = d ? a.call(<span class="hljs-keyword">this</span>, c, n(<span class="hljs-keyword">this</span>).val()) : a, <span class="hljs-literal">null</span> == e ? e = <span class="hljs-string">""</span> : <span class="hljs-string">"number"</span> == <span class="hljs-keyword">typeof</span> e ? e += <span class="hljs-string">""</span> : n.isArray(e) &amp;&amp; (e = n.map(e, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == a ? <span class="hljs-string">""</span> : a + <span class="hljs-string">""</span>
                    })), b = n.valHooks[<span class="hljs-keyword">this</span>.type] || n.valHooks[<span class="hljs-keyword">this</span>.nodeName.toLowerCase()], b &amp;&amp; <span class="hljs-string">"set"</span> <span class="hljs-keyword">in</span> b &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== b.set(<span class="hljs-keyword">this</span>, e, <span class="hljs-string">"value"</span>) || (<span class="hljs-keyword">this</span>.value = e))
                });
                <span class="hljs-keyword">if</span> (e) <span class="hljs-keyword">return</span> b = n.valHooks[e.type] || n.valHooks[e.nodeName.toLowerCase()], b &amp;&amp; <span class="hljs-string">"get"</span> <span class="hljs-keyword">in</span> b &amp;&amp; <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== (c = b.get(e, <span class="hljs-string">"value"</span>)) ? c : (c = e.value, <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> c ? c.replace(gb, <span class="hljs-string">""</span>) : <span class="hljs-literal">null</span> == c ? <span class="hljs-string">""</span> : c)
            }
        }
    }), n.extend({
        <span class="hljs-attr">valHooks</span>: {
            <span class="hljs-attr">option</span>: {
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">var</span> b = n.find.attr(a, <span class="hljs-string">"value"</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> != b ? b : n.trim(n.text(a)).replace(hb, <span class="hljs-string">" "</span>)
                }
            },
            <span class="hljs-attr">select</span>: {
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b, c, d = a.options, e = a.selectedIndex, f = <span class="hljs-string">"select-one"</span> === a.type || <span class="hljs-number">0</span> &gt; e, g = f ? <span class="hljs-literal">null</span> : [], h = f ? e + <span class="hljs-number">1</span> : d.length, i = <span class="hljs-number">0</span> &gt; e ? h : f ? e : <span class="hljs-number">0</span>; h &gt; i; i++)
                        <span class="hljs-keyword">if</span> (c = d[i], (c.selected || i === e) &amp;&amp; (l.optDisabled ? !c.disabled : <span class="hljs-literal">null</span> === c.getAttribute(<span class="hljs-string">"disabled"</span>)) &amp;&amp; (!c.parentNode.disabled || !n.nodeName(c.parentNode, <span class="hljs-string">"optgroup"</span>))) {
                            <span class="hljs-keyword">if</span> (b = n(c).val(), f) <span class="hljs-keyword">return</span> b;
                            g.push(b)
                        }
                    <span class="hljs-keyword">return</span> g
                },
                <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                    <span class="hljs-keyword">var</span> c, d, e = a.options,
                        f = n.makeArray(b),
                        g = e.length;
                    <span class="hljs-keyword">while</span> (g--) d = e[g], (d.selected = n.inArray(n.valHooks.option.get(d), f) &gt; <span class="hljs-number">-1</span>) &amp;&amp; (c = !<span class="hljs-number">0</span>);
                    <span class="hljs-keyword">return</span> c || (a.selectedIndex = <span class="hljs-number">-1</span>), f
                }
            }
        }
    }), n.each([<span class="hljs-string">"radio"</span>, <span class="hljs-string">"checkbox"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        n.valHooks[<span class="hljs-keyword">this</span>] = {
            <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">return</span> n.isArray(b) ? a.checked = n.inArray(n(a).val(), b) &gt; <span class="hljs-number">-1</span> : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
            }
        }, l.checkOn || (n.valHooks[<span class="hljs-keyword">this</span>].get = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> === a.getAttribute(<span class="hljs-string">"value"</span>) ? <span class="hljs-string">"on"</span> : a.value
        })
    });
    <span class="hljs-keyword">var</span> ib = <span class="hljs-regexp">/^(?:focusinfocus|focusoutblur)$/</span>;
    n.extend(n.event, {
        <span class="hljs-attr">trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, e, f</span>) </span>{
            <span class="hljs-keyword">var</span> g, h, i, j, l, m, o, p = [e || d],
                q = k.call(b, <span class="hljs-string">"type"</span>) ? b.type : b,
                r = k.call(b, <span class="hljs-string">"namespace"</span>) ? b.namespace.split(<span class="hljs-string">"."</span>) : [];
            <span class="hljs-keyword">if</span> (h = i = e = e || d, <span class="hljs-number">3</span> !== e.nodeType &amp;&amp; <span class="hljs-number">8</span> !== e.nodeType &amp;&amp; !ib.test(q + n.event.triggered) &amp;&amp; (q.indexOf(<span class="hljs-string">"."</span>) &gt; <span class="hljs-number">-1</span> &amp;&amp; (r = q.split(<span class="hljs-string">"."</span>), q = r.shift(), r.sort()), l = q.indexOf(<span class="hljs-string">":"</span>) &lt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-string">"on"</span> + q, b = b[n.expando] ? b : <span class="hljs-keyword">new</span> n.Event(q, <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; b), b.isTrigger = f ? <span class="hljs-number">2</span> : <span class="hljs-number">3</span>, b.namespace = r.join(<span class="hljs-string">"."</span>), b.rnamespace = b.namespace ? <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"(^|\\.)"</span> + r.join(<span class="hljs-string">"\\.(?:.*\\.|)"</span>) + <span class="hljs-string">"(\\.|$)"</span>) : <span class="hljs-literal">null</span>, b.result = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, b.target || (b.target = e), c = <span class="hljs-literal">null</span> == c ? [b] : n.makeArray(c, [b]), o = n.event.special[q] || {}, f || !o.trigger || o.trigger.apply(e, c) !== !<span class="hljs-number">1</span>)) {
                <span class="hljs-keyword">if</span> (!f &amp;&amp; !o.noBubble &amp;&amp; !n.isWindow(e)) {
                    <span class="hljs-keyword">for</span> (j = o.delegateType || q, ib.test(j + q) || (h = h.parentNode); h; h = h.parentNode) p.push(h), i = h;
                    i === (e.ownerDocument || d) &amp;&amp; p.push(i.defaultView || i.parentWindow || a)
                }
                g = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> ((h = p[g++]) &amp;&amp; !b.isPropagationStopped()) b.type = g &gt; <span class="hljs-number">1</span> ? j : o.bindType || q, m = (N.get(h, <span class="hljs-string">"events"</span>) || {})[b.type] &amp;&amp; N.get(h, <span class="hljs-string">"handle"</span>), m &amp;&amp; m.apply(h, c), m = l &amp;&amp; h[l], m &amp;&amp; m.apply &amp;&amp; L(h) &amp;&amp; (b.result = m.apply(h, c), b.result === !<span class="hljs-number">1</span> &amp;&amp; b.preventDefault());
                <span class="hljs-keyword">return</span> b.type = q, f || b.isDefaultPrevented() || o._default &amp;&amp; o._default.apply(p.pop(), c) !== !<span class="hljs-number">1</span> || !L(e) || l &amp;&amp; n.isFunction(e[q]) &amp;&amp; !n.isWindow(e) &amp;&amp; (i = e[l], i &amp;&amp; (e[l] = <span class="hljs-literal">null</span>), n.event.triggered = q, e[q](), n.event.triggered = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, i &amp;&amp; (e[l] = i)), b.result
            }
        },
        <span class="hljs-attr">simulate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d = n.extend(<span class="hljs-keyword">new</span> n.Event, c, {
                <span class="hljs-attr">type</span>: a,
                <span class="hljs-attr">isSimulated</span>: !<span class="hljs-number">0</span>
            });
            n.event.trigger(d, <span class="hljs-literal">null</span>, b), d.isDefaultPrevented() &amp;&amp; c.preventDefault()
        }
    }), n.fn.extend({
        <span class="hljs-attr">trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.event.trigger(a, b, <span class="hljs-keyword">this</span>)
            })
        },
        <span class="hljs-attr">triggerHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">return</span> c ? n.event.trigger(a, b, c, !<span class="hljs-number">0</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        }
    }), n.each(<span class="hljs-string">"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu"</span>.split(<span class="hljs-string">" "</span>), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.fn[b] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">arguments</span>.length &gt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">this</span>.on(b, <span class="hljs-literal">null</span>, a, c) : <span class="hljs-keyword">this</span>.trigger(b)
        }
    }), n.fn.extend({
        <span class="hljs-attr">hover</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.mouseenter(a).mouseleave(b || a)
        }
    }), l.focusin = <span class="hljs-string">"onfocusin"</span> <span class="hljs-keyword">in</span> a, l.focusin || n.each({
        <span class="hljs-attr">focus</span>: <span class="hljs-string">"focusin"</span>,
        <span class="hljs-attr">blur</span>: <span class="hljs-string">"focusout"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            n.event.simulate(b, a.target, n.event.fix(a))
        };
        n.event.special[b] = {
            <span class="hljs-attr">setup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.ownerDocument || <span class="hljs-keyword">this</span>,
                    e = N.access(d, b);
                e || d.addEventListener(a, c, !<span class="hljs-number">0</span>), N.access(d, b, (e || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>)
            },
            <span class="hljs-attr">teardown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.ownerDocument || <span class="hljs-keyword">this</span>,
                    e = N.access(d, b) - <span class="hljs-number">1</span>;
                e ? N.access(d, b, e) : (d.removeEventListener(a, c, !<span class="hljs-number">0</span>), N.remove(d, b))
            }
        }
    });
    <span class="hljs-keyword">var</span> jb = a.location,
        kb = n.now(),
        lb = <span class="hljs-regexp">/\?/</span>;
    n.parseJSON = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.parse(a + <span class="hljs-string">""</span>)
    }, n.parseXML = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">var</span> c;
        <span class="hljs-keyword">if</span> (!b || <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> b) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            c = (<span class="hljs-keyword">new</span> a.DOMParser).parseFromString(b, <span class="hljs-string">"text/xml"</span>)
        } <span class="hljs-keyword">catch</span> (d) {
            c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        }
        <span class="hljs-keyword">return</span> c &amp;&amp; !c.getElementsByTagName(<span class="hljs-string">"parsererror"</span>).length || n.error(<span class="hljs-string">"Invalid XML: "</span> + b), c
    };
    <span class="hljs-keyword">var</span> mb = <span class="hljs-regexp">/#.*$/</span>,
        nb = <span class="hljs-regexp">/([?&amp;])_=[^&amp;]*/</span>,
        ob = <span class="hljs-regexp">/^(.*?):[ \t]*([^\r\n]*)$/gm</span>,
        pb = <span class="hljs-regexp">/^(?:about|app|app-storage|.+-extension|file|res|widget):$/</span>,
        qb = <span class="hljs-regexp">/^(?:GET|HEAD)$/</span>,
        rb = <span class="hljs-regexp">/^\/\//</span>,
        sb = {},
        tb = {},
        ub = <span class="hljs-string">"*/"</span>.concat(<span class="hljs-string">"*"</span>),
        vb = d.createElement(<span class="hljs-string">"a"</span>);
    vb.href = jb.href;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">wb</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
            <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> b &amp;&amp; (c = b, b = <span class="hljs-string">"*"</span>);
            <span class="hljs-keyword">var</span> d, e = <span class="hljs-number">0</span>,
                f = b.toLowerCase().match(G) || [];
            <span class="hljs-keyword">if</span> (n.isFunction(c))
                <span class="hljs-keyword">while</span> (d = f[e++]) <span class="hljs-string">"+"</span> === d[<span class="hljs-number">0</span>] ? (d = d.slice(<span class="hljs-number">1</span>) || <span class="hljs-string">"*"</span>, (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">xb</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
        <span class="hljs-keyword">var</span> e = {},
            f = a === tb;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">g</span>(<span class="hljs-params">h</span>) </span>{
            <span class="hljs-keyword">var</span> i;
            <span class="hljs-keyword">return</span> e[h] = !<span class="hljs-number">0</span>, n.each(a[h] || [], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, h</span>) </span>{
                <span class="hljs-keyword">var</span> j = h(b, c, d);
                <span class="hljs-keyword">return</span> <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> j || f || e[j] ? f ? !(i = j) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> : (b.dataTypes.unshift(j), g(j), !<span class="hljs-number">1</span>)
            }), i
        }
        <span class="hljs-keyword">return</span> g(b.dataTypes[<span class="hljs-number">0</span>]) || !e[<span class="hljs-string">"*"</span>] &amp;&amp; g(<span class="hljs-string">"*"</span>)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yb</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d, e = n.ajaxSettings.flatOptions || {};
        <span class="hljs-keyword">for</span> (c <span class="hljs-keyword">in</span> b) <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== b[c] &amp;&amp; ((e[c] ? a : d || (d = {}))[c] = b[c]);
        <span class="hljs-keyword">return</span> d &amp;&amp; n.extend(!<span class="hljs-number">0</span>, a, d), a
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">zb</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">var</span> d, e, f, g, h = a.contents,
            i = a.dataTypes;
        <span class="hljs-keyword">while</span> (<span class="hljs-string">"*"</span> === i[<span class="hljs-number">0</span>]) i.shift(), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === d &amp;&amp; (d = a.mimeType || b.getResponseHeader(<span class="hljs-string">"Content-Type"</span>));
        <span class="hljs-keyword">if</span> (d)
            <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> h)
                <span class="hljs-keyword">if</span> (h[e] &amp;&amp; h[e].test(d)) {
                    i.unshift(e);
                    <span class="hljs-keyword">break</span>
                }
        <span class="hljs-keyword">if</span> (i[<span class="hljs-number">0</span>] <span class="hljs-keyword">in</span> c) f = i[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> c) {
                <span class="hljs-keyword">if</span> (!i[<span class="hljs-number">0</span>] || a.converters[e + <span class="hljs-string">" "</span> + i[<span class="hljs-number">0</span>]]) {
                    f = e;
                    <span class="hljs-keyword">break</span>
                }
                g || (g = e)
            }
            f = f || g
        }
        <span class="hljs-keyword">return</span> f ? (f !== i[<span class="hljs-number">0</span>] &amp;&amp; i.unshift(f), c[f]) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Ab</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
        <span class="hljs-keyword">var</span> e, f, g, h, i, j = {},
            k = a.dataTypes.slice();
        <span class="hljs-keyword">if</span> (k[<span class="hljs-number">1</span>])
            <span class="hljs-keyword">for</span> (g <span class="hljs-keyword">in</span> a.converters) j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        <span class="hljs-keyword">while</span> (f)
            <span class="hljs-keyword">if</span> (a.responseFields[f] &amp;&amp; (c[a.responseFields[f]] = b), !i &amp;&amp; d &amp;&amp; a.dataFilter &amp;&amp; (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
                <span class="hljs-keyword">if</span> (<span class="hljs-string">"*"</span> === f) f = i;
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-string">"*"</span> !== i &amp;&amp; i !== f) {
            <span class="hljs-keyword">if</span> (g = j[i + <span class="hljs-string">" "</span> + f] || j[<span class="hljs-string">"* "</span> + f], !g)
                <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> j)
                    <span class="hljs-keyword">if</span> (h = e.split(<span class="hljs-string">" "</span>), h[<span class="hljs-number">1</span>] === f &amp;&amp; (g = j[i + <span class="hljs-string">" "</span> + h[<span class="hljs-number">0</span>]] || j[<span class="hljs-string">"* "</span> + h[<span class="hljs-number">0</span>]])) {
                        g === !<span class="hljs-number">0</span> ? g = j[e] : j[e] !== !<span class="hljs-number">0</span> &amp;&amp; (f = h[<span class="hljs-number">0</span>], k.unshift(h[<span class="hljs-number">1</span>]));
                        <span class="hljs-keyword">break</span>
                    }
            <span class="hljs-keyword">if</span> (g !== !<span class="hljs-number">0</span>)
                <span class="hljs-keyword">if</span> (g &amp;&amp; a[<span class="hljs-string">"throws"</span>]) b = g(b);
                <span class="hljs-keyword">else</span> <span class="hljs-keyword">try</span> {
                    b = g(b)
                } <span class="hljs-keyword">catch</span> (l) {
                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">state</span>: <span class="hljs-string">"parsererror"</span>,
                        <span class="hljs-attr">error</span>: g ? l : <span class="hljs-string">"No conversion from "</span> + i + <span class="hljs-string">" to "</span> + f
                    }
                }
        }
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">state</span>: <span class="hljs-string">"success"</span>,
            <span class="hljs-attr">data</span>: b
        }
    }
    n.extend({
        <span class="hljs-attr">active</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">lastModified</span>: {},
        <span class="hljs-attr">etag</span>: {},
        <span class="hljs-attr">ajaxSettings</span>: {
            <span class="hljs-attr">url</span>: jb.href,
            <span class="hljs-attr">type</span>: <span class="hljs-string">"GET"</span>,
            <span class="hljs-attr">isLocal</span>: pb.test(jb.protocol),
            <span class="hljs-attr">global</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">processData</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">async</span>: !<span class="hljs-number">0</span>,
            <span class="hljs-attr">contentType</span>: <span class="hljs-string">"application/x-www-form-urlencoded; charset=UTF-8"</span>,
            <span class="hljs-attr">accepts</span>: {
                <span class="hljs-string">"*"</span>: ub,
                <span class="hljs-attr">text</span>: <span class="hljs-string">"text/plain"</span>,
                <span class="hljs-attr">html</span>: <span class="hljs-string">"text/html"</span>,
                <span class="hljs-attr">xml</span>: <span class="hljs-string">"application/xml, text/xml"</span>,
                <span class="hljs-attr">json</span>: <span class="hljs-string">"application/json, text/javascript"</span>
            },
            <span class="hljs-attr">contents</span>: {
                <span class="hljs-attr">xml</span>: <span class="hljs-regexp">/\bxml\b/</span>,
                <span class="hljs-attr">html</span>: <span class="hljs-regexp">/\bhtml/</span>,
                <span class="hljs-attr">json</span>: <span class="hljs-regexp">/\bjson\b/</span>
            },
            <span class="hljs-attr">responseFields</span>: {
                <span class="hljs-attr">xml</span>: <span class="hljs-string">"responseXML"</span>,
                <span class="hljs-attr">text</span>: <span class="hljs-string">"responseText"</span>,
                <span class="hljs-attr">json</span>: <span class="hljs-string">"responseJSON"</span>
            },
            <span class="hljs-attr">converters</span>: {
                <span class="hljs-string">"* text"</span>: <span class="hljs-built_in">String</span>,
                <span class="hljs-string">"text html"</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-string">"text json"</span>: n.parseJSON,
                <span class="hljs-string">"text xml"</span>: n.parseXML
            },
            <span class="hljs-attr">flatOptions</span>: {
                <span class="hljs-attr">url</span>: !<span class="hljs-number">0</span>,
                <span class="hljs-attr">context</span>: !<span class="hljs-number">0</span>
            }
        },
        <span class="hljs-attr">ajaxSetup</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> b ? yb(yb(a, n.ajaxSettings), b) : yb(n.ajaxSettings, a)
        },
        <span class="hljs-attr">ajaxPrefilter</span>: wb(sb),
        <span class="hljs-attr">ajaxTransport</span>: wb(tb),
        <span class="hljs-attr">ajax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c</span>) </span>{
            <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; (c = b, b = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), c = c || {};
            <span class="hljs-keyword">var</span> e, f, g, h, i, j, k, l, m = n.ajaxSetup({}, c),
                o = m.context || m,
                p = m.context &amp;&amp; (o.nodeType || o.jquery) ? n(o) : n.event,
                q = n.Deferred(),
                r = n.Callbacks(<span class="hljs-string">"once memory"</span>),
                s = m.statusCode || {},
                t = {},
                u = {},
                v = <span class="hljs-number">0</span>,
                w = <span class="hljs-string">"canceled"</span>,
                x = {
                    <span class="hljs-attr">readyState</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">getResponseHeader</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">var</span> b;
                        <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span> === v) {
                            <span class="hljs-keyword">if</span> (!h) {
                                h = {};
                                <span class="hljs-keyword">while</span> (b = ob.exec(g)) h[b[<span class="hljs-number">1</span>].toLowerCase()] = b[<span class="hljs-number">2</span>]
                            }
                            b = h[a.toLowerCase()]
                        }
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == b ? <span class="hljs-literal">null</span> : b
                    },
                    <span class="hljs-attr">getAllResponseHeaders</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> === v ? g : <span class="hljs-literal">null</span>
                    },
                    <span class="hljs-attr">setRequestHeader</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                        <span class="hljs-keyword">var</span> c = a.toLowerCase();
                        <span class="hljs-keyword">return</span> v || (a = u[c] = u[c] || a, t[a] = b), <span class="hljs-keyword">this</span>
                    },
                    <span class="hljs-attr">overrideMimeType</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">return</span> v || (m.mimeType = a), <span class="hljs-keyword">this</span>
                    },
                    <span class="hljs-attr">statusCode</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">var</span> b;
                        <span class="hljs-keyword">if</span> (a)
                            <span class="hljs-keyword">if</span> (<span class="hljs-number">2</span> &gt; v)
                                <span class="hljs-keyword">for</span> (b <span class="hljs-keyword">in</span> a) s[b] = [s[b], a[b]];
                            <span class="hljs-keyword">else</span> x.always(a[x.status]);
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
                    },
                    <span class="hljs-attr">abort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        <span class="hljs-keyword">var</span> b = a || w;
                        <span class="hljs-keyword">return</span> e &amp;&amp; e.abort(b), z(<span class="hljs-number">0</span>, b), <span class="hljs-keyword">this</span>
                    }
                };
            <span class="hljs-keyword">if</span> (q.promise(x).complete = r.add, x.success = x.done, x.error = x.fail, m.url = ((b || m.url || jb.href) + <span class="hljs-string">""</span>).replace(mb, <span class="hljs-string">""</span>).replace(rb, jb.protocol + <span class="hljs-string">"//"</span>), m.type = c.method || c.type || m.method || m.type, m.dataTypes = n.trim(m.dataType || <span class="hljs-string">"*"</span>).toLowerCase().match(G) || [<span class="hljs-string">""</span>], <span class="hljs-literal">null</span> == m.crossDomain) {
                j = d.createElement(<span class="hljs-string">"a"</span>);
                <span class="hljs-keyword">try</span> {
                    j.href = m.url, j.href = j.href, m.crossDomain = vb.protocol + <span class="hljs-string">"//"</span> + vb.host != j.protocol + <span class="hljs-string">"//"</span> + j.host
                } <span class="hljs-keyword">catch</span> (y) {
                    m.crossDomain = !<span class="hljs-number">0</span>
                }
            }
            <span class="hljs-keyword">if</span> (m.data &amp;&amp; m.processData &amp;&amp; <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> m.data &amp;&amp; (m.data = n.param(m.data, m.traditional)), xb(sb, m, c, x), <span class="hljs-number">2</span> === v) <span class="hljs-keyword">return</span> x;
            k = n.event &amp;&amp; m.global, k &amp;&amp; <span class="hljs-number">0</span> === n.active++ &amp;&amp; n.event.trigger(<span class="hljs-string">"ajaxStart"</span>), m.type = m.type.toUpperCase(), m.hasContent = !qb.test(m.type), f = m.url, m.hasContent || (m.data &amp;&amp; (f = m.url += (lb.test(f) ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">"?"</span>) + m.data, <span class="hljs-keyword">delete</span> m.data), m.cache === !<span class="hljs-number">1</span> &amp;&amp; (m.url = nb.test(f) ? f.replace(nb, <span class="hljs-string">"$1_="</span> + kb++) : f + (lb.test(f) ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">"?"</span>) + <span class="hljs-string">"_="</span> + kb++)), m.ifModified &amp;&amp; (n.lastModified[f] &amp;&amp; x.setRequestHeader(<span class="hljs-string">"If-Modified-Since"</span>, n.lastModified[f]), n.etag[f] &amp;&amp; x.setRequestHeader(<span class="hljs-string">"If-None-Match"</span>, n.etag[f])), (m.data &amp;&amp; m.hasContent &amp;&amp; m.contentType !== !<span class="hljs-number">1</span> || c.contentType) &amp;&amp; x.setRequestHeader(<span class="hljs-string">"Content-Type"</span>, m.contentType), x.setRequestHeader(<span class="hljs-string">"Accept"</span>, m.dataTypes[<span class="hljs-number">0</span>] &amp;&amp; m.accepts[m.dataTypes[<span class="hljs-number">0</span>]] ? m.accepts[m.dataTypes[<span class="hljs-number">0</span>]] + (<span class="hljs-string">"*"</span> !== m.dataTypes[<span class="hljs-number">0</span>] ? <span class="hljs-string">", "</span> + ub + <span class="hljs-string">"; q=0.01"</span> : <span class="hljs-string">""</span>) : m.accepts[<span class="hljs-string">"*"</span>]);
            <span class="hljs-keyword">for</span> (l <span class="hljs-keyword">in</span> m.headers) x.setRequestHeader(l, m.headers[l]);
            <span class="hljs-keyword">if</span> (m.beforeSend &amp;&amp; (m.beforeSend.call(o, x, m) === !<span class="hljs-number">1</span> || <span class="hljs-number">2</span> === v)) <span class="hljs-keyword">return</span> x.abort();
            w = <span class="hljs-string">"abort"</span>;
            <span class="hljs-keyword">for</span> (l <span class="hljs-keyword">in</span> {
                    <span class="hljs-attr">success</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-attr">error</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-attr">complete</span>: <span class="hljs-number">1</span>
                }) x[l](m[l]);
            <span class="hljs-keyword">if</span> (e = xb(tb, m, c, x)) {
                <span class="hljs-keyword">if</span> (x.readyState = <span class="hljs-number">1</span>, k &amp;&amp; p.trigger(<span class="hljs-string">"ajaxSend"</span>, [x, m]), <span class="hljs-number">2</span> === v) <span class="hljs-keyword">return</span> x;
                m.async &amp;&amp; m.timeout &gt; <span class="hljs-number">0</span> &amp;&amp; (i = a.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    x.abort(<span class="hljs-string">"timeout"</span>)
                }, m.timeout));
                <span class="hljs-keyword">try</span> {
                    v = <span class="hljs-number">1</span>, e.send(t, z)
                } <span class="hljs-keyword">catch</span> (y) {
                    <span class="hljs-keyword">if</span> (!(<span class="hljs-number">2</span> &gt; v)) <span class="hljs-keyword">throw</span> y;
                    z(<span class="hljs-number">-1</span>, y)
                }
            } <span class="hljs-keyword">else</span> z(<span class="hljs-number">-1</span>, <span class="hljs-string">"No Transport"</span>);

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">z</span>(<span class="hljs-params">b, c, d, h</span>) </span>{
                <span class="hljs-keyword">var</span> j, l, t, u, w, y = c;
                <span class="hljs-number">2</span> !== v &amp;&amp; (v = <span class="hljs-number">2</span>, i &amp;&amp; a.clearTimeout(i), e = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, g = h || <span class="hljs-string">""</span>, x.readyState = b &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">4</span> : <span class="hljs-number">0</span>, j = b &gt;= <span class="hljs-number">200</span> &amp;&amp; <span class="hljs-number">300</span> &gt; b || <span class="hljs-number">304</span> === b, d &amp;&amp; (u = zb(m, x, d)), u = Ab(m, u, x, j), j ? (m.ifModified &amp;&amp; (w = x.getResponseHeader(<span class="hljs-string">"Last-Modified"</span>), w &amp;&amp; (n.lastModified[f] = w), w = x.getResponseHeader(<span class="hljs-string">"etag"</span>), w &amp;&amp; (n.etag[f] = w)), <span class="hljs-number">204</span> === b || <span class="hljs-string">"HEAD"</span> === m.type ? y = <span class="hljs-string">"nocontent"</span> : <span class="hljs-number">304</span> === b ? y = <span class="hljs-string">"notmodified"</span> : (y = u.state, l = u.data, t = u.error, j = !t)) : (t = y, !b &amp;&amp; y || (y = <span class="hljs-string">"error"</span>, <span class="hljs-number">0</span> &gt; b &amp;&amp; (b = <span class="hljs-number">0</span>))), x.status = b, x.statusText = (c || y) + <span class="hljs-string">""</span>, j ? q.resolveWith(o, [l, y, x]) : q.rejectWith(o, [x, y, t]), x.statusCode(s), s = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, k &amp;&amp; p.trigger(j ? <span class="hljs-string">"ajaxSuccess"</span> : <span class="hljs-string">"ajaxError"</span>, [x, m, j ? l : t]), r.fireWith(o, [x, y]), k &amp;&amp; (p.trigger(<span class="hljs-string">"ajaxComplete"</span>, [x, m]), --n.active || n.event.trigger(<span class="hljs-string">"ajaxStop"</span>)))
            }
            <span class="hljs-keyword">return</span> x
        },
        <span class="hljs-attr">getJSON</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> n.get(a, b, c, <span class="hljs-string">"json"</span>)
        },
        <span class="hljs-attr">getScript</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> n.get(a, <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, b, <span class="hljs-string">"script"</span>)
        }
    }), n.each([<span class="hljs-string">"get"</span>, <span class="hljs-string">"post"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n[b] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c, d, e</span>) </span>{
            <span class="hljs-keyword">return</span> n.isFunction(c) &amp;&amp; (e = e || d, d = c, c = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), n.ajax(n.extend({
                <span class="hljs-attr">url</span>: a,
                <span class="hljs-attr">type</span>: b,
                <span class="hljs-attr">dataType</span>: e,
                <span class="hljs-attr">data</span>: c,
                <span class="hljs-attr">success</span>: d
            }, n.isPlainObject(a) &amp;&amp; a))
        }
    }), n._evalUrl = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> n.ajax({
            <span class="hljs-attr">url</span>: a,
            <span class="hljs-attr">type</span>: <span class="hljs-string">"GET"</span>,
            <span class="hljs-attr">dataType</span>: <span class="hljs-string">"script"</span>,
            <span class="hljs-attr">async</span>: !<span class="hljs-number">1</span>,
            <span class="hljs-attr">global</span>: !<span class="hljs-number">1</span>,
            <span class="hljs-string">"throws"</span>: !<span class="hljs-number">0</span>
        })
    }, n.fn.extend({
        <span class="hljs-attr">wrapAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b;
            <span class="hljs-keyword">return</span> n.isFunction(a) ? <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                n(<span class="hljs-keyword">this</span>).wrapAll(a.call(<span class="hljs-keyword">this</span>, b))
            }) : (<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>] &amp;&amp; (b = n(a, <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>].ownerDocument).eq(<span class="hljs-number">0</span>).clone(!<span class="hljs-number">0</span>), <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>].parentNode &amp;&amp; b.insertBefore(<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]), b.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>;
                <span class="hljs-keyword">while</span> (a.firstElementChild) a = a.firstElementChild;
                <span class="hljs-keyword">return</span> a
            }).append(<span class="hljs-keyword">this</span>)), <span class="hljs-keyword">this</span>)
        },
        <span class="hljs-attr">wrapInner</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> n.isFunction(a) ? <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                n(<span class="hljs-keyword">this</span>).wrapInner(a.call(<span class="hljs-keyword">this</span>, b))
            }) : <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> b = n(<span class="hljs-keyword">this</span>),
                    c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            })
        },
        <span class="hljs-attr">wrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">var</span> b = n.isFunction(a);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                n(<span class="hljs-keyword">this</span>).wrapAll(b ? a.call(<span class="hljs-keyword">this</span>, c) : a)
            })
        },
        <span class="hljs-attr">unwrap</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.parent().each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                n.nodeName(<span class="hljs-keyword">this</span>, <span class="hljs-string">"body"</span>) || n(<span class="hljs-keyword">this</span>).replaceWith(<span class="hljs-keyword">this</span>.childNodes)
            }).end()
        }
    }), n.expr.filters.hidden = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> !n.expr.filters.visible(a)
    }, n.expr.filters.visible = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> a.offsetWidth &gt; <span class="hljs-number">0</span> || a.offsetHeight &gt; <span class="hljs-number">0</span> || a.getClientRects().length &gt; <span class="hljs-number">0</span>
    };
    <span class="hljs-keyword">var</span> Bb = <span class="hljs-regexp">/%20/g</span>,
        Cb = <span class="hljs-regexp">/\[\]$/</span>,
        Db = <span class="hljs-regexp">/\r?\n/g</span>,
        Eb = <span class="hljs-regexp">/^(?:submit|button|image|reset|file)$/i</span>,
        Fb = <span class="hljs-regexp">/^(?:input|select|textarea|keygen)/i</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gb</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
        <span class="hljs-keyword">var</span> e;
        <span class="hljs-keyword">if</span> (n.isArray(b)) n.each(b, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, e</span>) </span>{
            c || Cb.test(a) ? d(a, e) : Gb(a + <span class="hljs-string">"["</span> + (<span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> e &amp;&amp; <span class="hljs-literal">null</span> != e ? b : <span class="hljs-string">""</span>) + <span class="hljs-string">"]"</span>, e, c, d)
        });
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (c || <span class="hljs-string">"object"</span> !== n.type(b)) d(a, b);
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">for</span> (e <span class="hljs-keyword">in</span> b) Gb(a + <span class="hljs-string">"["</span> + e + <span class="hljs-string">"]"</span>, b[e], c, d)
    }
    n.param = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d = [],
            e = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                b = n.isFunction(b) ? b() : <span class="hljs-literal">null</span> == b ? <span class="hljs-string">""</span> : b, d[d.length] = <span class="hljs-built_in">encodeURIComponent</span>(a) + <span class="hljs-string">"="</span> + <span class="hljs-built_in">encodeURIComponent</span>(b)
            };
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === b &amp;&amp; (b = n.ajaxSettings &amp;&amp; n.ajaxSettings.traditional), n.isArray(a) || a.jquery &amp;&amp; !n.isPlainObject(a)) n.each(a, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            e(<span class="hljs-keyword">this</span>.name, <span class="hljs-keyword">this</span>.value)
        });
        <span class="hljs-keyword">else</span>
            <span class="hljs-keyword">for</span> (c <span class="hljs-keyword">in</span> a) Gb(c, a[c], b, e);
        <span class="hljs-keyword">return</span> d.join(<span class="hljs-string">"&amp;"</span>).replace(Bb, <span class="hljs-string">"+"</span>)
    }, n.fn.extend({
        <span class="hljs-attr">serialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> n.param(<span class="hljs-keyword">this</span>.serializeArray())
        },
        <span class="hljs-attr">serializeArray</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> a = n.prop(<span class="hljs-keyword">this</span>, <span class="hljs-string">"elements"</span>);
                <span class="hljs-keyword">return</span> a ? n.makeArray(a) : <span class="hljs-keyword">this</span>
            }).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.type;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.name &amp;&amp; !n(<span class="hljs-keyword">this</span>).is(<span class="hljs-string">":disabled"</span>) &amp;&amp; Fb.test(<span class="hljs-keyword">this</span>.nodeName) &amp;&amp; !Eb.test(a) &amp;&amp; (<span class="hljs-keyword">this</span>.checked || !X.test(a))
            }).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
                <span class="hljs-keyword">var</span> c = n(<span class="hljs-keyword">this</span>).val();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span> == c ? <span class="hljs-literal">null</span> : n.isArray(c) ? n.map(c, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">name</span>: b.name,
                        <span class="hljs-attr">value</span>: a.replace(Db, <span class="hljs-string">"\r\n"</span>)
                    }
                }) : {
                    <span class="hljs-attr">name</span>: b.name,
                    <span class="hljs-attr">value</span>: c.replace(Db, <span class="hljs-string">"\r\n"</span>)
                }
            }).get()
        }
    }), n.ajaxSettings.xhr = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> a.XMLHttpRequest
        } <span class="hljs-keyword">catch</span> (b) {}
    };
    <span class="hljs-keyword">var</span> Hb = {
            <span class="hljs-number">0</span>: <span class="hljs-number">200</span>,
            <span class="hljs-number">1223</span>: <span class="hljs-number">204</span>
        },
        Ib = n.ajaxSettings.xhr();
    l.cors = !!Ib &amp;&amp; <span class="hljs-string">"withCredentials"</span> <span class="hljs-keyword">in</span> Ib, l.ajax = Ib = !!Ib, n.ajaxTransport(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">var</span> c, d;
        <span class="hljs-keyword">return</span> l.cors || Ib &amp;&amp; !b.crossDomain ? {
            <span class="hljs-attr">send</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, f</span>) </span>{
                <span class="hljs-keyword">var</span> g, h = b.xhr();
                <span class="hljs-keyword">if</span> (h.open(b.type, b.url, b.async, b.username, b.password), b.xhrFields)
                    <span class="hljs-keyword">for</span> (g <span class="hljs-keyword">in</span> b.xhrFields) h[g] = b.xhrFields[g];
                b.mimeType &amp;&amp; h.overrideMimeType &amp;&amp; h.overrideMimeType(b.mimeType), b.crossDomain || e[<span class="hljs-string">"X-Requested-With"</span>] || (e[<span class="hljs-string">"X-Requested-With"</span>] = <span class="hljs-string">"XMLHttpRequest"</span>);
                <span class="hljs-keyword">for</span> (g <span class="hljs-keyword">in</span> e) h.setRequestHeader(g, e[g]);
                c = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        c &amp;&amp; (c = d = h.onload = h.onerror = h.onabort = h.onreadystatechange = <span class="hljs-literal">null</span>, <span class="hljs-string">"abort"</span> === a ? h.abort() : <span class="hljs-string">"error"</span> === a ? <span class="hljs-string">"number"</span> != <span class="hljs-keyword">typeof</span> h.status ? f(<span class="hljs-number">0</span>, <span class="hljs-string">"error"</span>) : f(h.status, h.statusText) : f(Hb[h.status] || h.status, h.statusText, <span class="hljs-string">"text"</span> !== (h.responseType || <span class="hljs-string">"text"</span>) || <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> h.responseText ? {
                            <span class="hljs-attr">binary</span>: h.response
                        } : {
                            <span class="hljs-attr">text</span>: h.responseText
                        }, h.getAllResponseHeaders()))
                    }
                }, h.onload = c(), d = h.onerror = c(<span class="hljs-string">"error"</span>), <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> !== h.onabort ? h.onabort = d : h.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-number">4</span> === h.readyState &amp;&amp; a.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        c &amp;&amp; d()
                    })
                }, c = c(<span class="hljs-string">"abort"</span>);
                <span class="hljs-keyword">try</span> {
                    h.send(b.hasContent &amp;&amp; b.data || <span class="hljs-literal">null</span>)
                } <span class="hljs-keyword">catch</span> (i) {
                    <span class="hljs-keyword">if</span> (c) <span class="hljs-keyword">throw</span> i
                }
            },
            <span class="hljs-attr">abort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                c &amp;&amp; c()
            }
        } : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
    }), n.ajaxSetup({
        <span class="hljs-attr">accepts</span>: {
            <span class="hljs-attr">script</span>: <span class="hljs-string">"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"</span>
        },
        <span class="hljs-attr">contents</span>: {
            <span class="hljs-attr">script</span>: <span class="hljs-regexp">/\b(?:java|ecma)script\b/</span>
        },
        <span class="hljs-attr">converters</span>: {
            <span class="hljs-string">"text script"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                <span class="hljs-keyword">return</span> n.globalEval(a), a
            }
        }
    }), n.ajaxPrefilter(<span class="hljs-string">"script"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a.cache &amp;&amp; (a.cache = !<span class="hljs-number">1</span>), a.crossDomain &amp;&amp; (a.type = <span class="hljs-string">"GET"</span>)
    }), n.ajaxTransport(<span class="hljs-string">"script"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">if</span> (a.crossDomain) {
            <span class="hljs-keyword">var</span> b, c;
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">send</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e, f</span>) </span>{
                    b = n(<span class="hljs-string">"&lt;script&gt;"</span>).prop({
                        <span class="hljs-attr">charset</span>: a.scriptCharset,
                        <span class="hljs-attr">src</span>: a.url
                    }).on(<span class="hljs-string">"load error"</span>, c = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
                        b.remove(), c = <span class="hljs-literal">null</span>, a &amp;&amp; f(<span class="hljs-string">"error"</span> === a.type ? <span class="hljs-number">404</span> : <span class="hljs-number">200</span>, a.type)
                    }), d.head.appendChild(b[<span class="hljs-number">0</span>])
                },
                <span class="hljs-attr">abort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    c &amp;&amp; c()
                }
            }
        }
    });
    <span class="hljs-keyword">var</span> Jb = [],
        Kb = <span class="hljs-regexp">/(=)\?(?=&amp;|$)|\?\?/</span>;
    n.ajaxSetup({
        <span class="hljs-attr">jsonp</span>: <span class="hljs-string">"callback"</span>,
        <span class="hljs-attr">jsonpCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> a = Jb.pop() || n.expando + <span class="hljs-string">"_"</span> + kb++;
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>[a] = !<span class="hljs-number">0</span>, a
        }
    }), n.ajaxPrefilter(<span class="hljs-string">"json jsonp"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, d</span>) </span>{
        <span class="hljs-keyword">var</span> e, f, g, h = b.jsonp !== !<span class="hljs-number">1</span> &amp;&amp; (Kb.test(b.url) ? <span class="hljs-string">"url"</span> : <span class="hljs-string">"string"</span> == <span class="hljs-keyword">typeof</span> b.data &amp;&amp; <span class="hljs-number">0</span> === (b.contentType || <span class="hljs-string">""</span>).indexOf(<span class="hljs-string">"application/x-www-form-urlencoded"</span>) &amp;&amp; Kb.test(b.data) &amp;&amp; <span class="hljs-string">"data"</span>);
        <span class="hljs-keyword">return</span> h || <span class="hljs-string">"jsonp"</span> === b.dataTypes[<span class="hljs-number">0</span>] ? (e = b.jsonpCallback = n.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback, h ? b[h] = b[h].replace(Kb, <span class="hljs-string">"$1"</span> + e) : b.jsonp !== !<span class="hljs-number">1</span> &amp;&amp; (b.url += (lb.test(b.url) ? <span class="hljs-string">"&amp;"</span> : <span class="hljs-string">"?"</span>) + b.jsonp + <span class="hljs-string">"="</span> + e), b.converters[<span class="hljs-string">"script json"</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> g || n.error(e + <span class="hljs-string">" was not called"</span>), g[<span class="hljs-number">0</span>]
        }, b.dataTypes[<span class="hljs-number">0</span>] = <span class="hljs-string">"json"</span>, f = a[e], a[e] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            g = <span class="hljs-built_in">arguments</span>
        }, d.always(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === f ? n(a).removeProp(e) : a[e] = f, b[e] &amp;&amp; (b.jsonpCallback = c.jsonpCallback, Jb.push(e)), g &amp;&amp; n.isFunction(f) &amp;&amp; f(g[<span class="hljs-number">0</span>]), g = f = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        }), <span class="hljs-string">"script"</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
    }), n.parseHTML = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">if</span> (!a || <span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-string">"boolean"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; (c = b, b = !<span class="hljs-number">1</span>), b = b || d;
        <span class="hljs-keyword">var</span> e = x.exec(a),
            f = !c &amp;&amp; [];
        <span class="hljs-keyword">return</span> e ? [b.createElement(e[<span class="hljs-number">1</span>])] : (e = ca([a], b, f), f &amp;&amp; f.length &amp;&amp; n(f).remove(), n.merge([], e.childNodes))
    };
    <span class="hljs-keyword">var</span> Lb = n.fn.load;
    n.fn.load = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"string"</span> != <span class="hljs-keyword">typeof</span> a &amp;&amp; Lb) <span class="hljs-keyword">return</span> Lb.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        <span class="hljs-keyword">var</span> d, e, f, g = <span class="hljs-keyword">this</span>,
            h = a.indexOf(<span class="hljs-string">" "</span>);
        <span class="hljs-keyword">return</span> h &gt; <span class="hljs-number">-1</span> &amp;&amp; (d = n.trim(a.slice(h)), a = a.slice(<span class="hljs-number">0</span>, h)), n.isFunction(b) ? (c = b, b = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) : b &amp;&amp; <span class="hljs-string">"object"</span> == <span class="hljs-keyword">typeof</span> b &amp;&amp; (e = <span class="hljs-string">"POST"</span>), g.length &gt; <span class="hljs-number">0</span> &amp;&amp; n.ajax({
            <span class="hljs-attr">url</span>: a,
            <span class="hljs-attr">type</span>: e || <span class="hljs-string">"GET"</span>,
            <span class="hljs-attr">dataType</span>: <span class="hljs-string">"html"</span>,
            <span class="hljs-attr">data</span>: b
        }).done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            f = <span class="hljs-built_in">arguments</span>, g.html(d ? n(<span class="hljs-string">"&lt;div&gt;"</span>).append(n.parseHTML(a)).find(d) : a)
        }).always(c &amp;&amp; <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            g.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                c.apply(<span class="hljs-keyword">this</span>, f || [a.responseText, b, a])
            })
        }), <span class="hljs-keyword">this</span>
    }, n.each([<span class="hljs-string">"ajaxStart"</span>, <span class="hljs-string">"ajaxStop"</span>, <span class="hljs-string">"ajaxComplete"</span>, <span class="hljs-string">"ajaxError"</span>, <span class="hljs-string">"ajaxSuccess"</span>, <span class="hljs-string">"ajaxSend"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.fn[b] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.on(b, a)
        }
    }), n.expr.filters.animated = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> n.grep(n.timers, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
            <span class="hljs-keyword">return</span> a === b.elem
        }).length
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mb</span>(<span class="hljs-params">a</span>) </span>{
        <span class="hljs-keyword">return</span> n.isWindow(a) ? a : <span class="hljs-number">9</span> === a.nodeType &amp;&amp; a.defaultView
    }
    n.offset = {
        <span class="hljs-attr">setOffset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">var</span> d, e, f, g, h, i, j, k = n.css(a, <span class="hljs-string">"position"</span>),
                l = n(a),
                m = {};
            <span class="hljs-string">"static"</span> === k &amp;&amp; (a.style.position = <span class="hljs-string">"relative"</span>), h = l.offset(), f = n.css(a, <span class="hljs-string">"top"</span>), i = n.css(a, <span class="hljs-string">"left"</span>), j = (<span class="hljs-string">"absolute"</span> === k || <span class="hljs-string">"fixed"</span> === k) &amp;&amp; (f + i).indexOf(<span class="hljs-string">"auto"</span>) &gt; <span class="hljs-number">-1</span>, j ? (d = l.position(), g = d.top, e = d.left) : (g = <span class="hljs-built_in">parseFloat</span>(f) || <span class="hljs-number">0</span>, e = <span class="hljs-built_in">parseFloat</span>(i) || <span class="hljs-number">0</span>), n.isFunction(b) &amp;&amp; (b = b.call(a, c, n.extend({}, h))), <span class="hljs-literal">null</span> != b.top &amp;&amp; (m.top = b.top - h.top + g), <span class="hljs-literal">null</span> != b.left &amp;&amp; (m.left = b.left - h.left + e), <span class="hljs-string">"using"</span> <span class="hljs-keyword">in</span> b ? b.using.call(a, m) : l.css(m)
        }
    }, n.fn.extend({
        <span class="hljs-attr">offset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length) <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === a ? <span class="hljs-keyword">this</span> : <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
                n.offset.setOffset(<span class="hljs-keyword">this</span>, a, b)
            });
            <span class="hljs-keyword">var</span> b, c, d = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>],
                e = {
                    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>
                },
                f = d &amp;&amp; d.ownerDocument;
            <span class="hljs-keyword">if</span> (f) <span class="hljs-keyword">return</span> b = f.documentElement, n.contains(b, d) ? (e = d.getBoundingClientRect(), c = Mb(f), {
                <span class="hljs-attr">top</span>: e.top + c.pageYOffset - b.clientTop,
                <span class="hljs-attr">left</span>: e.left + c.pageXOffset - b.clientLeft
            }) : e
        },
        <span class="hljs-attr">position</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]) {
                <span class="hljs-keyword">var</span> a, b, c = <span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>],
                    d = {
                        <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
                        <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>
                    };
                <span class="hljs-keyword">return</span> <span class="hljs-string">"fixed"</span> === n.css(c, <span class="hljs-string">"position"</span>) ? b = c.getBoundingClientRect() : (a = <span class="hljs-keyword">this</span>.offsetParent(), b = <span class="hljs-keyword">this</span>.offset(), n.nodeName(a[<span class="hljs-number">0</span>], <span class="hljs-string">"html"</span>) || (d = a.offset()), d.top += n.css(a[<span class="hljs-number">0</span>], <span class="hljs-string">"borderTopWidth"</span>, !<span class="hljs-number">0</span>), d.left += n.css(a[<span class="hljs-number">0</span>], <span class="hljs-string">"borderLeftWidth"</span>, !<span class="hljs-number">0</span>)), {
                    <span class="hljs-attr">top</span>: b.top - d.top - n.css(c, <span class="hljs-string">"marginTop"</span>, !<span class="hljs-number">0</span>),
                    <span class="hljs-attr">left</span>: b.left - d.left - n.css(c, <span class="hljs-string">"marginLeft"</span>, !<span class="hljs-number">0</span>)
                }
            }
        },
        <span class="hljs-attr">offsetParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> a = <span class="hljs-keyword">this</span>.offsetParent;
                <span class="hljs-keyword">while</span> (a &amp;&amp; <span class="hljs-string">"static"</span> === n.css(a, <span class="hljs-string">"position"</span>)) a = a.offsetParent;
                <span class="hljs-keyword">return</span> a || Ea
            })
        }
    }), n.each({
        <span class="hljs-attr">scrollLeft</span>: <span class="hljs-string">"pageXOffset"</span>,
        <span class="hljs-attr">scrollTop</span>: <span class="hljs-string">"pageYOffset"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        <span class="hljs-keyword">var</span> c = <span class="hljs-string">"pageYOffset"</span> === b;
        n.fn[a] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d</span>) </span>{
            <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, d, e</span>) </span>{
                <span class="hljs-keyword">var</span> f = Mb(a);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === e ? f ? f[b] : a[d] : <span class="hljs-keyword">void</span>(f ? f.scrollTo(c ? f.pageXOffset : e, c ? e : f.pageYOffset) : a[d] = e)
            }, a, d, <span class="hljs-built_in">arguments</span>.length)
        }
    }), n.each([<span class="hljs-string">"top"</span>, <span class="hljs-string">"left"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.cssHooks[b] = Ga(l.pixelPosition, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, c</span>) </span>{
            <span class="hljs-keyword">return</span> c ? (c = Fa(a, b), Ba.test(c) ? n(a).position()[b] + <span class="hljs-string">"px"</span> : c) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
        })
    }), n.each({
        <span class="hljs-attr">Height</span>: <span class="hljs-string">"height"</span>,
        <span class="hljs-attr">Width</span>: <span class="hljs-string">"width"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
        n.each({
            <span class="hljs-attr">padding</span>: <span class="hljs-string">"inner"</span> + a,
            <span class="hljs-attr">content</span>: b,
            <span class="hljs-string">""</span>: <span class="hljs-string">"outer"</span> + a
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c, d</span>) </span>{
            n.fn[d] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">d, e</span>) </span>{
                <span class="hljs-keyword">var</span> f = <span class="hljs-built_in">arguments</span>.length &amp;&amp; (c || <span class="hljs-string">"boolean"</span> != <span class="hljs-keyword">typeof</span> d),
                    g = c || (d === !<span class="hljs-number">0</span> || e === !<span class="hljs-number">0</span> ? <span class="hljs-string">"margin"</span> : <span class="hljs-string">"border"</span>);
                <span class="hljs-keyword">return</span> K(<span class="hljs-keyword">this</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b, c, d</span>) </span>{
                    <span class="hljs-keyword">var</span> e;
                    <span class="hljs-keyword">return</span> n.isWindow(b) ? b.document.documentElement[<span class="hljs-string">"client"</span> + a] : <span class="hljs-number">9</span> === b.nodeType ? (e = b.documentElement, <span class="hljs-built_in">Math</span>.max(b.body[<span class="hljs-string">"scroll"</span> + a], e[<span class="hljs-string">"scroll"</span> + a], b.body[<span class="hljs-string">"offset"</span> + a], e[<span class="hljs-string">"offset"</span> + a], e[<span class="hljs-string">"client"</span> + a])) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === d ? n.css(b, c, g) : n.style(b, c, d, g)
                }, b, f ? d : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>, f, <span class="hljs-literal">null</span>)
            }
        })
    }), n.fn.extend({
        <span class="hljs-attr">bind</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.on(a, <span class="hljs-literal">null</span>, b, c)
        },
        <span class="hljs-attr">unbind</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.off(a, <span class="hljs-literal">null</span>, b)
        },
        <span class="hljs-attr">delegate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c, d</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.on(b, a, c, d)
        },
        <span class="hljs-attr">undelegate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b, c</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> === <span class="hljs-built_in">arguments</span>.length ? <span class="hljs-keyword">this</span>.off(a, <span class="hljs-string">"**"</span>) : <span class="hljs-keyword">this</span>.off(b, a || <span class="hljs-string">"**"</span>, c)
        },
        <span class="hljs-attr">size</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.length
        }
    }), n.fn.andSelf = n.fn.addBack, <span class="hljs-string">"function"</span> == <span class="hljs-keyword">typeof</span> define &amp;&amp; define.amd &amp;&amp; define(<span class="hljs-string">"jquery"</span>, [], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> n
    });
    <span class="hljs-keyword">var</span> Nb = a.jQuery,
        Ob = a.$;
    <span class="hljs-keyword">return</span> n.noConflict = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">b</span>) </span>{
        <span class="hljs-keyword">return</span> a.$ === n &amp;&amp; (a.$ = Ob), b &amp;&amp; a.jQuery === n &amp;&amp; (a.jQuery = Nb), n
    }, b || (a.jQuery = a.$ = n), n
});
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/jquery/jquery_no_conflict.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.$j_glide) {
        jQuery.noConflict(<span class="hljs-literal">true</span>);
        <span class="hljs-built_in">window</span>.jQuery = $j_glide;
    }
    <span class="hljs-built_in">window</span>.$j = <span class="hljs-built_in">window</span>.$j_glide = jQuery.noConflict();
})();;;
<span class="hljs-comment">/*! RESOURCE: /scripts/lib/jquery/jquery_csrf.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
    setToken();
    CustomEvent.observe(<span class="hljs-string">'ck_updated'</span>, setToken);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setToken</span>(<span class="hljs-params"></span>) </span>{
        $.ajaxPrefilter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
            <span class="hljs-keyword">if</span> (!options.crossDomain) {
                <span class="hljs-keyword">if</span> (!options.headers)
                    options.headers = {};
                <span class="hljs-keyword">var</span> token = <span class="hljs-built_in">window</span>.g_ck || <span class="hljs-string">'token_intentionally_left_blank'</span>;
                options.headers[<span class="hljs-string">'X-UserToken'</span>] = token;
            }
        });
    }
})(jQuery);;
<span class="hljs-comment">/*! RESOURCE: scripts/classes/WFStageSet.js */</span>
<span class="hljs-keyword">var</span> WFStageSet = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getWorkflowVersionFromQuery</span>(<span class="hljs-params">qry</span>) </span>{
        <span class="hljs-keyword">if</span> (!qry)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> exps = qry.split(<span class="hljs-string">"^"</span>);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; exps.length; i++) {
            <span class="hljs-keyword">var</span> exp = exps[i];
            <span class="hljs-keyword">var</span> parts = exp.split(<span class="hljs-string">'='</span>);
            <span class="hljs-keyword">if</span> (parts.length == <span class="hljs-number">2</span> &amp;&amp; parts[<span class="hljs-number">0</span>].trim() == <span class="hljs-string">'workflow_version'</span> &amp;&amp; parts[<span class="hljs-number">1</span>].trim() != <span class="hljs-string">''</span>)
                <span class="hljs-keyword">return</span> parts[<span class="hljs-number">1</span>].trim();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">exportStageSet</span>(<span class="hljs-params">setName, workflowVersionId, filter</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'WFStageSet'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'exportStageSet'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_set_name'</span>, setName);
        ga.addParam(<span class="hljs-string">'sysparm_workflow'</span>, workflowVersionId);
        <span class="hljs-keyword">if</span> (filter != <span class="hljs-literal">null</span>)
            ga.addParam(<span class="hljs-string">'sysparm_filter'</span>, filter);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">importStages</span>(<span class="hljs-params">source, workflowVersionId, setId</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'WFStageSet'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'import'</span> + source);
        ga.addParam(<span class="hljs-string">'sysparm_set_id'</span>, setId);
        ga.addParam(<span class="hljs-string">'sysparm_workflow'</span>, workflowVersionId);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">incrementCounter</span>(<span class="hljs-params">table, column, sys_id, increment</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'WFStageSet'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'incrementCounter'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_sys_id'</span>, sys_id);
        ga.addParam(<span class="hljs-string">'sysparm_table'</span>, table);
        ga.addParam(<span class="hljs-string">'sysparm_column'</span>, column);
        ga.addParam(<span class="hljs-string">'sysparm_increment'</span>, increment);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">warnNoWorkflow</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'glide_warn'</span>);
        <span class="hljs-keyword">var</span> msgs = <span class="hljs-keyword">new</span> GwtMessage();
        dialog.setPreference(<span class="hljs-string">'title'</span>, msgs.getMessage(<span class="hljs-string">'Operation not supported.'</span>) +
            <span class="hljs-string">'&lt;br/&gt;'</span> +
            msgs.getMessage(msg));
        dialog.render();
        <span class="hljs-keyword">return</span> <span class="hljs-string">'ok'</span>;
    }
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">getWorkflowVersionFromQuery</span>: getWorkflowVersionFromQuery,
        <span class="hljs-attr">exportStageSet</span>: exportStageSet,
        <span class="hljs-attr">importStages</span>: importStages,
        <span class="hljs-attr">incrementCounter</span>: incrementCounter,
        <span class="hljs-attr">warnNoWorkflow</span>: warnNoWorkflow
    }
}());;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudFormationClient.js */</span>
<span class="hljs-keyword">var</span> CloudFormationClient = {
    <span class="hljs-attr">_fieldsInfo</span>: {},
    <span class="hljs-attr">validateCatItemParameterVariables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">control, oldValue, newValue, isLoading</span>) </span>{
        <span class="hljs-keyword">if</span> (isLoading)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> parameters = {};
        parameters.variable_control_id = control.id;
        parameters.parameter_value = newValue.trim();
        <span class="hljs-keyword">this</span>.callAjax(<span class="hljs-string">"CloudFormationAjax"</span>, <span class="hljs-string">"validateVariableValue"</span>, parameters, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">answer</span>) </span>{
            <span class="hljs-keyword">var</span> result = answer.evalJSON();
            result.control = control;
            CloudFormationClient._fieldsInfo[result[<span class="hljs-string">"name"</span>]] = result;
            <span class="hljs-keyword">if</span> (!result.isValid) {
                control.focus();
            }
            CloudFormationClient.showAllFieldMessages();
        });
    },
    <span class="hljs-attr">callAjax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ajaxName, methodName, parameters, callback</span>) </span>{
        <span class="hljs-keyword">var</span> glideAjax = <span class="hljs-keyword">new</span> GlideAjax(ajaxName);
        glideAjax.addParam(<span class="hljs-string">"sysparm_name"</span>, methodName);
        <span class="hljs-keyword">if</span> (parameters) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> parameters) {
                glideAjax.addParam(name, parameters[name]);
            }
        }
        <span class="hljs-keyword">if</span> (callback) {
            glideAjax.getXMLAnswer(callback);
        } <span class="hljs-keyword">else</span> {
            glideAjax.getXMLWait();
            <span class="hljs-keyword">return</span> glideAjax.getAnswer();
        }
    },
    <span class="hljs-attr">beforeSubmitCloudFormation</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFormValid())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Please correct errors to submit order'</span>);
        g_form.addErrorMessage(msg);
        <span class="hljs-keyword">this</span>.showAllFieldMessages(<span class="hljs-string">'error'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isFormValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo[name].isValid)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">showAllFieldMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        g_form.hideAllFieldMsgs();
        g_form.clearMessages();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">var</span> fieldInfo = <span class="hljs-keyword">this</span>._fieldsInfo[name];
            <span class="hljs-keyword">if</span> (fieldInfo.message.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fieldInfo.message.length; i++)
                    g_form.showFieldMsg(fieldInfo.control, fieldInfo.message[i], fieldInfo.msgtype);
            }
        }
    }
};
<span class="hljs-keyword">var</span> WaitDialogUtil = {
    <span class="hljs-attr">_intervalHandler</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_waitDialog</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_waitProps</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_postRenderInterval</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_dialogName</span>: <span class="hljs-string">"glide_progress_no_button"</span>,
    <span class="hljs-attr">_postDialogRenderHandler</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">setProgressDialogName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dialogName</span>) </span>{
        <span class="hljs-keyword">this</span>._dialogName = dialogName;
    },
    <span class="hljs-attr">setPostRenderHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handler</span>) </span>{
        <span class="hljs-keyword">this</span>._postDialogRenderHandler = handler;
    },
    <span class="hljs-attr">startWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">props</span>) </span>{
        props = props || <span class="hljs-keyword">this</span>._createDefaultProps();
        <span class="hljs-keyword">this</span>.stopWait();
        <span class="hljs-keyword">this</span>._waitProps = props;
        <span class="hljs-keyword">this</span>._popDialog();
        <span class="hljs-keyword">this</span>._intervalHandler = setInterval(WaitDialogUtil._checkInterval, <span class="hljs-keyword">this</span>._waitProps.interval * <span class="hljs-number">1000</span>);
    },
    <span class="hljs-attr">stopWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> util = WaitDialogUtil;
        <span class="hljs-keyword">if</span> (util._waitDialog) {
            util._waitDialog.destroy();
            util._waitDialog = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (util._intervalHandler) {
            clearInterval(util._intervalHandler);
            util._intervalHandler = <span class="hljs-literal">null</span>;
        }
        util._waitProps = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_popDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-keyword">this</span>._dialogName);
        dialog.setTitle(<span class="hljs-keyword">this</span>._waitProps.title);
        dialog.setPreference(<span class="hljs-string">"title"</span>, <span class="hljs-keyword">this</span>._waitProps.description);
        dialog.hideCloseButton();
        <span class="hljs-keyword">this</span>._waitDialog = dialog;
        <span class="hljs-keyword">this</span>._waitDialog.render();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._postDialogRenderHandler)
            <span class="hljs-keyword">this</span>._postRenderInterval = setInterval(WaitDialogUtil._postDialogRender, <span class="hljs-number">100</span>);
    },
    <span class="hljs-attr">_postDialogRender</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!WaitDialogUtil._postDialogRenderHandler)
            <span class="hljs-keyword">return</span>;
        WaitDialogUtil._postDialogRenderHandler.call(WaitDialogUtil);
    },
    <span class="hljs-attr">_checkInterval</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> util = WaitDialogUtil;
        <span class="hljs-keyword">if</span> (!util._waitProps.onInterval)
            <span class="hljs-keyword">return</span>;
        util._waitProps.onInterval.call(util._waitProps.thisObj, util._waitProps.data, util.stopWait);
    },
    <span class="hljs-attr">_createDefaultProps</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">interval</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">title</span>: <span class="hljs-string">"Error"</span>,
            <span class="hljs-attr">description</span>: <span class="hljs-string">"Properties are not set. Destroied after about 30 seconds"</span>,
            <span class="hljs-attr">data</span>: {
                <span class="hljs-attr">loop</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-attr">onInterval</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, stopWaitFun</span>) </span>{
                <span class="hljs-keyword">if</span> (data.loop &gt; <span class="hljs-number">6</span>) {
                    stopWaitFun();
                    <span class="hljs-keyword">return</span>;
                }
                data.loop = data.loop + <span class="hljs-number">1</span>;
            }
        };
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudWaitDialogUtil.js */</span>
<span class="hljs-keyword">var</span> CloudWaitDialogUtil = {
    <span class="hljs-attr">_intervalHandler</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_waitDialog</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_waitProps</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_postRenderInterval</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">_dialogName</span>: <span class="hljs-string">"glide_progress_no_button"</span>,
    <span class="hljs-attr">_postDialogRenderHandler</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">cloudSetProgressDialogName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dialogName</span>) </span>{
        <span class="hljs-keyword">this</span>._dialogName = dialogName;
    },
    <span class="hljs-attr">setPostRenderHandler</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handler</span>) </span>{
        <span class="hljs-keyword">this</span>._postDialogRenderHandler = handler;
    },
    <span class="hljs-attr">cloudStartWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">props</span>) </span>{
        props = props || <span class="hljs-keyword">this</span>._createDefaultProps();
        <span class="hljs-keyword">this</span>.stopWait();
        <span class="hljs-keyword">this</span>._waitProps = props;
        <span class="hljs-keyword">this</span>._popDialog();
        <span class="hljs-keyword">this</span>._intervalHandler = setInterval(CloudWaitDialogUtil._checkInterval, <span class="hljs-keyword">this</span>._waitProps.interval * <span class="hljs-number">1000</span>);
    },
    <span class="hljs-attr">stopWait</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> util = CloudWaitDialogUtil;
        <span class="hljs-keyword">if</span> (util._waitDialog) {
            util._waitDialog.destroy();
            util._waitDialog = <span class="hljs-literal">null</span>;
        }
        <span class="hljs-keyword">if</span> (util._intervalHandler) {
            clearInterval(util._intervalHandler);
            util._intervalHandler = <span class="hljs-literal">null</span>;
        }
        util._waitProps = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">_popDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-keyword">this</span>._dialogName);
        dialog.setTitle(<span class="hljs-keyword">this</span>._waitProps.title);
        dialog.setPreference(<span class="hljs-string">"title"</span>, <span class="hljs-keyword">this</span>._waitProps.description);
        dialog.hideCloseButton();
        <span class="hljs-keyword">this</span>._waitDialog = dialog;
        <span class="hljs-keyword">this</span>._waitDialog.render();
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._postDialogRenderHandler)
            <span class="hljs-keyword">this</span>._postRenderInterval = setInterval(CloudWaitDialogUtil._postDialogRender, <span class="hljs-number">100</span>);
    },
    <span class="hljs-attr">_postDialogRender</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!CloudWaitDialogUtil._postDialogRenderHandler)
            <span class="hljs-keyword">return</span>;
        CloudWaitDialogUtil._postDialogRenderHandler.call(CloudWaitDialogUtil);
    },
    <span class="hljs-attr">_checkInterval</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> util = CloudWaitDialogUtil;
        <span class="hljs-keyword">if</span> (!util._waitProps.onInterval)
            <span class="hljs-keyword">return</span>;
        util._waitProps.onInterval.call(util._waitProps.thisObj, util._waitProps.data, util.stopWait);
    },
    <span class="hljs-attr">_createDefaultProps</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">interval</span>: <span class="hljs-number">5</span>,
            <span class="hljs-attr">title</span>: <span class="hljs-string">"Error"</span>,
            <span class="hljs-attr">description</span>: <span class="hljs-string">"Properties are not set. Destroied after about 30 seconds"</span>,
            <span class="hljs-attr">data</span>: {
                <span class="hljs-attr">loop</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-attr">onInterval</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, stopWaitFun</span>) </span>{
                <span class="hljs-keyword">if</span> (data.loop &gt; <span class="hljs-number">6</span>) {
                    stopWaitFun();
                    <span class="hljs-keyword">return</span>;
                }
                data.loop = data.loop + <span class="hljs-number">1</span>;
            }
        };
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/classes/GlideMenu.js */</span>
<span class="hljs-keyword">var</span> GlideMenu = Class.create();
GlideMenu.prototype = {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">idSuffix, type</span>) </span>{
        <span class="hljs-keyword">this</span>.suffix = idSuffix;
        <span class="hljs-keyword">this</span>.type = type;
        <span class="hljs-keyword">this</span>.clear();
    },
    <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.clear();
    },
    <span class="hljs-attr">clear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.menuItems = [];
        <span class="hljs-keyword">this</span>.variables = {};
        <span class="hljs-keyword">this</span>.onShowScripts = [];
    },
    <span class="hljs-attr">isEmpty</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> e = gel(<span class="hljs-string">'context.'</span> + <span class="hljs-keyword">this</span>.type + <span class="hljs-string">"."</span> + <span class="hljs-keyword">this</span>.suffix);
        <span class="hljs-keyword">if</span> (e) {
            <span class="hljs-keyword">var</span> script = e.innerHTML;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.execScript)
                <span class="hljs-built_in">window</span>.execScript(script);
            <span class="hljs-keyword">else</span>
                <span class="hljs-built_in">eval</span>.call(<span class="hljs-built_in">window</span>, script);
            Element.remove(e);
        }
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.menuItems.length; i++) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menuItems[i].parentId == <span class="hljs-string">''</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">load</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sysId, id, parentId, label, type, action, order, img, trackSelected</span>) </span>{
        <span class="hljs-keyword">var</span> item = {};
        item.sysId = sysId;
        item.id = id;
        item.parentId = parentId;
        item.label = label;
        item.type = type;
        item.action = action || <span class="hljs-string">""</span>;
        item.order = order;
        item.image = img;
        item.trackSelected = (trackSelected == <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">this</span>._add(item);
    },
    <span class="hljs-attr">addItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, parentId, label, type, action, order, img, trackSelected, onShowScript</span>) </span>{
        <span class="hljs-keyword">var</span> item = {};
        item.id = id;
        item.parentId = parentId;
        item.label = label;
        item.type = type;
        item.action = action;
        item.order = order;
        item.image = img;
        item.trackSelected = (trackSelected == <span class="hljs-string">"true"</span>);
        item.onShowScript = onShowScript;
        <span class="hljs-keyword">this</span>._add(item);
    },
    <span class="hljs-attr">_add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (!item.order)
            item.order = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">this</span>.menuItems.push(item);
    },
    <span class="hljs-attr">increaseItemsOrder</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">increase</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.menuItems.length; i++)
            <span class="hljs-keyword">this</span>.menuItems[i].order += increase;
    },
    <span class="hljs-attr">addAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">label, action, order</span>) </span>{
        <span class="hljs-keyword">this</span>.addItem(<span class="hljs-string">""</span>, <span class="hljs-string">""</span>, label, <span class="hljs-string">"action"</span>, action, order);
    },
    <span class="hljs-attr">showContextMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt, id, variables</span>) </span>{
        <span class="hljs-keyword">this</span>.variables = variables;
        id += <span class="hljs-keyword">this</span>.suffix;
        <span class="hljs-keyword">if</span> (!getMenuByName(id))
            <span class="hljs-keyword">this</span>._createMenu(id);
        <span class="hljs-keyword">var</span> cm = getMenuByName(id);
        <span class="hljs-keyword">if</span> (cm.context.isEmpty())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>._loadVariables(variables);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.onShowScripts.length; i++) {
            <span class="hljs-keyword">var</span> onShow = <span class="hljs-keyword">this</span>.onShowScripts[i];
            g_menu = getMenuByName(onShow.menuId);
            <span class="hljs-keyword">if</span> (!g_menu)
                <span class="hljs-keyword">continue</span>;
            g_menu = g_menu.context;
            <span class="hljs-keyword">if</span> (!g_menu)
                <span class="hljs-keyword">continue</span>;
            g_item = g_menu.getItem(onShow.itemId);
            <span class="hljs-keyword">if</span> (!g_item)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">this</span>._runOnShowScript(onShow.script, onShow.itemId);
        }
        <span class="hljs-keyword">this</span>._clearVariables(variables);
        g_menu = <span class="hljs-literal">null</span>;
        g_item = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> contextShow(evt, id, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    },
    <span class="hljs-attr">_createMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id</span>) </span>{
        <span class="hljs-keyword">var</span> cm = <span class="hljs-keyword">new</span> GwtContextMenu(id);
        cm.clear();
        <span class="hljs-keyword">this</span>._sort();
        <span class="hljs-keyword">this</span>._buildMenu(<span class="hljs-string">""</span>, cm);
    },
    <span class="hljs-attr">_sort</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.menuItems = <span class="hljs-keyword">this</span>.menuItems.sort(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">a, b</span>) </span>{
            <span class="hljs-keyword">var</span> aOrder = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"0"</span> + a.order, <span class="hljs-number">10</span>);
            <span class="hljs-keyword">var</span> bOrder = <span class="hljs-built_in">parseInt</span>(<span class="hljs-string">"0"</span> + b.order, <span class="hljs-number">10</span>);
            <span class="hljs-keyword">if</span> ((aOrder) &lt; (bOrder)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
            }
            <span class="hljs-keyword">if</span> ((aOrder) &gt; (bOrder)) {
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        });
    },
    <span class="hljs-attr">_buildMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">parentId, cm</span>) </span>{
        <span class="hljs-keyword">var</span> lastType;
        <span class="hljs-keyword">var</span> itemsAfterLine = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.menuItems.length; i++) {
            <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">this</span>.menuItems[i];
            <span class="hljs-keyword">if</span> (parentId != item.parentId)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (lastType == <span class="hljs-string">"line"</span> &amp;&amp; item.type == <span class="hljs-string">"line"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (lastType == <span class="hljs-string">"line"</span> &amp;&amp; itemsAfterLine &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">this</span>._addLine(cm);
                itemsAfterLine = <span class="hljs-number">0</span>;
            }
            lastType = item.type;
            <span class="hljs-keyword">if</span> (lastType == <span class="hljs-string">"line"</span>)
                <span class="hljs-keyword">continue</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._addMenuItem(cm, item))
                itemsAfterLine++;
        }
    },
    <span class="hljs-attr">_addLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cm</span>) </span>{
        cm.addLine();
    },
    <span class="hljs-attr">_addMenuItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cm, item</span>) </span>{
        <span class="hljs-keyword">var</span> added = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> mi;
        <span class="hljs-keyword">if</span> (item.type == <span class="hljs-string">"action"</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._getAction(item))
                mi = cm.addLabel(item.label);
            <span class="hljs-keyword">else</span>
                mi = cm.addFunc(item.label, <span class="hljs-keyword">this</span>._runMenuAction.bind(<span class="hljs-keyword">this</span>, item), item.id);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.type == <span class="hljs-string">"label"</span>) {
            mi = cm.addLabel(item.label);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (item.type == <span class="hljs-string">"menu"</span>) {
            <span class="hljs-keyword">var</span> sm = <span class="hljs-keyword">new</span> GwtContextMenu(item.id + <span class="hljs-string">'_'</span> + <span class="hljs-keyword">this</span>.suffix);
            <span class="hljs-keyword">if</span> (item.trackSelected)
                sm.setTrackSelected(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">this</span>._buildMenu(item.id, sm);
            <span class="hljs-keyword">if</span> (sm.isEmpty())
                added = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">else</span>
                mi = cm.addMenu(item.label, sm, item.id);
        }
        <span class="hljs-keyword">if</span> (mi &amp;&amp; item.image)
            cm.setImage(mi, item.image);
        <span class="hljs-keyword">if</span> (added &amp;&amp; <span class="hljs-keyword">this</span>._getOnShowScript(item)) {
            <span class="hljs-keyword">var</span> o = {};
            o.menuId = cm.id;
            o.itemId = item.id;
            o.script = <span class="hljs-keyword">this</span>._getOnShowScript(item);
            <span class="hljs-keyword">this</span>.onShowScripts.push(o);
        }
        <span class="hljs-keyword">return</span> added;
    },
    <span class="hljs-attr">_getAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">var</span> action = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (item.action)
            action = item.action;
        <span class="hljs-keyword">if</span> (item.sysId)
            action += <span class="hljs-string">'\n'</span> + GlideMenu.scripts[item.sysId];
        <span class="hljs-keyword">return</span> action;
    },
    <span class="hljs-attr">_getOnShowScript</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">if</span> (item.sysId)
            <span class="hljs-keyword">return</span> GlideMenu.onScripts[item.sysId];
        <span class="hljs-keyword">return</span> item.onShowScript;
    },
    <span class="hljs-attr">_runMenuAction</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
        <span class="hljs-keyword">this</span>._loadVariables(<span class="hljs-keyword">this</span>.variables);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">eval</span>(<span class="hljs-keyword">this</span>._getAction(item));
        } <span class="hljs-keyword">catch</span> (ex) {
            jslog(<span class="hljs-string">"Error running context menu '"</span> + item.label + <span class="hljs-string">"': "</span> + ex);
        }
        <span class="hljs-keyword">this</span>._clearVariables(<span class="hljs-keyword">this</span>.variables);
    },
    <span class="hljs-attr">_runOnShowScript</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">script, itemId</span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-built_in">eval</span>(script);
        } <span class="hljs-keyword">catch</span> (ex) {
            jslog(<span class="hljs-string">"Error running onShow script for item '"</span> + itemId + <span class="hljs-string">"': "</span> + ex);
        }
    },
    <span class="hljs-attr">_loadVariables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">variables</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> variables) {
            <span class="hljs-keyword">var</span> s = n + <span class="hljs-string">'=variables["'</span> + n + <span class="hljs-string">'"]'</span>;
            <span class="hljs-built_in">eval</span>(s);
        }
    },
    <span class="hljs-attr">_clearVariables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">variables</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> variables) {
            <span class="hljs-keyword">var</span> s = n + <span class="hljs-string">'=null;'</span>;
            <span class="hljs-built_in">eval</span>(s);
        }
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">'GlideMenu'</span>
};
GlideMenu.scripts = {};
GlideMenu.onScripts = {};
GlideMenu.addScripts = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> s <span class="hljs-keyword">in</span> o.scripts)
        GlideMenu.scripts[s] = o.scripts[s];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> s <span class="hljs-keyword">in</span> o.onScripts)
        GlideMenu.onScripts[s] = o.onScripts[s];
};
<span class="hljs-comment">/*! RESOURCE: scripts/Uploader.js */</span>
<span class="hljs-keyword">var</span> Uploader = Class.create({
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">containerName, tableName, sys_id</span>) </span>{
        <span class="hljs-keyword">this</span>.containerName = containerName;
        <span class="hljs-keyword">this</span>.height = <span class="hljs-number">20</span>;
        <span class="hljs-keyword">this</span>._createInput();
        <span class="hljs-keyword">this</span>.sys_id = sys_id;
        <span class="hljs-keyword">this</span>.tableName = tableName;
        <span class="hljs-keyword">this</span>.fieldName;
        <span class="hljs-keyword">this</span>.callback;
        Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">'unload'</span>, <span class="hljs-keyword">this</span>._reset.bind(<span class="hljs-keyword">this</span>));
        <span class="hljs-keyword">this</span>.startLoading;
        <span class="hljs-keyword">this</span>.tempSpot;
        <span class="hljs-keyword">this</span>.mouseDown = <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">setCallback</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fDefinition</span>) </span>{
        <span class="hljs-keyword">this</span>.callback = fDefinition;
    },
    <span class="hljs-attr">setStartLoading</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fDefinition</span>) </span>{
        <span class="hljs-keyword">this</span>.startLoading = fDefinition;
    },
    <span class="hljs-attr">setFieldName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">this</span>.fieldName = fieldName;
    },
    <span class="hljs-attr">setTitle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) </span>{
        <span class="hljs-keyword">this</span>.input.title = title;
    },
    <span class="hljs-attr">setHeight</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">height</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.height == height)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">this</span>.height = height;
        <span class="hljs-keyword">this</span>.input.parentNode.removeChild(<span class="hljs-keyword">this</span>.input);
        <span class="hljs-keyword">delete</span>(<span class="hljs-keyword">this</span>.input);
        <span class="hljs-keyword">this</span>._createInput();
    },
    <span class="hljs-attr">_createInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> parent = <span class="hljs-keyword">this</span>.containerName;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tempSpot)
            parent = <span class="hljs-keyword">this</span>.tempSpot;
        parent = $(parent);
        <span class="hljs-keyword">this</span>.input = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"input"</span>);
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.input;
        input.setAttribute(<span class="hljs-string">"type"</span>, <span class="hljs-string">"file"</span>);
        input.className = <span class="hljs-string">"upload_input_file"</span>;
        input.name = <span class="hljs-keyword">this</span>.containerName + <span class="hljs-string">"_input_file"</span>;
        input.setStyle({
            <span class="hljs-attr">display</span>: <span class="hljs-string">'inline'</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-keyword">this</span>.height + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-keyword">this</span>.height + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">fontSize</span>: <span class="hljs-keyword">this</span>.height + <span class="hljs-string">"px"</span>,
            <span class="hljs-attr">opacity</span>: <span class="hljs-string">"0 !important"</span>,
            <span class="hljs-attr">filter</span>: <span class="hljs-string">"alpha(opacity=0) !important"</span>,
            <span class="hljs-attr">cursor</span>: <span class="hljs-string">"pointer !important"</span>,
            <span class="hljs-attr">zIndex</span>: (isMSIE7) ? <span class="hljs-string">"100"</span> : <span class="hljs-string">"100 !important"</span>
        });
        Event.observe(input, <span class="hljs-string">'change'</span>, <span class="hljs-keyword">this</span>._onFileChange.bind(<span class="hljs-keyword">this</span>, input));
        parent.appendChild(input);
    },
    <span class="hljs-attr">_onFileChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">input</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.startLoading)
            <span class="hljs-keyword">this</span>.startLoading.call();
        <span class="hljs-keyword">var</span> iframe = <span class="hljs-keyword">this</span>._createIFrame();
        <span class="hljs-keyword">var</span> form = <span class="hljs-keyword">this</span>._createForm();
        form.appendChild(<span class="hljs-keyword">this</span>.input);
        Event.observe(iframe, <span class="hljs-string">'load'</span>, <span class="hljs-keyword">this</span>._uploaded.bind(<span class="hljs-keyword">this</span>));
        form.submit();
    },
    <span class="hljs-attr">_uploaded</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> f = <span class="hljs-keyword">this</span>.iframe;
        <span class="hljs-keyword">var</span> doc = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (isMSIE)
            doc = f.contentWindow.document.XMLDocument ? f.contentWindow.document.XMLDocument : f.contentWindow.document;
        <span class="hljs-keyword">else</span>
            doc = f.contentDocument;
        <span class="hljs-keyword">var</span> root = doc.documentElement;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.callback) {
            <span class="hljs-keyword">var</span> uri = root.getAttribute(<span class="hljs-string">'attachment_uri'</span>);
            <span class="hljs-keyword">var</span> name = root.getAttribute(<span class="hljs-string">'file_name'</span>);
            <span class="hljs-keyword">var</span> sys_id = root.getAttribute(<span class="hljs-string">'sys_id'</span>);
            <span class="hljs-keyword">this</span>.callback.call(<span class="hljs-keyword">this</span>, uri, name, sys_id);
        }
        <span class="hljs-keyword">this</span>.form.parentNode.removeChild(<span class="hljs-keyword">this</span>.form);
        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.form;
        <span class="hljs-keyword">this</span>.form = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> iframe = <span class="hljs-keyword">this</span>.iframe;
        <span class="hljs-keyword">this</span>.iframe = <span class="hljs-literal">null</span>;
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            iframe.parentNode.removeChild(iframe);
            <span class="hljs-keyword">delete</span> iframe;
        }, <span class="hljs-number">1000</span>);
        <span class="hljs-keyword">this</span>._createInput();
    },
    <span class="hljs-attr">_createIFrame</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> name = <span class="hljs-keyword">this</span>.containerName + <span class="hljs-string">"_iframe"</span>;
        <span class="hljs-keyword">var</span> s = <span class="hljs-string">"&lt;iframe src='javascript: false' name='"</span> + name + <span class="hljs-string">"'/&gt;"</span>;
        <span class="hljs-keyword">this</span>.iframe = toElement(s);
        <span class="hljs-keyword">this</span>.iframe.style.display = <span class="hljs-string">'none'</span>;
        <span class="hljs-keyword">this</span>.iframe.style.position = <span class="hljs-string">'absolute'</span>;
        <span class="hljs-keyword">this</span>.iframe.style.left = <span class="hljs-string">'-999px'</span>;
        <span class="hljs-built_in">document</span>.body.appendChild(<span class="hljs-keyword">this</span>.iframe);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.iframe;
    },
    <span class="hljs-attr">_createForm</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.containerName + <span class="hljs-string">"_form"</span>;
        <span class="hljs-keyword">var</span> s = <span class="hljs-string">"&lt;form method='post' enctype='multipart/form-data' name='"</span> + <span class="hljs-keyword">this</span>.containerName + <span class="hljs-string">"' &gt;&lt;/form&gt;"</span>;
        <span class="hljs-keyword">var</span> form = toElement(s)
        <span class="hljs-keyword">this</span>._addInput(form, <span class="hljs-string">"sysparm_table"</span>, <span class="hljs-keyword">this</span>.tableName);
        <span class="hljs-keyword">this</span>._addInput(form, <span class="hljs-string">"sysparm_xml"</span>, <span class="hljs-string">"true"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.fieldName)
            <span class="hljs-keyword">this</span>._addInput(form, <span class="hljs-string">"sysparm_fieldname"</span>, <span class="hljs-keyword">this</span>.fieldName);
        <span class="hljs-keyword">this</span>._addInput(form, <span class="hljs-string">"sysparm_sys_id"</span>, <span class="hljs-keyword">this</span>.sys_id);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_ck != <span class="hljs-string">'undefined'</span>)
            <span class="hljs-keyword">this</span>._addInput(form, <span class="hljs-string">"sysparm_ck"</span>, g_ck);
        form.setAttribute(<span class="hljs-string">"action"</span>, <span class="hljs-string">"sys_attachment.do"</span>);
        form.setAttribute(<span class="hljs-string">"target"</span>, <span class="hljs-keyword">this</span>.containerName + <span class="hljs-string">"_iframe"</span>);
        form.style.display = <span class="hljs-string">'none'</span>;
        form.style.position = <span class="hljs-string">'absolute'</span>;
        form.style.left = <span class="hljs-string">'-999px'</span>;
        <span class="hljs-keyword">this</span>.form = form;
        <span class="hljs-built_in">document</span>.body.appendChild(<span class="hljs-keyword">this</span>.form);
        <span class="hljs-keyword">return</span> form;
    },
    <span class="hljs-attr">_addInput</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">form, name, value</span>) </span>{
        <span class="hljs-keyword">var</span> input = cel(<span class="hljs-string">"input"</span>);
        input.value = value;
        input.name = name;
        form.appendChild(input);
    },
    <span class="hljs-attr">_reset</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.input = <span class="hljs-literal">null</span>;
    },
    <span class="hljs-attr">moveInputTo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elementName</span>) </span>{
        <span class="hljs-keyword">this</span>.tempSpot = elementName;
        <span class="hljs-keyword">if</span> (elementName == <span class="hljs-literal">null</span>)
            elementName = <span class="hljs-keyword">this</span>.containerName;
        <span class="hljs-keyword">var</span> input = <span class="hljs-keyword">this</span>.input;
        <span class="hljs-keyword">var</span> p = input.parentNode;
        <span class="hljs-keyword">var</span> parent = gel(elementName);
        <span class="hljs-keyword">if</span> (p == parent)
            <span class="hljs-keyword">return</span>;
        input.parentNode.removeChild(input);
        parent.appendChild(input);
    },
    <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'Uploader'</span>;
    }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toElement</span>(<span class="hljs-params">innerHTML</span>) </span>{
    <span class="hljs-keyword">var</span> div = cel(<span class="hljs-string">'div'</span>);
    div.innerHTML = innerHTML;
    <span class="hljs-keyword">var</span> element = div.firstChild;
    div.removeChild(element);
    <span class="hljs-keyword">return</span> element;
};
<span class="hljs-comment">/*! RESOURCE: scripts/ImageUploader.js */</span>
<span class="hljs-keyword">var</span> ImageUploader = Class.create(Uploader, {
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, containerName, tableName, sys_id</span>) </span>{
        $<span class="hljs-keyword">super</span>(containerName, tableName, sys_id);
    },
    <span class="hljs-attr">_onFileChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$super, input</span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._isFileNameValid(input.value))
            <span class="hljs-keyword">return</span>;
        $<span class="hljs-keyword">super</span>(input);
    },
    <span class="hljs-attr">_isFileNameValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filename</span>) </span>{
        <span class="hljs-keyword">if</span> (endsWithImageExtension(filename))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> message = getMessage(<span class="hljs-string">'Name is not a recognized image file format'</span>);
        alert(message);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
});;
<span class="hljs-comment">/*! RESOURCE: scripts/OpticsInspector.js */</span>
<span class="hljs-keyword">var</span> OpticsInspector = Class
    .create({
        <span class="hljs-attr">CATEGORIES</span>: {
            <span class="hljs-string">"sys_script"</span>: <span class="hljs-string">"BUSINESS RULE"</span>,
            <span class="hljs-string">"sys_script_client"</span>: <span class="hljs-string">"CLIENT SCRIPT"</span>,
            <span class="hljs-string">"data_lookup"</span>: <span class="hljs-string">"DATA LOOKUP"</span>,
            <span class="hljs-string">"sys_data_policy2"</span>: <span class="hljs-string">"DATA POLICY"</span>,
            <span class="hljs-string">"ui_policy"</span>: <span class="hljs-string">"UI POLICY"</span>,
            <span class="hljs-string">"wf_context"</span>: <span class="hljs-string">"WORKFLOW"</span>,
            <span class="hljs-string">"request_action"</span>: <span class="hljs-string">"REQUEST ACTION"</span>,
            <span class="hljs-string">"script_engine"</span>: <span class="hljs-string">"SCRIPT ENGINE"</span>,
            <span class="hljs-string">"wf_activity"</span>: <span class="hljs-string">"WORKFLOW ACTIVITY"</span>,
            <span class="hljs-string">"acl"</span>: <span class="hljs-string">"ACL"</span>,
            <span class="hljs-string">"sys_ui_action"</span>: <span class="hljs-string">"UI ACTION"</span>,
            <span class="hljs-string">"reference_qual"</span>: <span class="hljs-string">"REFERENCE QUALIFIER QUERY"</span>,
            <span class="hljs-string">"container_action"</span>: <span class="hljs-string">"CONTAINER ACTION"</span>
        },
        <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.opticsContextStack = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
            <span class="hljs-keyword">this</span>.tableName = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.fieldName = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.enabled = <span class="hljs-literal">false</span>;
        },
        <span class="hljs-attr">pushOpticsContext</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">category, name, sys_id, sourceTable</span>) </span>{
            <span class="hljs-keyword">var</span> context = {
                <span class="hljs-string">"category"</span>: category,
                <span class="hljs-string">"name"</span>: name,
                <span class="hljs-string">"sys_id"</span>: sys_id,
                <span class="hljs-string">"startTime"</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(),
                <span class="hljs-attr">actions</span>: [],
                <span class="hljs-attr">type</span>: <span class="hljs-string">'context'</span>,
                <span class="hljs-string">"sourceTable"</span>: sourceTable || category
            };
            <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> g_form !== <span class="hljs-string">'undefined'</span>) &amp;&amp; g_form.actionStack)
                g_form.actionStack.push(context);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isInspecting() &amp;&amp; category !== <span class="hljs-string">'container_action'</span>)
                <span class="hljs-keyword">this</span>.opticsContextStack.push(context);
        },
        <span class="hljs-attr">popOpticsContext</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> context;
            <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> g_form !== <span class="hljs-string">'undefined'</span>) &amp;&amp; g_form.actionStack) {
                context = g_form.actionStack.pop();
                <span class="hljs-keyword">if</span> (g_form._pushAction)
                    g_form._pushAction(context);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isInspecting() &amp;&amp; <span class="hljs-keyword">this</span>.opticsContextStack.length &gt; <span class="hljs-number">0</span> &amp;&amp; (context &amp;&amp; context.category !== <span class="hljs-string">'container_action'</span>))
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.opticsContextStack.pop();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        },
        <span class="hljs-attr">isInspecting</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tableName, fieldName</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tableName == <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">this</span>.fieldName == <span class="hljs-literal">null</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">0</span>)
                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.tableName &amp;&amp; <span class="hljs-keyword">this</span>.tableName.length &gt; <span class="hljs-number">0</span> &amp;&amp;
                    <span class="hljs-keyword">this</span>.fieldName &amp;&amp; <span class="hljs-keyword">this</span>.fieldName.length &gt; <span class="hljs-number">0</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length == <span class="hljs-number">2</span>)
                <span class="hljs-keyword">return</span> tableName == <span class="hljs-keyword">this</span>.tableName &amp;&amp;
                    fieldName == <span class="hljs-keyword">this</span>.fieldName;
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        },
        <span class="hljs-attr">getTableName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.tableName &amp;&amp; <span class="hljs-keyword">this</span>.tableName.length &gt; <span class="hljs-number">0</span>) ? <span class="hljs-keyword">this</span>.tableName :
                <span class="hljs-string">''</span>;
        },
        <span class="hljs-attr">getFieldName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.fieldName &amp;&amp; <span class="hljs-keyword">this</span>.fieldName.length &gt; <span class="hljs-number">0</span>) ? <span class="hljs-keyword">this</span>.fieldName :
                <span class="hljs-string">''</span>;
        },
        <span class="hljs-attr">hideWatchIcons</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (isDoctype()) {
                $$(<span class="hljs-string">".icon-debug.watch_icon"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
                    $(element).hide()
                });
            } <span class="hljs-keyword">else</span> {
                $$(<span class="hljs-string">"img.watch_icon"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
                    $(element).hide()
                });
            }
        },
        <span class="hljs-attr">addWatchIcon</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchField</span>) </span>{
            <span class="hljs-keyword">if</span> (!watchField) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> td = $(<span class="hljs-string">'label.'</span> + watchField);
            <span class="hljs-keyword">if</span> (!td) {
                <span class="hljs-keyword">var</span> fieldParts = watchField.split(<span class="hljs-string">"."</span>);
                <span class="hljs-keyword">if</span> ((fieldParts.length == <span class="hljs-number">2</span> &amp;&amp; fieldParts[<span class="hljs-number">0</span>].length &gt; <span class="hljs-number">0</span> &amp;&amp; fieldParts[<span class="hljs-number">1</span>].length &gt; <span class="hljs-number">0</span>)) {
                    td = $(<span class="hljs-string">'label_'</span> + fieldParts[<span class="hljs-number">1</span>]);
                    <span class="hljs-keyword">if</span> (td &amp;&amp; td.tagName !== <span class="hljs-string">'TD'</span>) {
                        <span class="hljs-keyword">var</span> tds = td.getElementsByTagName(<span class="hljs-string">"TD"</span>);
                        <span class="hljs-keyword">if</span> (tds &amp;&amp; tds.length &gt; <span class="hljs-number">0</span>) {
                            td = tds[<span class="hljs-number">0</span>];
                        }
                    }
                    <span class="hljs-keyword">if</span> (!td) {
                        td = $(<span class="hljs-string">'ni.'</span> + fieldParts[<span class="hljs-number">1</span>] + <span class="hljs-string">'_label'</span>);
                    }
                }
            }
            <span class="hljs-keyword">var</span> icon;
            <span class="hljs-keyword">if</span> (td) {
                <span class="hljs-keyword">if</span> (isDoctype()) {
                    <span class="hljs-keyword">var</span> label = td.select(<span class="hljs-string">'label'</span>);
                    <span class="hljs-keyword">if</span> (label.length &gt; <span class="hljs-number">0</span>) {
                        label = label[<span class="hljs-number">0</span>];
                    } <span class="hljs-keyword">else</span> {
                        label = td.select(<span class="hljs-string">'legend'</span>);
                        <span class="hljs-keyword">if</span> (label.length &gt; <span class="hljs-number">0</span>) {
                            label = label[<span class="hljs-number">0</span>];
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (td.nodeName == <span class="hljs-string">"LABEL"</span>) {
                            label = td;
                        }
                    }
                    icon = <span class="hljs-string">'&lt;span class="label-icon icon-debug watch_icon" id="'</span> +
                        watchField +
                        <span class="hljs-string">'.watch_icon"'</span> +
                        <span class="hljs-string">' onclick="CustomEvent.fireTop(\'showFieldWatcher\')" '</span> +
                        <span class="hljs-string">' src="images/debug.gifx" '</span> +
                        <span class="hljs-string">' alt="Field is being watched"'</span> +
                        <span class="hljs-string">' title="Field is being watched"&gt;&lt;/span&gt;'</span>;
                    <span class="hljs-keyword">if</span> (label) {
                        $(label).insert(icon);
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (fieldParts.length === <span class="hljs-number">2</span> &amp;&amp;
                        fieldParts[<span class="hljs-number">1</span>].startsWith(<span class="hljs-string">"IO:"</span>)) {
                        <span class="hljs-keyword">var</span> legend = td.select(<span class="hljs-string">'legend'</span>);
                        <span class="hljs-keyword">if</span> (legend.length &gt; <span class="hljs-number">0</span>) {
                            td = legend[<span class="hljs-number">0</span>];
                        }
                    }
                    icon = <span class="hljs-string">'&lt;img class="watch_icon" id="'</span> +
                        watchField +
                        <span class="hljs-string">'.watch_icon"'</span> +
                        <span class="hljs-string">' onclick="CustomEvent.fireTop(\'showFieldWatcher\')" '</span> +
                        <span class="hljs-string">' src="images/debug.gifx" '</span> +
                        <span class="hljs-string">' alt="Field is being watched"'</span> +
                        <span class="hljs-string">' title="Field is being watched" /&gt;'</span>;
                    td.insert(icon);
                }
            }
        },
        <span class="hljs-attr">clearWatchField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchfield</span>) </span>{
            <span class="hljs-keyword">this</span>.opticsContextStack = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
            <span class="hljs-keyword">this</span>.tableName = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.fieldName = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>.hideWatchIcons();
            <span class="hljs-keyword">var</span> debuggerTools = getTopWindow().debuggerTools;
            <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                <span class="hljs-keyword">if</span> (wndw.updateFieldInfo)
                    wndw.updateFieldInfo(<span class="hljs-literal">null</span>);
            } <span class="hljs-keyword">else</span> {
                debuggerTools = parent.parent.debuggerTools;
                <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                    <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                    <span class="hljs-keyword">if</span> (wndw.updateFieldInfo)
                        wndw.updateFieldInfo(<span class="hljs-literal">null</span>);
                }
            }
        },
        <span class="hljs-attr">setWatchField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchField</span>) </span>{
            <span class="hljs-keyword">if</span> (!watchField)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> fieldParts = watchField.split(<span class="hljs-string">"."</span>);
            <span class="hljs-keyword">if</span> (!(fieldParts.length == <span class="hljs-number">2</span> &amp;&amp; fieldParts[<span class="hljs-number">0</span>].length &gt; <span class="hljs-number">0</span> &amp;&amp; fieldParts[<span class="hljs-number">1</span>].length &gt; <span class="hljs-number">0</span>))
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">this</span>.tableName = fieldParts[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">this</span>.fieldName = fieldParts[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">this</span>.hideWatchIcons();
            <span class="hljs-keyword">var</span> icon = $(watchField + <span class="hljs-string">".watch_icon"</span>);
            <span class="hljs-keyword">if</span> (icon) {
                icon.show();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.addWatchIcon(watchField);
            }
            <span class="hljs-keyword">var</span> debuggerTools = getTopWindow().debuggerTools;
            <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                <span class="hljs-keyword">if</span> (wndw.updateFieldInfo)
                    wndw.updateFieldInfo(watchField);
            } <span class="hljs-keyword">else</span> {
                debuggerTools = parent.parent.debuggerTools;
                <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                    <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                    <span class="hljs-keyword">if</span> (wndw.updateFieldInfo)
                        wndw.updateFieldInfo(watchField);
                }
            }
        },
        <span class="hljs-attr">showWatchField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchField</span>) </span>{
            <span class="hljs-keyword">var</span> debuggerTools = getTopWindow().debuggerTools;
            <span class="hljs-keyword">if</span> (debuggerTools) {
                <span class="hljs-keyword">if</span> (!debuggerTools.isDebugPanelVisible())
                    debuggerTools.showFieldWatcher();
                setWatchField(watchField);
            } <span class="hljs-keyword">else</span> {
                debuggerTools = parent.parent.debuggerTools;
                <span class="hljs-keyword">if</span> (debuggerTools) {
                    <span class="hljs-keyword">if</span> (!debuggerTools.isDebugPanelVisible())
                        debuggerTools.showFieldWatcher();
                    setWatchField(watchField);
                }
            }
        },
        <span class="hljs-attr">processClientMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
            <span class="hljs-keyword">var</span> opticsContext = <span class="hljs-keyword">this</span>.opticsContextStack[<span class="hljs-keyword">this</span>.opticsContextStack.length - <span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (!opticsContext) {
                jslog(<span class="hljs-string">"No optics context found"</span>);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> info = {
                <span class="hljs-attr">type</span>: <span class="hljs-string">'CLIENT '</span>,
                <span class="hljs-attr">message</span>: notification.message,
                <span class="hljs-attr">message_type</span>: <span class="hljs-string">"static"</span>,
                <span class="hljs-attr">category</span>: opticsContext.category,
                <span class="hljs-attr">name</span>: opticsContext.name,
                <span class="hljs-attr">level</span>: <span class="hljs-keyword">this</span>.opticsContextStack.length,
                <span class="hljs-attr">time</span>: getFormattedTime(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>()),
                <span class="hljs-attr">call_trace</span>: <span class="hljs-keyword">this</span>._getCallTrace(<span class="hljs-keyword">this</span>.opticsContextStack),
                <span class="hljs-attr">sys_id</span>: opticsContext[<span class="hljs-string">"sys_id"</span>],
                <span class="hljs-attr">sourceTable</span>: opticsContext[<span class="hljs-string">"sourceTable"</span>]
            };
            <span class="hljs-keyword">if</span> (notification[<span class="hljs-string">"oldvalue"</span>] &amp;&amp; notification[<span class="hljs-string">"newvalue"</span>]) {
                info.message_type = <span class="hljs-string">"change"</span>;
                info.oldvalue = notification[<span class="hljs-string">"oldvalue"</span>];
                info.newvalue = notification[<span class="hljs-string">"newvalue"</span>];
            }
            <span class="hljs-keyword">this</span>.process(info);
        },
        <span class="hljs-attr">processServerMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> spans = $$(<span class="hljs-string">'span[data-type="optics_debug"]'</span>);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; spans.length; i++) {
                <span class="hljs-keyword">var</span> notification = <span class="hljs-keyword">new</span> GlideUINotification({
                    <span class="hljs-attr">xml</span>: spans[i]
                });
                <span class="hljs-keyword">this</span>.processServerMessage(notification);
                spans[i].setAttribute(<span class="hljs-string">"data-attr-processed"</span>, <span class="hljs-string">"true"</span>);
            }
        },
        <span class="hljs-attr">processServerMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
            <span class="hljs-keyword">if</span> (notification.getAttribute(<span class="hljs-string">'processed'</span>) == <span class="hljs-string">"true"</span>)
                <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">var</span> info = {
                <span class="hljs-attr">type</span>: <span class="hljs-string">'SERVER'</span>,
                <span class="hljs-attr">category</span>: notification.getAttribute(<span class="hljs-string">'category'</span>),
                <span class="hljs-attr">name</span>: notification.getAttribute(<span class="hljs-string">'name'</span>),
                <span class="hljs-attr">message</span>: notification.getAttribute(<span class="hljs-string">'message'</span>),
                <span class="hljs-attr">message_type</span>: notification.getAttribute(<span class="hljs-string">'message_type'</span>),
                <span class="hljs-attr">oldvalue</span>: notification.getAttribute(<span class="hljs-string">'oldvalue'</span>),
                <span class="hljs-attr">newvalue</span>: notification.getAttribute(<span class="hljs-string">'newvalue'</span>),
                <span class="hljs-attr">level</span>: notification.getAttribute(<span class="hljs-string">'level'</span>),
                <span class="hljs-attr">time</span>: notification.getAttribute(<span class="hljs-string">'time'</span>),
                <span class="hljs-attr">sys_id</span>: notification.getAttribute(<span class="hljs-string">'sys_id'</span>),
                <span class="hljs-attr">sourceTable</span>: notification.getAttribute(<span class="hljs-string">'sourceTable'</span>),
                <span class="hljs-attr">call_trace</span>: <span class="hljs-keyword">this</span>._getCallTrace(<span class="hljs-built_in">eval</span>(notification
                    .getAttribute(<span class="hljs-string">'call_trace'</span>)))
            };
            <span class="hljs-keyword">this</span>.process(info);
        },
        <span class="hljs-attr">process</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
            <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'&lt;div class="debug_line '</span> + notification[<span class="hljs-string">'category'</span>] + <span class="hljs-string">'"&gt;'</span> + <span class="hljs-keyword">this</span>._getMessage(notification) + <span class="hljs-string">'&lt;/div&gt;'</span>;
            <span class="hljs-keyword">this</span>._log(msg);
        },
        <span class="hljs-attr">addLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>._log(<span class="hljs-string">'&lt;hr class="logs-divider"/&gt;'</span>);
        },
        <span class="hljs-attr">openScriptWindow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tablename, sysid</span>) </span>{
            <span class="hljs-keyword">if</span> (tablename &amp;&amp; sysid) {
                <span class="hljs-keyword">if</span> (tablename == <span class="hljs-string">"request_action"</span>)
                    tablename = <span class="hljs-string">"sys_ui_action"</span>;
                <span class="hljs-keyword">var</span> url = <span class="hljs-string">"/"</span> + tablename + <span class="hljs-string">".do?sys_id="</span> + sysid;
                <span class="hljs-built_in">window</span>.open(url, <span class="hljs-string">"tablewindow"</span>);
            }
        },
        <span class="hljs-attr">_log</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
            <span class="hljs-keyword">var</span> debuggerTools = getTopWindow().debuggerTools;
            <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                <span class="hljs-keyword">if</span> (wndw.insertJsDebugMsg)
                    wndw.insertJsDebugMsg(msg);
            } <span class="hljs-keyword">else</span> {
                debuggerTools = parent.parent.debuggerTools;
                <span class="hljs-keyword">if</span> (debuggerTools &amp;&amp; debuggerTools.isDebugPanelVisible()) {
                    <span class="hljs-keyword">var</span> wndw = debuggerTools.getJsDebugWindow();
                    <span class="hljs-keyword">if</span> (wndw.insertJsDebugMsg)
                        wndw.insertJsDebugMsg(msg);
                }
            }
        },
        <span class="hljs-attr">_getCallTrace</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">contextStack</span>) </span>{
            <span class="hljs-keyword">var</span> trace = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">var</span> arrows = <span class="hljs-string">'&lt;span class="rtl-arrow"&gt; &amp;larr;&lt;/span&gt;&lt;span class="lrt-arrow"&gt;&amp;rarr; &lt;/span&gt;'</span>;
            <span class="hljs-keyword">var</span> space = arrows;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, maxi = contextStack.length; i &lt; maxi; i++) {
                <span class="hljs-keyword">var</span> context = contextStack[i];
                <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>)
                    space = arrows + space;
                <span class="hljs-keyword">if</span> (context[<span class="hljs-string">'name'</span>] &amp;&amp; context[<span class="hljs-string">'name'</span>].length &gt; <span class="hljs-number">0</span>)
                    trace += <span class="hljs-string">'&lt;div&gt;'</span> + space +
                    <span class="hljs-keyword">this</span>._getCategoryName(context[<span class="hljs-string">'category'</span>]) +
                    <span class="hljs-string">'&amp;nbsp;-&amp;nbsp;'</span> + context[<span class="hljs-string">'name'</span>] + <span class="hljs-string">'&lt;/div&gt;'</span>;
                <span class="hljs-keyword">else</span>
                    trace += <span class="hljs-string">'&lt;div&gt;'</span> + space +
                    <span class="hljs-keyword">this</span>._getCategoryName(context[<span class="hljs-string">'category'</span>]) +
                    <span class="hljs-string">'&lt;/div&gt;'</span>;
            }
            <span class="hljs-keyword">if</span> (trace &amp;&amp; trace.length &gt; <span class="hljs-number">0</span>)
                trace = <span class="hljs-string">'&lt;div class="call_trace"&gt;'</span> + trace + <span class="hljs-string">'&lt;/div&gt;'</span>;
            <span class="hljs-keyword">return</span> trace;
        },
        <span class="hljs-attr">_getMessage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
            <span class="hljs-keyword">var</span> notif_type = notification[<span class="hljs-string">'type'</span>];
            <span class="hljs-keyword">var</span> legend_title = (notif_type.indexOf(<span class="hljs-string">'CLIENT'</span>) &gt; <span class="hljs-number">-1</span>) ? <span class="hljs-string">'Client-side activity'</span> :
                <span class="hljs-string">'Server-side activity'</span>;
            <span class="hljs-keyword">var</span> msg = <span class="hljs-string">'&lt;span class="expand-button" onclick="toggleCallTrace(this);"&gt;&amp;nbsp;&lt;/span&gt;'</span>;
            msg += <span class="hljs-string">'&lt;img class="infoIcon" height="16"  width="16" border="0" src="images/info-icon.png" title="'</span> +
                legend_title + <span class="hljs-string">'" alt="'</span> + legend_title + <span class="hljs-string">'"&gt;'</span>;
            msg += <span class="hljs-string">'&lt;span class="log-time '</span> + notif_type + <span class="hljs-string">'"&gt;'</span> +
                notification[<span class="hljs-string">'time'</span>] + <span class="hljs-string">'&lt;/span&gt;'</span>;
            msg += <span class="hljs-string">'&lt;span class="log-category"&gt;'</span> +
                <span class="hljs-keyword">this</span>.CATEGORIES[notification[<span class="hljs-string">'category'</span>]];
            <span class="hljs-keyword">if</span> (notification[<span class="hljs-string">'name'</span>] &amp;&amp; notification[<span class="hljs-string">'name'</span>].length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">if</span> (notification[<span class="hljs-string">"sys_id"</span>])
                    msg += <span class="hljs-string">'&amp;nbsp;-&amp;nbsp;&lt;a data-tablename="'</span> +
                    notification[<span class="hljs-string">'sourceTable'</span>] +
                    <span class="hljs-string">'" data-sys_id="'</span> +
                    notification[<span class="hljs-string">'sys_id'</span>] +
                    <span class="hljs-string">'" onclick="javascript:openScriptWindow(this);"&gt;'</span> +
                    notification[<span class="hljs-string">'name'</span>] + <span class="hljs-string">'&lt;/a&gt;&lt;/span&gt;'</span>;
                <span class="hljs-keyword">else</span>
                    msg += <span class="hljs-string">'&amp;nbsp;-&amp;nbsp;'</span> + notification[<span class="hljs-string">'name'</span>] +
                    <span class="hljs-string">'&lt;/span&gt;'</span>;
            } <span class="hljs-keyword">else</span>
                msg += <span class="hljs-string">'&lt;/span&gt;'</span>;
            msg += <span class="hljs-string">'&lt;span class="log-value"&gt;'</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"request_action"</span> === notification[<span class="hljs-string">'category'</span>]) {
                msg += <span class="hljs-string">'Value received from client is: &lt;span class="value" title="Value"&gt;'</span> +
                    notification[<span class="hljs-string">'message'</span>] + <span class="hljs-string">'&lt;/span&gt;'</span>;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (notification[<span class="hljs-string">"message_type"</span>] == <span class="hljs-string">"change"</span>) {
                msg += <span class="hljs-string">'&lt;span&gt;'</span> +
                    notification[<span class="hljs-string">"oldvalue"</span>] +
                    <span class="hljs-string">'&lt;/span&gt;&lt;span class="rtl-arrow"&gt; &amp;larr; &lt;/span&gt;&lt;span class="lrt-arrow"&gt; &amp;rarr; &lt;/span&gt;&lt;span&gt;'</span> +
                    notification[<span class="hljs-string">"newvalue"</span>] + <span class="hljs-string">'&lt;/span&gt;'</span>;
            } <span class="hljs-keyword">else</span> {
                msg += notification[<span class="hljs-string">'message'</span>];
            }
            msg += <span class="hljs-string">'&lt;/span&gt;'</span>;
            msg += notification[<span class="hljs-string">'call_trace'</span>];
            <span class="hljs-keyword">return</span> msg;
        },
        <span class="hljs-attr">_getCategoryName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">category</span>) </span>{
            <span class="hljs-keyword">var</span> name = <span class="hljs-keyword">this</span>.CATEGORIES[category];
            <span class="hljs-keyword">if</span> (name === <span class="hljs-string">'undefined'</span> || name === <span class="hljs-literal">null</span>)
                name = category;
            <span class="hljs-keyword">return</span> name;
        },
        <span class="hljs-attr">_getLevelStr</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">level</span>) </span>{
            <span class="hljs-keyword">if</span> (level == <span class="hljs-string">'undefined'</span> || level == <span class="hljs-literal">null</span> || level &lt;= <span class="hljs-number">0</span>)
                level = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">var</span> levelStr = <span class="hljs-string">''</span>;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; level; i++)
                levelStr += <span class="hljs-string">'-'</span>;
            <span class="hljs-keyword">return</span> levelStr + <span class="hljs-string">'&gt;'</span>;
        },
        <span class="hljs-attr">toString</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">'OpticsInspector'</span>;
        }
    });
<span class="hljs-keyword">var</span> g_optics_inspect_handler = <span class="hljs-keyword">new</span> OpticsInspector();
OpticsInspector.WATCH_EVENT = <span class="hljs-string">'glide:ui_notification.optics_debug'</span>;
OpticsInspector.WATCH_EVENT_UI = <span class="hljs-string">'glide:ui_notification.optics_debug_ui'</span>;
OpticsInspector.WATCH_FIELD = <span class="hljs-string">'glide_optics_inspect_watchfield'</span>;
OpticsInspector.SHOW_WATCH_FIELD = <span class="hljs-string">'glide_optics_inspect_watchfield'</span>;
OpticsInspector.UPDATE_WATCH_FIELD = <span class="hljs-string">'glide_optics_inspect_update_watchfield'</span>;
OpticsInspector.CLEAR_WATCH_FIELD = <span class="hljs-string">'glide_optics_inspect_clear_watchfield'</span>;
OpticsInspector.SHOW_WATCH_FIELD = <span class="hljs-string">'glide_optics_inspect_show_watchfield'</span>;
OpticsInspector.PUT_CONTEXT = <span class="hljs-string">'glide_optics_inspect_put_context'</span>;
OpticsInspector.POP_CONTEXT = <span class="hljs-string">'glide_optics_inspect_pop_context'</span>;
OpticsInspector.PUT_CS_CONTEXT = <span class="hljs-string">'glide_optics_inspect_put_cs_context'</span>;
OpticsInspector.POP_CS_CONTEXT = <span class="hljs-string">'glide_optics_inspect_pop_cs_context'</span>;
OpticsInspector.PUT_CONTEXT = <span class="hljs-string">'glide_optics_inspect_put_context'</span>;
OpticsInspector.POP_CONTEXT = <span class="hljs-string">'glide_optics_inspect_pop_context'</span>;
OpticsInspector.LOG_MESSAGE = <span class="hljs-string">'glide_optics_inspect_log_message'</span>;
OpticsInspector.WINDOW_OPEN = <span class="hljs-string">'glide_optics_inspect_window_open'</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClientScriptContextName</span>(<span class="hljs-params">name, type</span>) </span>{
    <span class="hljs-keyword">var</span> csname = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"submit"</span>)
        csname = g_event_handlers_onSubmit[name];
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"load"</span>)
        csname = g_event_handlers_onLoad[name];
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"change"</span>)
        csname = g_event_handlers_onChange[name];
    <span class="hljs-keyword">return</span> csname;
}
CustomEvent.observe(OpticsInspector.PUT_CONTEXT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">category, name, sys_id, sourceTable</span>) </span>{
    g_optics_inspect_handler.pushOpticsContext(category, name, sys_id, sourceTable);
});
CustomEvent.observe(OpticsInspector.POP_CONTEXT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    g_optics_inspect_handler.popOpticsContext();
});
CustomEvent.observe(OpticsInspector.PUT_CS_CONTEXT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, type</span>) </span>{
    <span class="hljs-keyword">var</span> csname = getClientScriptContextName(name, type);
    <span class="hljs-keyword">if</span> (csname)
        g_optics_inspect_handler.pushOpticsContext(<span class="hljs-string">"sys_script_client"</span>, csname,
            g_event_handler_ids[name]);
});
CustomEvent.observe(OpticsInspector.POP_CS_CONTEXT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, type</span>) </span>{
    <span class="hljs-keyword">var</span> csname = getClientScriptContextName(name, type);
    <span class="hljs-keyword">if</span> (csname)
        g_optics_inspect_handler.popOpticsContext();
});
CustomEvent.observe(OpticsInspector.LOG_MESSAGE, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
    <span class="hljs-keyword">if</span> (g_optics_inspect_handler.isInspecting(notification[<span class="hljs-string">"table"</span>],
            notification[<span class="hljs-string">"field"</span>])) {
        g_optics_inspect_handler.processClientMessage(notification);
    }
});
CustomEvent.observe(OpticsInspector.WATCH_EVENT_UI, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
    g_optics_inspect_handler.process(notification);
});
CustomEvent.observe(OpticsInspector.WATCH_EVENT, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">notification</span>) </span>{
    g_optics_inspect_handler.processServerMessage(notification);
});
CustomEvent.observe(OpticsInspector.WATCH_FIELD, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchfield</span>) </span>{
    g_optics_inspect_handler.setWatchField(watchfield);
});
CustomEvent.observe(OpticsInspector.SHOW_WATCH_FIELD, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchfield</span>) </span>{
    g_optics_inspect_handler.showWatchField(watchfield);
});
CustomEvent.observe(OpticsInspector.CLEAR_WATCH_FIELD, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchfield</span>) </span>{
    g_optics_inspect_handler.clearWatchField(watchfield);
});
CustomEvent.observe(OpticsInspector.UPDATE_WATCH_FIELD, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">watchfield</span>) </span>{
    g_optics_inspect_handler.setWatchField(watchfield);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.name !== <span class="hljs-string">"jsdebugger"</span>) {
        g_optics_inspect_handler.addLine();
        g_optics_inspect_handler.processServerMessages();
    }
});;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudCatItemUtilClient.js */</span>
<span class="hljs-keyword">var</span> CloudCatItemUtilClient = {
    <span class="hljs-attr">g_formError</span>: [],
    <span class="hljs-attr">handleErrorField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
        <span class="hljs-keyword">if</span> (CloudCatItemUtilClient.g_formError[fieldName]) {
            g_form.hideFieldMsg(fieldName, <span class="hljs-literal">true</span>);
            g_form.showErrorBox(fieldName, CloudCatItemUtilClient.g_formError[fieldName], <span class="hljs-literal">true</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">handleSubmit</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">require_vars</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; require_vars.length; i++) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.handleErrorField(require_vars[i])) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">setErrorField</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg, field, control</span>) </span>{
        control.focus();
        g_form.showFieldMsg(control, msg, <span class="hljs-string">'error'</span>);
        CloudCatItemUtilClient.g_formError[field] = msg;
    },
    <span class="hljs-attr">setDisplay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName, show</span>) </span>{
        g_form.setDisplay(fieldName, show);
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/labels.js */</span>
<span class="hljs-keyword">var</span> refreshRateProperty = <span class="hljs-string">"60"</span>;
<span class="hljs-keyword">var</span> refreshLabelRate = (refreshRateProperty != <span class="hljs-literal">null</span> &amp;&amp; refreshRateProperty &gt; <span class="hljs-number">0</span> ? refreshRateProperty : <span class="hljs-number">60</span>);
<span class="hljs-keyword">var</span> refreshLabelTimer = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> g_label_status = initLabelStatus();
CustomEvent.observe(<span class="hljs-string">'nav.loaded'</span>, refreshLabels);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initLabelStatus</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> answer = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();
    answer.loading = <span class="hljs-literal">false</span>;
    answer.error_count = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span> answer;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refreshLabels</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> labelList = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> divTags = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'div'</span>);
    <span class="hljs-keyword">if</span> (divTags) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c != divTags.length; ++c) {
            <span class="hljs-keyword">var</span> divTag = divTags[c];
            <span class="hljs-keyword">var</span> label = divTag.sclabel || divTag.getAttribute(<span class="hljs-string">'sclabel'</span>);
            <span class="hljs-keyword">if</span> (label &amp;&amp; label == <span class="hljs-string">'true'</span>) {
                <span class="hljs-keyword">var</span> id = divTag.appid || divTag.getAttribute(<span class="hljs-string">'appid'</span>);
                labelList.push(id);
            }
        }
    }
    startRefresh(labelList);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearLabelRefresh</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (refreshLabelTimer == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>;
    clearTimeout(refreshLabelTimer);
    refreshLabelTimer = <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startRefresh</span>(<span class="hljs-params">labelRefresh</span>) </span>{
    clearLabelRefresh();
    <span class="hljs-keyword">if</span> (labelRefresh.length &lt; <span class="hljs-number">1</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">if</span> (labelsGetRequest(labelRefresh))
        refreshLabelTimer = setTimeout(refreshLabels, refreshLabelRate * <span class="hljs-number">1000</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">labelsGetRequest</span>(<span class="hljs-params">labelIds</span>) </span>{
    <span class="hljs-keyword">if</span> (g_label_status.loading)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">if</span> (g_label_status.error_count &gt; <span class="hljs-number">3</span>) {
        jslog(<span class="hljs-string">'Stopped tag fetch due to excessive error counts'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    g_label_status.loading = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"LabelsAjax"</span>);
    aj.addParam(<span class="hljs-string">"sysparm_value"</span>, labelIds.join(<span class="hljs-string">","</span>));
    aj.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">'get'</span>);
    aj.getXML(labelsGetResponse);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">labelsGetResponse</span>(<span class="hljs-params">request</span>) </span>{
    g_label_status.loading = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">if</span> (request.status == <span class="hljs-number">200</span>)
        g_label_status.error_count = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">else</span>
        g_label_status.error_count += <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (!request.responseXML)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> labels = request.responseXML.getElementsByTagName(<span class="hljs-string">"label"</span>);
    <span class="hljs-keyword">if</span> (labels &amp;&amp; labels.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; labels.length; i++) {
            <span class="hljs-keyword">var</span> labelEntry = labels[i];
            updateMenuItems(labelEntry);
        }
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateMenuItems</span>(<span class="hljs-params">labelElement</span>) </span>{
    <span class="hljs-keyword">var</span> appid = labelElement.getAttribute(<span class="hljs-string">"id"</span>);
    <span class="hljs-keyword">var</span> divElem = gel(<span class="hljs-string">'div.'</span> + appid)
    <span class="hljs-keyword">var</span> tds = divElem.getElementsByTagName(<span class="hljs-string">"td"</span>);
    <span class="hljs-keyword">var</span> appTD = tds[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> notRead = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> span = gel(appid);
    <span class="hljs-keyword">var</span> table = cel(<span class="hljs-string">"table"</span>);
    <span class="hljs-keyword">var</span> tbody = cel(<span class="hljs-string">"tbody"</span>, table);
    <span class="hljs-keyword">var</span> label;
    <span class="hljs-keyword">var</span> items = labelElement.getElementsByTagName(<span class="hljs-string">"item"</span>);
    <span class="hljs-keyword">if</span> (items &amp;&amp; items.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            label = items[i].getAttribute(<span class="hljs-string">"label"</span>);
            <span class="hljs-keyword">var</span> lid = items[i].getAttribute(<span class="hljs-string">"name"</span>);
            <span class="hljs-keyword">var</span> style = items[i].getAttribute(<span class="hljs-string">"style"</span>);
            <span class="hljs-keyword">var</span> read = items[i].getAttribute(<span class="hljs-string">"read"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span> != read)
                notRead++;
            <span class="hljs-keyword">var</span> url = items[i].getAttribute(<span class="hljs-string">"url"</span>);
            <span class="hljs-keyword">var</span> title = items[i].getAttribute(<span class="hljs-string">"title"</span>);
            <span class="hljs-keyword">var</span> image = items[i].getAttribute(<span class="hljs-string">"image"</span>);
            createLabelMod(tbody, style, lid, url, title, image, appid);
        }
    }
    updateLabelReadCount(appTD, notRead);
    clearNodes(span)
    span.appendChild(table);
    table = <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLabelMod</span>(<span class="hljs-params">parent, style, id, url, title, image, appid</span>) </span>{
    <span class="hljs-keyword">var</span> tr = cel(<span class="hljs-string">"tr"</span>, parent);
    <span class="hljs-keyword">var</span> scrollIcon = isTextDirectionRTL() ? <span class="hljs-string">"images/scroll_lft.gifx"</span> : <span class="hljs-string">"images/scroll_rt.gifx"</span>;
    <span class="hljs-keyword">if</span> (image == <span class="hljs-string">"images/s.gifx"</span>)
        image = scrollIcon;
    <span class="hljs-keyword">var</span> img;
    <span class="hljs-keyword">if</span> (image == <span class="hljs-literal">null</span> || image == <span class="hljs-string">''</span>)
        img = <span class="hljs-string">'&lt;img style="width:16px; cursor:hand" src="images/icons/remove.gifx" alt="Click me to remove the tag entry" onmouseover="this.src = \'images/closex_hover.gifx\'" onmouseout="this.src = \'images/icons/remove.gifx\'" src="images/icons/remove.gifx"/&gt;'</span>;
    <span class="hljs-keyword">else</span>
        img = <span class="hljs-string">"&lt;img style='width:16px' src='"</span> + image + <span class="hljs-string">"' alt='' /&gt;"</span>;
    <span class="hljs-keyword">var</span> tdimg = cel(<span class="hljs-string">"td"</span>, tr);
    tdimg.style.width = <span class="hljs-string">"16px"</span>;
    <span class="hljs-keyword">var</span> tdhtml;
    <span class="hljs-keyword">if</span> (image == scrollIcon)
        tdhtml = img;
    <span class="hljs-keyword">else</span>
        tdhtml = <span class="hljs-string">'&lt;a onclick="removeLabel(\''</span> + appid + <span class="hljs-string">'\',\''</span> + id + <span class="hljs-string">'\');" onmouseover="this.src = \'images/closex_hover.gifx\'" onmouseout="this.src = \'images/icons/remove.gifx\'" title="Click me to remove the tag entry"&gt;'</span> + img + <span class="hljs-string">'&lt;/a&gt;'</span>;
    tdimg.innerHTML = tdhtml;
    <span class="hljs-keyword">var</span> td = cel(<span class="hljs-string">"td"</span>, tr);
    <span class="hljs-keyword">var</span> html = <span class="hljs-string">'&lt;a class="menulabel" style="'</span> + style + <span class="hljs-string">'" id= "'</span> + id + <span class="hljs-string">'"'</span>;
    html += <span class="hljs-string">' target="gsft_main" href="'</span> + url + <span class="hljs-string">'"&gt;'</span> + title + <span class="hljs-string">'&lt;/a&gt;'</span>;
    td.innerHTML = html;
    tr = <span class="hljs-literal">null</span>;
    tdimg = <span class="hljs-literal">null</span>;
    td = <span class="hljs-literal">null</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateLabelReadCount</span>(<span class="hljs-params">appTD, notRead</span>) </span>{
    <span class="hljs-keyword">var</span> inner = appTD.innerHTML;
    <span class="hljs-keyword">var</span> term = <span class="hljs-string">'&lt;/H2&gt;'</span>;
    <span class="hljs-keyword">var</span> paren = inner.indexOf(<span class="hljs-string">"&lt;/H2&gt;"</span>);
    <span class="hljs-keyword">if</span> (paren &lt; <span class="hljs-number">0</span>) {
        paren = inner.indexOf(<span class="hljs-string">"&lt;/h2"</span>);
        term = <span class="hljs-string">'&lt;/h2&gt;'</span>;
    }
    <span class="hljs-keyword">if</span> (paren &gt; <span class="hljs-number">-1</span>) {
        inner = inner.substring(<span class="hljs-number">0</span>, paren);
        paren--;
        <span class="hljs-keyword">var</span> c = inner.substring(paren, paren + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">if</span> (c == <span class="hljs-string">')'</span>) {
            <span class="hljs-keyword">while</span> (paren &gt; <span class="hljs-number">0</span> &amp;&amp; c != <span class="hljs-string">'('</span>) {
                paren--;
                c = inner.substring(paren, paren + <span class="hljs-number">1</span>)
            }
            <span class="hljs-keyword">if</span> (paren &gt; <span class="hljs-number">0</span>) {
                inner = inner.substring(<span class="hljs-number">0</span>, paren);
            }
        }
        inner = inner.trim();
        <span class="hljs-keyword">if</span> (notRead &gt; <span class="hljs-number">0</span>)
            inner = inner + <span class="hljs-string">' ('</span> + notRead + <span class="hljs-string">')'</span>;
        inner = inner + term;
        clearNodes(appTD);
        appTD.innerHTML = inner;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doAssignLabel</span>(<span class="hljs-params">tableName, label, sysId</span>) </span>{
    <span class="hljs-keyword">var</span> form = getFormByTableName(tableName);
    <span class="hljs-keyword">if</span> (sysId == <span class="hljs-literal">null</span> || !sysId) {
        <span class="hljs-keyword">if</span> (!populateParmQuery(form, <span class="hljs-string">''</span>, <span class="hljs-string">'NULL'</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_checked_items'</span>, sysId);
    }
    <span class="hljs-keyword">if</span> (!label &amp;&amp; <span class="hljs-keyword">typeof</span> option != <span class="hljs-string">'undefined'</span> &amp;&amp; option.getAttribute(<span class="hljs-string">"gsft_base_label"</span>))
        label = option.getAttribute(<span class="hljs-string">"gsft_base_label"</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action'</span>, <span class="hljs-string">'java:com.glide.labels.LabelActions'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action_type'</span>, <span class="hljs-string">'assign_label'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_label_picked'</span>, label);
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doRemoveLabel</span>(<span class="hljs-params">tableName, label, sysId</span>) </span>{
    <span class="hljs-keyword">var</span> form = getFormByTableName(tableName);
    <span class="hljs-keyword">if</span> (sysId == <span class="hljs-literal">null</span> || !sysId) {
        <span class="hljs-keyword">if</span> (!populateParmQuery(form, <span class="hljs-string">''</span>, <span class="hljs-string">'NULL'</span>))
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_checked_items'</span>, sysId);
    }
    <span class="hljs-keyword">if</span> (!label &amp;&amp; <span class="hljs-keyword">typeof</span> option != <span class="hljs-string">'undefined'</span> &amp;&amp; option.getAttribute(<span class="hljs-string">"gsft_base_label"</span>))
        label = option.getAttribute(<span class="hljs-string">"gsft_base_label"</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action'</span>, <span class="hljs-string">'java:com.glide.labels.LabelActions'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sys_action_type'</span>, <span class="hljs-string">'remove_label'</span>);
    addInput(form, <span class="hljs-string">'HIDDEN'</span>, <span class="hljs-string">'sysparm_label_picked'</span>, label);
    form.submit();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assignLabelActionViaLookupModal</span>(<span class="hljs-params">tableName, listId</span>) </span>{
    <span class="hljs-keyword">var</span> list = GlideList2.get(listId);
    <span class="hljs-keyword">if</span> (!list)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> sysIds = list.getChecked();
    <span class="hljs-keyword">if</span> (!sysIds)
        <span class="hljs-keyword">return</span>;
    assignLabelViaLookup(tableName, sysIds, list.getView());
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assignLabelViaLookup</span>(<span class="hljs-params">tableName, sysId, viewName</span>) </span>{
    <span class="hljs-keyword">var</span> assignCallback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelId</span>) </span>{
        assignLabel(labelId, tableName, sysId, viewName);
    };
    showLabelLookupWindow(<span class="hljs-string">"Assign Tag"</span>, tableName, sysId, assignCallback);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelActionViaLookupModal</span>(<span class="hljs-params">tableName, listId</span>) </span>{
    <span class="hljs-keyword">var</span> list = GlideList2.get(listId);
    <span class="hljs-keyword">if</span> (!list)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> sysIds = list.getChecked();
    <span class="hljs-keyword">if</span> (!sysIds)
        <span class="hljs-keyword">return</span>;
    removeLabelViaLookup(tableName, sysIds);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelViaLookup</span>(<span class="hljs-params">tableName, sysId</span>) </span>{
    <span class="hljs-keyword">var</span> removeCallback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelId</span>) </span>{
        removeLabelById(labelId, sysId);
    };
    showLabelLookupWindow(<span class="hljs-string">"Remove Tag"</span>, tableName, sysId, removeCallback);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showLabelLookupWindow</span>(<span class="hljs-params">actionName, tableName, sysID, callback</span>) </span>{
    <span class="hljs-keyword">var</span> tagLookupForm = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">"tag_lookup_form"</span>);
    tagLookupForm.setTitle(actionName);
    tagLookupForm.setPreference(<span class="hljs-string">"sys_ids"</span>, sysID);
    tagLookupForm.setPreference(<span class="hljs-string">"table_name"</span>, tableName);
    tagLookupForm.setPreference(<span class="hljs-string">'on_accept'</span>, callback);
    tagLookupForm.removeCloseDecoration();
    tagLookupForm.render();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newLabel</span>(<span class="hljs-params">tableName, sysID, callback</span>) </span>{
    <span class="hljs-keyword">var</span> isDoctype = <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">"data-doctype"</span>) == <span class="hljs-string">"true"</span>;
    <span class="hljs-keyword">if</span> (isDoctype) {
        <span class="hljs-keyword">var</span> tagForm = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">"tag_form"</span>);
        tagForm.setTitle(<span class="hljs-string">""</span>);
        tagForm.setPreference(<span class="hljs-string">"sys_ids"</span>, sysID);
        tagForm.setPreference(<span class="hljs-string">"table_name"</span>, tableName);
        tagForm.removeCloseDecoration();
        tagForm.render();
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> keys = [<span class="hljs-string">"Please enter the name for the new tag"</span>, <span class="hljs-string">"New tag"</span>];
        <span class="hljs-keyword">var</span> msgs = getMessages(keys);
        <span class="hljs-keyword">if</span> (!callback)
            gsftPrompt(msgs[<span class="hljs-string">"New tag"</span>], msgs[<span class="hljs-string">"Please enter the name for the new tag"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelName</span>) </span>{
                newLabelRequest(tableName, labelName, sysID)
            });
        <span class="hljs-keyword">else</span>
            gsftPrompt(msgs[<span class="hljs-string">"New tag"</span>], msgs[<span class="hljs-string">"Please enter the name for the new tag"</span>], callback);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newLabelRequest</span>(<span class="hljs-params">tableName, labelName, sysID</span>) </span>{
    <span class="hljs-keyword">if</span> (labelName == <span class="hljs-literal">null</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> viewName;
    <span class="hljs-keyword">var</span> view = gel(<span class="hljs-string">'sysparm_view'</span>);
    <span class="hljs-keyword">if</span> (view != <span class="hljs-literal">null</span>)
        viewName = view.value;
    assignLabel(labelName, tableName, sysID, viewName);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assignLabel</span>(<span class="hljs-params">labelName, tableName, sysId, viewName</span>) </span>{
    <span class="hljs-keyword">if</span> (!labelName)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> url = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"LabelsAjax"</span>);
    url.addParam(<span class="hljs-string">"sysparm_name"</span>, tableName);
    url.addParam(<span class="hljs-string">"sysparm_value"</span>, sysId);
    url.addParam(<span class="hljs-string">"sysparm_chars"</span>, labelName);
    url.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">"create"</span>);
    <span class="hljs-keyword">if</span> (viewName)
        url.addParam(<span class="hljs-string">"sysparm_view"</span>, viewName);
    url.getXML(refreshNavIfNotDoctypeUI);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabel</span>(<span class="hljs-params">appid, labelid</span>) </span>{
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"LabelsAjax"</span>);
    aj.addParam(<span class="hljs-string">"sysparm_name"</span>, appid);
    aj.addParam(<span class="hljs-string">"sysparm_value"</span>, labelid);
    aj.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">'delete'</span>);
    aj.getXML(removeLabelResponse);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelByName</span>(<span class="hljs-params">labelName, sysId</span>) </span>{
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"LabelsAjax"</span>);
    aj.addParam(<span class="hljs-string">"sysparm_name"</span>, labelName);
    aj.addParam(<span class="hljs-string">"sysparm_value"</span>, sysId);
    aj.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">'removeByName'</span>);
    aj.getXML(refreshNavIfNotDoctypeUI);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelById</span>(<span class="hljs-params">labelId, sysId</span>) </span>{
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"LabelsAjax"</span>);
    aj.addParam(<span class="hljs-string">"sysparm_name"</span>, labelId);
    aj.addParam(<span class="hljs-string">"sysparm_value"</span>, sysId);
    aj.addParam(<span class="hljs-string">"sysparm_type"</span>, <span class="hljs-string">'remove'</span>);
    aj.getXML(refreshNavIfNotDoctypeUI);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelResponse</span>(<span class="hljs-params">response, args</span>) </span>{
    <span class="hljs-keyword">var</span> labelId = response.responseXML.documentElement.getAttribute(<span class="hljs-string">"sysparm_name"</span>);
    <span class="hljs-keyword">if</span> (!labelId)
        refreshNavIfNotDoctypeUI();
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> labelIds = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        labelIds.push(labelId);
        labelsGetRequest(labelIds);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newLabelPromptListAction</span>(<span class="hljs-params">tableName, listId</span>) </span>{
    <span class="hljs-keyword">var</span> nonDoctypeUICallback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">labelName</span>) </span>{
        assignLabelToCheckedSysIds(labelName, tableName, listId)
    };
    <span class="hljs-keyword">var</span> list = GlideList2.get(listId);
    <span class="hljs-keyword">if</span> (!list)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> sysIds = list.getChecked();
    <span class="hljs-keyword">if</span> (!sysIds)
        <span class="hljs-keyword">return</span>;
    newLabel(tableName, sysIds, nonDoctypeUICallback);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assignLabelToCheckedSysIds</span>(<span class="hljs-params">labelName, tableName, listId</span>) </span>{
    <span class="hljs-keyword">if</span> (!labelName || labelName.strip() == <span class="hljs-string">''</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> list = GlideList2.get(listId);
    <span class="hljs-keyword">if</span> (!list)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-keyword">var</span> sysIds = list.getChecked();
    <span class="hljs-keyword">if</span> (!sysIds)
        <span class="hljs-keyword">return</span>;
    assignLabel(labelName, tableName, sysIds, list.getView());
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeLabelFromCheckedSysIds</span>(<span class="hljs-params">labelName, listId</span>) </span>{
    <span class="hljs-keyword">var</span> list = GlideList2.get(listId);
    <span class="hljs-keyword">var</span> sysIds = list.getChecked();
    <span class="hljs-keyword">if</span> (!sysIds)
        <span class="hljs-keyword">return</span>;
    removeLabelByName(labelName, sysIds);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFormByTableName</span>(<span class="hljs-params">tableName</span>) </span>{
    <span class="hljs-keyword">var</span> form = getControlForm(tableName);
    <span class="hljs-keyword">if</span> (!form)
        form = <span class="hljs-built_in">document</span>.forms[tableName + <span class="hljs-string">'.do'</span>];
    <span class="hljs-keyword">return</span> form;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refreshNavIfNotDoctypeUI</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> isDoctype = <span class="hljs-built_in">document</span>.documentElement.getAttribute(<span class="hljs-string">"data-doctype"</span>) == <span class="hljs-string">"true"</span>;
    <span class="hljs-keyword">if</span> (!isDoctype)
        refreshNav();
};
<span class="hljs-comment">/*! RESOURCE: scripts/CloudRsrcTemplateClient.js */</span>
<span class="hljs-keyword">var</span> CloudRsrcTemplateClient = {
    <span class="hljs-attr">_fieldsInfo</span>: {},
    <span class="hljs-attr">validateCatItemParameterVariables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ajaxProcessor, control, oldValue, newValue, isLoading</span>) </span>{
        <span class="hljs-keyword">if</span> (isLoading)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> parameters = {};
        parameters.variable_control_id = control.id;
        parameters.parameter_value = newValue.trim();
        <span class="hljs-keyword">this</span>.callAjax(ajaxProcessor, <span class="hljs-string">"validateVariableValue"</span>, parameters, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">answer</span>) </span>{
            <span class="hljs-keyword">var</span> result = answer.evalJSON();
            result.control = control;
            CloudRsrcTemplateClient._fieldsInfo[result[<span class="hljs-string">"name"</span>]] = result;
            <span class="hljs-keyword">if</span> (!result.isValid) {
                control.focus();
            }
            CloudRsrcTemplateClient.showAllFieldMessages();
        });
    },
    <span class="hljs-attr">callAjax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ajaxName, methodName, parameters, callback</span>) </span>{
        <span class="hljs-keyword">var</span> glideAjax = <span class="hljs-keyword">new</span> GlideAjax(ajaxName);
        glideAjax.addParam(<span class="hljs-string">"sysparm_name"</span>, methodName);
        <span class="hljs-keyword">if</span> (parameters) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> parameters) {
                glideAjax.addParam(name, parameters[name]);
            }
        }
        <span class="hljs-keyword">if</span> (callback) {
            glideAjax.getXMLAnswer(callback);
        } <span class="hljs-keyword">else</span> {
            glideAjax.getXMLWait();
            <span class="hljs-keyword">return</span> glideAjax.getAnswer();
        }
    },
    <span class="hljs-attr">beforeSubmitCloudRsrcTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFormValid())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Please correct errors to submit order'</span>);
        g_form.addErrorMessage(msg);
        <span class="hljs-keyword">this</span>.showAllFieldMessages(<span class="hljs-string">'error'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isFormValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo[name].isValid)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">showAllFieldMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">var</span> fieldInfo = <span class="hljs-keyword">this</span>._fieldsInfo[name];
            <span class="hljs-keyword">if</span> (fieldInfo.message.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fieldInfo.message.length; i++) {
                    g_form.hideAllFieldMsgs();
                    g_form.clearMessages();
                    g_form.showFieldMsg(fieldInfo.control, fieldInfo.message[i], fieldInfo.msgtype);
                }
            } <span class="hljs-keyword">else</span> {
                g_form.hideFieldMsg(fieldInfo.control);
            }
        }
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudBulkTaggingUtil.js */</span>
<span class="hljs-keyword">var</span> CloudBulkTaggingUtil = {
    <span class="hljs-attr">getSelectedIds</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field, list, form</span>) </span>{
        <span class="hljs-keyword">var</span> ids;
        <span class="hljs-keyword">var</span> listView = <span class="hljs-keyword">typeof</span> list != <span class="hljs-string">'undefined'</span> &amp;&amp; list != <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (listView)
            ids = list.getChecked();
        <span class="hljs-keyword">else</span>
            ids = form.getUniqueValue();
        <span class="hljs-keyword">if</span> (!field)
            <span class="hljs-keyword">return</span> ids.split(<span class="hljs-string">","</span>);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> selectedIds = ids.split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">var</span> tableName;
            <span class="hljs-keyword">if</span> (listView)
                tableName = list.getTableName();
            <span class="hljs-keyword">else</span>
                <span class="hljs-keyword">return</span> form.getValue(field).split(<span class="hljs-string">","</span>);
            <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'CloudBulkTagUtil'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getSelectedIds'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_table_name'</span>, tableName);
            ga.addParam(<span class="hljs-string">'sysparm_ids'</span>, <span class="hljs-built_in">JSON</span>.stringify(selectedIds));
            ga.addParam(<span class="hljs-string">'sysparm_field'</span>, field);
            ga.getXMLWait();
            <span class="hljs-keyword">return</span> ga.getAnswer().split(<span class="hljs-string">","</span>);
        }
    },
    <span class="hljs-attr">createBulkTagDialogWindowForCI</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field, list, form</span>) </span>{
        <span class="hljs-keyword">var</span> title = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> dd;
        <span class="hljs-keyword">var</span> listView = <span class="hljs-keyword">typeof</span> list != <span class="hljs-string">'undefined'</span> &amp;&amp; list != <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (g_api == <span class="hljs-number">1</span>) {
            title = <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Assign Standard Cloud Management Tags'</span>);
            dd = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'assign_cloud_mgmt_tags'</span>);
            dd.setSize(<span class="hljs-number">500</span>, <span class="hljs-number">350</span>);
            dd.setTitle(title);
            dd.setPreference(<span class="hljs-string">'sysparm_sys_id'</span>, <span class="hljs-keyword">this</span>.getSelectedIds(field, list, form));
            dd.setPreference(<span class="hljs-string">'sysparm_list_view'</span>, listView);
            dd.render();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (g_api == <span class="hljs-number">2</span>) {
            title = g_i18n.getMessage(<span class="hljs-string">'Assign Standard Cloud Management Tags'</span>);
            <span class="hljs-keyword">var</span> url = GlideURLBuilder.newGlideUrl(<span class="hljs-string">"assign_cloud_mgmt_tags_v3.do"</span>);
            url.addParam(<span class="hljs-string">'sysparm_sys_id'</span>, <span class="hljs-keyword">this</span>.getSelectedIds(field, list, form));
            url.addParam(<span class="hljs-string">'sysparm_list_view'</span>, listView);
            url.addParam(<span class="hljs-string">"sysparm_nostack"</span>, <span class="hljs-string">"no"</span>);
            <span class="hljs-keyword">var</span> o = <span class="hljs-keyword">new</span> GlideModal(<span class="hljs-string">"assign_cloud_mgmt_tags_v3"</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">"modal-md"</span>, <span class="hljs-string">""</span>);
            o.setTitle(title);
            o.renderIframe(url.getURL(), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">this</span>.parent.$(<span class="hljs-string">"#assign_cloud_mgmt_tags_v3"</span>).find(<span class="hljs-string">"iframe"</span>).height(<span class="hljs-string">"420"</span>);
                <span class="hljs-keyword">this</span>.parent.$(<span class="hljs-string">"#assign_cloud_mgmt_tags_v3"</span>).find(<span class="hljs-string">".modal-content"</span>).height(<span class="hljs-string">"470"</span>);
            });
            CustomEvent.observe(<span class="hljs-string">"cloud.mgmt.assigntags"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                o.destroy();
                <span class="hljs-keyword">if</span> (listView)
                    g_notification.show(<span class="hljs-string">"info"</span>, g_i18n.getMessage(<span class="hljs-string">"Assigning standard Cloud Management tags can take up to a few moments to complete."</span>));
                <span class="hljs-keyword">else</span>
                    g_notification.show(<span class="hljs-string">"info"</span>, g_i18n.getMessage(<span class="hljs-string">"Assigning standard Cloud Management tags can take up to a few moments to complete. Refresh the page to see the updated tags."</span>));
            });
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudStackClient.js */</span>
<span class="hljs-keyword">var</span> CloudStackClient = {
    <span class="hljs-attr">_scCatItemInfo</span>: {
        <span class="hljs-string">'cmdb_ci_cloudformation_stack'</span>: <span class="hljs-string">'e24787ec9f132100eff2d07bf67fcf8d'</span>,
        <span class="hljs-string">'cmdb_ci_azure_resource_group'</span>: <span class="hljs-string">'cd5c77239f300200eff2d07bf67fcf7f'</span>
    },
    <span class="hljs-attr">requestStackChange</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stack_id, lease_start, table_name</span>) </span>{
        <span class="hljs-keyword">var</span> ITEM = CloudStackClient._scCatItemInfo[table_name];
        <span class="hljs-keyword">var</span> u_lease_end = CloudStackClient.getStackLeaseEndTime(lease_start).toString();
        <span class="hljs-keyword">var</span> itemVars = {
            <span class="hljs-string">'u_lease_end'</span>: u_lease_end,
            <span class="hljs-string">'u_vm_instance_sys_id'</span>: stack_id
        };
        <span class="hljs-keyword">if</span> (itemVars.u_lease_end != <span class="hljs-literal">null</span>) {
            CloudStackClient.callAjax(ITEM, stack_id, table_name, itemVars);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">callAjax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, stack_id, table_name, itemVars, callback</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'CloudStackAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'requestChange'</span>);
        ga.addParam(<span class="hljs-string">'table'</span>, table_name);
        ga.addParam(<span class="hljs-string">'current'</span>, stack_id);
        ga.addParam(<span class="hljs-string">'item'</span>, item);
        ga.addParam(<span class="hljs-string">'itemVars'</span>, <span class="hljs-built_in">Object</span>.toJSON(itemVars));
        ga.getXMLAnswer(CloudStackClient.callAjaxHandleResponse);
    },
    <span class="hljs-attr">callAjaxHandleResponse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">responseData</span>) </span>{
        <span class="hljs-keyword">var</span> response = responseData.evalJSON();
        <span class="hljs-keyword">if</span> (response.changeRequest == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (response.errorMessage != <span class="hljs-literal">null</span>) {
                g_form.addErrorMessage(response.errorMessage);
            } <span class="hljs-keyword">else</span> {
                gsftSubmit(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'sysverb_back'</span>));
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">window</span>.location = response.changeRequest.url;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isChangeRequiredForStack</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">stack_id, table_name</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'CloudStackAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'isChangeRequired'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_id'</span>, stack_id);
        ga.addParam(<span class="hljs-string">'sysparm_table'</span>, table_name);
        ga.addParam(<span class="hljs-string">'action'</span>, <span class="hljs-string">'update_lease_end'</span>);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer() == <span class="hljs-string">'true'</span>;
    },
    <span class="hljs-attr">showLeaseUpdateDialog</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> stack_id = g_form.getUniqueValue();
        <span class="hljs-keyword">var</span> lease_start;
        <span class="hljs-keyword">var</span> lease_end;
        <span class="hljs-keyword">var</span> gr = <span class="hljs-keyword">new</span> GlideRecord(g_form.getTableName());
        <span class="hljs-keyword">if</span> (gr.get(stack_id)) {
            <span class="hljs-keyword">if</span> (gr.getTableName().startsWith(<span class="hljs-string">'cloud_report_'</span>)) {
                stack_id = gr.ci;
                gr = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'cmdb_ci'</span>);
                <span class="hljs-keyword">if</span> (!gr.get(stack_id)) {
                    <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Stack '</span> + stack_id + <span class="hljs-string">' not found'</span>);
                    <span class="hljs-keyword">return</span>;
                }
            }
            <span class="hljs-keyword">var</span> stack_lease_start = gr.lease_start + <span class="hljs-string">''</span>;
            <span class="hljs-keyword">var</span> stack_lease_end = gr.lease_end + <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> ((stack_lease_start == <span class="hljs-string">''</span>) &amp;&amp; (stack_lease_end == <span class="hljs-string">''</span>)) {
                lease_start = <span class="hljs-keyword">new</span> GwtDate();
                lease_start.now();
                lease_end = <span class="hljs-keyword">new</span> GwtDate();
                lease_end.now();
                lease_end.addDays(CloudStackClient.getDefaultLeaseDurationForStack());
            } <span class="hljs-keyword">else</span> {
                lease_start = CloudStackClient.adjustStackTime(<span class="hljs-keyword">new</span> GwtDate(stack_lease_start), <span class="hljs-literal">false</span>);
                lease_end = CloudStackClient.adjustStackTime(<span class="hljs-keyword">new</span> GwtDate(stack_lease_end), <span class="hljs-literal">false</span>);
            }
        }
        dlog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'update_lease_end'</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">320</span>);
        dlog.setTitle(<span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'New Lease End Date Time'</span>));
        dlog.setPreference(<span class="hljs-string">'vm_instance_sys_id'</span>, stack_id);
        dlog.setPreference(<span class="hljs-string">'lease_start'</span>, lease_start);
        dlog.setPreference(<span class="hljs-string">'lease_end'</span>, lease_end);
        dlog.setPreference(<span class="hljs-string">'change_required'</span>, CloudStackClient.isChangeRequiredForStack(stack_id, gr.sys_class_name));
        dlog.setPreference(<span class="hljs-string">'onConfirm_ok'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            CloudStackClient.requestStackChange(stack_id, lease_start, gr.sys_class_name);
        });
        dlog.render();
    },
    <span class="hljs-attr">getDefaultLeaseDurationForStack</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getProperty'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_property_name'</span>, <span class="hljs-string">'lease_duration'</span>);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer();
    },
    <span class="hljs-attr">adjustStackTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dt, toUTC</span>) </span>{
        <span class="hljs-keyword">var</span> dtObject = dt.getDateObject(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">var</span> offset = dtObject.getTimezoneOffset();
        <span class="hljs-keyword">if</span> (toUTC) {
            dt.addMinutes(offset);
        } <span class="hljs-keyword">else</span> {
            dt.subtractMinutes(offset);
        }
        <span class="hljs-keyword">return</span> dt;
    },
    <span class="hljs-attr">getStackLeaseEndTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lease_start</span>) </span>{
        <span class="hljs-keyword">var</span> lease_end = trim(gel(<span class="hljs-string">'lease_end'</span>).value);
        lease_end = CloudStackClient.getStackInternalDateFormat(lease_end);
        <span class="hljs-keyword">var</span> dt_lease_end = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> old_lease_end = g_form.getValue(<span class="hljs-string">'lease_end'</span>);
        <span class="hljs-keyword">if</span> (lease_end != old_lease_end) {
            <span class="hljs-keyword">if</span> (CloudStackClient.validateLeaseEndTime(lease_start, lease_end, <span class="hljs-literal">true</span>)) {
                dt_lease_end = CloudStackClient.adjustStackTime(<span class="hljs-keyword">new</span> GwtDate(lease_end), <span class="hljs-literal">true</span>);
            }
        }
        <span class="hljs-keyword">return</span> dt_lease_end;
    },
    <span class="hljs-attr">getStackInternalDateFormat</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">userDateStr</span>) </span>{
        <span class="hljs-keyword">var</span> time_milli_seconds = getDateFromFormat(userDateStr, g_user_date_time_format);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GwtDate(time_milli_seconds).toString();
    },
    <span class="hljs-attr">validateLeaseEndTime</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">lease_start, lease_end, skipConvert</span>) </span>{
        <span class="hljs-keyword">if</span> (!skipConvert)
            lease_end = CloudStackClient.getStackInternalDateFormat(lease_end);
        <span class="hljs-keyword">if</span> (lease_end == <span class="hljs-string">''</span>) {
            setValidationError(<span class="hljs-literal">true</span>, <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Lease end time cannot be blank'</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">var</span> newTime = <span class="hljs-keyword">new</span> GwtDate(lease_end + <span class="hljs-string">''</span>);
        <span class="hljs-keyword">if</span> (newTime.compare(<span class="hljs-keyword">new</span> GwtDate(lease_start + <span class="hljs-string">''</span>), <span class="hljs-literal">true</span>) &lt; <span class="hljs-number">0</span>) {
            setValidationError(<span class="hljs-literal">true</span>, <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Lease end time must be later than lease start time'</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">if</span> (newTime.compare(timeWindow(), <span class="hljs-literal">true</span>) &lt; <span class="hljs-number">0</span>) {
            setValidationError(<span class="hljs-literal">true</span>, <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Lease end time must be later than current time'</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">var</span> maxLease = getMaxLeaseDuration();
        <span class="hljs-keyword">if</span> (maxLease != <span class="hljs-string">''</span>) {
            <span class="hljs-keyword">var</span> currentTime = timeWindow();
            <span class="hljs-keyword">var</span> startTime = <span class="hljs-keyword">new</span> GwtDate(lease_start + <span class="hljs-string">''</span>);
            <span class="hljs-keyword">var</span> dt = (currentTime.compare(startTime, <span class="hljs-literal">true</span>) &gt; <span class="hljs-number">0</span>) ? currentTime : startTime;
            dt.addDays(maxLease);
            <span class="hljs-keyword">if</span> (dt.compare(<span class="hljs-keyword">new</span> GwtDate(lease_end + <span class="hljs-string">''</span>), <span class="hljs-literal">true</span>) &lt; <span class="hljs-number">0</span>) {
                setValidationError(<span class="hljs-literal">true</span>, <span class="hljs-keyword">new</span> GwtMessage().getMessage(<span class="hljs-string">'Lease end time exceeds the max lease duration (Max lease duration: {0} days)'</span>, maxLease));
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        setValidationError(<span class="hljs-literal">false</span>, <span class="hljs-string">''</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">timeWindow</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> tm = <span class="hljs-keyword">new</span> GwtDate();
            tm.now();
            tm.subtractSeconds(<span class="hljs-number">2</span>);
            <span class="hljs-keyword">return</span> tm;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMaxLeaseDuration</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getProperty'</span>);
            ga.addParam(<span class="hljs-string">'sysparm_property_name'</span>, <span class="hljs-string">'max_lease_duration'</span>);
            ga.getXMLWait();
            <span class="hljs-keyword">return</span> ga.getAnswer();
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setValidationError</span>(<span class="hljs-params">isVisible, msg</span>) </span>{
            <span class="hljs-keyword">var</span> control = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'lease_end_error'</span>);
            control.style.display = isVisible ? <span class="hljs-string">''</span> : <span class="hljs-string">'none'</span>;
            control.innerHTML = msg + <span class="hljs-string">''</span>;
        }
    }
};;
<span class="hljs-comment">/*! RESOURCE: scripts/TestClient.js */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">popTestClient</span>(<span class="hljs-params">test_definition, test_subject</span>) </span>{
    <span class="hljs-keyword">var</span> test_execution;
    <span class="hljs-keyword">if</span> (!test_subject)
        test_execution = test_definition;
    <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'test_client'</span>, <span class="hljs-literal">false</span>, <span class="hljs-string">"50em"</span>, <span class="hljs-string">"25em"</span>);
    <span class="hljs-keyword">if</span> (test_execution) {
        dialog.setPreference(<span class="hljs-string">'sysparm_test_execution'</span>, test_execution);
    } <span class="hljs-keyword">else</span> {
        dialog.setPreference(<span class="hljs-string">'sysparm_test_definition'</span>, test_definition);
        dialog.setPreference(<span class="hljs-string">'sysparm_test_subject'</span>, test_subject);
    }
    dialog.render();
}
<span class="hljs-keyword">var</span> TestClient = Class.create();
TestClient.prototype = {
    <span class="hljs-attr">TEST_STATES</span>: [<span class="hljs-string">"Pending"</span>, <span class="hljs-string">"Running"</span>, <span class="hljs-string">"Succeeded"</span>, <span class="hljs-string">"Failed"</span>],
    <span class="hljs-attr">STATUS_IMAGES</span>: [<span class="hljs-string">"images/workflow_skipped.gif"</span>,
        <span class="hljs-string">"images/loading_anim2.gifx"</span>, <span class="hljs-string">"images/workflow_complete.gifx"</span>,
        <span class="hljs-string">"images/workflow_rejected.gifx"</span>
    ],
    <span class="hljs-attr">TRANSLATED_TEXT</span>: [<span class="hljs-string">"Pending"</span>, <span class="hljs-string">"Running"</span>, <span class="hljs-string">"Succeeded"</span>, <span class="hljs-string">"Failed"</span>,
        <span class="hljs-string">"Details"</span>, <span class="hljs-string">"more"</span>, <span class="hljs-string">"Hide Details"</span>, <span class="hljs-string">"Show Details"</span>
    ],
    <span class="hljs-attr">TIMEOUT_INTERVAL</span>: <span class="hljs-number">1000</span>,
    <span class="hljs-attr">translator</span>: <span class="hljs-keyword">new</span> GwtMessage(),
    <span class="hljs-attr">detailStates</span>: {},
    <span class="hljs-attr">id</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">container</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">test_definition, test_subject</span>) </span>{
        <span class="hljs-keyword">this</span>.container = $(<span class="hljs-string">"container"</span>);
        <span class="hljs-keyword">this</span>._setContainerStyles(<span class="hljs-keyword">this</span>.container);
        <span class="hljs-keyword">this</span>.translator.getMessages(<span class="hljs-keyword">this</span>.TRANSLATED_TEXT);
        <span class="hljs-keyword">var</span> test_execution;
        <span class="hljs-keyword">if</span> (!test_subject) {
            <span class="hljs-keyword">this</span>.id = test_definition
            <span class="hljs-keyword">return</span>
        }
        <span class="hljs-keyword">this</span>.testDefinition = test_definition;
        <span class="hljs-keyword">this</span>.testSubject = test_subject;
    },
    <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.id) {
            <span class="hljs-keyword">this</span>.getStatus();
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AJAXTestProcessor'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'startTest'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_test_definition'</span>, <span class="hljs-keyword">this</span>.testDefinition);
        ga.addParam(<span class="hljs-string">'sysparm_test_subject'</span>, <span class="hljs-keyword">this</span>.testSubject);
        ga.getXML(<span class="hljs-keyword">this</span>.handleStart.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">handleStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">this</span>.id = response.responseXML.documentElement.getAttribute(<span class="hljs-string">"answer"</span>);
        <span class="hljs-keyword">this</span>.getStatus();
    },
    <span class="hljs-attr">getStatus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'AJAXTestProcessor'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'getStatus'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_execution_id'</span>, <span class="hljs-keyword">this</span>.id);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.id != <span class="hljs-string">"string"</span> || <span class="hljs-keyword">this</span>.id == <span class="hljs-string">""</span>)
            <span class="hljs-keyword">return</span>;
        ga.getXML(<span class="hljs-keyword">this</span>.handleGetStatus.bind(<span class="hljs-keyword">this</span>));
    },
    <span class="hljs-attr">handleGetStatus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
        <span class="hljs-keyword">var</span> answer = response.responseXML.documentElement.getAttribute(<span class="hljs-string">"answer"</span>);
        <span class="hljs-built_in">eval</span>(<span class="hljs-string">"var so = "</span> + answer);
        <span class="hljs-keyword">this</span>.renderStatus(so);
        <span class="hljs-keyword">this</span>.container = $(<span class="hljs-string">"container"</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.container == <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (so.state == <span class="hljs-string">"0"</span> || so.state == <span class="hljs-string">"1"</span>)
            setTimeout(<span class="hljs-keyword">this</span>.getStatus.bind(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.TIMEOUT_INTERVAL);
    },
    <span class="hljs-attr">renderStatus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">so</span>) </span>{
        <span class="hljs-keyword">if</span> (!so)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> new_container = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
        <span class="hljs-keyword">this</span>._setContainerStyles(new_container);
        new_container.appendChild(<span class="hljs-keyword">this</span>.getStatusRow(so));
        <span class="hljs-keyword">this</span>.container.replace(new_container);
        <span class="hljs-keyword">this</span>.container = new_container;
    },
    <span class="hljs-attr">getStatusRow</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj, order</span>) </span>{
        <span class="hljs-keyword">var</span> name = obj.name;
        <span class="hljs-keyword">var</span> state = obj.state;
        <span class="hljs-keyword">var</span> message = obj.message;
        <span class="hljs-keyword">var</span> percent = <span class="hljs-literal">NaN</span>;
        <span class="hljs-keyword">if</span> (obj.percent_complete) {
            percent = <span class="hljs-built_in">parseInt</span>(obj.percent_complete);
        }
        <span class="hljs-keyword">var</span> hasPercent = (!<span class="hljs-built_in">isNaN</span>(percent) &amp;&amp; percent &gt; <span class="hljs-number">0</span> &amp;&amp; percent &lt;= <span class="hljs-number">100</span>);
        <span class="hljs-keyword">var</span> hasDetails = (obj.results.length &gt;= <span class="hljs-number">1</span> || message != <span class="hljs-string">""</span>);
        <span class="hljs-keyword">var</span> tr = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>, {
            <span class="hljs-attr">id</span>: <span class="hljs-string">"row_container-"</span> + obj.sys_id
        });
        tr.style.padding = <span class="hljs-string">"5px"</span>;
        <span class="hljs-keyword">var</span> simp = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
        simp.appendChild(<span class="hljs-keyword">this</span>._getImage(obj));
        simp.appendChild(<span class="hljs-keyword">this</span>._getItemTitleElement(name, order));
        <span class="hljs-keyword">var</span> det = <span class="hljs-keyword">this</span>._getDetailElement();
        <span class="hljs-keyword">var</span> dtl;
        <span class="hljs-keyword">if</span> (hasDetails || hasPercent)
            dtl = det.appendChild(<span class="hljs-keyword">this</span>._getShowDetailsLink(obj.sys_id));
        simp.appendChild(det);
        simp.appendChild(<span class="hljs-keyword">this</span>._getFloatClear(<span class="hljs-string">"both"</span>));
        tr.appendChild(simp);
        <span class="hljs-keyword">if</span> (hasDetails || hasPercent) {
            <span class="hljs-keyword">var</span> dtd = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
            <span class="hljs-keyword">var</span> ddc = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
            ddc.style.marginTop = <span class="hljs-string">".5em"</span>;
            ddc.style.marginLeft = <span class="hljs-string">"30px"</span>;
            ddc.id = <span class="hljs-string">"detail_cont-"</span> + obj.sys_id;
            dtd.appendChild(ddc);
            <span class="hljs-keyword">if</span> (hasPercent) {
                ddc.appendChild(<span class="hljs-keyword">this</span>._getProgressBar(percent));
                ddc.appendChild(<span class="hljs-keyword">this</span>._getFloatClear(<span class="hljs-string">"both"</span>));
            }
            <span class="hljs-keyword">if</span> (message != <span class="hljs-string">""</span>) {
                <span class="hljs-keyword">var</span> dds = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
                dds.appendChild(<span class="hljs-keyword">this</span>._getDetailsText(message, obj));
                dds.style.fontSize = <span class="hljs-string">"smaller"</span>;
                dds.style.marginBottom = <span class="hljs-string">".5em"</span>;
                ddc.appendChild(dds);
            }
            dtl.details_container = ddc;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.detailStates[obj.sys_id] == <span class="hljs-string">"boolean"</span> &amp;&amp; <span class="hljs-keyword">this</span>.detailStates[obj.sys_id] == <span class="hljs-literal">false</span> &amp;&amp; dtl != <span class="hljs-literal">null</span>)
                dtl.onclick();
            tr.appendChild(dtd);
            <span class="hljs-keyword">this</span>.renderChildren(obj, ddc);
        }
        <span class="hljs-keyword">return</span> tr;
    },
    <span class="hljs-attr">_getItemTitleElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, order</span>) </span>{
        <span class="hljs-keyword">var</span> nameHtml = <span class="hljs-string">"&lt;b&gt;"</span> + name + <span class="hljs-string">"&lt;/b&gt;"</span>;
        <span class="hljs-keyword">if</span> (order) {
            nameHtml = <span class="hljs-string">"\t"</span> + order + <span class="hljs-string">".\t"</span> + nameHtml;
        }
        <span class="hljs-keyword">var</span> nsp = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"span"</span>);
        nsp.innerHTML = nameHtml;
        nsp.style.float = <span class="hljs-string">"left"</span>;
        <span class="hljs-keyword">return</span> nsp;
    },
    <span class="hljs-attr">_getImage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">var</span> state = obj.state;
        <span class="hljs-keyword">var</span> si = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"img"</span>);
        si.id = <span class="hljs-string">"img-"</span> + obj.sys_id;
        si.src = <span class="hljs-keyword">this</span>.STATUS_IMAGES[state];
        si.style.marginRight = <span class="hljs-string">"10px"</span>;
        si.style.float = <span class="hljs-string">"left"</span>;
        si.title = <span class="hljs-keyword">this</span>.TEST_STATES[state];
        <span class="hljs-keyword">return</span> si;
    },
    <span class="hljs-attr">_getDetailElement</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> det = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"span"</span>);
        det.style.marginLeft = <span class="hljs-string">"10px"</span>;
        det.style.float = <span class="hljs-string">"left"</span>;
        <span class="hljs-keyword">return</span> det;
    },
    <span class="hljs-attr">_getShowDetailsLink</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">objSysID</span>) </span>{
        <span class="hljs-keyword">var</span> da = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"a"</span>);
        da.id = objSysID;
        da.controller = <span class="hljs-keyword">this</span>;
        da.innerHTML = <span class="hljs-string">"("</span> + <span class="hljs-keyword">this</span>.translator.getMessage(<span class="hljs-string">"Hide Details"</span>) + <span class="hljs-string">")"</span>;
        da.toggleText = <span class="hljs-string">"("</span> + <span class="hljs-keyword">this</span>.translator.getMessage(<span class="hljs-string">"Show Details"</span>) + <span class="hljs-string">")"</span>;
        da.style.fontSize = <span class="hljs-string">"8pt"</span>;
        da.style.float = <span class="hljs-string">"left"</span>;
        da.onclick = <span class="hljs-keyword">this</span>.__detailsToggle;
        <span class="hljs-keyword">return</span> da;
    },
    <span class="hljs-attr">__detailsToggle</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> cont = <span class="hljs-keyword">this</span>.details_container;
        cont.toggle();
        <span class="hljs-keyword">this</span>.controller.detailStates[<span class="hljs-keyword">this</span>.id] = cont.visible();
        <span class="hljs-keyword">var</span> nt = <span class="hljs-keyword">this</span>.toggleText;
        <span class="hljs-keyword">this</span>.toggleText = <span class="hljs-keyword">this</span>.innerHTML;
        <span class="hljs-keyword">this</span>.innerHTML = nt;
    },
    <span class="hljs-attr">_getDetailsText</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">message, obj</span>) </span>{
        <span class="hljs-keyword">if</span> (message.length &gt; <span class="hljs-number">150</span>) {
            <span class="hljs-keyword">var</span> new_message = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"span"</span>);
            new_message.innerHTML = <span class="hljs-string">"&lt;b&gt;"</span> +
                <span class="hljs-keyword">this</span>.translator.getMessage(<span class="hljs-string">"Details"</span>) + <span class="hljs-string">": &lt;/b&gt;"</span> +
                message.slice(<span class="hljs-number">0</span>, <span class="hljs-number">150</span>) + <span class="hljs-string">"... "</span>;
            <span class="hljs-keyword">var</span> anch = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"a"</span>);
            anch.href = <span class="hljs-string">"test_execution.do?sys_id="</span> + obj.sys_id;
            anch.innerHTML = <span class="hljs-string">"&lt;b&gt;("</span> + <span class="hljs-keyword">this</span>.translator.getMessage(<span class="hljs-string">"more"</span>) +
                <span class="hljs-string">")&lt;/b&gt;"</span>;
            new_message.appendChild(anch);
            <span class="hljs-keyword">return</span> new_message;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">var</span> new_message = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"span"</span>)
            new_message.innerHTML = <span class="hljs-string">"&lt;b&gt;"</span> +
                <span class="hljs-keyword">this</span>.translator.getMessage(<span class="hljs-string">"Details"</span>) + <span class="hljs-string">": &lt;/b&gt;"</span> +
                message;
            <span class="hljs-keyword">return</span> new_message;
        }
    },
    <span class="hljs-attr">_getProgressBar</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">percent</span>) </span>{
        percent = <span class="hljs-built_in">Math</span>.max(<span class="hljs-number">0</span>, <span class="hljs-built_in">Math</span>.min(<span class="hljs-number">100</span>, percent));
        <span class="hljs-keyword">var</span> progressContainer = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
        progressContainer.style.width = <span class="hljs-string">"300px"</span>;
        progressContainer.style.height = <span class="hljs-string">"8px"</span>;
        progressContainer.style.border = <span class="hljs-string">"1px solid black"</span>;
        progressContainer.style.borderRadius = <span class="hljs-string">"10px"</span>;
        progressContainer.style.padding = <span class="hljs-string">"2px"</span>;
        progressContainer.style.marginTop = <span class="hljs-string">"2px"</span>;
        progressContainer.style.marginBottom = <span class="hljs-string">"2px"</span>;
        progressContainer.style.float = <span class="hljs-string">"left"</span>;
        <span class="hljs-keyword">var</span> progressBar = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"div"</span>);
        progressBar.style.width = percent + <span class="hljs-string">"%"</span>;
        progressBar.style.height = <span class="hljs-string">"100%"</span>;
        progressBar.style.borderRadius = <span class="hljs-string">"10px"</span>;
        progressBar.style.backgroundColor = <span class="hljs-string">"#667788"</span>;
        progressContainer.appendChild(progressBar);
        <span class="hljs-keyword">return</span> progressContainer;
    },
    <span class="hljs-attr">_getFloatClear</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">which</span>) </span>{
        <span class="hljs-keyword">var</span> br = <span class="hljs-keyword">new</span> Element(<span class="hljs-string">"br"</span>);
        br.style.clear = which;
        <span class="hljs-keyword">return</span> br;
    },
    <span class="hljs-attr">renderChildren</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">so, pr_cont</span>) </span>{
        <span class="hljs-keyword">if</span> (!so.results)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; so.results.length; i++) {
            pr_cont.appendChild(<span class="hljs-keyword">this</span>.getStatusRow(so.results[i], i + <span class="hljs-number">1</span>)).style.marginLeft = <span class="hljs-string">"15px"</span>;
        }
    },
    <span class="hljs-attr">_setContainerStyles</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">container</span>) </span>{
        container.id = <span class="hljs-string">"container"</span>;
        container.style.overflowY = <span class="hljs-string">"auto"</span>;
        container.style.maxHeight = <span class="hljs-string">"50em"</span>;
        container.style.marginRight = <span class="hljs-string">".25em"</span>;
        container.style.marginLeft = <span class="hljs-string">".25em"</span>;
    },
    <span class="hljs-attr">type</span>: <span class="hljs-string">'TestClient'</span>
};;
<span class="hljs-comment">/*! RESOURCE: scripts/spell.js */</span>
<span class="hljs-keyword">var</span> TAG_DIV = <span class="hljs-string">"div"</span>;
<span class="hljs-keyword">var</span> TAG_SPAN = <span class="hljs-string">"span"</span>;
<span class="hljs-keyword">var</span> TAG_FORM = <span class="hljs-string">"form"</span>;
<span class="hljs-keyword">var</span> TAG_TEXTAREA = <span class="hljs-string">"textarea"</span>;
<span class="hljs-keyword">var</span> TAG_INPUT = <span class="hljs-string">"input"</span>;
<span class="hljs-keyword">var</span> TAG_A = <span class="hljs-string">"a"</span>;
<span class="hljs-keyword">var</span> SMENU_TAG = <span class="hljs-string">"_suggestmenu"</span>;
<span class="hljs-keyword">var</span> DISPLAY_TAG = <span class="hljs-string">"_display"</span>;
<span class="hljs-keyword">var</span> MENU_BGCOLOR = <span class="hljs-string">"#DDDDDD"</span>;
<span class="hljs-keyword">var</span> HTML_TEXT = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> FLAT_TEXT = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> POSITION = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> WORD = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> SETWORD = <span class="hljs-number">2</span>;
<span class="hljs-keyword">var</span> MODE = <span class="hljs-number">3</span>;
<span class="hljs-keyword">var</span> SUGGESTS = <span class="hljs-number">4</span>;
<span class="hljs-keyword">var</span> TEXT_MODE = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> BOX_MODE = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> ITEM_HEIGHT = <span class="hljs-number">16</span>;
<span class="hljs-keyword">var</span> FONT_SIZE = <span class="hljs-number">9</span>;
<span class="hljs-keyword">var</span> FONT_FACE = <span class="hljs-string">"Arial"</span>;
<span class="hljs-keyword">var</span> PREVIEW_BORDER = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> PREVIEW_PADDING = <span class="hljs-number">2</span>;
<span class="hljs-keyword">var</span> SUGGEST_TOP_BORDER = <span class="hljs-number">3</span>;
<span class="hljs-keyword">var</span> SUGGEST_BOT_BORDER = <span class="hljs-number">2</span>;
<span class="hljs-keyword">var</span> mods = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> originalSpellValue = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
<span class="hljs-keyword">var</span> keys = [<span class="hljs-string">"Checking..."</span>, <span class="hljs-string">"Resume"</span>, <span class="hljs-string">"Resume editing"</span>, <span class="hljs-string">"No misspellings found"</span>];
<span class="hljs-keyword">var</span> processing = <span class="hljs-literal">false</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">spellCheck</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> msgs = getMessages(keys);
    <span class="hljs-keyword">var</span> linkName = <span class="hljs-string">"link."</span> + elementName;
    <span class="hljs-keyword">var</span> link = getObjectByName(linkName, TAG_A);
    <span class="hljs-keyword">var</span> textField = getObjectByName(elementName, TAG_TEXTAREA);
    <span class="hljs-keyword">if</span> (textField == <span class="hljs-literal">null</span>)
        textField = getObjectByName(elementName, TAG_INPUT);
    textField.parentNode.onsubmit = saveAllChanges;
    <span class="hljs-keyword">if</span> (!link.savedHTML)
        link.savedHTML = link.innerHTML;
    setStatus(linkName, msgs[<span class="hljs-string">"Checking..."</span>]);
    jslog(<span class="hljs-string">"element:  "</span> + elementName);
    <span class="hljs-keyword">if</span> (!textField.mode) {
        <span class="hljs-keyword">if</span> (!processing)
            grabSpellData(elementName, textField, linkName, msgs);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> previewDiv = getObjectByName(elementName + DISPLAY_TAG, TAG_DIV);
        setStatus(linkName, <span class="hljs-string">""</span>);
        textField.mode = <span class="hljs-number">0</span>;
        updateTextBox(elementName);
        hideDiv(previewDiv);
        hideAllMenus();
        <span class="hljs-keyword">delete</span> originalSpellValue[elementName];
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">displaySpellText</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> sDiv = getObjectByName(elementName + DISPLAY_TAG, TAG_DIV);
    <span class="hljs-keyword">var</span> textField = getObjectByName(elementName, TAG_TEXTAREA);
    <span class="hljs-keyword">if</span> (textField == <span class="hljs-literal">null</span>)
        textField = getObjectByName(elementName, TAG_INPUT);
    <span class="hljs-keyword">var</span> scroll = <span class="hljs-string">'auto'</span>;
    <span class="hljs-keyword">if</span> (textField.tagName == <span class="hljs-string">'INPUT'</span>)
        scroll = <span class="hljs-string">'visible'</span>;
    <span class="hljs-keyword">if</span> (!sDiv) {
        sDiv = createEditDiv(elementName + DISPLAY_TAG, textField, scroll);
        addChild(sDiv);
    }
    <span class="hljs-keyword">var</span> displayText = buildDisplayText(elementName, HTML_TEXT);
    sDiv.innerHTML = <span class="hljs-string">"&lt;pre wrap='wrap' style=\""</span> +
        <span class="hljs-string">"margin-top: 0px; margin-bottom: 0px; "</span> +
        <span class="hljs-string">"font-family: "</span> + FONT_FACE + <span class="hljs-string">"; "</span> +
        <span class="hljs-string">"white-space: pre-wrap; "</span> +
        <span class="hljs-string">"word-wrap: break-word; "</span> +
        <span class="hljs-string">"font-size: "</span> + FONT_SIZE + <span class="hljs-string">"pt;"</span> +
        <span class="hljs-string">"\"&gt;"</span> + displayText + <span class="hljs-string">"&lt;/pre&gt;"</span>;
    saveAllChanges();
    showDiv(sDiv);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildDisplayText</span>(<span class="hljs-params">elementName, flatText</span>) </span>{
    <span class="hljs-keyword">var</span> rText;
    <span class="hljs-keyword">var</span> prevPos = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> curPos = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> spellCheckText = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> textField = getObjectByName(elementName, TAG_TEXTAREA);
    <span class="hljs-keyword">if</span> (textField == <span class="hljs-literal">null</span>)
        textField = getObjectByName(elementName, TAG_INPUT);
    <span class="hljs-keyword">var</span> baseText = textField.value;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> zo = <span class="hljs-number">0</span>; zo &lt; mods[elementName].length; zo++) {
        <span class="hljs-keyword">var</span> mod = mods[elementName][zo];
        <span class="hljs-keyword">var</span> zPos = mod[POSITION];
        <span class="hljs-keyword">var</span> zWord = mod[WORD];
        <span class="hljs-keyword">var</span> zSetWord = mod[SETWORD];
        <span class="hljs-keyword">var</span> zMode = mod[MODE];
        <span class="hljs-keyword">var</span> fName = buildRefID(elementName, zPos);
        <span class="hljs-keyword">if</span> (zPos &gt; <span class="hljs-number">0</span>) {
            spellCheckText.push(baseText.substring(prevPos, zPos));
            curPos += zPos - prevPos;
        }
        <span class="hljs-keyword">if</span> (flatText) {
            <span class="hljs-keyword">if</span> (zMode == BOX_MODE) {
                <span class="hljs-keyword">var</span> iField = getObjectByName(fName, TAG_INPUT);
                spellCheckText.push(iField.value);
                mod[WORD] = iField.value;
                mod[POSITION] = curPos;
            } <span class="hljs-keyword">else</span> {
                spellCheckText.push(zSetWord);
                mod[WORD] = zSetWord;
                mod[POSITION] = curPos;
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (zMode == BOX_MODE) {
                <span class="hljs-keyword">var</span> iField = getObjectByName(fName, TAG_INPUT);
                <span class="hljs-keyword">if</span> (iField)
                    zSetWord = iField.value;
                spellCheckText.push(<span class="hljs-string">"&lt;input type=input "</span> +
                    <span class="hljs-string">"id=\""</span> + fName + <span class="hljs-string">"\" name=\""</span> + fName + <span class="hljs-string">"\" "</span> +
                    <span class="hljs-string">"style=\"font-weight: bold; font-family: "</span> + FONT_FACE +
                    <span class="hljs-string">"; font-size: "</span> + FONT_SIZE +
                    <span class="hljs-string">"pt; color: black;\""</span> +
                    <span class="hljs-string">"value=\""</span> + zSetWord + <span class="hljs-string">"\" "</span> +
                    <span class="hljs-string">"size="</span> + ((zWord.length &lt; <span class="hljs-number">4</span> ? <span class="hljs-number">4</span> : zWord.length - <span class="hljs-number">2</span>)) + <span class="hljs-string">"&gt;"</span>);
            } <span class="hljs-keyword">else</span> {
                spellCheckText.push(<span class="hljs-string">"&lt;a "</span> +
                    <span class="hljs-string">"id=\""</span> + fName + <span class="hljs-string">"\" name=\""</span> + fName + <span class="hljs-string">"\" "</span> +
                    <span class="hljs-string">"style=\"color: "</span> +
                    (zWord == zSetWord ? <span class="hljs-string">"red"</span> : <span class="hljs-string">"green"</span>) +
                    <span class="hljs-string">"; font-weight: bold;\" onclick=\"showSuggestions("</span> +
                    zo + <span class="hljs-string">", '"</span> + fName +
                    <span class="hljs-string">"', '"</span> + elementName + <span class="hljs-string">"');Event.stop(event);\"&gt;"</span> + zSetWord + <span class="hljs-string">"&lt;/a&gt;"</span>);
            }
        }
        prevPos = <span class="hljs-built_in">parseInt</span>(zPos) + (zWord.length);
        curPos += mod[WORD].length;
    }
    spellCheckText.push(baseText.substring(prevPos));
    rText = spellCheckText.join(<span class="hljs-string">""</span>)
    <span class="hljs-keyword">return</span> rText;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">buildRefID</span>(<span class="hljs-params">elementName, position</span>) </span>{
    <span class="hljs-keyword">return</span> elementName + <span class="hljs-string">"_pos_"</span> + position;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideDiv</span>(<span class="hljs-params">theDiv</span>) </span>{
    <span class="hljs-keyword">if</span> (theDiv)
        theDiv.style.visibility = <span class="hljs-string">"hidden"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showDiv</span>(<span class="hljs-params">theDiv</span>) </span>{
    <span class="hljs-keyword">if</span> (theDiv)
        theDiv.style.visibility = <span class="hljs-string">"visible"</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createEditDiv</span>(<span class="hljs-params">id, field, overflow</span>) </span>{
    <span class="hljs-keyword">var</span> menu = <span class="hljs-built_in">document</span>.createElement(TAG_DIV);
    menu.id = id;
    menu.name = id;
    menu.style.borderRight = <span class="hljs-string">"black "</span> + PREVIEW_BORDER + <span class="hljs-string">"px solid"</span>;
    menu.style.borderLeft = <span class="hljs-string">"black "</span> + PREVIEW_BORDER + <span class="hljs-string">"px solid"</span>;
    menu.style.borderTop = <span class="hljs-string">"black "</span> + PREVIEW_BORDER + <span class="hljs-string">"px solid"</span>;
    menu.style.borderBottom = <span class="hljs-string">"black "</span> + PREVIEW_BORDER + <span class="hljs-string">"px solid"</span>;
    menu.style.paddingRight = PREVIEW_PADDING;
    menu.style.paddingLeft = PREVIEW_PADDING;
    menu.style.paddingTop = PREVIEW_PADDING;
    menu.style.paddingBottom = PREVIEW_PADDING;
    menu.style.visibility = <span class="hljs-string">"hidden"</span>;
    menu.style.position = <span class="hljs-string">"absolute"</span>;
    menu.style.backgroundColor = <span class="hljs-string">"#CCCCEE"</span>;
    menu.style.overflow = overflow;
    menu.style.fontFamily = FONT_FACE;
    menu.style.fontSize = FONT_SIZE + <span class="hljs-string">"pt"</span>;
    menu.style.whiteSpace = <span class="hljs-string">"pre"</span>;
    menu.style.wordWrap = <span class="hljs-string">"break-word"</span>;
    menu.style.zIndex = <span class="hljs-number">20000</span>;
    adjustSpellCheckEditDiv(menu, field);
    menu.onclick = hideAllMenus;
    menu.onscroll = hideAllMenus;
    menu.onkeyup = saveAllChanges;
    <span class="hljs-keyword">return</span> menu;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adjustSpellCheckEditDiv</span>(<span class="hljs-params">menu, field</span>) </span>{
    menu.style.left = grabOffsetLeft(field) + <span class="hljs-string">"px"</span>;
    menu.style.top = grabOffsetTop(field) + <span class="hljs-string">"px"</span>;
    <span class="hljs-keyword">var</span> setWidth = field.offsetWidth;
    <span class="hljs-keyword">var</span> setHeight = field.offsetHeight;
    <span class="hljs-keyword">if</span> (!isMSIE) {
        <span class="hljs-keyword">var</span> borderSizes = (PREVIEW_BORDER * <span class="hljs-number">2</span>) + (PREVIEW_PADDING * <span class="hljs-number">2</span>);
        setHeight -= borderSizes;
        setWidth -= borderSizes;
    }
    menu.style.height = (setHeight - <span class="hljs-number">2</span>) + <span class="hljs-string">"px"</span>;
    menu.style.width = (setWidth - <span class="hljs-number">2</span>) + <span class="hljs-string">"px"</span>;
}
<span class="hljs-keyword">var</span> hideAllMenus = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> divs = <span class="hljs-built_in">document</span>.getElementsByTagName(TAG_DIV);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ca = <span class="hljs-number">0</span>; ca &lt; divs.length; ca++) {
        <span class="hljs-keyword">var</span> daDiv = divs[ca];
        <span class="hljs-keyword">var</span> divID = daDiv.id;
        <span class="hljs-keyword">if</span> (divID.length &gt; SMENU_TAG.length &amp;&amp;
            (divID.substring(divID.length - SMENU_TAG.length) == SMENU_TAG)) {
            hideDiv(daDiv);
        }
    }
    <span class="hljs-keyword">return</span>;
}
<span class="hljs-keyword">var</span> saveAllChanges = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> divs = <span class="hljs-built_in">document</span>.getElementsByTagName(TAG_DIV);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ca = <span class="hljs-number">0</span>; ca &lt; divs.length; ca++) {
        <span class="hljs-keyword">var</span> daDiv = divs[ca];
        <span class="hljs-keyword">var</span> divID = daDiv.id;
        <span class="hljs-keyword">var</span> displayTag = elementName + DISPLAY_TAG;
        <span class="hljs-keyword">if</span> (divID.length &gt; displayTag.length &amp;&amp;
            (divID.substring(divID.length - displayTag.length) == displayTag)) {
            <span class="hljs-keyword">var</span> elementName = divID.substring(<span class="hljs-number">0</span>, divID.length - DISPLAY_TAG.length);
            updateTextBox(elementName);
        }
    }
    <span class="hljs-keyword">return</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createSuggestDiv</span>(<span class="hljs-params">link, id, elementName</span>) </span>{
    <span class="hljs-keyword">var</span> menu = <span class="hljs-built_in">document</span>.createElement(TAG_DIV);
    menu.id = id;
    menu.name = menu.id;
    menu.elementName = elementName;
    menu.style.borderRight = <span class="hljs-string">"gray 2px outset"</span>;
    menu.style.borderLeft = <span class="hljs-string">"white 2px outset"</span>;
    menu.style.borderTop = <span class="hljs-string">"white "</span> + SUGGEST_TOP_BORDER + <span class="hljs-string">"px outset"</span>;
    menu.style.borderBottom = <span class="hljs-string">"gray "</span> + SUGGEST_BOT_BORDER + <span class="hljs-string">"px outset"</span>;
    menu.style.paddingRight = <span class="hljs-string">"1"</span>;
    menu.style.paddingLeft = <span class="hljs-string">"1"</span>;
    menu.style.paddingTop = <span class="hljs-string">"2"</span>;
    menu.style.paddingBottom = <span class="hljs-string">"2"</span>;
    menu.style.visibility = <span class="hljs-string">"hidden"</span>;
    menu.style.position = <span class="hljs-string">"absolute"</span>;
    menu.style.backgroundColor = MENU_BGCOLOR;
    menu.style.fontFamily = FONT_FACE;
    menu.style.fontSize = <span class="hljs-string">"8pt"</span>;
    menu.style.zIndex = <span class="hljs-number">20000</span>;
    <span class="hljs-keyword">return</span> menu;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">grabSpellData</span>(<span class="hljs-params">nam, textField, linkName, msgs</span>) </span>{
    processing = <span class="hljs-literal">true</span>;
    mods = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">var</span> request = findXMLObject();
    <span class="hljs-keyword">var</span> searchURL = <span class="hljs-string">"xmlhttp.do"</span>;
    <span class="hljs-keyword">var</span> textField = getObjectByName(nam, TAG_TEXTAREA);
    <span class="hljs-keyword">if</span> (textField == <span class="hljs-literal">null</span>)
        textField = getObjectByName(nam, TAG_INPUT);
    <span class="hljs-keyword">var</span> baseText = textField.value;
    originalSpellValue[nam] = baseText;
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"SpellCheckerAjax"</span>);
    aj.setEncode(<span class="hljs-literal">false</span>);
    aj.addParam(<span class="hljs-string">"sysparm_name"</span>, encodeText(nam));
    aj.addParam(<span class="hljs-string">"sysparm_chars"</span>, encodeText(baseText));
    aj.getXML(afterGrabSpellData, <span class="hljs-literal">null</span>, [nam, textField, linkName, msgs, processing]);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">afterGrabSpellData</span>(<span class="hljs-params">response, args</span>) </span>{
    <span class="hljs-keyword">if</span> (!response || !response.responseXML)
        <span class="hljs-keyword">return</span>;
    elementName = args[<span class="hljs-number">0</span>];
    textField = args[<span class="hljs-number">1</span>];
    linkName = args[<span class="hljs-number">2</span>];
    msgs = args[<span class="hljs-number">3</span>];
    processing = args[<span class="hljs-number">4</span>];
    <span class="hljs-keyword">var</span> changes = extractSpellChanges(response.responseXML);
    mods[elementName] = changes;
    <span class="hljs-keyword">if</span> (changes.length) {
        textField.mode = <span class="hljs-number">1</span>;
        displaySpellText(elementName);
        <span class="hljs-keyword">if</span> (textField.tagName == <span class="hljs-string">'INPUT'</span>)
            setStatus(linkName, msgs[<span class="hljs-string">"Resume"</span>]);
        <span class="hljs-keyword">else</span>
            setStatus(linkName, msgs[<span class="hljs-string">"Resume editing"</span>]);
    } <span class="hljs-keyword">else</span> {
        setStatus(linkName, msgs[<span class="hljs-string">"No misspellings found"</span>]);
        setTimeout(<span class="hljs-string">"setStatus('"</span> + linkName + <span class="hljs-string">"', '');"</span>, <span class="hljs-number">3000</span>);
    }
    processing = <span class="hljs-literal">false</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractSpellChanges</span>(<span class="hljs-params">responseXML</span>) </span>{
    <span class="hljs-keyword">if</span> (responseXML &amp;&amp; responseXML.documentElement) {
        <span class="hljs-keyword">var</span> items = responseXML.getElementsByTagName(<span class="hljs-string">"match"</span>);
        <span class="hljs-keyword">var</span> elementName = responseXML.documentElement.getAttribute(<span class="hljs-string">"sysparm_name"</span>);
        <span class="hljs-keyword">var</span> origText = responseXML.documentElement.getAttribute(<span class="hljs-string">"sysparm_chars"</span>);
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
            <span class="hljs-keyword">var</span> item = items[i];
            <span class="hljs-keyword">var</span> word = item.getAttribute(<span class="hljs-string">"word"</span>);
            <span class="hljs-keyword">var</span> pos = item.getAttribute(<span class="hljs-string">"position"</span>);
            <span class="hljs-keyword">var</span> sugs = item.getElementsByTagName(<span class="hljs-string">"suggest"</span>)
            mods[mods.length] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(pos, word, word, TEXT_MODE, sugs);
        }
    }
    <span class="hljs-keyword">return</span> mods;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">encodeText</span>(<span class="hljs-params">txt</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">encodeURIComponent</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">encodeURIComponent</span>(txt);
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">escape</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">escape</span>(txt)
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findXMLObject</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        obj = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Msxml2.XMLHTTP"</span>)
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">try</span> {
            obj = <span class="hljs-keyword">new</span> ActiveXObject(<span class="hljs-string">"Microsoft.XMLHTTP"</span>)
        } <span class="hljs-keyword">catch</span> (sc) {
            obj = <span class="hljs-literal">null</span>
        }
    }
    <span class="hljs-keyword">if</span> (!obj &amp;&amp; <span class="hljs-keyword">typeof</span> XMLHttpRequest != <span class="hljs-string">"undefined"</span>) {
        obj = <span class="hljs-keyword">new</span> XMLHttpRequest()
    }
    <span class="hljs-keyword">return</span> obj;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showSuggestions</span>(<span class="hljs-params">mod, name, elementName</span>) </span>{
    <span class="hljs-keyword">var</span> link = getObjectByName(name, TAG_A);
    <span class="hljs-keyword">var</span> widSize = <span class="hljs-number">6</span>;
    <span class="hljs-keyword">if</span> (link) {
        <span class="hljs-keyword">var</span> previewDiv = getObjectByName(elementName + DISPLAY_TAG, TAG_DIV);
        <span class="hljs-keyword">var</span> sugsDiv = getObjectByName(name + <span class="hljs-string">"_"</span> + elementName + SMENU_TAG, TAG_DIV);
        <span class="hljs-keyword">if</span> (!sugsDiv) {
            sugsDiv = createSuggestDiv(link, name + <span class="hljs-string">"_"</span> + elementName + SMENU_TAG, elementName);
            addChild(sugsDiv);
        }
        <span class="hljs-keyword">while</span> (sugsDiv.childNodes.length &gt; <span class="hljs-number">0</span>)
            sugsDiv.removeChild(sugsDiv.childNodes[<span class="hljs-number">0</span>]);
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> gs = <span class="hljs-number">0</span>; gs &lt; mods[elementName][mod][SUGGESTS].length; gs++) {
            <span class="hljs-keyword">var</span> itemName = mods[elementName][mod][SUGGESTS][gs].getAttribute(<span class="hljs-string">"word"</span>);
            sugsDiv.appendChild(makeMenuItem(TEXT_MODE, mod, itemName));
            <span class="hljs-keyword">if</span> (itemName.length &gt; widSize)
                widSize = itemName.length;
        }
        <span class="hljs-keyword">var</span> msg = getMessage(<span class="hljs-string">'Edit...'</span>);
        <span class="hljs-keyword">if</span> (msg.length &gt; widSize)
            widSize = msg.length;
        sugsDiv.appendChild(makeMenuItem(BOX_MODE, mod, <span class="hljs-string">"&lt;i&gt;"</span> + msg + <span class="hljs-string">"&lt;/i&gt;"</span>));
        sugsDiv.style.left = grabOffsetLeft(link) + <span class="hljs-string">"px"</span>;
        sugsDiv.style.top = ((grabOffsetTop(link) + link.offsetHeight + <span class="hljs-number">2</span>) - previewDiv.scrollTop) + <span class="hljs-string">"px"</span>;
        sugsDiv.style.width = link.offsetWidth + <span class="hljs-string">"px"</span>;
        <span class="hljs-keyword">var</span> menuItems = mods[elementName][mod][SUGGESTS].length + <span class="hljs-number">1</span>;
        <span class="hljs-keyword">var</span> sHeight = (ITEM_HEIGHT * menuItems) + (SUGGEST_TOP_BORDER + SUGGEST_BOT_BORDER);
        <span class="hljs-keyword">if</span> (navigator &amp;&amp; navigator.userAgent.toLowerCase().indexOf(<span class="hljs-string">"msie"</span>) != <span class="hljs-number">-1</span>) {
            sugsDiv.style.height = sHeight;
        } <span class="hljs-keyword">else</span> {
            sugsDiv.style.height = sHeight - (SUGGEST_TOP_BORDER + SUGGEST_BOT_BORDER);
            sugsDiv.style.width = ((FONT_SIZE - <span class="hljs-number">2</span>) * widSize - <span class="hljs-number">1</span>) + <span class="hljs-string">"px"</span>;
        }
        showDiv(sugsDiv);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeMenuItem</span>(<span class="hljs-params">mode, mNum, item</span>) </span>{
    <span class="hljs-keyword">var</span> theDiv = <span class="hljs-built_in">document</span>.createElement(TAG_DIV);
    <span class="hljs-keyword">var</span> menuRow = <span class="hljs-built_in">document</span>.createElement(TAG_SPAN);
    <span class="hljs-keyword">var</span> itemInRow = <span class="hljs-built_in">document</span>.createElement(TAG_SPAN);
    theDiv.onmousedown = spellClickedDropDown;
    theDiv.onmouseover = spellMouseOverDropDown;
    theDiv.onmouseout = spellMouseOutDropDown;
    theDiv.cmod = mNum;
    theDiv.cmode = mode;
    itemInRow.innerHTML = item;
    menuRow.appendChild(itemInRow);
    theDiv.appendChild(menuRow);
    setSpellStyle(menuRow, <span class="hljs-string">"dropDownRowStyle"</span>);
    setSpellStyle(itemInRow, <span class="hljs-string">"dropDownItemStyle"</span>);
    <span class="hljs-keyword">return</span> theDiv;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getObjectByName</span>(<span class="hljs-params">name, type</span>) </span>{
    <span class="hljs-keyword">var</span> objs = <span class="hljs-built_in">document</span>.getElementsByTagName(type);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> ca = <span class="hljs-number">0</span>; ca &lt; objs.length; ca++) {
        <span class="hljs-keyword">var</span> daObj = objs[ca];
        <span class="hljs-keyword">if</span> (daObj &amp;&amp; (daObj.id == name || daObj.name == name))
            <span class="hljs-keyword">return</span> daObj;
    }
    <span class="hljs-keyword">return</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSpellStyle</span>(<span class="hljs-params">child, styleName</span>) </span>{
    child.className = styleName;
    <span class="hljs-keyword">if</span> (styleName == <span class="hljs-string">"nonSelectedItemStyle"</span>) {
        child.style.backgroundColor = MENU_BGCOLOR;
        child.style.color = <span class="hljs-string">"black"</span>;
        <span class="hljs-keyword">if</span> (child.displaySpan)
            child.displaySpan.style.color = <span class="hljs-string">"green"</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (styleName == <span class="hljs-string">"selectedItemStyle"</span>) {
        child.style.backgroundColor = <span class="hljs-string">"#000070"</span>;
        child.style.color = <span class="hljs-string">"white"</span>;
        child.style.cursor = <span class="hljs-string">"pointer"</span>;
        <span class="hljs-keyword">if</span> (child.displaySpan)
            child.displaySpan.style.color = <span class="hljs-string">"white"</span>
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (styleName == <span class="hljs-string">"dropDownItemStyle"</span>) {
        child.style.width = <span class="hljs-string">"100%"</span>;
        child.style.cssFloat = <span class="hljs-string">"left"</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (styleName == <span class="hljs-string">"dropDownRowStyle"</span>) {
        child.style.display = <span class="hljs-string">"block"</span>;
        child.style.paddingLeft = <span class="hljs-string">"5"</span>;
        child.style.paddingRight = <span class="hljs-string">"5"</span>;
        child.style.height = ITEM_HEIGHT + <span class="hljs-string">"px"</span>;
        child.style.overflow = <span class="hljs-string">"hidden"</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateTextBox</span>(<span class="hljs-params">elementName</span>) </span>{
    <span class="hljs-keyword">var</span> textField = getObjectByName(elementName, TAG_TEXTAREA);
    <span class="hljs-keyword">if</span> (textField == <span class="hljs-literal">null</span>)
        textField = getObjectByName(elementName, TAG_INPUT);
    <span class="hljs-keyword">var</span> newValue = buildDisplayText(elementName, FLAT_TEXT);
    <span class="hljs-keyword">if</span> (newValue != originalSpellValue[elementName]) {
        textField.value = newValue;
        multiModified(textField);
    }
}
<span class="hljs-keyword">var</span> spellClickedDropDown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> elementName = <span class="hljs-keyword">this</span>.parentNode.elementName;
    <span class="hljs-keyword">var</span> position = mods[elementName][<span class="hljs-keyword">this</span>.cmod][POSITION];
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cmode == BOX_MODE) {
        mods[elementName][<span class="hljs-keyword">this</span>.cmod][MODE] = BOX_MODE;
        mods[elementName][<span class="hljs-keyword">this</span>.cmod][SETWORD] = mods[elementName][<span class="hljs-keyword">this</span>.cmod][WORD];
    } <span class="hljs-keyword">else</span> {
        mods[elementName][<span class="hljs-keyword">this</span>.cmod][MODE] = TEXT_MODE;
        mods[elementName][<span class="hljs-keyword">this</span>.cmod][SETWORD] = spellMenuInfo(<span class="hljs-keyword">this</span>);
    }
    displaySpellText(elementName);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cmode == BOX_MODE) {
        <span class="hljs-keyword">var</span> fName = buildRefID(elementName, position);
        setTimeout(<span class="hljs-string">"fieldFocus('"</span> + fName + <span class="hljs-string">"')"</span>, <span class="hljs-number">500</span>);
    }
    hideDiv(<span class="hljs-keyword">this</span>.parentNode);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fieldFocus</span>(<span class="hljs-params">fieldName</span>) </span>{
    <span class="hljs-keyword">var</span> textField = getObjectByName(fieldName, TAG_INPUT);
    <span class="hljs-keyword">if</span> (textField)
        textField.focus();
}
<span class="hljs-keyword">var</span> spellMouseOverDropDown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    setSpellStyle(<span class="hljs-keyword">this</span>, <span class="hljs-string">"selectedItemStyle"</span>);
}
<span class="hljs-keyword">var</span> spellMouseOutDropDown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    setSpellStyle(<span class="hljs-keyword">this</span>, <span class="hljs-string">"nonSelectedItemStyle"</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">spellMenuInfo</span>(<span class="hljs-params">j</span>) </span>{
    <span class="hljs-keyword">var</span> theStyleType = <span class="hljs-string">"dropDownItemStyle"</span>;
    <span class="hljs-keyword">var</span> spanTag = j.getElementsByTagName(TAG_SPAN);
    <span class="hljs-keyword">var</span> spanInfo = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-keyword">if</span> (spanTag) {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c &lt; spanTag.length; ++c) {
            <span class="hljs-keyword">if</span> (spanTag[c].className == theStyleType) {
                <span class="hljs-keyword">var</span> spanData = spanTag[c].innerHTML;
                <span class="hljs-keyword">if</span> (spanData != <span class="hljs-string">"&amp;nbsp;"</span>) {
                    spanInfo = spanData;
                }
                <span class="hljs-keyword">break</span>;
            }
        }
    }
    <span class="hljs-keyword">return</span> spanInfo;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setStatus</span>(<span class="hljs-params">elementName, text</span>) </span>{
    <span class="hljs-keyword">var</span> link = getObjectByName(elementName, TAG_A);
    <span class="hljs-keyword">if</span> (link) {
        <span class="hljs-keyword">if</span> (text &amp;&amp; text.length &gt; <span class="hljs-number">0</span>) {
            link.innerHTML = <span class="hljs-string">"&lt;b&gt;&lt;u&gt;"</span> + text + <span class="hljs-string">"&lt;/u&gt;&lt;/b&gt;"</span>;
        } <span class="hljs-keyword">else</span> {
            link.innerHTML = link.savedHTML;
        }
        <span class="hljs-keyword">var</span> realName = elementName.substring(<span class="hljs-number">5</span>);
        <span class="hljs-keyword">var</span> displayField = gel(realName + DISPLAY_TAG);
        <span class="hljs-keyword">if</span> (displayField)
            adjustSpellCheckEditDiv(displayField, gel(realName));
    }
};
<span class="hljs-comment">/*! RESOURCE: scripts/AJAXTextSearchCompleter.js */</span>
<span class="hljs-keyword">var</span> AJAXTextSearchCompleter = Class.create(AJAXTableCompleter, {
    <span class="hljs-attr">PROCESSOR</span>: <span class="hljs-string">"TSSuggestProcessor"</span>,
    <span class="hljs-attr">initialize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, elementName, horizontalAlign, searchContainer</span>) </span>{
        AJAXCompleter.prototype.initialize.call(<span class="hljs-keyword">this</span>, name, elementName);
        <span class="hljs-keyword">this</span>.className = <span class="hljs-string">"AJAXTextSearchCompleter"</span>;
        <span class="hljs-keyword">this</span>.element = $(elementName);
        <span class="hljs-keyword">this</span>.keyElement = <span class="hljs-keyword">this</span>.element;
        <span class="hljs-keyword">this</span>.horizontalAlign = horizontalAlign;
        <span class="hljs-keyword">this</span>.enterSubmits = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.searchContainer = searchContainer;
        <span class="hljs-keyword">this</span>.allowInvalid = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.ieIFrameAdjust = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.oneMatchSelects = <span class="hljs-literal">false</span>;
        AJAXReferenceCompleter.prototype._commonSetup.call(<span class="hljs-keyword">this</span>);
    },
    <span class="hljs-attr">copyAttributes</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> text = node.childNodes[<span class="hljs-number">0</span>].nodeValue;
        <span class="hljs-keyword">var</span> attributes = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
        attributes[<span class="hljs-string">'label'</span>] = text;
        attributes[<span class="hljs-string">'name'</span>] = text;
        <span class="hljs-keyword">return</span> attributes;
    },
    <span class="hljs-attr">setTopLeft</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">style, top, left</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.horizontalAlign == <span class="hljs-string">"right"</span>)
            <span class="hljs-keyword">this</span>._rightAlign(style, <span class="hljs-built_in">parseInt</span>(left, <span class="hljs-number">10</span>));
        <span class="hljs-keyword">else</span>
            style.left = left;
        style.top = top;
    },
    <span class="hljs-attr">setInvalid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">clearInvalid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
    <span class="hljs-attr">onDisplayDropDown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        AJAXTableCompleter.prototype.onDisplayDropDown.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.horizontalAlign == <span class="hljs-string">"right"</span>) {
            <span class="hljs-keyword">var</span> mLeft = grabOffsetLeft(<span class="hljs-keyword">this</span>.element);
            <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>._rightAlign(<span class="hljs-keyword">this</span>.dropDown.style, mLeft);
            <span class="hljs-keyword">this</span>.iFrame.style.left = x;
        }
    },
    <span class="hljs-attr">_rightAlign</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">style, left</span>) </span>{
        <span class="hljs-keyword">var</span> containerWidth = <span class="hljs-keyword">this</span>._getContainerWidth();
        <span class="hljs-keyword">var</span> dropWidth = <span class="hljs-keyword">this</span>.dropDown.getWidth();
        <span class="hljs-keyword">var</span> adjust = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (isWebKit)
            adjust = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.log(<span class="hljs-string">"_rightAlign: "</span> + left + <span class="hljs-string">"+"</span> + containerWidth + <span class="hljs-string">"-"</span> + dropWidth + <span class="hljs-string">"-"</span> + adjust);
        <span class="hljs-keyword">var</span> x = left + containerWidth - dropWidth - adjust + <span class="hljs-string">"px"</span>;
        style.left = x;
        <span class="hljs-keyword">return</span> x;
    },
    <span class="hljs-attr">_createTable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        AJAXTableCompleter.prototype._createTable.call(<span class="hljs-keyword">this</span>);
        <span class="hljs-keyword">var</span> tableWidth = <span class="hljs-keyword">this</span>._getContainerWidth();
        <span class="hljs-keyword">if</span> (!g_isInternetExplorer)
            tableWidth -= <span class="hljs-number">2</span>;
        <span class="hljs-keyword">this</span>.table.style.width = tableWidth + <span class="hljs-string">"px"</span>;
    },
    <span class="hljs-attr">_getContainerWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> adjust = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">if</span> (!g_isInternetExplorer)
            adjust = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">var</span> width = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.searchContainer)
            width = $(<span class="hljs-keyword">this</span>.searchContainer).getWidth() - adjust;
        <span class="hljs-keyword">return</span> width;
    }
});;
<span class="hljs-comment">/*! RESOURCE: scripts/VMCommon.js */</span>
<span class="hljs-keyword">var</span> VMStateMachine = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> pub = {};
    pub.requestChange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item, vm_id, itemVars</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'requestChange'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'item'</span>, item);
        ga.addParam(<span class="hljs-string">'itemVars'</span>, <span class="hljs-built_in">Object</span>.toJSON(itemVars));
        ga.getXMLAnswer(handleResponse);
    }
    pub.change = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">state, vm_id</span>) </span>{
        <span class="hljs-keyword">var</span> isChangeRequired = VMStateMachine.isChangeRequired(state, vm_id);
        <span class="hljs-keyword">if</span> (state == <span class="hljs-string">'terminate'</span> || isChangeRequired) {
            <span class="hljs-keyword">var</span> msgs = <span class="hljs-keyword">new</span> GwtMessage();
            <span class="hljs-keyword">var</span> title_msg = state.charAt(<span class="hljs-number">0</span>).toUpperCase() + state.slice(<span class="hljs-number">1</span>);
            <span class="hljs-keyword">var</span> title = msgs.getMessage(<span class="hljs-string">'{0} VM'</span>, title_msg);
            confirm(vm_id, title, state, <span class="hljs-string">''</span>, isChangeRequired, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                doChange(state, vm_id);
            });
        } <span class="hljs-keyword">else</span> {
            doChange(state, vm_id);
        }
    }
    pub.confirm = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_id, title, state, message, isChangeRequired, okCallback</span>) </span>{
        confirm(vm_id, title, state, message, isChangeRequired, okCallback);
    }
    pub.takeSnapshot = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, shortDescription, vm_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'takeSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'name'</span>, name);
        ga.addParam(<span class="hljs-string">'shortDescription'</span>, shortDescription);
        ga.getXMLAnswer(handleResponse);
    }
    pub.takeSnapshotEC2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, shortDescription, volume_id, vm_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'EC2VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'takeSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'name'</span>, name);
        ga.addParam(<span class="hljs-string">'shortDescription'</span>, shortDescription);
        ga.addParam(<span class="hljs-string">'volume_id'</span>, volume_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.takeSnapshotAzure = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, shortDescription, item_vars, vm_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'sn_azure.AzureOperationAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'takeSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'name'</span>, name);
        ga.addParam(<span class="hljs-string">'shortDescription'</span>, shortDescription);
        ga.addParam(<span class="hljs-string">'item_vars'</span>, <span class="hljs-built_in">Object</span>.toJSON(item_vars));
        ga.getXMLAnswer(handleResponse);
    }
    pub.restoreSnapshot = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'restoreSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.restoreSnapshotEC2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">attach_device, volume_type, volume_size, iops, vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'EC2VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'restoreSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'attach_device'</span>, attach_device);
        ga.addParam(<span class="hljs-string">'volume_type'</span>, volume_type);
        ga.addParam(<span class="hljs-string">'volume_size'</span>, volume_size);
        ga.addParam(<span class="hljs-string">'iops'</span>, iops);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.restoreSnapshotAzure = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'sn_azure.AzureOperationAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'restoreSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.restoreSnapshotClient = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> vm = VMStateMachine.getVMRecordFromSnapshotId(vm_snapshot_id);
        <span class="hljs-keyword">if</span> (vm.sys_class_name == <span class="hljs-string">"cmdb_ci_ec2_instance"</span>) {
            <span class="hljs-keyword">this</span>.restoreSnapshotEC2Client(vm_snapshot_id);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.restoreSnapshotVMWClient(vm_snapshot_id);
        }
    }
    pub.restoreSnapshotEC2Client = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> state = <span class="hljs-string">'restore_snapshot_ec2'</span>;
        <span class="hljs-keyword">var</span> action = <span class="hljs-string">'restore_snapshot'</span>;
        <span class="hljs-keyword">var</span> gdw = <span class="hljs-keyword">new</span> GlideDialogWindow(state, <span class="hljs-literal">false</span>, <span class="hljs-number">600</span>);
        gdw.setTitle(getMessage(<span class="hljs-string">'Restore VM Snapshot'</span>));
        gdw.setPreference(<span class="hljs-string">'change_required'</span>, VMStateMachine.isSnapshotVMChangeRequired(action, vm_snapshot_id));
        gdw.setPreference(<span class="hljs-string">'vm_snapshot_id'</span>, rowSysId);
        gdw.render();
    }
    pub.restoreSnapshotVMWClient = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> state = <span class="hljs-string">'restore_snapshot'</span>;
        <span class="hljs-keyword">var</span> msg_title = getMessage(<span class="hljs-string">'Restore snapshot'</span>);
        <span class="hljs-keyword">var</span> msg_prompt = getMessage(<span class="hljs-string">'Restoring VM snapshot'</span>);
        <span class="hljs-keyword">var</span> changeRequired = VMStateMachine.isSnapshotVMChangeRequired(state, vm_snapshot_id);
        VMStateMachine.confirm(vm_snapshot_id, msg_title, state, msg_prompt,
            changeRequired,
            <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                VMStateMachine.restoreSnapshot(vm_snapshot_id);
            });
    }
    pub.deleteSnapshot = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">this</span>.getVMRecordFromSnapshotId(vm_snapshot_id);
        <span class="hljs-keyword">if</span> (vm.sys_class_name == <span class="hljs-string">'cmdb_ci_ec2_instance'</span>) {
            <span class="hljs-keyword">this</span>.deleteSnapshotEC2(vm_snapshot_id);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">if</span> (vm.sys_class_name == <span class="hljs-string">'cmdb_ci_vm_instance'</span>) {
            <span class="hljs-keyword">this</span>.deleteSnapshotEC2(vm_snapshot_id);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'deleteSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.deleteSnapshotEC2 = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'EC2VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'deleteSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.deleteSnapshotAzure = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'sn_azure.AzureOperationAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'deleteSnapshot'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_snapshot_id);
        ga.getXMLAnswer(handleResponse);
    }
    pub.isSnapshotVMChangeRequired = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">action, vm_snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'isSnapshotVMChangeRequired'</span>);
        ga.addParam(<span class="hljs-string">'vm_snapshot_id'</span>, vm_snapshot_id);
        ga.addParam(<span class="hljs-string">'action'</span>, action);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer() == <span class="hljs-string">'true'</span>;
    }
    pub.isChangeRequired = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">action, vm_id</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'isChangeRequired'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_id'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'action'</span>, action);
        ga.getXMLWait();
        <span class="hljs-keyword">return</span> ga.getAnswer() == <span class="hljs-string">'true'</span>;
    }
    pub.getVMRecordFromSnapshotId = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">snapshot_id</span>) </span>{
        <span class="hljs-keyword">var</span> gr = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'vm_snapshot'</span>);
        gr.get(snapshot_id);
        <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> GlideRecord(<span class="hljs-string">'cmdb_ci_vm_instance'</span>);
        vm.get(gr.instance);
        <span class="hljs-keyword">return</span> vm;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">confirm</span>(<span class="hljs-params">vm_id, title, state, prompt, isChangeRequired, okCallback</span>) </span>{
        <span class="hljs-keyword">var</span> dialog = <span class="hljs-keyword">new</span> GlideDialogWindow(<span class="hljs-string">'change_vm_state'</span>);
        dialog.setTitle(title);
        dialog.setPreference(<span class="hljs-string">'prompt'</span>, prompt);
        dialog.setPreference(<span class="hljs-string">'state'</span>, state);
        dialog.setPreference(<span class="hljs-string">'change_required'</span>, isChangeRequired);
        dialog.setPreference(<span class="hljs-string">'onConfirm_ok'</span>, okCallback);
        dialog.setPreference(<span class="hljs-string">'onConfirm_cancel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        });
        dialog.render();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doChange</span>(<span class="hljs-params">newState, vm_id, callback</span>) </span>{
        <span class="hljs-keyword">var</span> ga = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">'VMAjax'</span>);
        ga.addParam(<span class="hljs-string">'sysparm_name'</span>, <span class="hljs-string">'change'</span>);
        ga.addParam(<span class="hljs-string">'current'</span>, vm_id);
        ga.addParam(<span class="hljs-string">'state'</span>, newState);
        <span class="hljs-keyword">if</span> (callback === <span class="hljs-literal">undefined</span> || callback == <span class="hljs-literal">null</span>) {
            callback = handleResponse;
        }
        ga.getXMLAnswer(callback);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleResponse</span>(<span class="hljs-params">responseData</span>) </span>{
        <span class="hljs-keyword">var</span> response = responseData.evalJSON();
        <span class="hljs-keyword">if</span> (response.changeRequest == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (response.errorMessage != <span class="hljs-literal">null</span>) {
                g_form.addErrorMessage(response.errorMessage);
            } <span class="hljs-keyword">else</span> {
                gsftSubmit(<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'sysverb_back'</span>));
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">window</span>.location = response.changeRequest.url;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">return</span> pub;
}());;
<span class="hljs-comment">/*! RESOURCE: scripts/CloudApiSCClient.js */</span>
<span class="hljs-keyword">var</span> CloudApiSCClient = {
    <span class="hljs-attr">_fieldsInfo</span>: {},
    <span class="hljs-attr">validateCatItemParameterVariables</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ajaxProcessor, variableSysId, oldValue, newValue, isLoading, g_form</span>) </span>{
        <span class="hljs-keyword">if</span> (isLoading || oldValue == newValue)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> parameters = {};
        parameters.variableSysId = variableSysId;
        parameters.parameterValue = newValue.trim();
        <span class="hljs-keyword">this</span>.callAjax(ajaxProcessor, <span class="hljs-string">"validateVariableValue"</span>, parameters, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">answer</span>) </span>{
            <span class="hljs-keyword">var</span> result = <span class="hljs-built_in">JSON</span>.parse(answer);
            result.variableSysId = <span class="hljs-string">"IO:"</span> + variableSysId;
            CloudApiSCClient._fieldsInfo[result[<span class="hljs-string">"name"</span>]] = result;
            CloudApiSCClient.showAllFieldMessages(g_form);
        });
    },
    <span class="hljs-attr">callAjax</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ajaxName, methodName, parameters, callback</span>) </span>{
        <span class="hljs-keyword">var</span> glideAjax = <span class="hljs-keyword">new</span> GlideAjax(ajaxName);
        glideAjax.addParam(<span class="hljs-string">"sysparm_name"</span>, methodName);
        <span class="hljs-keyword">if</span> (parameters) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> parameters) {
                glideAjax.addParam(name, parameters[name]);
            }
        }
        <span class="hljs-keyword">if</span> (callback) {
            glideAjax.getXMLAnswer(callback);
        } <span class="hljs-keyword">else</span> {
            glideAjax.getXMLWait();
            <span class="hljs-keyword">return</span> glideAjax.getAnswer();
        }
    },
    <span class="hljs-attr">beforeSubmitCloudRsrcTemplate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">g_form</span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFormValid())
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">var</span> msg = <span class="hljs-string">"Please correct errors to submit order"</span>;
        g_form.addErrorMessage(msg);
        <span class="hljs-keyword">this</span>.showAllFieldMessages(g_form);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    },
    <span class="hljs-attr">isFormValid</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._fieldsInfo[name].isValid)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    },
    <span class="hljs-attr">showAllFieldMessages</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">g_form</span>) </span>{
        g_form.hideAllFieldMsgs(<span class="hljs-string">"error"</span>);
        g_form.hideAllFieldMsgs(<span class="hljs-string">"error"</span>);
        g_form.clearMessages();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> name <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>._fieldsInfo) {
            <span class="hljs-keyword">var</span> fieldInfo = <span class="hljs-keyword">this</span>._fieldsInfo[name];
            <span class="hljs-keyword">if</span> (fieldInfo.message.length &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; fieldInfo.message.length; i++) {
                    g_form.showFieldMsg(fieldInfo.variableSysId, fieldInfo.message[i], fieldInfo.msgtype);
                }
            }
        }
    }
};;
<span class="hljs-comment">/*! RESOURCE: /scripts/jquery-ui-1.9.2.custom.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, undefined</span>) </span>{
    <span class="hljs-keyword">var</span> uuid = <span class="hljs-number">0</span>,
        runiqueId = <span class="hljs-regexp">/^ui-id-\d+$/</span>;
    $.ui = $.ui || {};
    <span class="hljs-keyword">if</span> ($.ui.version) {
        <span class="hljs-keyword">return</span>;
    }
    $.extend($.ui, {
        <span class="hljs-attr">version</span>: <span class="hljs-string">"1.9.2"</span>,
        <span class="hljs-attr">keyCode</span>: {
            <span class="hljs-attr">BACKSPACE</span>: <span class="hljs-number">8</span>,
            <span class="hljs-attr">COMMA</span>: <span class="hljs-number">188</span>,
            <span class="hljs-attr">DELETE</span>: <span class="hljs-number">46</span>,
            <span class="hljs-attr">DOWN</span>: <span class="hljs-number">40</span>,
            <span class="hljs-attr">END</span>: <span class="hljs-number">35</span>,
            <span class="hljs-attr">ENTER</span>: <span class="hljs-number">13</span>,
            <span class="hljs-attr">ESCAPE</span>: <span class="hljs-number">27</span>,
            <span class="hljs-attr">HOME</span>: <span class="hljs-number">36</span>,
            <span class="hljs-attr">LEFT</span>: <span class="hljs-number">37</span>,
            <span class="hljs-attr">NUMPAD_ADD</span>: <span class="hljs-number">107</span>,
            <span class="hljs-attr">NUMPAD_DECIMAL</span>: <span class="hljs-number">110</span>,
            <span class="hljs-attr">NUMPAD_DIVIDE</span>: <span class="hljs-number">111</span>,
            <span class="hljs-attr">NUMPAD_ENTER</span>: <span class="hljs-number">108</span>,
            <span class="hljs-attr">NUMPAD_MULTIPLY</span>: <span class="hljs-number">106</span>,
            <span class="hljs-attr">NUMPAD_SUBTRACT</span>: <span class="hljs-number">109</span>,
            <span class="hljs-attr">PAGE_DOWN</span>: <span class="hljs-number">34</span>,
            <span class="hljs-attr">PAGE_UP</span>: <span class="hljs-number">33</span>,
            <span class="hljs-attr">PERIOD</span>: <span class="hljs-number">190</span>,
            <span class="hljs-attr">RIGHT</span>: <span class="hljs-number">39</span>,
            <span class="hljs-attr">SPACE</span>: <span class="hljs-number">32</span>,
            <span class="hljs-attr">TAB</span>: <span class="hljs-number">9</span>,
            <span class="hljs-attr">UP</span>: <span class="hljs-number">38</span>
        }
    });
    $.fn.extend({
        <span class="hljs-attr">_focus</span>: $.fn.focus,
        <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">delay, fn</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> delay === <span class="hljs-string">"number"</span> ?
                <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> elem = <span class="hljs-keyword">this</span>;
                    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        $(elem).focus();
                        <span class="hljs-keyword">if</span> (fn) {
                            fn.call(elem);
                        }
                    }, delay);
                }) :
                <span class="hljs-keyword">this</span>._focus.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        },
        <span class="hljs-attr">scrollParent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> scrollParent;
            <span class="hljs-keyword">if</span> (($.ui.ie &amp;&amp; (<span class="hljs-regexp">/(static|relative)/</span>).test(<span class="hljs-keyword">this</span>.css(<span class="hljs-string">'position'</span>))) || (<span class="hljs-regexp">/absolute/</span>).test(<span class="hljs-keyword">this</span>.css(<span class="hljs-string">'position'</span>))) {
                scrollParent = <span class="hljs-keyword">this</span>.parents().filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/(relative|absolute|fixed)/</span>).test($.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'position'</span>)) &amp;&amp; (<span class="hljs-regexp">/(auto|scroll)/</span>).test($.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow'</span>) + $.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow-y'</span>) + $.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow-x'</span>));
                }).eq(<span class="hljs-number">0</span>);
            } <span class="hljs-keyword">else</span> {
                scrollParent = <span class="hljs-keyword">this</span>.parents().filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/(auto|scroll)/</span>).test($.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow'</span>) + $.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow-y'</span>) + $.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">'overflow-x'</span>));
                }).eq(<span class="hljs-number">0</span>);
            }
            <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/fixed/</span>).test(<span class="hljs-keyword">this</span>.css(<span class="hljs-string">'position'</span>)) || !scrollParent.length ? $(<span class="hljs-built_in">document</span>) : scrollParent;
        },
        <span class="hljs-attr">zIndex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">zIndex</span>) </span>{
            <span class="hljs-keyword">if</span> (zIndex !== <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.css(<span class="hljs-string">"zIndex"</span>, zIndex);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.length) {
                <span class="hljs-keyword">var</span> elem = $(<span class="hljs-keyword">this</span>[<span class="hljs-number">0</span>]),
                    position, value;
                <span class="hljs-keyword">while</span> (elem.length &amp;&amp; elem[<span class="hljs-number">0</span>] !== <span class="hljs-built_in">document</span>) {
                    position = elem.css(<span class="hljs-string">"position"</span>);
                    <span class="hljs-keyword">if</span> (position === <span class="hljs-string">"absolute"</span> || position === <span class="hljs-string">"relative"</span> || position === <span class="hljs-string">"fixed"</span>) {
                        value = <span class="hljs-built_in">parseInt</span>(elem.css(<span class="hljs-string">"zIndex"</span>), <span class="hljs-number">10</span>);
                        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(value) &amp;&amp; value !== <span class="hljs-number">0</span>) {
                            <span class="hljs-keyword">return</span> value;
                        }
                    }
                    elem = elem.parent();
                }
            }
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        },
        <span class="hljs-attr">uniqueId</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.id) {
                    <span class="hljs-keyword">this</span>.id = <span class="hljs-string">"ui-id-"</span> + (++uuid);
                }
            });
        },
        <span class="hljs-attr">removeUniqueId</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (runiqueId.test(<span class="hljs-keyword">this</span>.id)) {
                    $(<span class="hljs-keyword">this</span>).removeAttr(<span class="hljs-string">"id"</span>);
                }
            });
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">focusable</span>(<span class="hljs-params">element, isTabIndexNotNaN</span>) </span>{
        <span class="hljs-keyword">var</span> map, mapName, img,
            nodeName = element.nodeName.toLowerCase();
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"area"</span> === nodeName) {
            map = element.parentNode;
            mapName = map.name;
            <span class="hljs-keyword">if</span> (!element.href || !mapName || map.nodeName.toLowerCase() !== <span class="hljs-string">"map"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            img = $(<span class="hljs-string">"img[usemap=#"</span> + mapName + <span class="hljs-string">"]"</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">return</span> !!img &amp;&amp; visible(img);
        }
        <span class="hljs-keyword">return</span> (<span class="hljs-regexp">/input|select|textarea|button|object/</span>.test(nodeName) ?
                !element.disabled :
                <span class="hljs-string">"a"</span> === nodeName ?
                element.href || isTabIndexNotNaN :
                isTabIndexNotNaN) &amp;&amp;
            visible(element);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">visible</span>(<span class="hljs-params">element</span>) </span>{
        <span class="hljs-keyword">return</span> $.expr.filters.visible(element) &amp;&amp;
            !$(element).parents().andSelf().filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> $.css(<span class="hljs-keyword">this</span>, <span class="hljs-string">"visibility"</span>) === <span class="hljs-string">"hidden"</span>;
            }).length;
    }
    $.extend($.expr[<span class="hljs-string">":"</span>], {
        <span class="hljs-attr">data</span>: $.expr.createPseudo ?
            $.expr.createPseudo(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dataName</span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
                    <span class="hljs-keyword">return</span> !!$.data(elem, dataName);
                };
            }) : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem, i, match</span>) </span>{
                <span class="hljs-keyword">return</span> !!$.data(elem, match[<span class="hljs-number">3</span>]);
            },
        <span class="hljs-attr">focusable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">return</span> focusable(element, !<span class="hljs-built_in">isNaN</span>($.attr(element, <span class="hljs-string">"tabindex"</span>)));
        },
        <span class="hljs-attr">tabbable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">var</span> tabIndex = $.attr(element, <span class="hljs-string">"tabindex"</span>),
                isTabIndexNaN = <span class="hljs-built_in">isNaN</span>(tabIndex);
            <span class="hljs-keyword">return</span> (isTabIndexNaN || tabIndex &gt;= <span class="hljs-number">0</span>) &amp;&amp; focusable(element, !isTabIndexNaN);
        }
    });
    $(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> body = <span class="hljs-built_in">document</span>.body,
            div = body.appendChild(div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>));
        $.extend(div.style, {
            <span class="hljs-attr">minHeight</span>: <span class="hljs-string">"100px"</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-string">"auto"</span>,
            <span class="hljs-attr">padding</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">0</span>
        });
        $.support.minHeight = <span class="hljs-literal">true</span>;
        $.support.selectstart = <span class="hljs-string">"onselectstart"</span> <span class="hljs-keyword">in</span> div;
        body.removeChild(div).style.display = <span class="hljs-string">"none"</span>;
    });
    <span class="hljs-keyword">if</span> (!$(<span class="hljs-string">"&lt;a&gt;"</span>).outerWidth(<span class="hljs-number">1</span>).jquery) {
        $.each([<span class="hljs-string">"Width"</span>, <span class="hljs-string">"Height"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, name</span>) </span>{
            <span class="hljs-keyword">var</span> side = name === <span class="hljs-string">"Width"</span> ? [<span class="hljs-string">"Left"</span>, <span class="hljs-string">"Right"</span>] : [<span class="hljs-string">"Top"</span>, <span class="hljs-string">"Bottom"</span>],
                type = name.toLowerCase(),
                orig = {
                    <span class="hljs-attr">innerWidth</span>: $.fn.innerWidth,
                    <span class="hljs-attr">innerHeight</span>: $.fn.innerHeight,
                    <span class="hljs-attr">outerWidth</span>: $.fn.outerWidth,
                    <span class="hljs-attr">outerHeight</span>: $.fn.outerHeight
                };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reduce</span>(<span class="hljs-params">elem, size, border, margin</span>) </span>{
                $.each(side, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    size -= <span class="hljs-built_in">parseFloat</span>($.css(elem, <span class="hljs-string">"padding"</span> + <span class="hljs-keyword">this</span>)) || <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">if</span> (border) {
                        size -= <span class="hljs-built_in">parseFloat</span>($.css(elem, <span class="hljs-string">"border"</span> + <span class="hljs-keyword">this</span> + <span class="hljs-string">"Width"</span>)) || <span class="hljs-number">0</span>;
                    }
                    <span class="hljs-keyword">if</span> (margin) {
                        size -= <span class="hljs-built_in">parseFloat</span>($.css(elem, <span class="hljs-string">"margin"</span> + <span class="hljs-keyword">this</span>)) || <span class="hljs-number">0</span>;
                    }
                });
                <span class="hljs-keyword">return</span> size;
            }
            $.fn[<span class="hljs-string">"inner"</span> + name] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size</span>) </span>{
                <span class="hljs-keyword">if</span> (size === <span class="hljs-literal">undefined</span>) {
                    <span class="hljs-keyword">return</span> orig[<span class="hljs-string">"inner"</span> + name].call(<span class="hljs-keyword">this</span>);
                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $(<span class="hljs-keyword">this</span>).css(type, reduce(<span class="hljs-keyword">this</span>, size) + <span class="hljs-string">"px"</span>);
                });
            };
            $.fn[<span class="hljs-string">"outer"</span> + name] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">size, margin</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> size !== <span class="hljs-string">"number"</span>) {
                    <span class="hljs-keyword">return</span> orig[<span class="hljs-string">"outer"</span> + name].call(<span class="hljs-keyword">this</span>, size);
                }
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $(<span class="hljs-keyword">this</span>).css(type, reduce(<span class="hljs-keyword">this</span>, size, <span class="hljs-literal">true</span>, margin) + <span class="hljs-string">"px"</span>);
                });
            };
        });
    }
    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">"&lt;a&gt;"</span>).data(<span class="hljs-string">"a-b"</span>, <span class="hljs-string">"a"</span>).removeData(<span class="hljs-string">"a-b"</span>).data(<span class="hljs-string">"a-b"</span>)) {
        $.fn.removeData = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">removeData</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length) {
                    <span class="hljs-keyword">return</span> removeData.call(<span class="hljs-keyword">this</span>, $.camelCase(key));
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> removeData.call(<span class="hljs-keyword">this</span>);
                }
            };
        })($.fn.removeData);
    }
    (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> uaMatch = <span class="hljs-regexp">/msie ([\w.]+)/</span>.exec(navigator.userAgent.toLowerCase()) || [];
        $.ui.ie = uaMatch.length ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;
        $.ui.ie6 = <span class="hljs-built_in">parseFloat</span>(uaMatch[<span class="hljs-number">1</span>], <span class="hljs-number">10</span>) === <span class="hljs-number">6</span>;
    })();
    $.fn.extend({
        <span class="hljs-attr">disableSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.bind(($.support.selectstart ? <span class="hljs-string">"selectstart"</span> : <span class="hljs-string">"mousedown"</span>) +
                <span class="hljs-string">".ui-disableSelection"</span>,
                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    event.preventDefault();
                });
        },
        <span class="hljs-attr">enableSelection</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.unbind(<span class="hljs-string">".ui-disableSelection"</span>);
        }
    });
    $.extend($.ui, {
        <span class="hljs-attr">plugin</span>: {
            <span class="hljs-attr">add</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">module, option, set</span>) </span>{
                <span class="hljs-keyword">var</span> i,
                    proto = $.ui[<span class="hljs-built_in">module</span>].prototype;
                <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> set) {
                    proto.plugins[i] = proto.plugins[i] || [];
                    proto.plugins[i].push([option, set[i]]);
                }
            },
            <span class="hljs-attr">call</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">instance, name, args</span>) </span>{
                <span class="hljs-keyword">var</span> i,
                    set = instance.plugins[name];
                <span class="hljs-keyword">if</span> (!set || !instance.element[<span class="hljs-number">0</span>].parentNode || instance.element[<span class="hljs-number">0</span>].parentNode.nodeType === <span class="hljs-number">11</span>) {
                    <span class="hljs-keyword">return</span>;
                }
                <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; set.length; i++) {
                    <span class="hljs-keyword">if</span> (instance.options[set[i][<span class="hljs-number">0</span>]]) {
                        set[i][<span class="hljs-number">1</span>].apply(instance.element, args);
                    }
                }
            }
        },
        <span class="hljs-attr">contains</span>: $.contains,
        <span class="hljs-attr">hasScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">el, a</span>) </span>{
            <span class="hljs-keyword">if</span> ($(el).css(<span class="hljs-string">"overflow"</span>) === <span class="hljs-string">"hidden"</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">var</span> scroll = (a &amp;&amp; a === <span class="hljs-string">"left"</span>) ? <span class="hljs-string">"scrollLeft"</span> : <span class="hljs-string">"scrollTop"</span>,
                has = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (el[scroll] &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            el[scroll] = <span class="hljs-number">1</span>;
            has = (el[scroll] &gt; <span class="hljs-number">0</span>);
            el[scroll] = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">return</span> has;
        },
        <span class="hljs-attr">isOverAxis</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">x, reference, size</span>) </span>{
            <span class="hljs-keyword">return</span> (x &gt; reference) &amp;&amp; (x &lt; (reference + size));
        },
        <span class="hljs-attr">isOver</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">y, x, top, left, height, width</span>) </span>{
            <span class="hljs-keyword">return</span> $.ui.isOverAxis(y, top, height) &amp;&amp; $.ui.isOverAxis(x, left, width);
        }
    });
})(jQuery);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, undefined</span>) </span>{
    <span class="hljs-keyword">var</span> uuid = <span class="hljs-number">0</span>,
        slice = <span class="hljs-built_in">Array</span>.prototype.slice,
        _cleanData = $.cleanData;
    $.cleanData = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elems</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, elem;
            (elem = elems[i]) != <span class="hljs-literal">null</span>; i++) {
            <span class="hljs-keyword">try</span> {
                $(elem).triggerHandler(<span class="hljs-string">"remove"</span>);
            } <span class="hljs-keyword">catch</span> (e) {}
        }
        _cleanData(elems);
    };
    $.widget = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, base, prototype</span>) </span>{
        <span class="hljs-keyword">var</span> fullName, existingConstructor, <span class="hljs-keyword">constructor</span>, basePrototype,
            namespace = name.split(".")[0];
        name = name.split(".")[1];
        fullName = namespace + "-" + name;
        if (!prototype) {
            prototype = base;
            base = $.Widget;
        }
        $.expr[<span class="hljs-string">":"</span>][fullName.toLowerCase()] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem</span>) </span>{
            <span class="hljs-keyword">return</span> !!$.data(elem, fullName);
        };
        $[namespace] = $[namespace] || {};
        existingConstructor = $[namespace][name];
        <span class="hljs-keyword">constructor</span> = $[namespace][name] = function(options, element) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>._createWidget) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">constructor</span>(options, element);
            }
            if (arguments.length) {
                <span class="hljs-keyword">this</span>._createWidget(options, element);
            }
        };
        $.extend(<span class="hljs-keyword">constructor</span>, existingConstructor, {
            version: prototype.version,
            <span class="hljs-attr">_proto</span>: $.extend({}, prototype),
            <span class="hljs-attr">_childConstructors</span>: []
        });
        basePrototype = <span class="hljs-keyword">new</span> base();
        basePrototype.options = $.widget.extend({}, basePrototype.options);
        $.each(prototype, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prop, value</span>) </span>{
            <span class="hljs-keyword">if</span> ($.isFunction(value)) {
                prototype[prop] = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> _super = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">return</span> base.prototype[prop].apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                        },
                        _superApply = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">args</span>) </span>{
                            <span class="hljs-keyword">return</span> base.prototype[prop].apply(<span class="hljs-keyword">this</span>, args);
                        };
                    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">var</span> __super = <span class="hljs-keyword">this</span>._super,
                            __superApply = <span class="hljs-keyword">this</span>._superApply,
                            returnValue;
                        <span class="hljs-keyword">this</span>._super = _super;
                        <span class="hljs-keyword">this</span>._superApply = _superApply;
                        returnValue = value.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                        <span class="hljs-keyword">this</span>._super = __super;
                        <span class="hljs-keyword">this</span>._superApply = __superApply;
                        <span class="hljs-keyword">return</span> returnValue;
                    };
                })();
            }
        });
        <span class="hljs-keyword">constructor</span>.prototype = $.widget.extend(basePrototype, {
            widgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name
        }, prototype, {
            <span class="hljs-attr">constructor</span>: <span class="hljs-keyword">constructor</span>,
            namespace: namespace,
            widgetName: name,
            widgetBaseClass: fullName,
            widgetFullName: fullName
        });
        if (existingConstructor) {
            $.each(existingConstructor._childConstructors, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, child</span>) </span>{
                <span class="hljs-keyword">var</span> childPrototype = child.prototype;
                $.widget(childPrototype.namespace + <span class="hljs-string">"."</span> + childPrototype.widgetName, <span class="hljs-keyword">constructor</span>, child._proto);
            });
            delete existingConstructor._childConstructors;
        } else {
            base._childConstructors.push(<span class="hljs-keyword">constructor</span>);
        }
        $.widget.bridge(name, <span class="hljs-keyword">constructor</span>);
    };
    $.widget.extend = function(target) {
        <span class="hljs-keyword">var</span> input = slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>),
            inputIndex = <span class="hljs-number">0</span>,
            inputLength = input.length,
            key,
            value;
        <span class="hljs-keyword">for</span> (; inputIndex &lt; inputLength; inputIndex++) {
            <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> input[inputIndex]) {
                value = input[inputIndex][key];
                <span class="hljs-keyword">if</span> (input[inputIndex].hasOwnProperty(key) &amp;&amp; value !== <span class="hljs-literal">undefined</span>) {
                    <span class="hljs-keyword">if</span> ($.isPlainObject(value)) {
                        target[key] = $.isPlainObject(target[key]) ?
                            $.widget.extend({}, target[key], value) :
                            $.widget.extend({}, value);
                    } <span class="hljs-keyword">else</span> {
                        target[key] = value;
                    }
                }
            }
        }
        <span class="hljs-keyword">return</span> target;
    };
    $.widget.bridge = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">name, object</span>) </span>{
        <span class="hljs-keyword">var</span> fullName = object.prototype.widgetFullName || name;
        $.fn[name] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
            <span class="hljs-keyword">var</span> isMethodCall = <span class="hljs-keyword">typeof</span> options === <span class="hljs-string">"string"</span>,
                args = slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>),
                returnValue = <span class="hljs-keyword">this</span>;
            options = !isMethodCall &amp;&amp; args.length ?
                $.widget.extend.apply(<span class="hljs-literal">null</span>, [options].concat(args)) :
                options;
            <span class="hljs-keyword">if</span> (isMethodCall) {
                <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> methodValue,
                        instance = $.data(<span class="hljs-keyword">this</span>, fullName);
                    <span class="hljs-keyword">if</span> (!instance) {
                        <span class="hljs-keyword">return</span> $.error(<span class="hljs-string">"cannot call methods on "</span> + name + <span class="hljs-string">" prior to initialization; "</span> +
                            <span class="hljs-string">"attempted to call method '"</span> + options + <span class="hljs-string">"'"</span>);
                    }
                    <span class="hljs-keyword">if</span> (!$.isFunction(instance[options]) || options.charAt(<span class="hljs-number">0</span>) === <span class="hljs-string">"_"</span>) {
                        <span class="hljs-keyword">return</span> $.error(<span class="hljs-string">"no such method '"</span> + options + <span class="hljs-string">"' for "</span> + name + <span class="hljs-string">" widget instance"</span>);
                    }
                    methodValue = instance[options].apply(instance, args);
                    <span class="hljs-keyword">if</span> (methodValue !== instance &amp;&amp; methodValue !== <span class="hljs-literal">undefined</span>) {
                        returnValue = methodValue &amp;&amp; methodValue.jquery ?
                            returnValue.pushStack(methodValue.get()) :
                            methodValue;
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                    }
                });
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> instance = $.data(<span class="hljs-keyword">this</span>, fullName);
                    <span class="hljs-keyword">if</span> (instance) {
                        instance.option(options || {})._init();
                    } <span class="hljs-keyword">else</span> {
                        $.data(<span class="hljs-keyword">this</span>, fullName, <span class="hljs-keyword">new</span> object(options, <span class="hljs-keyword">this</span>));
                    }
                });
            }
            <span class="hljs-keyword">return</span> returnValue;
        };
    };
    $.Widget = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};
    $.Widget._childConstructors = [];
    $.Widget.prototype = {
        <span class="hljs-attr">widgetName</span>: <span class="hljs-string">"widget"</span>,
        <span class="hljs-attr">widgetEventPrefix</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">defaultElement</span>: <span class="hljs-string">"&lt;div&gt;"</span>,
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">disabled</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">create</span>: <span class="hljs-literal">null</span>
        },
        <span class="hljs-attr">_createWidget</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options, element</span>) </span>{
            element = $(element || <span class="hljs-keyword">this</span>.defaultElement || <span class="hljs-keyword">this</span>)[<span class="hljs-number">0</span>];
            <span class="hljs-keyword">this</span>.element = $(element);
            <span class="hljs-keyword">this</span>.uuid = uuid++;
            <span class="hljs-keyword">this</span>.eventNamespace = <span class="hljs-string">"."</span> + <span class="hljs-keyword">this</span>.widgetName + <span class="hljs-keyword">this</span>.uuid;
            <span class="hljs-keyword">this</span>.options = $.widget.extend({},
                <span class="hljs-keyword">this</span>.options,
                <span class="hljs-keyword">this</span>._getCreateOptions(),
                options);
            <span class="hljs-keyword">this</span>.bindings = $();
            <span class="hljs-keyword">this</span>.hoverable = $();
            <span class="hljs-keyword">this</span>.focusable = $();
            <span class="hljs-keyword">if</span> (element !== <span class="hljs-keyword">this</span>) {
                $.data(element, <span class="hljs-keyword">this</span>.widgetName, <span class="hljs-keyword">this</span>);
                $.data(element, <span class="hljs-keyword">this</span>.widgetFullName, <span class="hljs-keyword">this</span>);
                <span class="hljs-keyword">this</span>._on(<span class="hljs-literal">true</span>, <span class="hljs-keyword">this</span>.element, {
                    <span class="hljs-attr">remove</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                        <span class="hljs-keyword">if</span> (event.target === element) {
                            <span class="hljs-keyword">this</span>.destroy();
                        }
                    }
                });
                <span class="hljs-keyword">this</span>.document = $(element.style ?
                    element.ownerDocument :
                    element.document || element);
                <span class="hljs-keyword">this</span>.window = $(<span class="hljs-keyword">this</span>.document[<span class="hljs-number">0</span>].defaultView || <span class="hljs-keyword">this</span>.document[<span class="hljs-number">0</span>].parentWindow);
            }
            <span class="hljs-keyword">this</span>._create();
            <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"create"</span>, <span class="hljs-literal">null</span>, <span class="hljs-keyword">this</span>._getCreateEventData());
            <span class="hljs-keyword">this</span>._init();
        },
        <span class="hljs-attr">_getCreateOptions</span>: $.noop,
        <span class="hljs-attr">_getCreateEventData</span>: $.noop,
        <span class="hljs-attr">_create</span>: $.noop,
        <span class="hljs-attr">_init</span>: $.noop,
        <span class="hljs-attr">destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>._destroy();
            <span class="hljs-keyword">this</span>.element
                .unbind(<span class="hljs-keyword">this</span>.eventNamespace)
                .removeData(<span class="hljs-keyword">this</span>.widgetName)
                .removeData(<span class="hljs-keyword">this</span>.widgetFullName)
                .removeData($.camelCase(<span class="hljs-keyword">this</span>.widgetFullName));
            <span class="hljs-keyword">this</span>.widget()
                .unbind(<span class="hljs-keyword">this</span>.eventNamespace)
                .removeAttr(<span class="hljs-string">"aria-disabled"</span>)
                .removeClass(
                    <span class="hljs-keyword">this</span>.widgetFullName + <span class="hljs-string">"-disabled "</span> +
                    <span class="hljs-string">"ui-state-disabled"</span>);
            <span class="hljs-keyword">this</span>.bindings.unbind(<span class="hljs-keyword">this</span>.eventNamespace);
            <span class="hljs-keyword">this</span>.hoverable.removeClass(<span class="hljs-string">"ui-state-hover"</span>);
            <span class="hljs-keyword">this</span>.focusable.removeClass(<span class="hljs-string">"ui-state-focus"</span>);
        },
        <span class="hljs-attr">_destroy</span>: $.noop,
        <span class="hljs-attr">widget</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element;
        },
        <span class="hljs-attr">option</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
            <span class="hljs-keyword">var</span> options = key,
                parts,
                curOption,
                i;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">return</span> $.widget.extend({}, <span class="hljs-keyword">this</span>.options);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> key === <span class="hljs-string">"string"</span>) {
                options = {};
                parts = key.split(<span class="hljs-string">"."</span>);
                key = parts.shift();
                <span class="hljs-keyword">if</span> (parts.length) {
                    curOption = options[key] = $.widget.extend({}, <span class="hljs-keyword">this</span>.options[key]);
                    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; parts.length - <span class="hljs-number">1</span>; i++) {
                        curOption[parts[i]] = curOption[parts[i]] || {};
                        curOption = curOption[parts[i]];
                    }
                    key = parts.pop();
                    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>) {
                        <span class="hljs-keyword">return</span> curOption[key] === <span class="hljs-literal">undefined</span> ? <span class="hljs-literal">null</span> : curOption[key];
                    }
                    curOption[key] = value;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>) {
                        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.options[key] === <span class="hljs-literal">undefined</span> ? <span class="hljs-literal">null</span> : <span class="hljs-keyword">this</span>.options[key];
                    }
                    options[key] = value;
                }
            }
            <span class="hljs-keyword">this</span>._setOptions(options);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        },
        <span class="hljs-attr">_setOptions</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
            <span class="hljs-keyword">var</span> key;
            <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> options) {
                <span class="hljs-keyword">this</span>._setOption(key, options[key]);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        },
        <span class="hljs-attr">_setOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
            <span class="hljs-keyword">this</span>.options[key] = value;
            <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"disabled"</span>) {
                <span class="hljs-keyword">this</span>.widget()
                    .toggleClass(<span class="hljs-keyword">this</span>.widgetFullName + <span class="hljs-string">"-disabled ui-state-disabled"</span>, !!value)
                    .attr(<span class="hljs-string">"aria-disabled"</span>, value);
                <span class="hljs-keyword">this</span>.hoverable.removeClass(<span class="hljs-string">"ui-state-hover"</span>);
                <span class="hljs-keyword">this</span>.focusable.removeClass(<span class="hljs-string">"ui-state-focus"</span>);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
        },
        <span class="hljs-attr">enable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._setOption(<span class="hljs-string">"disabled"</span>, <span class="hljs-literal">false</span>);
        },
        <span class="hljs-attr">disable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._setOption(<span class="hljs-string">"disabled"</span>, <span class="hljs-literal">true</span>);
        },
        <span class="hljs-attr">_on</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">suppressDisabledCheck, element, handlers</span>) </span>{
            <span class="hljs-keyword">var</span> delegateElement,
                instance = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> suppressDisabledCheck !== <span class="hljs-string">"boolean"</span>) {
                handlers = element;
                element = suppressDisabledCheck;
                suppressDisabledCheck = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">if</span> (!handlers) {
                handlers = element;
                element = <span class="hljs-keyword">this</span>.element;
                delegateElement = <span class="hljs-keyword">this</span>.widget();
            } <span class="hljs-keyword">else</span> {
                element = delegateElement = $(element);
                <span class="hljs-keyword">this</span>.bindings = <span class="hljs-keyword">this</span>.bindings.add(element);
            }
            $.each(handlers, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, handler</span>) </span>{
                <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handlerProxy</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">if</span> (!suppressDisabledCheck &amp;&amp;
                        (instance.options.disabled === <span class="hljs-literal">true</span> ||
                            $(<span class="hljs-keyword">this</span>).hasClass(<span class="hljs-string">"ui-state-disabled"</span>))) {
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> handler === <span class="hljs-string">"string"</span> ? instance[handler] : handler)
                        .apply(instance, <span class="hljs-built_in">arguments</span>);
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> handler !== <span class="hljs-string">"string"</span>) {
                    handlerProxy.guid = handler.guid =
                        handler.guid || handlerProxy.guid || $.guid++;
                }
                <span class="hljs-keyword">var</span> match = event.match(<span class="hljs-regexp">/^(\w+)\s*(.*)$/</span>),
                    eventName = match[<span class="hljs-number">1</span>] + instance.eventNamespace,
                    selector = match[<span class="hljs-number">2</span>];
                <span class="hljs-keyword">if</span> (selector) {
                    delegateElement.delegate(selector, eventName, handlerProxy);
                } <span class="hljs-keyword">else</span> {
                    element.bind(eventName, handlerProxy);
                }
            });
        },
        <span class="hljs-attr">_off</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, eventName</span>) </span>{
            eventName = (eventName || <span class="hljs-string">""</span>).split(<span class="hljs-string">" "</span>).join(<span class="hljs-keyword">this</span>.eventNamespace + <span class="hljs-string">" "</span>) + <span class="hljs-keyword">this</span>.eventNamespace;
            element.unbind(eventName).undelegate(eventName);
        },
        <span class="hljs-attr">_delay</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handler, delay</span>) </span>{
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handlerProxy</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">typeof</span> handler === <span class="hljs-string">"string"</span> ? instance[handler] : handler)
                    .apply(instance, <span class="hljs-built_in">arguments</span>);
            }
            <span class="hljs-keyword">var</span> instance = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">return</span> setTimeout(handlerProxy, delay || <span class="hljs-number">0</span>);
        },
        <span class="hljs-attr">_hoverable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">this</span>.hoverable = <span class="hljs-keyword">this</span>.hoverable.add(element);
            <span class="hljs-keyword">this</span>._on(element, {
                <span class="hljs-attr">mouseenter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    $(event.currentTarget).addClass(<span class="hljs-string">"ui-state-hover"</span>);
                },
                <span class="hljs-attr">mouseleave</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    $(event.currentTarget).removeClass(<span class="hljs-string">"ui-state-hover"</span>);
                }
            });
        },
        <span class="hljs-attr">_focusable</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">this</span>.focusable = <span class="hljs-keyword">this</span>.focusable.add(element);
            <span class="hljs-keyword">this</span>._on(element, {
                <span class="hljs-attr">focusin</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    $(event.currentTarget).addClass(<span class="hljs-string">"ui-state-focus"</span>);
                },
                <span class="hljs-attr">focusout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    $(event.currentTarget).removeClass(<span class="hljs-string">"ui-state-focus"</span>);
                }
            });
        },
        <span class="hljs-attr">_trigger</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, event, data</span>) </span>{
            <span class="hljs-keyword">var</span> prop, orig,
                callback = <span class="hljs-keyword">this</span>.options[type];
            data = data || {};
            event = $.Event(event);
            event.type = (type === <span class="hljs-keyword">this</span>.widgetEventPrefix ?
                type :
                <span class="hljs-keyword">this</span>.widgetEventPrefix + type).toLowerCase();
            event.target = <span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>];
            orig = event.originalEvent;
            <span class="hljs-keyword">if</span> (orig) {
                <span class="hljs-keyword">for</span> (prop <span class="hljs-keyword">in</span> orig) {
                    <span class="hljs-keyword">if</span> (!(prop <span class="hljs-keyword">in</span> event)) {
                        event[prop] = orig[prop];
                    }
                }
            }
            <span class="hljs-keyword">this</span>.element.trigger(event, data);
            <span class="hljs-keyword">return</span> !($.isFunction(callback) &amp;&amp;
                callback.apply(<span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>], [event].concat(data)) === <span class="hljs-literal">false</span> ||
                event.isDefaultPrevented());
        }
    };
    $.each({
        <span class="hljs-attr">show</span>: <span class="hljs-string">"fadeIn"</span>,
        <span class="hljs-attr">hide</span>: <span class="hljs-string">"fadeOut"</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method, defaultEffect</span>) </span>{
        $.Widget.prototype[<span class="hljs-string">"_"</span> + method] = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, options, callback</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">"string"</span>) {
                options = {
                    <span class="hljs-attr">effect</span>: options
                };
            }
            <span class="hljs-keyword">var</span> hasOptions,
                effectName = !options ?
                method :
                options === <span class="hljs-literal">true</span> || <span class="hljs-keyword">typeof</span> options === <span class="hljs-string">"number"</span> ?
                defaultEffect :
                options.effect || defaultEffect;
            options = options || {};
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options === <span class="hljs-string">"number"</span>) {
                options = {
                    <span class="hljs-attr">duration</span>: options
                };
            }
            hasOptions = !$.isEmptyObject(options);
            options.complete = callback;
            <span class="hljs-keyword">if</span> (options.delay) {
                element.delay(options.delay);
            }
            <span class="hljs-keyword">if</span> (hasOptions &amp;&amp; $.effects &amp;&amp; ($.effects.effect[effectName] || $.uiBackCompat !== <span class="hljs-literal">false</span> &amp;&amp; $.effects[effectName])) {
                element[method](options);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (effectName !== method &amp;&amp; element[effectName]) {
                element[effectName](options.duration, options.easing, callback);
            } <span class="hljs-keyword">else</span> {
                element.queue(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">next</span>) </span>{
                    $(<span class="hljs-keyword">this</span>)[method]();
                    <span class="hljs-keyword">if</span> (callback) {
                        callback.call(element[<span class="hljs-number">0</span>]);
                    }
                    next();
                });
            }
        };
    });
    <span class="hljs-keyword">if</span> ($.uiBackCompat !== <span class="hljs-literal">false</span>) {
        $.Widget.prototype._getCreateOptions = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> $.metadata &amp;&amp; $.metadata.get(<span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>])[<span class="hljs-keyword">this</span>.widgetName];
        };
    }
})(jQuery);
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, undefined</span>) </span>{
    $.ui = $.ui || {};
    <span class="hljs-keyword">var</span> cachedScrollbarWidth,
        max = <span class="hljs-built_in">Math</span>.max,
        abs = <span class="hljs-built_in">Math</span>.abs,
        round = <span class="hljs-built_in">Math</span>.round,
        rhorizontal = <span class="hljs-regexp">/left|center|right/</span>,
        rvertical = <span class="hljs-regexp">/top|center|bottom/</span>,
        roffset = <span class="hljs-regexp">/[\+\-]\d+%?/</span>,
        rposition = <span class="hljs-regexp">/^\w+/</span>,
        rpercent = <span class="hljs-regexp">/%$/</span>,
        _position = $.fn.position;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOffsets</span>(<span class="hljs-params">offsets, width, height</span>) </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-built_in">parseInt</span>(offsets[<span class="hljs-number">0</span>], <span class="hljs-number">10</span>) * (rpercent.test(offsets[<span class="hljs-number">0</span>]) ? width / <span class="hljs-number">100</span> : <span class="hljs-number">1</span>),
            <span class="hljs-built_in">parseInt</span>(offsets[<span class="hljs-number">1</span>], <span class="hljs-number">10</span>) * (rpercent.test(offsets[<span class="hljs-number">1</span>]) ? height / <span class="hljs-number">100</span> : <span class="hljs-number">1</span>)
        ];
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseCss</span>(<span class="hljs-params">element, property</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>($.css(element, property), <span class="hljs-number">10</span>) || <span class="hljs-number">0</span>;
    }
    $.position = {
        <span class="hljs-attr">scrollbarWidth</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (cachedScrollbarWidth !== <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">return</span> cachedScrollbarWidth;
            }
            <span class="hljs-keyword">var</span> w1, w2,
                div = $(<span class="hljs-string">"&lt;div style='display:block;width:50px;height:50px;overflow:hidden;'&gt;&lt;div style='height:100px;width:auto;'&gt;&lt;/div&gt;&lt;/div&gt;"</span>),
                innerDiv = div.children()[<span class="hljs-number">0</span>];
            $(<span class="hljs-string">"body"</span>).append(div);
            w1 = innerDiv.offsetWidth;
            div.css(<span class="hljs-string">"overflow"</span>, <span class="hljs-string">"scroll"</span>);
            w2 = innerDiv.offsetWidth;
            <span class="hljs-keyword">if</span> (w1 === w2) {
                w2 = div[<span class="hljs-number">0</span>].clientWidth;
            }
            div.remove();
            <span class="hljs-keyword">return</span> (cachedScrollbarWidth = w1 - w2);
        },
        <span class="hljs-attr">getScrollInfo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">within</span>) </span>{
            <span class="hljs-keyword">var</span> overflowX = within.isWindow ? <span class="hljs-string">""</span> : within.element.css(<span class="hljs-string">"overflow-x"</span>),
                overflowY = within.isWindow ? <span class="hljs-string">""</span> : within.element.css(<span class="hljs-string">"overflow-y"</span>),
                hasOverflowX = overflowX === <span class="hljs-string">"scroll"</span> ||
                (overflowX === <span class="hljs-string">"auto"</span> &amp;&amp; within.width &lt; within.element[<span class="hljs-number">0</span>].scrollWidth),
                hasOverflowY = overflowY === <span class="hljs-string">"scroll"</span> ||
                (overflowY === <span class="hljs-string">"auto"</span> &amp;&amp; within.height &lt; within.element[<span class="hljs-number">0</span>].scrollHeight);
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">width</span>: hasOverflowX ? $.position.scrollbarWidth() : <span class="hljs-number">0</span>,
                <span class="hljs-attr">height</span>: hasOverflowY ? $.position.scrollbarWidth() : <span class="hljs-number">0</span>
            };
        },
        <span class="hljs-attr">getWithinInfo</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">var</span> withinElement = $(element || <span class="hljs-built_in">window</span>),
                isWindow = $.isWindow(withinElement[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">element</span>: withinElement,
                <span class="hljs-attr">isWindow</span>: isWindow,
                <span class="hljs-attr">offset</span>: withinElement.offset() || {
                    <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>,
                    <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>
                },
                <span class="hljs-attr">scrollLeft</span>: withinElement.scrollLeft(),
                <span class="hljs-attr">scrollTop</span>: withinElement.scrollTop(),
                <span class="hljs-attr">width</span>: isWindow ? withinElement.width() : withinElement.outerWidth(),
                <span class="hljs-attr">height</span>: isWindow ? withinElement.height() : withinElement.outerHeight()
            };
        }
    };
    $.fn.position = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
        <span class="hljs-keyword">if</span> (!options || !options.of) {
            <span class="hljs-keyword">return</span> _position.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        }
        options = $.extend({}, options);
        <span class="hljs-keyword">var</span> atOffset, targetWidth, targetHeight, targetOffset, basePosition,
            target = $(options.of),
            within = $.position.getWithinInfo(options.within),
            scrollInfo = $.position.getScrollInfo(within),
            targetElem = target[<span class="hljs-number">0</span>],
            collision = (options.collision || <span class="hljs-string">"flip"</span>).split(<span class="hljs-string">" "</span>),
            offsets = {};
        <span class="hljs-keyword">if</span> (targetElem.nodeType === <span class="hljs-number">9</span>) {
            targetWidth = target.width();
            targetHeight = target.height();
            targetOffset = {
                <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($.isWindow(targetElem)) {
            targetWidth = target.width();
            targetHeight = target.height();
            targetOffset = {
                <span class="hljs-attr">top</span>: target.scrollTop(),
                <span class="hljs-attr">left</span>: target.scrollLeft()
            };
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (targetElem.preventDefault) {
            options.at = <span class="hljs-string">"left top"</span>;
            targetWidth = targetHeight = <span class="hljs-number">0</span>;
            targetOffset = {
                <span class="hljs-attr">top</span>: targetElem.pageY,
                <span class="hljs-attr">left</span>: targetElem.pageX
            };
        } <span class="hljs-keyword">else</span> {
            targetWidth = target.outerWidth();
            targetHeight = target.outerHeight();
            targetOffset = target.offset();
        }
        basePosition = $.extend({}, targetOffset);
        $.each([<span class="hljs-string">"my"</span>, <span class="hljs-string">"at"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> pos = (options[<span class="hljs-keyword">this</span>] || <span class="hljs-string">""</span>).split(<span class="hljs-string">" "</span>),
                horizontalOffset,
                verticalOffset;
            <span class="hljs-keyword">if</span> (pos.length === <span class="hljs-number">1</span>) {
                pos = rhorizontal.test(pos[<span class="hljs-number">0</span>]) ?
                    pos.concat([<span class="hljs-string">"center"</span>]) :
                    rvertical.test(pos[<span class="hljs-number">0</span>]) ? [<span class="hljs-string">"center"</span>].concat(pos) : [<span class="hljs-string">"center"</span>, <span class="hljs-string">"center"</span>];
            }
            pos[<span class="hljs-number">0</span>] = rhorizontal.test(pos[<span class="hljs-number">0</span>]) ? pos[<span class="hljs-number">0</span>] : <span class="hljs-string">"center"</span>;
            pos[<span class="hljs-number">1</span>] = rvertical.test(pos[<span class="hljs-number">1</span>]) ? pos[<span class="hljs-number">1</span>] : <span class="hljs-string">"center"</span>;
            horizontalOffset = roffset.exec(pos[<span class="hljs-number">0</span>]);
            verticalOffset = roffset.exec(pos[<span class="hljs-number">1</span>]);
            offsets[<span class="hljs-keyword">this</span>] = [
                horizontalOffset ? horizontalOffset[<span class="hljs-number">0</span>] : <span class="hljs-number">0</span>,
                verticalOffset ? verticalOffset[<span class="hljs-number">0</span>] : <span class="hljs-number">0</span>
            ];
            options[<span class="hljs-keyword">this</span>] = [
                rposition.exec(pos[<span class="hljs-number">0</span>])[<span class="hljs-number">0</span>],
                rposition.exec(pos[<span class="hljs-number">1</span>])[<span class="hljs-number">0</span>]
            ];
        });
        <span class="hljs-keyword">if</span> (collision.length === <span class="hljs-number">1</span>) {
            collision[<span class="hljs-number">1</span>] = collision[<span class="hljs-number">0</span>];
        }
        <span class="hljs-keyword">if</span> (options.at[<span class="hljs-number">0</span>] === <span class="hljs-string">"right"</span>) {
            basePosition.left += targetWidth;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.at[<span class="hljs-number">0</span>] === <span class="hljs-string">"center"</span>) {
            basePosition.left += targetWidth / <span class="hljs-number">2</span>;
        }
        <span class="hljs-keyword">if</span> (options.at[<span class="hljs-number">1</span>] === <span class="hljs-string">"bottom"</span>) {
            basePosition.top += targetHeight;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.at[<span class="hljs-number">1</span>] === <span class="hljs-string">"center"</span>) {
            basePosition.top += targetHeight / <span class="hljs-number">2</span>;
        }
        atOffset = getOffsets(offsets.at, targetWidth, targetHeight);
        basePosition.left += atOffset[<span class="hljs-number">0</span>];
        basePosition.top += atOffset[<span class="hljs-number">1</span>];
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> collisionPosition, using,
                elem = $(<span class="hljs-keyword">this</span>),
                elemWidth = elem.outerWidth(),
                elemHeight = elem.outerHeight(),
                marginLeft = parseCss(<span class="hljs-keyword">this</span>, <span class="hljs-string">"marginLeft"</span>),
                marginTop = parseCss(<span class="hljs-keyword">this</span>, <span class="hljs-string">"marginTop"</span>),
                collisionWidth = elemWidth + marginLeft + parseCss(<span class="hljs-keyword">this</span>, <span class="hljs-string">"marginRight"</span>) + scrollInfo.width,
                collisionHeight = elemHeight + marginTop + parseCss(<span class="hljs-keyword">this</span>, <span class="hljs-string">"marginBottom"</span>) + scrollInfo.height,
                position = $.extend({}, basePosition),
                myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());
            <span class="hljs-keyword">if</span> (options.my[<span class="hljs-number">0</span>] === <span class="hljs-string">"right"</span>) {
                position.left -= elemWidth;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.my[<span class="hljs-number">0</span>] === <span class="hljs-string">"center"</span>) {
                position.left -= elemWidth / <span class="hljs-number">2</span>;
            }
            <span class="hljs-keyword">if</span> (options.my[<span class="hljs-number">1</span>] === <span class="hljs-string">"bottom"</span>) {
                position.top -= elemHeight;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (options.my[<span class="hljs-number">1</span>] === <span class="hljs-string">"center"</span>) {
                position.top -= elemHeight / <span class="hljs-number">2</span>;
            }
            position.left += myOffset[<span class="hljs-number">0</span>];
            position.top += myOffset[<span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (!$.support.offsetFractions) {
                position.left = round(position.left);
                position.top = round(position.top);
            }
            collisionPosition = {
                <span class="hljs-attr">marginLeft</span>: marginLeft,
                <span class="hljs-attr">marginTop</span>: marginTop
            };
            $.each([<span class="hljs-string">"left"</span>, <span class="hljs-string">"top"</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i, dir</span>) </span>{
                <span class="hljs-keyword">if</span> ($.ui.position[collision[i]]) {
                    $.ui.position[collision[i]][dir](position, {
                        <span class="hljs-attr">targetWidth</span>: targetWidth,
                        <span class="hljs-attr">targetHeight</span>: targetHeight,
                        <span class="hljs-attr">elemWidth</span>: elemWidth,
                        <span class="hljs-attr">elemHeight</span>: elemHeight,
                        <span class="hljs-attr">collisionPosition</span>: collisionPosition,
                        <span class="hljs-attr">collisionWidth</span>: collisionWidth,
                        <span class="hljs-attr">collisionHeight</span>: collisionHeight,
                        <span class="hljs-attr">offset</span>: [atOffset[<span class="hljs-number">0</span>] + myOffset[<span class="hljs-number">0</span>], atOffset[<span class="hljs-number">1</span>] + myOffset[<span class="hljs-number">1</span>]],
                        <span class="hljs-attr">my</span>: options.my,
                        <span class="hljs-attr">at</span>: options.at,
                        <span class="hljs-attr">within</span>: within,
                        <span class="hljs-attr">elem</span>: elem
                    });
                }
            });
            <span class="hljs-keyword">if</span> ($.fn.bgiframe) {
                elem.bgiframe();
            }
            <span class="hljs-keyword">if</span> (options.using) {
                using = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">props</span>) </span>{
                    <span class="hljs-keyword">var</span> left = targetOffset.left - position.left,
                        right = left + targetWidth - elemWidth,
                        top = targetOffset.top - position.top,
                        bottom = top + targetHeight - elemHeight,
                        feedback = {
                            <span class="hljs-attr">target</span>: {
                                <span class="hljs-attr">element</span>: target,
                                <span class="hljs-attr">left</span>: targetOffset.left,
                                <span class="hljs-attr">top</span>: targetOffset.top,
                                <span class="hljs-attr">width</span>: targetWidth,
                                <span class="hljs-attr">height</span>: targetHeight
                            },
                            <span class="hljs-attr">element</span>: {
                                <span class="hljs-attr">element</span>: elem,
                                <span class="hljs-attr">left</span>: position.left,
                                <span class="hljs-attr">top</span>: position.top,
                                <span class="hljs-attr">width</span>: elemWidth,
                                <span class="hljs-attr">height</span>: elemHeight
                            },
                            <span class="hljs-attr">horizontal</span>: right &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">"left"</span> : left &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">"right"</span> : <span class="hljs-string">"center"</span>,
                            <span class="hljs-attr">vertical</span>: bottom &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">"top"</span> : top &gt; <span class="hljs-number">0</span> ? <span class="hljs-string">"bottom"</span> : <span class="hljs-string">"middle"</span>
                        };
                    <span class="hljs-keyword">if</span> (targetWidth &lt; elemWidth &amp;&amp; abs(left + right) &lt; targetWidth) {
                        feedback.horizontal = <span class="hljs-string">"center"</span>;
                    }
                    <span class="hljs-keyword">if</span> (targetHeight &lt; elemHeight &amp;&amp; abs(top + bottom) &lt; targetHeight) {
                        feedback.vertical = <span class="hljs-string">"middle"</span>;
                    }
                    <span class="hljs-keyword">if</span> (max(abs(left), abs(right)) &gt; max(abs(top), abs(bottom))) {
                        feedback.important = <span class="hljs-string">"horizontal"</span>;
                    } <span class="hljs-keyword">else</span> {
                        feedback.important = <span class="hljs-string">"vertical"</span>;
                    }
                    options.using.call(<span class="hljs-keyword">this</span>, props, feedback);
                };
            }
            elem.offset($.extend(position, {
                <span class="hljs-attr">using</span>: using
            }));
        });
    };
    $.ui.position = {
        <span class="hljs-attr">fit</span>: {
            <span class="hljs-attr">left</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">position, data</span>) </span>{
                <span class="hljs-keyword">var</span> within = data.within,
                    withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
                    outerWidth = within.width,
                    collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                    overLeft = withinOffset - collisionPosLeft,
                    overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
                    newOverRight;
                <span class="hljs-keyword">if</span> (data.collisionWidth &gt; outerWidth) {
                    <span class="hljs-keyword">if</span> (overLeft &gt; <span class="hljs-number">0</span> &amp;&amp; overRight &lt;= <span class="hljs-number">0</span>) {
                        newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
                        position.left += overLeft - newOverRight;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overRight &gt; <span class="hljs-number">0</span> &amp;&amp; overLeft &lt;= <span class="hljs-number">0</span>) {
                        position.left = withinOffset;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (overLeft &gt; overRight) {
                            position.left = withinOffset + outerWidth - data.collisionWidth;
                        } <span class="hljs-keyword">else</span> {
                            position.left = withinOffset;
                        }
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overLeft &gt; <span class="hljs-number">0</span>) {
                    position.left += overLeft;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overRight &gt; <span class="hljs-number">0</span>) {
                    position.left -= overRight;
                } <span class="hljs-keyword">else</span> {
                    position.left = max(position.left - collisionPosLeft, position.left);
                }
            },
            <span class="hljs-attr">top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">position, data</span>) </span>{
                <span class="hljs-keyword">var</span> within = data.within,
                    withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
                    outerHeight = data.within.height,
                    collisionPosTop = position.top - data.collisionPosition.marginTop,
                    overTop = withinOffset - collisionPosTop,
                    overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
                    newOverBottom;
                <span class="hljs-keyword">if</span> (data.collisionHeight &gt; outerHeight) {
                    <span class="hljs-keyword">if</span> (overTop &gt; <span class="hljs-number">0</span> &amp;&amp; overBottom &lt;= <span class="hljs-number">0</span>) {
                        newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
                        position.top += overTop - newOverBottom;
                    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overBottom &gt; <span class="hljs-number">0</span> &amp;&amp; overTop &lt;= <span class="hljs-number">0</span>) {
                        position.top = withinOffset;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (overTop &gt; overBottom) {
                            position.top = withinOffset + outerHeight - data.collisionHeight;
                        } <span class="hljs-keyword">else</span> {
                            position.top = withinOffset;
                        }
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overTop &gt; <span class="hljs-number">0</span>) {
                    position.top += overTop;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overBottom &gt; <span class="hljs-number">0</span>) {
                    position.top -= overBottom;
                } <span class="hljs-keyword">else</span> {
                    position.top = max(position.top - collisionPosTop, position.top);
                }
            }
        },
        <span class="hljs-attr">flip</span>: {
            <span class="hljs-attr">left</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">position, data</span>) </span>{
                <span class="hljs-keyword">var</span> within = data.within,
                    withinOffset = within.offset.left + within.scrollLeft,
                    outerWidth = within.width,
                    offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
                    collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                    overLeft = collisionPosLeft - offsetLeft,
                    overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
                    myOffset = data.my[<span class="hljs-number">0</span>] === <span class="hljs-string">"left"</span> ?
                    -data.elemWidth :
                    data.my[<span class="hljs-number">0</span>] === <span class="hljs-string">"right"</span> ?
                    data.elemWidth :
                    <span class="hljs-number">0</span>,
                    atOffset = data.at[<span class="hljs-number">0</span>] === <span class="hljs-string">"left"</span> ?
                    data.targetWidth :
                    data.at[<span class="hljs-number">0</span>] === <span class="hljs-string">"right"</span> ?
                    -data.targetWidth :
                    <span class="hljs-number">0</span>,
                    offset = <span class="hljs-number">-2</span> * data.offset[<span class="hljs-number">0</span>],
                    newOverRight,
                    newOverLeft;
                <span class="hljs-keyword">if</span> (overLeft &lt; <span class="hljs-number">0</span>) {
                    newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
                    <span class="hljs-keyword">if</span> (newOverRight &lt; <span class="hljs-number">0</span> || newOverRight &lt; abs(overLeft)) {
                        position.left += myOffset + atOffset + offset;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overRight &gt; <span class="hljs-number">0</span>) {
                    newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
                    <span class="hljs-keyword">if</span> (newOverLeft &gt; <span class="hljs-number">0</span> || abs(newOverLeft) &lt; overRight) {
                        position.left += myOffset + atOffset + offset;
                    }
                }
            },
            <span class="hljs-attr">top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">position, data</span>) </span>{
                <span class="hljs-keyword">var</span> within = data.within,
                    withinOffset = within.offset.top + within.scrollTop,
                    outerHeight = within.height,
                    offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
                    collisionPosTop = position.top - data.collisionPosition.marginTop,
                    overTop = collisionPosTop - offsetTop,
                    overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
                    top = data.my[<span class="hljs-number">1</span>] === <span class="hljs-string">"top"</span>,
                    myOffset = top ?
                    -data.elemHeight :
                    data.my[<span class="hljs-number">1</span>] === <span class="hljs-string">"bottom"</span> ?
                    data.elemHeight :
                    <span class="hljs-number">0</span>,
                    atOffset = data.at[<span class="hljs-number">1</span>] === <span class="hljs-string">"top"</span> ?
                    data.targetHeight :
                    data.at[<span class="hljs-number">1</span>] === <span class="hljs-string">"bottom"</span> ?
                    -data.targetHeight :
                    <span class="hljs-number">0</span>,
                    offset = <span class="hljs-number">-2</span> * data.offset[<span class="hljs-number">1</span>],
                    newOverTop,
                    newOverBottom;
                <span class="hljs-keyword">if</span> (overTop &lt; <span class="hljs-number">0</span>) {
                    newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
                    <span class="hljs-keyword">if</span> ((position.top + myOffset + atOffset + offset) &gt; overTop &amp;&amp; (newOverBottom &lt; <span class="hljs-number">0</span> || newOverBottom &lt; abs(overTop))) {
                        position.top += myOffset + atOffset + offset;
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (overBottom &gt; <span class="hljs-number">0</span>) {
                    newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
                    <span class="hljs-keyword">if</span> ((position.top + myOffset + atOffset + offset) &gt; overBottom &amp;&amp; (newOverTop &gt; <span class="hljs-number">0</span> || abs(newOverTop) &lt; overBottom)) {
                        position.top += myOffset + atOffset + offset;
                    }
                }
            }
        },
        <span class="hljs-attr">flipfit</span>: {
            <span class="hljs-attr">left</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                $.ui.position.flip.left.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                $.ui.position.fit.left.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            },
            <span class="hljs-attr">top</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                $.ui.position.flip.top.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                $.ui.position.fit.top.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
            }
        }
    };
    (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> testElement, testElementParent, testElementStyle, offsetLeft, i,
            body = <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">"body"</span>)[<span class="hljs-number">0</span>],
            div = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">"div"</span>);
        testElement = <span class="hljs-built_in">document</span>.createElement(body ? <span class="hljs-string">"div"</span> : <span class="hljs-string">"body"</span>);
        testElementStyle = {
            <span class="hljs-attr">visibility</span>: <span class="hljs-string">"hidden"</span>,
            <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">height</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">border</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">margin</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">background</span>: <span class="hljs-string">"none"</span>
        };
        <span class="hljs-keyword">if</span> (body) {
            $.extend(testElementStyle, {
                <span class="hljs-attr">position</span>: <span class="hljs-string">"absolute"</span>,
                <span class="hljs-attr">left</span>: <span class="hljs-string">"-1000px"</span>,
                <span class="hljs-attr">top</span>: <span class="hljs-string">"-1000px"</span>
            });
        }
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> testElementStyle) {
            testElement.style[i] = testElementStyle[i];
        }
        testElement.appendChild(div);
        testElementParent = body || <span class="hljs-built_in">document</span>.documentElement;
        testElementParent.insertBefore(testElement, testElementParent.firstChild);
        div.style.cssText = <span class="hljs-string">"position: absolute; left: 10.7432222px;"</span>;
        offsetLeft = $(div).offset().left;
        $.support.offsetFractions = offsetLeft &gt; <span class="hljs-number">10</span> &amp;&amp; offsetLeft &lt; <span class="hljs-number">11</span>;
        testElement.innerHTML = <span class="hljs-string">""</span>;
        testElementParent.removeChild(testElement);
    })();
    <span class="hljs-keyword">if</span> ($.uiBackCompat !== <span class="hljs-literal">false</span>) {
        (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
            <span class="hljs-keyword">var</span> _position = $.fn.position;
            $.fn.position = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
                <span class="hljs-keyword">if</span> (!options || !options.offset) {
                    <span class="hljs-keyword">return</span> _position.call(<span class="hljs-keyword">this</span>, options);
                }
                <span class="hljs-keyword">var</span> offset = options.offset.split(<span class="hljs-string">" "</span>),
                    at = options.at.split(<span class="hljs-string">" "</span>);
                <span class="hljs-keyword">if</span> (offset.length === <span class="hljs-number">1</span>) {
                    offset[<span class="hljs-number">1</span>] = offset[<span class="hljs-number">0</span>];
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d/</span>.test(offset[<span class="hljs-number">0</span>])) {
                    offset[<span class="hljs-number">0</span>] = <span class="hljs-string">"+"</span> + offset[<span class="hljs-number">0</span>];
                }
                <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/^\d/</span>.test(offset[<span class="hljs-number">1</span>])) {
                    offset[<span class="hljs-number">1</span>] = <span class="hljs-string">"+"</span> + offset[<span class="hljs-number">1</span>];
                }
                <span class="hljs-keyword">if</span> (at.length === <span class="hljs-number">1</span>) {
                    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/left|center|right/</span>.test(at[<span class="hljs-number">0</span>])) {
                        at[<span class="hljs-number">1</span>] = <span class="hljs-string">"center"</span>;
                    } <span class="hljs-keyword">else</span> {
                        at[<span class="hljs-number">1</span>] = at[<span class="hljs-number">0</span>];
                        at[<span class="hljs-number">0</span>] = <span class="hljs-string">"center"</span>;
                    }
                }
                <span class="hljs-keyword">return</span> _position.call(<span class="hljs-keyword">this</span>, $.extend(options, {
                    <span class="hljs-attr">at</span>: at[<span class="hljs-number">0</span>] + offset[<span class="hljs-number">0</span>] + <span class="hljs-string">" "</span> + at[<span class="hljs-number">1</span>] + offset[<span class="hljs-number">1</span>],
                    <span class="hljs-attr">offset</span>: <span class="hljs-literal">undefined</span>
                }));
            };
        }(jQuery));
    }
}(jQuery));
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, undefined</span>) </span>{
    <span class="hljs-keyword">var</span> requestIndex = <span class="hljs-number">0</span>;
    $.widget(<span class="hljs-string">"ui.autocomplete"</span>, {
        <span class="hljs-attr">version</span>: <span class="hljs-string">"1.9.2"</span>,
        <span class="hljs-attr">defaultElement</span>: <span class="hljs-string">"&lt;input&gt;"</span>,
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">appendTo</span>: <span class="hljs-string">"body"</span>,
            <span class="hljs-attr">autoFocus</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">delay</span>: <span class="hljs-number">300</span>,
            <span class="hljs-attr">minLength</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">position</span>: {
                <span class="hljs-attr">my</span>: <span class="hljs-string">"left top"</span>,
                <span class="hljs-attr">at</span>: <span class="hljs-string">"left bottom"</span>,
                <span class="hljs-attr">collision</span>: <span class="hljs-string">"none"</span>
            },
            <span class="hljs-attr">source</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">change</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">close</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">focus</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">open</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">response</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">search</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">select</span>: <span class="hljs-literal">null</span>
        },
        <span class="hljs-attr">pending</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">_create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> suppressKeyPress, suppressKeyPressRepeat, suppressInput;
            <span class="hljs-keyword">this</span>.isMultiLine = <span class="hljs-keyword">this</span>._isMultiLine();
            <span class="hljs-keyword">this</span>.valueMethod = <span class="hljs-keyword">this</span>.element[<span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">"input,textarea"</span>) ? <span class="hljs-string">"val"</span> : <span class="hljs-string">"text"</span>];
            <span class="hljs-keyword">this</span>.isNewMenu = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>.element
                .addClass(<span class="hljs-string">"ui-autocomplete-input"</span>)
                .attr(<span class="hljs-string">"autocomplete"</span>, <span class="hljs-string">"off"</span>);
            <span class="hljs-keyword">this</span>._on(<span class="hljs-keyword">this</span>.element, {
                <span class="hljs-attr">keydown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.prop(<span class="hljs-string">"readOnly"</span>)) {
                        suppressKeyPress = <span class="hljs-literal">true</span>;
                        suppressInput = <span class="hljs-literal">true</span>;
                        suppressKeyPressRepeat = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">return</span>;
                    }
                    suppressKeyPress = <span class="hljs-literal">false</span>;
                    suppressInput = <span class="hljs-literal">false</span>;
                    suppressKeyPressRepeat = <span class="hljs-literal">false</span>;
                    <span class="hljs-keyword">var</span> keyCode = $.ui.keyCode;
                    <span class="hljs-keyword">switch</span> (event.keyCode) {
                        <span class="hljs-keyword">case</span> keyCode.PAGE_UP:
                            suppressKeyPress = <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"previousPage"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.PAGE_DOWN:
                            suppressKeyPress = <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"nextPage"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.UP:
                            suppressKeyPress = <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">this</span>._keyEvent(<span class="hljs-string">"previous"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.DOWN:
                            suppressKeyPress = <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">this</span>._keyEvent(<span class="hljs-string">"next"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.ENTER:
                        <span class="hljs-keyword">case</span> keyCode.NUMPAD_ENTER:
                            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menu.active) {
                                suppressKeyPress = <span class="hljs-literal">true</span>;
                                event.preventDefault();
                                <span class="hljs-keyword">this</span>.menu.select(event);
                            }
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.TAB:
                            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menu.active) {
                                <span class="hljs-keyword">this</span>.menu.select(event);
                            }
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.ESCAPE:
                            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menu.element.is(<span class="hljs-string">":visible"</span>)) {
                                <span class="hljs-keyword">this</span>._value(<span class="hljs-keyword">this</span>.term);
                                <span class="hljs-keyword">this</span>.close(event);
                                event.preventDefault();
                            }
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">default</span>:
                            suppressKeyPressRepeat = <span class="hljs-literal">true</span>;
                            <span class="hljs-keyword">this</span>._searchTimeout(event);
                            <span class="hljs-keyword">break</span>;
                    }
                },
                <span class="hljs-attr">keypress</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (suppressKeyPress) {
                        suppressKeyPress = <span class="hljs-literal">false</span>;
                        event.preventDefault();
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">if</span> (suppressKeyPressRepeat) {
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">var</span> keyCode = $.ui.keyCode;
                    <span class="hljs-keyword">switch</span> (event.keyCode) {
                        <span class="hljs-keyword">case</span> keyCode.PAGE_UP:
                            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"previousPage"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.PAGE_DOWN:
                            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"nextPage"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.UP:
                            <span class="hljs-keyword">this</span>._keyEvent(<span class="hljs-string">"previous"</span>, event);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> keyCode.DOWN:
                            <span class="hljs-keyword">this</span>._keyEvent(<span class="hljs-string">"next"</span>, event);
                            <span class="hljs-keyword">break</span>;
                    }
                },
                <span class="hljs-attr">input</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (suppressInput) {
                        suppressInput = <span class="hljs-literal">false</span>;
                        event.preventDefault();
                        <span class="hljs-keyword">return</span>;
                    }
                    <span class="hljs-keyword">this</span>._searchTimeout(event);
                },
                <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">this</span>.selectedItem = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">this</span>.previous = <span class="hljs-keyword">this</span>._value();
                },
                <span class="hljs-attr">blur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.cancelBlur) {
                        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.cancelBlur;
                        <span class="hljs-keyword">return</span>;
                    }
                    clearTimeout(<span class="hljs-keyword">this</span>.searching);
                    <span class="hljs-keyword">this</span>.close(event);
                    <span class="hljs-keyword">this</span>._change(event);
                }
            });
            <span class="hljs-keyword">this</span>._initSource();
            <span class="hljs-keyword">this</span>.menu = $(<span class="hljs-string">"&lt;ul&gt;"</span>)
                .addClass(<span class="hljs-string">"ui-autocomplete"</span>)
                .appendTo(<span class="hljs-keyword">this</span>.document.find(<span class="hljs-keyword">this</span>.options.appendTo || <span class="hljs-string">"body"</span>)[<span class="hljs-number">0</span>])
                .menu({
                    <span class="hljs-attr">input</span>: $(),
                    <span class="hljs-attr">role</span>: <span class="hljs-literal">null</span>
                })
                .zIndex(<span class="hljs-keyword">this</span>.element.zIndex() + <span class="hljs-number">1</span>)
                .hide()
                .data(<span class="hljs-string">"menu"</span>);
            <span class="hljs-keyword">this</span>._on(<span class="hljs-keyword">this</span>.menu.element, {
                <span class="hljs-attr">mousedown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    event.preventDefault();
                    <span class="hljs-keyword">this</span>.cancelBlur = <span class="hljs-literal">true</span>;
                    <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.cancelBlur;
                    });
                    <span class="hljs-keyword">var</span> menuElement = <span class="hljs-keyword">this</span>.menu.element[<span class="hljs-number">0</span>];
                    <span class="hljs-keyword">if</span> (!$(event.target).closest(<span class="hljs-string">".ui-menu-item"</span>).length) {
                        <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
                            <span class="hljs-keyword">this</span>.document.one(<span class="hljs-string">"mousedown"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                                <span class="hljs-keyword">if</span> (event.target !== that.element[<span class="hljs-number">0</span>] &amp;&amp;
                                    event.target !== menuElement &amp;&amp;
                                    !$.contains(menuElement, event.target)) {
                                    that.close();
                                }
                            });
                        });
                    }
                },
                <span class="hljs-attr">menufocus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isNewMenu) {
                        <span class="hljs-keyword">this</span>.isNewMenu = <span class="hljs-literal">false</span>;
                        <span class="hljs-keyword">if</span> (event.originalEvent &amp;&amp; <span class="hljs-regexp">/^mouse/</span>.test(event.originalEvent.type)) {
                            <span class="hljs-keyword">this</span>.menu.blur();
                            <span class="hljs-keyword">this</span>.document.one(<span class="hljs-string">"mousemove"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                                $(event.target).trigger(event.originalEvent);
                            });
                            <span class="hljs-keyword">return</span>;
                        }
                    }
                    <span class="hljs-keyword">var</span> item = ui.item.data(<span class="hljs-string">"ui-autocomplete-item"</span>) || ui.item.data(<span class="hljs-string">"item.autocomplete"</span>);
                    <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span> !== <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"focus"</span>, event, {
                            <span class="hljs-attr">item</span>: item
                        })) {
                        <span class="hljs-keyword">if</span> (event.originalEvent &amp;&amp; <span class="hljs-regexp">/^key/</span>.test(event.originalEvent.type)) {
                            <span class="hljs-keyword">this</span>._value(item.value);
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">this</span>.liveRegion.text(item.value);
                    }
                },
                <span class="hljs-attr">menuselect</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, ui</span>) </span>{
                    <span class="hljs-keyword">var</span> item = ui.item.data(<span class="hljs-string">"ui-autocomplete-item"</span>) || ui.item.data(<span class="hljs-string">"item.autocomplete"</span>),
                        previous = <span class="hljs-keyword">this</span>.previous;
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>] !== <span class="hljs-keyword">this</span>.document[<span class="hljs-number">0</span>].activeElement) {
                        <span class="hljs-keyword">this</span>.element.focus();
                        <span class="hljs-keyword">this</span>.previous = previous;
                        <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">this</span>.previous = previous;
                            <span class="hljs-keyword">this</span>.selectedItem = item;
                        });
                    }
                    <span class="hljs-keyword">if</span> (<span class="hljs-literal">false</span> !== <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"select"</span>, event, {
                            <span class="hljs-attr">item</span>: item
                        })) {
                        <span class="hljs-keyword">this</span>._value(item.value);
                    }
                    <span class="hljs-keyword">this</span>.term = <span class="hljs-keyword">this</span>._value();
                    <span class="hljs-keyword">this</span>.close(event);
                    <span class="hljs-keyword">this</span>.selectedItem = item;
                }
            });
            <span class="hljs-keyword">this</span>.liveRegion = $(<span class="hljs-string">"&lt;span&gt;"</span>, {
                    <span class="hljs-attr">role</span>: <span class="hljs-string">"status"</span>,
                    <span class="hljs-string">"aria-live"</span>: <span class="hljs-string">"polite"</span>
                })
                .addClass(<span class="hljs-string">"ui-helper-hidden-accessible"</span>)
                .insertAfter(<span class="hljs-keyword">this</span>.element);
            <span class="hljs-keyword">if</span> ($.fn.bgiframe) {
                <span class="hljs-keyword">this</span>.menu.element.bgiframe();
            }
            <span class="hljs-keyword">this</span>._on(<span class="hljs-keyword">this</span>.window, {
                <span class="hljs-attr">beforeunload</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">this</span>.element.removeAttr(<span class="hljs-string">"autocomplete"</span>);
                }
            });
        },
        <span class="hljs-attr">_destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            clearTimeout(<span class="hljs-keyword">this</span>.searching);
            <span class="hljs-keyword">this</span>.element
                .removeClass(<span class="hljs-string">"ui-autocomplete-input"</span>)
                .removeAttr(<span class="hljs-string">"autocomplete"</span>);
            <span class="hljs-keyword">this</span>.menu.element.remove();
            <span class="hljs-keyword">this</span>.liveRegion.remove();
        },
        <span class="hljs-attr">_setOption</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
            <span class="hljs-keyword">this</span>._super(key, value);
            <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"source"</span>) {
                <span class="hljs-keyword">this</span>._initSource();
            }
            <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"appendTo"</span>) {
                <span class="hljs-keyword">this</span>.menu.element.appendTo(<span class="hljs-keyword">this</span>.document.find(value || <span class="hljs-string">"body"</span>)[<span class="hljs-number">0</span>]);
            }
            <span class="hljs-keyword">if</span> (key === <span class="hljs-string">"disabled"</span> &amp;&amp; value &amp;&amp; <span class="hljs-keyword">this</span>.xhr) {
                <span class="hljs-keyword">this</span>.xhr.abort();
            }
        },
        <span class="hljs-attr">_isMultiLine</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">"textarea"</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">"input"</span>)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element.prop(<span class="hljs-string">"isContentEditable"</span>);
        },
        <span class="hljs-attr">_initSource</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> array, url,
                that = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">if</span> ($.isArray(<span class="hljs-keyword">this</span>.options.source)) {
                array = <span class="hljs-keyword">this</span>.options.source;
                <span class="hljs-keyword">this</span>.source = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
                    response($.ui.autocomplete.filter(array, request.term));
                };
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">this</span>.options.source === <span class="hljs-string">"string"</span>) {
                url = <span class="hljs-keyword">this</span>.options.source;
                <span class="hljs-keyword">this</span>.source = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">request, response</span>) </span>{
                    <span class="hljs-keyword">if</span> (that.xhr) {
                        that.xhr.abort();
                    }
                    that.xhr = $.ajax({
                        <span class="hljs-attr">url</span>: url,
                        <span class="hljs-attr">data</span>: request,
                        <span class="hljs-attr">dataType</span>: <span class="hljs-string">"json"</span>,
                        <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>) </span>{
                            response(data);
                        },
                        <span class="hljs-attr">error</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            response([]);
                        }
                    });
                };
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.source = <span class="hljs-keyword">this</span>.options.source;
            }
        },
        <span class="hljs-attr">_searchTimeout</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            clearTimeout(<span class="hljs-keyword">this</span>.searching);
            <span class="hljs-keyword">this</span>.searching = <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.term !== <span class="hljs-keyword">this</span>._value()) {
                    <span class="hljs-keyword">this</span>.selectedItem = <span class="hljs-literal">null</span>;
                    <span class="hljs-keyword">this</span>.search(<span class="hljs-literal">null</span>, event);
                }
            }, <span class="hljs-keyword">this</span>.options.delay);
        },
        <span class="hljs-attr">search</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, event</span>) </span>{
            value = value != <span class="hljs-literal">null</span> ? value : <span class="hljs-keyword">this</span>._value();
            <span class="hljs-keyword">this</span>.term = <span class="hljs-keyword">this</span>._value();
            <span class="hljs-keyword">if</span> (value.length &lt; <span class="hljs-keyword">this</span>.options.minLength) {
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.close(event);
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"search"</span>, event) === <span class="hljs-literal">false</span>) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._search(value);
        },
        <span class="hljs-attr">_search</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
            <span class="hljs-keyword">this</span>.pending++;
            <span class="hljs-keyword">this</span>.element.addClass(<span class="hljs-string">"ui-autocomplete-loading"</span>);
            <span class="hljs-keyword">this</span>.cancelSearch = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">this</span>.source({
                <span class="hljs-attr">term</span>: value
            }, <span class="hljs-keyword">this</span>._response());
        },
        <span class="hljs-attr">_response</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>,
                index = ++requestIndex;
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">content</span>) </span>{
                <span class="hljs-keyword">if</span> (index === requestIndex) {
                    that.__response(content);
                }
                that.pending--;
                <span class="hljs-keyword">if</span> (!that.pending) {
                    that.element.removeClass(<span class="hljs-string">"ui-autocomplete-loading"</span>);
                }
            };
        },
        <span class="hljs-attr">__response</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">content</span>) </span>{
            <span class="hljs-keyword">if</span> (content) {
                content = <span class="hljs-keyword">this</span>._normalize(content);
            }
            <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"response"</span>, <span class="hljs-literal">null</span>, {
                <span class="hljs-attr">content</span>: content
            });
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.options.disabled &amp;&amp; content &amp;&amp; content.length &amp;&amp; !<span class="hljs-keyword">this</span>.cancelSearch) {
                <span class="hljs-keyword">this</span>._suggest(content);
                <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"open"</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>._close();
            }
        },
        <span class="hljs-attr">close</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">this</span>.cancelSearch = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">this</span>._close(event);
        },
        <span class="hljs-attr">_close</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menu.element.is(<span class="hljs-string">":visible"</span>)) {
                <span class="hljs-keyword">this</span>.menu.element.hide();
                <span class="hljs-keyword">this</span>.menu.blur();
                <span class="hljs-keyword">this</span>.isNewMenu = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"close"</span>, event);
            }
        },
        <span class="hljs-attr">_change</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.previous !== <span class="hljs-keyword">this</span>._value()) {
                <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"change"</span>, event, {
                    <span class="hljs-attr">item</span>: <span class="hljs-keyword">this</span>.selectedItem
                });
            }
        },
        <span class="hljs-attr">_normalize</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">items</span>) </span>{
            <span class="hljs-keyword">if</span> (items.length &amp;&amp; items[<span class="hljs-number">0</span>].label &amp;&amp; items[<span class="hljs-number">0</span>].value) {
                <span class="hljs-keyword">return</span> items;
            }
            <span class="hljs-keyword">return</span> $.map(items, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> item === <span class="hljs-string">"string"</span>) {
                    <span class="hljs-keyword">return</span> {
                        <span class="hljs-attr">label</span>: item,
                        <span class="hljs-attr">value</span>: item
                    };
                }
                <span class="hljs-keyword">return</span> $.extend({
                    <span class="hljs-attr">label</span>: item.label || item.value,
                    <span class="hljs-attr">value</span>: item.value || item.label
                }, item);
            });
        },
        <span class="hljs-attr">_suggest</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">items</span>) </span>{
            <span class="hljs-keyword">var</span> ul = <span class="hljs-keyword">this</span>.menu.element
                .empty()
                .zIndex(<span class="hljs-keyword">this</span>.element.zIndex() + <span class="hljs-number">1</span>);
            <span class="hljs-keyword">this</span>._renderMenu(ul, items);
            <span class="hljs-keyword">this</span>.menu.refresh();
            ul.show();
            <span class="hljs-keyword">this</span>._resizeMenu();
            ul.position($.extend({ <span class="hljs-attr">of</span>: <span class="hljs-keyword">this</span>.element
            }, <span class="hljs-keyword">this</span>.options.position));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.autoFocus) {
                <span class="hljs-keyword">this</span>.menu.next();
            }
        },
        <span class="hljs-attr">_resizeMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> ul = <span class="hljs-keyword">this</span>.menu.element;
            ul.outerWidth(<span class="hljs-built_in">Math</span>.max(
                ul.width(<span class="hljs-string">""</span>).outerWidth() + <span class="hljs-number">1</span>,
                <span class="hljs-keyword">this</span>.element.outerWidth()
            ));
        },
        <span class="hljs-attr">_renderMenu</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ul, items</span>) </span>{
            <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
            $.each(items, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, item</span>) </span>{
                that._renderItemData(ul, item);
            });
        },
        <span class="hljs-attr">_renderItemData</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ul, item</span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._renderItem(ul, item).data(<span class="hljs-string">"ui-autocomplete-item"</span>, item);
        },
        <span class="hljs-attr">_renderItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ul, item</span>) </span>{
            <span class="hljs-keyword">return</span> $(<span class="hljs-string">"&lt;li&gt;"</span>)
                .append($(<span class="hljs-string">"&lt;a&gt;"</span>).text(item.label))
                .appendTo(ul);
        },
        <span class="hljs-attr">_move</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">direction, event</span>) </span>{
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.menu.element.is(<span class="hljs-string">":visible"</span>)) {
                <span class="hljs-keyword">this</span>.search(<span class="hljs-literal">null</span>, event);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.menu.isFirstItem() &amp;&amp; <span class="hljs-regexp">/^previous/</span>.test(direction) ||
                <span class="hljs-keyword">this</span>.menu.isLastItem() &amp;&amp; <span class="hljs-regexp">/^next/</span>.test(direction)) {
                <span class="hljs-keyword">this</span>._value(<span class="hljs-keyword">this</span>.term);
                <span class="hljs-keyword">this</span>.menu.blur();
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">this</span>.menu[direction](event);
        },
        <span class="hljs-attr">widget</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.menu.element;
        },
        <span class="hljs-attr">_value</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.valueMethod.apply(<span class="hljs-keyword">this</span>.element, <span class="hljs-built_in">arguments</span>);
        },
        <span class="hljs-attr">_keyEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">keyEvent, event</span>) </span>{
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.isMultiLine || <span class="hljs-keyword">this</span>.menu.element.is(<span class="hljs-string">":visible"</span>)) {
                <span class="hljs-keyword">this</span>._move(keyEvent, event);
                event.preventDefault();
            }
        }
    });
    $.extend($.ui.autocomplete, {
        <span class="hljs-attr">escapeRegex</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
            <span class="hljs-keyword">return</span> value.replace(<span class="hljs-regexp">/[\-\[\]{}()*+?.,\\\^$|#\s]/g</span>, <span class="hljs-string">"\\$&amp;"</span>);
        },
        <span class="hljs-attr">filter</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">array, term</span>) </span>{
            <span class="hljs-keyword">var</span> matcher = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>($.ui.autocomplete.escapeRegex(term), <span class="hljs-string">"i"</span>);
            <span class="hljs-keyword">return</span> $.grep(array, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
                <span class="hljs-keyword">return</span> matcher.test(value.label || value.value || value);
            });
        }
    });
    $.widget(<span class="hljs-string">"ui.autocomplete"</span>, $.ui.autocomplete, {
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">messages</span>: {
                <span class="hljs-attr">noResults</span>: <span class="hljs-string">"No search results."</span>,
                <span class="hljs-attr">results</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">amount</span>) </span>{
                    <span class="hljs-keyword">return</span> amount + (amount &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">" results are"</span> : <span class="hljs-string">" result is"</span>) +
                        <span class="hljs-string">" available, use up and down arrow keys to navigate."</span>;
                }
            }
        },
        <span class="hljs-attr">__response</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">content</span>) </span>{
            <span class="hljs-keyword">var</span> message;
            <span class="hljs-keyword">this</span>._superApply(<span class="hljs-built_in">arguments</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.disabled || <span class="hljs-keyword">this</span>.cancelSearch) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (content &amp;&amp; content.length) {
                message = <span class="hljs-keyword">this</span>.options.messages.results(content.length);
            } <span class="hljs-keyword">else</span> {
                message = <span class="hljs-keyword">this</span>.options.messages.noResults;
            }
            <span class="hljs-keyword">this</span>.liveRegion.text(message);
        }
    });
}(jQuery));
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$, undefined</span>) </span>{
    <span class="hljs-keyword">var</span> mouseHandled = <span class="hljs-literal">false</span>;
    $.widget(<span class="hljs-string">"ui.menu"</span>, {
        <span class="hljs-attr">version</span>: <span class="hljs-string">"1.9.2"</span>,
        <span class="hljs-attr">defaultElement</span>: <span class="hljs-string">"&lt;ul&gt;"</span>,
        <span class="hljs-attr">delay</span>: <span class="hljs-number">300</span>,
        <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">icons</span>: {
                <span class="hljs-attr">submenu</span>: <span class="hljs-string">"ui-icon-carat-1-e"</span>
            },
            <span class="hljs-attr">menus</span>: <span class="hljs-string">"ul"</span>,
            <span class="hljs-attr">position</span>: {
                <span class="hljs-attr">my</span>: <span class="hljs-string">"left top"</span>,
                <span class="hljs-attr">at</span>: <span class="hljs-string">"right top"</span>
            },
            <span class="hljs-attr">role</span>: <span class="hljs-string">"menu"</span>,
            <span class="hljs-attr">blur</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">focus</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">select</span>: <span class="hljs-literal">null</span>
        },
        <span class="hljs-attr">_create</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.activeMenu = <span class="hljs-keyword">this</span>.element;
            <span class="hljs-keyword">this</span>.element
                .uniqueId()
                .addClass(<span class="hljs-string">"ui-menu ui-widget ui-widget-content ui-corner-all"</span>)
                .toggleClass(<span class="hljs-string">"ui-menu-icons"</span>, !!<span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">".ui-icon"</span>).length)
                .attr({
                    <span class="hljs-attr">role</span>: <span class="hljs-keyword">this</span>.options.role,
                    <span class="hljs-attr">tabIndex</span>: <span class="hljs-number">0</span>
                })
                .bind(<span class="hljs-string">"click"</span> + <span class="hljs-keyword">this</span>.eventNamespace, $.proxy(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.disabled) {
                        event.preventDefault();
                    }
                }, <span class="hljs-keyword">this</span>));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.disabled) {
                <span class="hljs-keyword">this</span>.element
                    .addClass(<span class="hljs-string">"ui-state-disabled"</span>)
                    .attr(<span class="hljs-string">"aria-disabled"</span>, <span class="hljs-string">"true"</span>);
            }
            <span class="hljs-keyword">this</span>._on({
                <span class="hljs-string">"mousedown .ui-menu-item &gt; a"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    event.preventDefault();
                },
                <span class="hljs-string">"click .ui-state-disabled &gt; a"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    event.preventDefault();
                },
                <span class="hljs-string">"click .ui-menu-item:has(a)"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">var</span> target = $(event.target).closest(<span class="hljs-string">".ui-menu-item"</span>);
                    <span class="hljs-keyword">if</span> (!mouseHandled &amp;&amp; target.not(<span class="hljs-string">".ui-state-disabled"</span>).length) {
                        mouseHandled = <span class="hljs-literal">true</span>;
                        <span class="hljs-keyword">this</span>.select(event);
                        <span class="hljs-keyword">if</span> (target.has(<span class="hljs-string">".ui-menu"</span>).length) {
                            <span class="hljs-keyword">this</span>.expand(event);
                        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.element.is(<span class="hljs-string">":focus"</span>)) {
                            <span class="hljs-keyword">this</span>.element.trigger(<span class="hljs-string">"focus"</span>, [<span class="hljs-literal">true</span>]);
                            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active &amp;&amp; <span class="hljs-keyword">this</span>.active.parents(<span class="hljs-string">".ui-menu"</span>).length === <span class="hljs-number">1</span>) {
                                clearTimeout(<span class="hljs-keyword">this</span>.timer);
                            }
                        }
                    }
                },
                <span class="hljs-string">"mouseenter .ui-menu-item"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">var</span> target = $(event.currentTarget);
                    target.siblings().children(<span class="hljs-string">".ui-state-active"</span>).removeClass(<span class="hljs-string">"ui-state-active"</span>);
                    <span class="hljs-keyword">this</span>.focus(event, target);
                },
                <span class="hljs-attr">mouseleave</span>: <span class="hljs-string">"collapseAll"</span>,
                <span class="hljs-string">"mouseleave .ui-menu"</span>: <span class="hljs-string">"collapseAll"</span>,
                <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, keepActiveItem</span>) </span>{
                    <span class="hljs-keyword">var</span> item = <span class="hljs-keyword">this</span>.active || <span class="hljs-keyword">this</span>.element.children(<span class="hljs-string">".ui-menu-item"</span>).eq(<span class="hljs-number">0</span>);
                    <span class="hljs-keyword">if</span> (!keepActiveItem) {
                        <span class="hljs-keyword">this</span>.focus(event, item);
                    }
                },
                <span class="hljs-attr">blur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">if</span> (!$.contains(<span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.document[<span class="hljs-number">0</span>].activeElement)) {
                            <span class="hljs-keyword">this</span>.collapseAll(event);
                        }
                    });
                },
                <span class="hljs-attr">keydown</span>: <span class="hljs-string">"_keydown"</span>
            });
            <span class="hljs-keyword">this</span>.refresh();
            <span class="hljs-keyword">this</span>._on(<span class="hljs-keyword">this</span>.document, {
                <span class="hljs-attr">click</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
                    <span class="hljs-keyword">if</span> (!$(event.target).closest(<span class="hljs-string">".ui-menu"</span>).length) {
                        <span class="hljs-keyword">this</span>.collapseAll(event);
                    }
                    mouseHandled = <span class="hljs-literal">false</span>;
                }
            });
        },
        <span class="hljs-attr">_destroy</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">this</span>.element
                .removeAttr(<span class="hljs-string">"aria-activedescendant"</span>)
                .find(<span class="hljs-string">".ui-menu"</span>).andSelf()
                .removeClass(<span class="hljs-string">"ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons"</span>)
                .removeAttr(<span class="hljs-string">"role"</span>)
                .removeAttr(<span class="hljs-string">"tabIndex"</span>)
                .removeAttr(<span class="hljs-string">"aria-labelledby"</span>)
                .removeAttr(<span class="hljs-string">"aria-expanded"</span>)
                .removeAttr(<span class="hljs-string">"aria-hidden"</span>)
                .removeAttr(<span class="hljs-string">"aria-disabled"</span>)
                .removeUniqueId()
                .show();
            <span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">".ui-menu-item"</span>)
                .removeClass(<span class="hljs-string">"ui-menu-item"</span>)
                .removeAttr(<span class="hljs-string">"role"</span>)
                .removeAttr(<span class="hljs-string">"aria-disabled"</span>)
                .children(<span class="hljs-string">"a"</span>)
                .removeUniqueId()
                .removeClass(<span class="hljs-string">"ui-corner-all ui-state-hover"</span>)
                .removeAttr(<span class="hljs-string">"tabIndex"</span>)
                .removeAttr(<span class="hljs-string">"role"</span>)
                .removeAttr(<span class="hljs-string">"aria-haspopup"</span>)
                .children().each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> elem = $(<span class="hljs-keyword">this</span>);
                    <span class="hljs-keyword">if</span> (elem.data(<span class="hljs-string">"ui-menu-submenu-carat"</span>)) {
                        elem.remove();
                    }
                });
            <span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">".ui-menu-divider"</span>).removeClass(<span class="hljs-string">"ui-menu-divider ui-widget-content"</span>);
        },
        <span class="hljs-attr">_keydown</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> match, prev, character, skip, regex,
                preventDefault = <span class="hljs-literal">true</span>;

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escape</span>(<span class="hljs-params">value</span>) </span>{
                <span class="hljs-keyword">return</span> value.replace(<span class="hljs-regexp">/[\-\[\]{}()*+?.,\\\^$|#\s]/g</span>, <span class="hljs-string">"\\$&amp;"</span>);
            }
            <span class="hljs-keyword">switch</span> (event.keyCode) {
                <span class="hljs-keyword">case</span> $.ui.keyCode.PAGE_UP:
                    <span class="hljs-keyword">this</span>.previousPage(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.PAGE_DOWN:
                    <span class="hljs-keyword">this</span>.nextPage(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.HOME:
                    <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"first"</span>, <span class="hljs-string">"first"</span>, event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.END:
                    <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"last"</span>, <span class="hljs-string">"last"</span>, event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.UP:
                    <span class="hljs-keyword">this</span>.previous(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.DOWN:
                    <span class="hljs-keyword">this</span>.next(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.LEFT:
                    <span class="hljs-keyword">this</span>.collapse(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.RIGHT:
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active &amp;&amp; !<span class="hljs-keyword">this</span>.active.is(<span class="hljs-string">".ui-state-disabled"</span>)) {
                        <span class="hljs-keyword">this</span>.expand(event);
                    }
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.ENTER:
                <span class="hljs-keyword">case</span> $.ui.keyCode.SPACE:
                    <span class="hljs-keyword">this</span>._activate(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> $.ui.keyCode.ESCAPE:
                    <span class="hljs-keyword">this</span>.collapse(event);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">default</span>:
                    preventDefault = <span class="hljs-literal">false</span>;
                    prev = <span class="hljs-keyword">this</span>.previousFilter || <span class="hljs-string">""</span>;
                    character = <span class="hljs-built_in">String</span>.fromCharCode(event.keyCode);
                    skip = <span class="hljs-literal">false</span>;
                    clearTimeout(<span class="hljs-keyword">this</span>.filterTimer);
                    <span class="hljs-keyword">if</span> (character === prev) {
                        skip = <span class="hljs-literal">true</span>;
                    } <span class="hljs-keyword">else</span> {
                        character = prev + character;
                    }
                    regex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + <span class="hljs-built_in">escape</span>(character), <span class="hljs-string">"i"</span>);
                    match = <span class="hljs-keyword">this</span>.activeMenu.children(<span class="hljs-string">".ui-menu-item"</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">return</span> regex.test($(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"a"</span>).text());
                    });
                    match = skip &amp;&amp; match.index(<span class="hljs-keyword">this</span>.active.next()) !== <span class="hljs-number">-1</span> ?
                        <span class="hljs-keyword">this</span>.active.nextAll(<span class="hljs-string">".ui-menu-item"</span>) :
                        match;
                    <span class="hljs-keyword">if</span> (!match.length) {
                        character = <span class="hljs-built_in">String</span>.fromCharCode(event.keyCode);
                        regex = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"^"</span> + <span class="hljs-built_in">escape</span>(character), <span class="hljs-string">"i"</span>);
                        match = <span class="hljs-keyword">this</span>.activeMenu.children(<span class="hljs-string">".ui-menu-item"</span>).filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">return</span> regex.test($(<span class="hljs-keyword">this</span>).children(<span class="hljs-string">"a"</span>).text());
                        });
                    }
                    <span class="hljs-keyword">if</span> (match.length) {
                        <span class="hljs-keyword">this</span>.focus(event, match);
                        <span class="hljs-keyword">if</span> (match.length &gt; <span class="hljs-number">1</span>) {
                            <span class="hljs-keyword">this</span>.previousFilter = character;
                            <span class="hljs-keyword">this</span>.filterTimer = <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                                <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.previousFilter;
                            }, <span class="hljs-number">1000</span>);
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.previousFilter;
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">delete</span> <span class="hljs-keyword">this</span>.previousFilter;
                    }
            }
            <span class="hljs-keyword">if</span> (preventDefault) {
                event.preventDefault();
            }
        },
        <span class="hljs-attr">_activate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active.is(<span class="hljs-string">".ui-state-disabled"</span>)) {
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active.children(<span class="hljs-string">"a[aria-haspopup='true']"</span>).length) {
                    <span class="hljs-keyword">this</span>.expand(event);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">this</span>.select(event);
                }
            }
        },
        <span class="hljs-attr">refresh</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> menus,
                icon = <span class="hljs-keyword">this</span>.options.icons.submenu,
                submenus = <span class="hljs-keyword">this</span>.element.find(<span class="hljs-keyword">this</span>.options.menus);
            submenus.filter(<span class="hljs-string">":not(.ui-menu)"</span>)
                .addClass(<span class="hljs-string">"ui-menu ui-widget ui-widget-content ui-corner-all"</span>)
                .hide()
                .attr({
                    <span class="hljs-attr">role</span>: <span class="hljs-keyword">this</span>.options.role,
                    <span class="hljs-string">"aria-hidden"</span>: <span class="hljs-string">"true"</span>,
                    <span class="hljs-string">"aria-expanded"</span>: <span class="hljs-string">"false"</span>
                })
                .each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> menu = $(<span class="hljs-keyword">this</span>),
                        item = menu.prev(<span class="hljs-string">"a"</span>),
                        submenuCarat = $(<span class="hljs-string">"&lt;span&gt;"</span>)
                        .addClass(<span class="hljs-string">"ui-menu-icon ui-icon "</span> + icon)
                        .data(<span class="hljs-string">"ui-menu-submenu-carat"</span>, <span class="hljs-literal">true</span>);
                    item
                        .attr(<span class="hljs-string">"aria-haspopup"</span>, <span class="hljs-string">"true"</span>)
                        .prepend(submenuCarat);
                    menu.attr(<span class="hljs-string">"aria-labelledby"</span>, item.attr(<span class="hljs-string">"id"</span>));
                });
            menus = submenus.add(<span class="hljs-keyword">this</span>.element);
            menus.children(<span class="hljs-string">":not(.ui-menu-item):has(a)"</span>)
                .addClass(<span class="hljs-string">"ui-menu-item"</span>)
                .attr(<span class="hljs-string">"role"</span>, <span class="hljs-string">"presentation"</span>)
                .children(<span class="hljs-string">"a"</span>)
                .uniqueId()
                .addClass(<span class="hljs-string">"ui-corner-all"</span>)
                .attr({
                    <span class="hljs-attr">tabIndex</span>: <span class="hljs-number">-1</span>,
                    <span class="hljs-attr">role</span>: <span class="hljs-keyword">this</span>._itemRole()
                });
            menus.children(<span class="hljs-string">":not(.ui-menu-item)"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> item = $(<span class="hljs-keyword">this</span>);
                <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/[^\-—–\s]/</span>.test(item.text())) {
                    item.addClass(<span class="hljs-string">"ui-widget-content ui-menu-divider"</span>);
                }
            });
            menus.children(<span class="hljs-string">".ui-state-disabled"</span>).attr(<span class="hljs-string">"aria-disabled"</span>, <span class="hljs-string">"true"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active &amp;&amp; !$.contains(<span class="hljs-keyword">this</span>.element[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.active[<span class="hljs-number">0</span>])) {
                <span class="hljs-keyword">this</span>.blur();
            }
        },
        <span class="hljs-attr">_itemRole</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">menu</span>: <span class="hljs-string">"menuitem"</span>,
                <span class="hljs-attr">listbox</span>: <span class="hljs-string">"option"</span>
            }[<span class="hljs-keyword">this</span>.options.role];
        },
        <span class="hljs-attr">focus</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, item</span>) </span>{
            <span class="hljs-keyword">var</span> nested, focused;
            <span class="hljs-keyword">this</span>.blur(event, event &amp;&amp; event.type === <span class="hljs-string">"focus"</span>);
            <span class="hljs-keyword">this</span>._scrollIntoView(item);
            <span class="hljs-keyword">this</span>.active = item.first();
            focused = <span class="hljs-keyword">this</span>.active.children(<span class="hljs-string">"a"</span>).addClass(<span class="hljs-string">"ui-state-focus"</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.options.role) {
                <span class="hljs-keyword">this</span>.element.attr(<span class="hljs-string">"aria-activedescendant"</span>, focused.attr(<span class="hljs-string">"id"</span>));
            }
            <span class="hljs-keyword">this</span>.active
                .parent()
                .closest(<span class="hljs-string">".ui-menu-item"</span>)
                .children(<span class="hljs-string">"a:first"</span>)
                .addClass(<span class="hljs-string">"ui-state-active"</span>);
            <span class="hljs-keyword">if</span> (event &amp;&amp; event.type === <span class="hljs-string">"keydown"</span>) {
                <span class="hljs-keyword">this</span>._close();
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.timer = <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">this</span>._close();
                }, <span class="hljs-keyword">this</span>.delay);
            }
            nested = item.children(<span class="hljs-string">".ui-menu"</span>);
            <span class="hljs-keyword">if</span> (nested.length &amp;&amp; (<span class="hljs-regexp">/^mouse/</span>.test(event.type))) {
                <span class="hljs-keyword">this</span>._startOpening(nested);
            }
            <span class="hljs-keyword">this</span>.activeMenu = item.parent();
            <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"focus"</span>, event, {
                <span class="hljs-attr">item</span>: item
            });
        },
        <span class="hljs-attr">_scrollIntoView</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
            <span class="hljs-keyword">var</span> borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._hasScroll()) {
                borderTop = <span class="hljs-built_in">parseFloat</span>($.css(<span class="hljs-keyword">this</span>.activeMenu[<span class="hljs-number">0</span>], <span class="hljs-string">"borderTopWidth"</span>)) || <span class="hljs-number">0</span>;
                paddingTop = <span class="hljs-built_in">parseFloat</span>($.css(<span class="hljs-keyword">this</span>.activeMenu[<span class="hljs-number">0</span>], <span class="hljs-string">"paddingTop"</span>)) || <span class="hljs-number">0</span>;
                offset = item.offset().top - <span class="hljs-keyword">this</span>.activeMenu.offset().top - borderTop - paddingTop;
                scroll = <span class="hljs-keyword">this</span>.activeMenu.scrollTop();
                elementHeight = <span class="hljs-keyword">this</span>.activeMenu.height();
                itemHeight = item.height();
                <span class="hljs-keyword">if</span> (offset &lt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">this</span>.activeMenu.scrollTop(scroll + offset);
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (offset + itemHeight &gt; elementHeight) {
                    <span class="hljs-keyword">this</span>.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight);
                }
            }
        },
        <span class="hljs-attr">blur</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, fromFocus</span>) </span>{
            <span class="hljs-keyword">if</span> (!fromFocus) {
                clearTimeout(<span class="hljs-keyword">this</span>.timer);
            }
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">this</span>.active.children(<span class="hljs-string">"a"</span>).removeClass(<span class="hljs-string">"ui-state-focus"</span>);
            <span class="hljs-keyword">this</span>.active = <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"blur"</span>, event, {
                <span class="hljs-attr">item</span>: <span class="hljs-keyword">this</span>.active
            });
        },
        <span class="hljs-attr">_startOpening</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">submenu</span>) </span>{
            clearTimeout(<span class="hljs-keyword">this</span>.timer);
            <span class="hljs-keyword">if</span> (submenu.attr(<span class="hljs-string">"aria-hidden"</span>) !== <span class="hljs-string">"true"</span>) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">this</span>.timer = <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">this</span>._close();
                <span class="hljs-keyword">this</span>._open(submenu);
            }, <span class="hljs-keyword">this</span>.delay);
        },
        <span class="hljs-attr">_open</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">submenu</span>) </span>{
            <span class="hljs-keyword">var</span> position = $.extend({ <span class="hljs-attr">of</span>: <span class="hljs-keyword">this</span>.active
            }, <span class="hljs-keyword">this</span>.options.position);
            clearTimeout(<span class="hljs-keyword">this</span>.timer);
            <span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">".ui-menu"</span>).not(submenu.parents(<span class="hljs-string">".ui-menu"</span>))
                .hide()
                .attr(<span class="hljs-string">"aria-hidden"</span>, <span class="hljs-string">"true"</span>);
            submenu
                .show()
                .removeAttr(<span class="hljs-string">"aria-hidden"</span>)
                .attr(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"true"</span>)
                .position(position);
        },
        <span class="hljs-attr">collapseAll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, all</span>) </span>{
            clearTimeout(<span class="hljs-keyword">this</span>.timer);
            <span class="hljs-keyword">this</span>.timer = <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> currentMenu = all ? <span class="hljs-keyword">this</span>.element :
                    $(event &amp;&amp; event.target).closest(<span class="hljs-keyword">this</span>.element.find(<span class="hljs-string">".ui-menu"</span>));
                <span class="hljs-keyword">if</span> (!currentMenu.length) {
                    currentMenu = <span class="hljs-keyword">this</span>.element;
                }
                <span class="hljs-keyword">this</span>._close(currentMenu);
                <span class="hljs-keyword">this</span>.blur(event);
                <span class="hljs-keyword">this</span>.activeMenu = currentMenu;
            }, <span class="hljs-keyword">this</span>.delay);
        },
        <span class="hljs-attr">_close</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">startMenu</span>) </span>{
            <span class="hljs-keyword">if</span> (!startMenu) {
                startMenu = <span class="hljs-keyword">this</span>.active ? <span class="hljs-keyword">this</span>.active.parent() : <span class="hljs-keyword">this</span>.element;
            }
            startMenu
                .find(<span class="hljs-string">".ui-menu"</span>)
                .hide()
                .attr(<span class="hljs-string">"aria-hidden"</span>, <span class="hljs-string">"true"</span>)
                .attr(<span class="hljs-string">"aria-expanded"</span>, <span class="hljs-string">"false"</span>)
                .end()
                .find(<span class="hljs-string">"a.ui-state-active"</span>)
                .removeClass(<span class="hljs-string">"ui-state-active"</span>);
        },
        <span class="hljs-attr">collapse</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> newItem = <span class="hljs-keyword">this</span>.active &amp;&amp;
                <span class="hljs-keyword">this</span>.active.parent().closest(<span class="hljs-string">".ui-menu-item"</span>, <span class="hljs-keyword">this</span>.element);
            <span class="hljs-keyword">if</span> (newItem &amp;&amp; newItem.length) {
                <span class="hljs-keyword">this</span>._close();
                <span class="hljs-keyword">this</span>.focus(event, newItem);
            }
        },
        <span class="hljs-attr">expand</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> newItem = <span class="hljs-keyword">this</span>.active &amp;&amp;
                <span class="hljs-keyword">this</span>.active
                .children(<span class="hljs-string">".ui-menu "</span>)
                .children(<span class="hljs-string">".ui-menu-item"</span>)
                .first();
            <span class="hljs-keyword">if</span> (newItem &amp;&amp; newItem.length) {
                <span class="hljs-keyword">this</span>._open(newItem.parent());
                <span class="hljs-keyword">this</span>._delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">this</span>.focus(event, newItem);
                });
            }
        },
        <span class="hljs-attr">next</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"next"</span>, <span class="hljs-string">"first"</span>, event);
        },
        <span class="hljs-attr">previous</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">this</span>._move(<span class="hljs-string">"prev"</span>, <span class="hljs-string">"last"</span>, event);
        },
        <span class="hljs-attr">isFirstItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.active &amp;&amp; !<span class="hljs-keyword">this</span>.active.prevAll(<span class="hljs-string">".ui-menu-item"</span>).length;
        },
        <span class="hljs-attr">isLastItem</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.active &amp;&amp; !<span class="hljs-keyword">this</span>.active.nextAll(<span class="hljs-string">".ui-menu-item"</span>).length;
        },
        <span class="hljs-attr">_move</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">direction, filter, event</span>) </span>{
            <span class="hljs-keyword">var</span> next;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.active) {
                <span class="hljs-keyword">if</span> (direction === <span class="hljs-string">"first"</span> || direction === <span class="hljs-string">"last"</span>) {
                    next = <span class="hljs-keyword">this</span>.active[direction === <span class="hljs-string">"first"</span> ? <span class="hljs-string">"prevAll"</span> : <span class="hljs-string">"nextAll"</span>](<span class="hljs-string">".ui-menu-item"</span>)
                        .eq(<span class="hljs-number">-1</span>);
                } <span class="hljs-keyword">else</span> {
                    next = <span class="hljs-keyword">this</span>.active[direction + <span class="hljs-string">"All"</span>](<span class="hljs-string">".ui-menu-item"</span>)
                        .eq(<span class="hljs-number">0</span>);
                }
            }
            <span class="hljs-keyword">if</span> (!next || !next.length || !<span class="hljs-keyword">this</span>.active) {
                next = <span class="hljs-keyword">this</span>.activeMenu.children(<span class="hljs-string">".ui-menu-item"</span>)[filter]();
            }
            <span class="hljs-keyword">this</span>.focus(event, next);
        },
        <span class="hljs-attr">nextPage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> item, base, height;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active) {
                <span class="hljs-keyword">this</span>.next(event);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isLastItem()) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._hasScroll()) {
                base = <span class="hljs-keyword">this</span>.active.offset().top;
                height = <span class="hljs-keyword">this</span>.element.height();
                <span class="hljs-keyword">this</span>.active.nextAll(<span class="hljs-string">".ui-menu-item"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    item = $(<span class="hljs-keyword">this</span>);
                    <span class="hljs-keyword">return</span> item.offset().top - base - height &lt; <span class="hljs-number">0</span>;
                });
                <span class="hljs-keyword">this</span>.focus(event, item);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.focus(event, <span class="hljs-keyword">this</span>.activeMenu.children(<span class="hljs-string">".ui-menu-item"</span>)[!<span class="hljs-keyword">this</span>.active ? <span class="hljs-string">"first"</span> : <span class="hljs-string">"last"</span>]());
            }
        },
        <span class="hljs-attr">previousPage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">var</span> item, base, height;
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active) {
                <span class="hljs-keyword">this</span>.next(event);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.isFirstItem()) {
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>._hasScroll()) {
                base = <span class="hljs-keyword">this</span>.active.offset().top;
                height = <span class="hljs-keyword">this</span>.element.height();
                <span class="hljs-keyword">this</span>.active.prevAll(<span class="hljs-string">".ui-menu-item"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    item = $(<span class="hljs-keyword">this</span>);
                    <span class="hljs-keyword">return</span> item.offset().top - base + height &gt; <span class="hljs-number">0</span>;
                });
                <span class="hljs-keyword">this</span>.focus(event, item);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">this</span>.focus(event, <span class="hljs-keyword">this</span>.activeMenu.children(<span class="hljs-string">".ui-menu-item"</span>).first());
            }
        },
        <span class="hljs-attr">_hasScroll</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.element.outerHeight() &lt; <span class="hljs-keyword">this</span>.element.prop(<span class="hljs-string">"scrollHeight"</span>);
        },
        <span class="hljs-attr">select</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
            <span class="hljs-keyword">this</span>.active = <span class="hljs-keyword">this</span>.active || $(event.target).closest(<span class="hljs-string">".ui-menu-item"</span>);
            <span class="hljs-keyword">var</span> ui = {
                <span class="hljs-attr">item</span>: <span class="hljs-keyword">this</span>.active
            };
            <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.active.has(<span class="hljs-string">".ui-menu"</span>).length) {
                <span class="hljs-keyword">this</span>.collapseAll(event, <span class="hljs-literal">true</span>);
            }
            <span class="hljs-keyword">this</span>._trigger(<span class="hljs-string">"select"</span>, event, ui);
        }
    });
}(jQuery));;
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/html_class_setter.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.htmlClassSetterInitialized)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-built_in">window</span>.NOW.htmlClassSetterInitialized = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> df = <span class="hljs-built_in">window</span>.NOW.dateFormat;
    <span class="hljs-keyword">var</span> shortDateFormat = <span class="hljs-built_in">window</span>.NOW.shortDateFormat;
    <span class="hljs-keyword">var</span> $h = $j(<span class="hljs-string">'HTML'</span>);
    $j(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!df)
            <span class="hljs-keyword">return</span>;
        CustomEvent.observe(<span class="hljs-string">'timeago_set'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">timeAgo</span>) </span>{
            df.timeAgo = timeAgo;
            df.dateBoth = <span class="hljs-literal">false</span>;
            setDateClass();
        });
        CustomEvent.observe(<span class="hljs-string">'shortdates_set'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
            shortDateFormat = trueFalse;
            setDateClass();
        });
        CustomEvent.observe(<span class="hljs-string">'date_both'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
            df.dateBoth = trueFalse;
            df.timeAgo = <span class="hljs-literal">false</span>;
            setDateClass();
        })
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setDateClass</span>(<span class="hljs-params"></span>) </span>{
        $h.removeClass(<span class="hljs-string">'date-timeago'</span>);
        $h.removeClass(<span class="hljs-string">'date-calendar'</span>);
        $h.removeClass(<span class="hljs-string">'date-calendar-short'</span>);
        $h.removeClass(<span class="hljs-string">'date-both'</span>);
        <span class="hljs-keyword">if</span> (df.dateBoth) {
            $h.addClass(<span class="hljs-string">'date-both'</span>);
            <span class="hljs-keyword">if</span> (shortDateFormat)
                $h.addClass(<span class="hljs-string">'date-calendar-short'</span>);
            <span class="hljs-keyword">else</span>
                $h.addClass(<span class="hljs-string">'date-calendar'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (df.timeAgo)
            $h.addClass(<span class="hljs-string">'date-timeago'</span>);
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (shortDateFormat)
                $h.addClass(<span class="hljs-string">'date-calendar-short'</span>);
            <span class="hljs-keyword">else</span>
                $h.addClass(<span class="hljs-string">'date-calendar'</span>);
        }
    }
    setDateClass();
    <span class="hljs-keyword">var</span> toggleTemplate = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
        <span class="hljs-keyword">var</span> bool = (<span class="hljs-keyword">typeof</span> trueFalse !== <span class="hljs-string">"undefined"</span>) ? trueFalse : !<span class="hljs-built_in">window</span>.NOW.templateToggle;
        <span class="hljs-built_in">window</span>.NOW.templateToggle = bool;
        setPreference(<span class="hljs-string">'glide.ui.templateToggle'</span>, bool);
        setTemplateToggle();
        <span class="hljs-keyword">if</span> (CustomEvent.events.templateToggle.length &gt; <span class="hljs-number">1</span>)
            CustomEvent.un(<span class="hljs-string">'templateToggle'</span>, toggleTemplate);
    };
    CustomEvent.observe(<span class="hljs-string">'templateToggle'</span>, toggleTemplate);
    CustomEvent.observe(<span class="hljs-string">'compact'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
        <span class="hljs-built_in">window</span>.NOW.compact = trueFalse;
        setCompact();
    });
    CustomEvent.observe(<span class="hljs-string">'cc_listv3_tablerow_striped'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">bool</span>) </span>{
        <span class="hljs-keyword">if</span> (bool) {
            $j(<span class="hljs-string">'.table-container table.list-grid'</span>).addClass(<span class="hljs-string">'table-striped'</span>);
        } <span class="hljs-keyword">else</span> {
            $j(<span class="hljs-string">'.table-container table.list-grid'</span>).removeClass(<span class="hljs-string">'table-striped'</span>);
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTemplateToggle</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.templateToggle)
            $h.addClass(<span class="hljs-string">'templates'</span>);
        <span class="hljs-keyword">else</span>
            $h.removeClass(<span class="hljs-string">'templates'</span>);
    }
    setTemplateToggle();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCompact</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> modalDiv = <span class="hljs-built_in">window</span>.top.document.getElementById(<span class="hljs-string">"settings_modal"</span>);
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">if</span> (modalDiv)
            modalDiv = modalDiv.childNodes[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> $pH;
        <span class="hljs-keyword">if</span> (parent.$j)
            $pH = parent.$j(<span class="hljs-string">'HTML'</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.compact) {
            $h.addClass(<span class="hljs-string">'compact'</span>);
            <span class="hljs-keyword">if</span> ($pH)
                $pH.addClass(<span class="hljs-string">'compact'</span>);
            <span class="hljs-keyword">if</span> (modalDiv &amp;&amp; modalDiv.className.indexOf(<span class="hljs-string">' compact'</span>) == <span class="hljs-number">-1</span>)
                modalDiv.className += <span class="hljs-string">' compact'</span>;
        } <span class="hljs-keyword">else</span> {
            $h.removeClass(<span class="hljs-string">'compact'</span>);
            <span class="hljs-keyword">if</span> ($pH)
                $pH.removeClass(<span class="hljs-string">'compact'</span>);
            <span class="hljs-keyword">if</span> (modalDiv &amp;&amp; modalDiv.className.indexOf(<span class="hljs-string">' compact'</span>) &gt; <span class="hljs-number">-1</span>)
                modalDiv.className = modalDiv.className.replace(<span class="hljs-string">" compact"</span>, <span class="hljs-string">""</span>);
        }
    }
    setCompact();
    CustomEvent.observe(<span class="hljs-string">'tabbed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
        <span class="hljs-built_in">window</span>.NOW.tabbed = trueFalse;
        setTabbed();
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTabbed</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.tabbed)
            $h.addClass(<span class="hljs-string">'tabbed'</span>);
        <span class="hljs-keyword">else</span>
            $h.removeClass(<span class="hljs-string">'tabbed'</span>);
    }
    setTabbed();

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setListTableWrap</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.listTableWrap)
            $j(<span class="hljs-string">'HTML'</span>).removeClass(<span class="hljs-string">'list-nowrap-whitespace'</span>);
        <span class="hljs-keyword">else</span>
            $j(<span class="hljs-string">'HTML'</span>).addClass(<span class="hljs-string">'list-nowrap-whitespace'</span>);
    }
    setListTableWrap();
    CustomEvent.observe(<span class="hljs-string">'table_wrap'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">trueFalse</span>) </span>{
        <span class="hljs-built_in">window</span>.NOW.listTableWrap = trueFalse;
        setListTableWrap();
        CustomEvent.fire(<span class="hljs-string">'calculate_fixed_headers'</span>);
    });
})();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printList</span>(<span class="hljs-params">maxRows</span>) </span>{
    <span class="hljs-keyword">var</span> mainWin = getMainWindow();
    <span class="hljs-keyword">if</span> (mainWin &amp;&amp; mainWin.CustomEvent &amp;&amp; mainWin.CustomEvent.fire &amp;&amp; mainWin.CustomEvent.fire(<span class="hljs-string">"print"</span>, maxRows) === <span class="hljs-literal">false</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> veryLargeNumber = <span class="hljs-string">"999999999"</span>;
    <span class="hljs-keyword">var</span> print = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> features = <span class="hljs-string">"resizable=yes,scrollbars=yes,status=yes,toolbar=no,menubar=yes,location=no"</span>;
    <span class="hljs-keyword">if</span> (isChrome &amp;&amp; isMacintosh)
        features = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> href = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">var</span> frame = top.gsft_main;
    <span class="hljs-keyword">if</span> (!frame)
        frame = top;
    <span class="hljs-keyword">if</span> (frame.document.getElementById(<span class="hljs-string">"printURL"</span>) != <span class="hljs-literal">null</span>) {
        href = frame.document.getElementById(<span class="hljs-string">"printURL"</span>).value;
        href = printListURLDecode(href);
    }
    <span class="hljs-keyword">if</span> (!href) {
        <span class="hljs-keyword">if</span> (frame.document.getElementById(<span class="hljs-string">"sysparm_total_rows"</span>) != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> mRows = <span class="hljs-built_in">parseInt</span>(maxRows);
            <span class="hljs-keyword">if</span> (mRows &lt; <span class="hljs-number">1</span>)
                mRows = <span class="hljs-number">5000</span>;
            <span class="hljs-keyword">var</span> totalrows = frame.document.getElementById(<span class="hljs-string">"sysparm_total_rows"</span>).value;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">parseInt</span>(totalrows) &gt; <span class="hljs-built_in">parseInt</span>(mRows))
                print = confirm(getMessage(<span class="hljs-string">"Printing large lists may affect system performance. Continue?"</span>));
        }
        <span class="hljs-keyword">var</span> formTest;
        <span class="hljs-keyword">var</span> f = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">var</span> form;
        <span class="hljs-keyword">while</span> ((formTest = frame.document.forms[f++])) {
            <span class="hljs-keyword">if</span> (formTest.id == <span class="hljs-string">'sys_personalize_ajax'</span>) {
                form = formTest;
                <span class="hljs-keyword">break</span>;
            }
        }
        <span class="hljs-keyword">if</span> (!form)
            form = frame.document.forms[<span class="hljs-string">'sys_personalize'</span>];
        <span class="hljs-keyword">if</span> (form &amp;&amp; form.sysparm_referring_url) {
            href = form.sysparm_referring_url.value;
            <span class="hljs-keyword">if</span> (href.indexOf(<span class="hljs-string">"?sys_id=-1"</span>) != <span class="hljs-number">-1</span> &amp;&amp; !href.startsWith(<span class="hljs-string">'sys_report_template'</span>)) {
                alert(getMessage(<span class="hljs-string">"Please save the current form before printing."</span>));
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">if</span> (isMSIE) {
                <span class="hljs-keyword">var</span> isFormPage = frame.document.getElementById(<span class="hljs-string">"isFormPage"</span>);
                <span class="hljs-keyword">if</span> (isFormPage != <span class="hljs-literal">null</span> &amp;&amp; isFormPage.value == <span class="hljs-string">"true"</span>)
                    href = href.replace(<span class="hljs-regexp">/javascript%3A/gi</span>, <span class="hljs-string">"_javascript_%3A"</span>);
            }
            href = printListURLDecode(href);
        } <span class="hljs-keyword">else</span>
            href = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"gsft_main"</span>).contentWindow.location.href;
    }
    <span class="hljs-keyword">if</span> (href.indexOf(<span class="hljs-string">"?"</span>) &lt; <span class="hljs-number">0</span>)
        href += <span class="hljs-string">"?"</span>;
    <span class="hljs-keyword">else</span>
        href += <span class="hljs-string">"&amp;"</span>;
    href = href.replace(<span class="hljs-string">"partial_page="</span>, <span class="hljs-string">"syshint_unimportant="</span>);
    href = href.replace(<span class="hljs-string">"sysparm_media="</span>, <span class="hljs-string">"syshint_unimportant="</span>);
    href += <span class="hljs-string">"sysparm_stack=no&amp;sysparm_force_row_count="</span> + veryLargeNumber + <span class="hljs-string">"&amp;sysparm_media=print"</span>;
    <span class="hljs-keyword">if</span> (print) {
        <span class="hljs-keyword">if</span> (href != <span class="hljs-literal">null</span> &amp;&amp; href != <span class="hljs-string">""</span>) {
            win = <span class="hljs-built_in">window</span>.open(href, <span class="hljs-string">"Printer_friendly_format"</span>, features);
            win.focus();
        } <span class="hljs-keyword">else</span> {
            alert(<span class="hljs-string">"Nothing to print"</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printListURLDecode</span>(<span class="hljs-params">href</span>) </span>{
        href = href.replace(<span class="hljs-regexp">/@99@/g</span>, <span class="hljs-string">"&amp;"</span>);
        href = href.replace(<span class="hljs-regexp">/@88@/g</span>, <span class="hljs-string">"@99@"</span>);
        href = href.replace(<span class="hljs-regexp">/@77@/g</span>, <span class="hljs-string">"@88@"</span>);
        href = href.replace(<span class="hljs-regexp">/@66@/g</span>, <span class="hljs-string">"@77@"</span>);
        <span class="hljs-keyword">return</span> href;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCacheSniperly</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> aj = <span class="hljs-keyword">new</span> GlideAjax(<span class="hljs-string">"GlideSystemAjax"</span>);
    aj.addParam(<span class="hljs-string">"sysparm_name"</span>, <span class="hljs-string">"cacheFlush"</span>);
    aj.getXML(clearCacheDone);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCacheDone</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">window</span>.status = <span class="hljs-string">"Cache flushed"</span>;
};
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/floating_scrollbar.min.js */</span>
! <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">t</span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">o</span>(<span class="hljs-params">t</span>) </span>{
        b.toggle(!!t)
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params"></span>) </span>{
        s &amp;&amp; b.scrollLeft(s.scrollLeft())
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> t = $j(<span class="hljs-string">".navbar-fixed-bottom"</span>);
        <span class="hljs-keyword">return</span> t.length &amp;&amp; <span class="hljs-built_in">window</span>.NOW.templateToggle ? t.outerHeight() : <span class="hljs-number">0</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (c = s, s = <span class="hljs-literal">null</span>, v.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> o = t(<span class="hljs-keyword">this</span>).offset().top,
                    e = o + t(<span class="hljs-keyword">this</span>).height(),
                    n = h.height();
                <span class="hljs-keyword">return</span> n &gt; o + u &amp;&amp; e &gt; n ? (s = t(<span class="hljs-keyword">this</span>), !<span class="hljs-number">1</span>) : <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>
            }), !s) <span class="hljs-keyword">return</span> <span class="hljs-keyword">void</span> o();
        <span class="hljs-keyword">var</span> i = s.scrollLeft(),
            l = s.scrollLeft(<span class="hljs-number">90019001</span>).scrollLeft(),
            r = s.innerWidth(),
            a = r + l;
        <span class="hljs-keyword">return</span> s.scrollLeft(i), r &gt;= a ? <span class="hljs-keyword">void</span> o() : (o(!<span class="hljs-number">0</span>), c &amp;&amp; c[<span class="hljs-number">0</span>] === s[<span class="hljs-number">0</span>] || (c &amp;&amp; (c[<span class="hljs-number">0</span>].onscroll = <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>), s[<span class="hljs-number">0</span>].onscroll = e, s.after(b)), b.css({
            <span class="hljs-attr">left</span>: s.offset().left - f.scrollLeft(),
            <span class="hljs-attr">width</span>: r,
            <span class="hljs-attr">bottom</span>: n()
        }).scrollLeft(i), <span class="hljs-keyword">void</span> g.width(a))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">l</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> o = t(<span class="hljs-string">".custom-form-group"</span>);
        o.length &amp;&amp; (a || (f = t(<span class="hljs-string">".section_header_content_no_scroll"</span>), o.floatingScrollbar(), a = !<span class="hljs-number">0</span>))
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">r</span>(<span class="hljs-params">t, o, e</span>) </span>{
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">n</span>(<span class="hljs-params"></span>) </span>{
            clearTimeout(r), r = setTimeout(i.bind(<span class="hljs-literal">null</span>, <span class="hljs-built_in">arguments</span>), s)
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">i</span>(<span class="hljs-params">o, e, n</span>) </span>{
            l = o, t.apply(e, n)
        }
        <span class="hljs-keyword">var</span> l, r, s = o || <span class="hljs-number">100</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> t = e || <span class="hljs-keyword">this</span>,
                o = +<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>,
                r = <span class="hljs-built_in">arguments</span>;
            l &amp;&amp; l + s &gt; o ? n(o, t, r) : i(o, t, r)
        }
    }
    <span class="hljs-keyword">if</span> (!isMSIE9 &amp;&amp; <span class="hljs-built_in">window</span>.NOW.floatingScrollbars) {
        <span class="hljs-keyword">var</span> s, c, f, a, d = <span class="hljs-number">30</span>,
            u = <span class="hljs-number">30</span>,
            h = t(<span class="hljs-keyword">this</span>),
            v = t([]),
            b = t(<span class="hljs-string">'&lt;div id="floating-scrollbar"&gt;&lt;div/&gt;&lt;/div&gt;'</span>),
            g = b.children();
        b.hide().css({
            <span class="hljs-attr">position</span>: <span class="hljs-string">"fixed"</span>,
            <span class="hljs-attr">bottom</span>: n(),
            <span class="hljs-attr">height</span>: <span class="hljs-string">"30px"</span>,
            <span class="hljs-string">"overflow-x"</span>: <span class="hljs-string">"auto"</span>,
            <span class="hljs-string">"overflow-y"</span>: <span class="hljs-string">"hidden"</span>
        }).scroll(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            s &amp;&amp; s.scrollLeft(b.scrollLeft())
        }), g.css({
            <span class="hljs-attr">border</span>: <span class="hljs-string">"1px solid #fff"</span>,
            <span class="hljs-attr">opacity</span>: <span class="hljs-number">.01</span>
        }), t.fn.floatingScrollbar = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">o</span>) </span>{
            o === !<span class="hljs-number">1</span> ? (v = v.not(<span class="hljs-keyword">this</span>), <span class="hljs-keyword">this</span>.unbind(<span class="hljs-string">"scroll"</span>, e), v.length || (b.detach(), h.unbind(<span class="hljs-string">"resize"</span>, i), f.unbind(<span class="hljs-string">"scroll"</span>, i))) : <span class="hljs-keyword">this</span>.length &amp;&amp; (v = v.add(<span class="hljs-keyword">this</span>), isChrome &amp;&amp; v.each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                t(<span class="hljs-keyword">this</span>).css({
                    <span class="hljs-string">"-webkit-transform"</span>: <span class="hljs-string">"translate3d(0,0,0)"</span>
                })
            })), h.bind(<span class="hljs-string">"resize"</span>, r(i, d)), f.bind(<span class="hljs-string">"scroll"</span>, r(i, d)), i()
        }, CustomEvent.observe(<span class="hljs-string">"list.loaded"</span>, l), CustomEvent.observe(<span class="hljs-string">"tab.activated"</span>, i), CustomEvent.observe(<span class="hljs-string">"partial.page.reload"</span>, l), CustomEvent.observe(<span class="hljs-string">"related_lists.render"</span>, l), CustomEvent.observe(<span class="hljs-string">"templateToggle"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            b.css({
                <span class="hljs-attr">bottom</span>: n()
            })
        })
    }
}(jQuery);
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/page_title.js */</span>
$j(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
    <span class="hljs-keyword">var</span> title = $(<span class="hljs-string">'[data-form-title]'</span>).first().attr(<span class="hljs-string">'data-form-title'</span>);
    <span class="hljs-keyword">if</span> (!title || title == <span class="hljs-string">"null"</span>)
        title = $(<span class="hljs-string">".tabs2_section"</span>).first().attr(<span class="hljs-string">'tab_caption'</span>);
    <span class="hljs-keyword">if</span> (!title || title == <span class="hljs-string">"null"</span>)
        title = $(<span class="hljs-string">'.list_title'</span>).first().text();
    <span class="hljs-keyword">if</span> (!title || title == <span class="hljs-string">"null"</span>)
        <span class="hljs-keyword">return</span>;
    <span class="hljs-built_in">document</span>.title = title + <span class="hljs-string">' | '</span> + <span class="hljs-built_in">document</span>.title;
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/responsive_form_header.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
    <span class="hljs-keyword">var</span> cache = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> MIN_HEADER_HEIGHT = <span class="hljs-number">60</span>;
    <span class="hljs-keyword">var</span> DEFAULT_TIMEOUT_IN_MS = <span class="hljs-number">100</span>;
    addLoadEvent(initializeFormHeader);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializeFormHeader</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'.section_header_div_no_scroll'</span>).length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span>;
        }
        setupCache();
        CustomEvent.observe(<span class="hljs-string">"frame.resized"</span>, adjustFormHeaderElements);
        Event.observe(<span class="hljs-built_in">window</span>, <span class="hljs-string">"resize"</span>, debounceAdjustFormHeaderElements);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">adjustFormHeaderElements</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!cache.hasLoaded &amp;&amp; cache.$header.height() &lt; MIN_HEADER_HEIGHT) {
            cache.hasLoaded = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">return</span>;
        }
        recalculateDynamicHeaderElements();
        fitUiActions();
        cache.$content.css({
            <span class="hljs-attr">height</span>: cache.$<span class="hljs-built_in">window</span>.innerHeight() - cache.$header.height()
        });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">debounceAdjustFormHeaderElements</span>(<span class="hljs-params"></span>) </span>{
        clearTimeout(cache.timeout);
        cache.timeout = setTimeout(adjustFormHeaderElements, DEFAULT_TIMEOUT_IN_MS);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setupCache</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (cache == <span class="hljs-literal">null</span>) {
            cache = {};
            cache.timeout = <span class="hljs-literal">null</span>;
            cache.hasLoaded = <span class="hljs-literal">false</span>;
            cache.$<span class="hljs-built_in">window</span> = $(<span class="hljs-built_in">window</span>);
            cache.$header = $(<span class="hljs-string">'.section_header_div_no_scroll'</span>);
            cache.$content = $(<span class="hljs-string">'.section_header_content_no_scroll'</span>);
            cache.$spacer = $(<span class="hljs-string">'div[data-position-below-header="true"]'</span>);
            cache.$navbar = $(<span class="hljs-string">'nav.navbar-default:first'</span>);
            cache.$primaryContainer = cache.$navbar.find(<span class="hljs-string">'.ui_action_container_primary'</span>);
            cache.$overflowContainer = cache.$navbar.find(<span class="hljs-string">'.ui_action_container_overflow'</span>);
            cache.$uiActionContainer = cache.$primaryContainer.children(<span class="hljs-number">0</span>);
            cache.$navbarDisplayValueElement = cache.$navbar.find(<span class="hljs-string">'.navbar-header:first .navbar-title-display-value'</span>);
            cache.uiActionWidth = cache.$uiActionContainer.width();
            cache.navbarRightWidth = cache.$navbar.find(<span class="hljs-string">'.navbar-right:first'</span>).width() - cache.uiActionWidth;
            cache.navbarTitleCaption = cache.$navbar.find(<span class="hljs-string">'.navbar-header:first .navbar-title-caption'</span>).width();
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">recalculateDynamicHeaderElements</span>(<span class="hljs-params"></span>) </span>{
        cache.navbarHeaderWidth = cache.$navbar.find(<span class="hljs-string">'.navbar-header:first'</span>).width();
        cache.navbarDisplayWidth = cache.$navbar.find(<span class="hljs-string">'.navbar-header:first .navbar-title-display-value'</span>).width();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fitUiActions</span>(<span class="hljs-params"></span>) </span>{
        cache.$navbarDisplayValueElement.css(<span class="hljs-string">'max-width'</span>, <span class="hljs-string">''</span>);
        recalculateDynamicHeaderElements();
        <span class="hljs-keyword">var</span> navbarWidth = cache.$navbar.width();
        <span class="hljs-keyword">var</span> headerSize = cache.navbarHeaderWidth + cache.navbarRightWidth + cache.uiActionWidth;
        <span class="hljs-keyword">if</span> ((cache.navbarHeaderWidth + cache.navbarRightWidth) &gt; cache.$<span class="hljs-built_in">window</span>.width()) {
            <span class="hljs-keyword">var</span> maxWidth = cache.navbarDisplayWidth - (cache.navbarHeaderWidth - cache.$<span class="hljs-built_in">window</span>.width) - <span class="hljs-number">20</span>;
            <span class="hljs-keyword">if</span> (navbarWidth &gt; headerSize - cache.navbarDisplayWidth) {
                maxWidth -= cache.navbarRightWidth + cache.uiActionWidth;
            }
            cache.$navbarDisplayValueElement.css(<span class="hljs-string">'max-width'</span>, <span class="hljs-built_in">Math</span>.max(maxWidth, cache.navbarTitleCaption));
            navbarWidth = cache.$navbar.width();
            recalculateDynamicHeaderElements();
        }
        headerSize = cache.navbarHeaderWidth + cache.navbarRightWidth + cache.uiActionWidth;
        <span class="hljs-keyword">if</span> (headerSize &gt; navbarWidth) {
            <span class="hljs-keyword">if</span> (cache.$uiActionContainer.parent().get(<span class="hljs-number">0</span>) === cache.$primaryContainer.get(<span class="hljs-number">0</span>)) {
                cache.$overflowContainer.append(cache.$uiActionContainer.detach());
            }
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cache.$uiActionContainer.parent().get(<span class="hljs-number">0</span>) === cache.$overflowContainer.get(<span class="hljs-number">0</span>)) {
            cache.$primaryContainer.append(cache.$uiActionContainer.detach());
        }
    }
})(jQuery);;
<span class="hljs-comment">/*! RESOURCE: /scripts/classes/doctype/streamButton.js */</span>
$j(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$</span>) </span>{
<span class="hljs-meta">    "use strict"</span>;
    <span class="hljs-keyword">var</span> closeButtonPadding = <span class="hljs-number">32</span>;
    <span class="hljs-keyword">var</span> isOpen = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> wrapperSelector = <span class="hljs-string">'.list_wrap_n_scroll'</span>;
    $(<span class="hljs-string">'.list_stream_button'</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        $(<span class="hljs-string">'.list_stream_button'</span>).attr(<span class="hljs-string">"aria-expanded"</span>, !isOpen);
        <span class="hljs-keyword">if</span> (!isOpen) {
            isOpen = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> table = $(<span class="hljs-string">'table.list_table[data-list_id]'</span>);
            <span class="hljs-keyword">var</span> listid = table.attr(<span class="hljs-string">'data-list_id'</span>);
            <span class="hljs-keyword">var</span> query = table.attr(<span class="hljs-string">'query'</span>);
            query = <span class="hljs-built_in">encodeURIComponent</span>(query);
            <span class="hljs-keyword">var</span> url = <span class="hljs-string">"$stream.do?sysparm_table="</span> + listid + <span class="hljs-string">"&amp;sysparm_nostack=yes&amp;sysparm_query="</span> + query;
            <span class="hljs-keyword">var</span> target = <span class="hljs-string">'parent'</span>;
            <span class="hljs-keyword">if</span> (shouldUseFormPane())
                target = <span class="hljs-string">'form_pane'</span>;
            url += <span class="hljs-string">"&amp;sysparm_link_target="</span> + target;
            createStreamReader(url);
        } <span class="hljs-keyword">else</span> {
            isOpen = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">var</span> $readerDiv = $(<span class="hljs-string">'.list_stream_reader'</span>);
            closeStreamReader($readerDiv);
        }
    });
    $(<span class="hljs-built_in">document</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'.form_stream_button'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> url = <span class="hljs-string">"$stream.do?sysparm_table="</span> + g_form.getTableName();
        url += <span class="hljs-string">"&amp;sysparm_sys_id="</span> + g_form.getUniqueValue();
        url += <span class="hljs-string">"&amp;sysparm_stack=no"</span>;
        createStreamReader(url);
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">shouldUseFormPane</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (self == top)
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.top.g_navManager)
                <span class="hljs-keyword">return</span> !!<span class="hljs-built_in">window</span>.top.g_navManager.options.formTarget;
        } <span class="hljs-keyword">catch</span> (e) {}
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createStreamReader</span>(<span class="hljs-params">url</span>) </span>{
        <span class="hljs-keyword">if</span> ($(<span class="hljs-string">'.list_stream_reader'</span>).length)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> frame = <span class="hljs-string">'	&lt;iframe src="'</span> + url + <span class="hljs-string">'" id="list_stream_reader_frame"&gt;&lt;/iframe&gt;'</span>;
        <span class="hljs-keyword">var</span> $div = $(<span class="hljs-string">'&lt;div class="list_stream_reader" role="region" aria-labelledby="stream_header"&gt;'</span> +
            <span class="hljs-string">'&lt;div class="list_stream_plank_header" role="heading"&gt;'</span> +
            <span class="hljs-string">'&lt;span class="list_stream_reader_close"&gt;&lt;button id="list_stream_reader_close_button" aria-label="'</span> + getMessage(<span class="hljs-string">'Close Activity Stream'</span>) + <span class="hljs-string">'" class="plank_close_button icon-double-chevron-right"&gt;&lt;/button&gt;&lt;/span&gt;&lt;h4 id="stream_header"&gt;'</span> + getMessage(<span class="hljs-string">'Activity Stream'</span>) + <span class="hljs-string">'&lt;/h4&gt;'</span> +
            <span class="hljs-string">'&lt;/div&gt;'</span> +
            frame +
            <span class="hljs-string">'&lt;/div&gt;'</span>);
        $(<span class="hljs-string">'body'</span>).append($div);
        $(<span class="hljs-string">'#list_stream_reader_frame'</span>).bind(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (NOW.compact) {
                $(<span class="hljs-keyword">this</span>).contents().find(<span class="hljs-string">'html'</span>).addClass(<span class="hljs-string">'compact'</span>);
            }
            CustomEvent.observe(<span class="hljs-string">'compact'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue</span>) </span>{
                <span class="hljs-keyword">var</span> method = newValue ? <span class="hljs-string">'addClass'</span> : <span class="hljs-string">'removeClass'</span>;
                $(<span class="hljs-string">'#list_stream_reader_frame'</span>).contents()
                    .find(<span class="hljs-string">'html'</span>)[method](<span class="hljs-string">'compact'</span>);
            })
        });
        $(<span class="hljs-string">'#list_stream_reader_close_button'</span>)[<span class="hljs-number">0</span>].focus();
        resizeStreamReader($div);
        $(<span class="hljs-built_in">window</span>).bind(<span class="hljs-string">'resize.streamreader'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            unfreezeTableWidth();
            <span class="hljs-keyword">if</span> ($div.parent().length === <span class="hljs-number">0</span>) {
                $(<span class="hljs-built_in">window</span>).unbind(<span class="hljs-string">'resize.streamreader'</span>);
                <span class="hljs-keyword">return</span>;
            }
            resizeStreamReader($div);
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setListWrapperStyles</span>(<span class="hljs-params">stylesObject</span>) </span>{
        <span class="hljs-keyword">var</span> $listWrapper = $(wrapperSelector);
        <span class="hljs-keyword">if</span> ($listWrapper.length === <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span>;
        }
        $listWrapper.closest(<span class="hljs-string">'body'</span>).css(stylesObject);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resizeStreamReader</span>(<span class="hljs-params">$div</span>) </span>{
        freezeTableWidth();
        <span class="hljs-keyword">var</span> width = $div.outerWidth() + closeButtonPadding;
        <span class="hljs-keyword">var</span> listWrapperStyles = {
            <span class="hljs-string">'padding-right'</span>: width,
            <span class="hljs-string">'position'</span>: <span class="hljs-string">'absolute'</span>
        };
        setListWrapperStyles(listWrapperStyles);
        <span class="hljs-keyword">var</span> top = <span class="hljs-number">50</span>;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> g_form == <span class="hljs-string">'undefined'</span>)
            top = $(<span class="hljs-string">'.list_nav_spacer'</span>).offset().top;
        <span class="hljs-keyword">else</span>
            top = $(<span class="hljs-string">'.section_header_content_no_scroll'</span>).offset().top;
        $div.css(<span class="hljs-string">'top'</span>, top);
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"ontouchstart"</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">window</span>) {
            $div.css(<span class="hljs-string">'absolute'</span>);
            <span class="hljs-built_in">window</span>.scrollTo(<span class="hljs-number">0</span>, top);
        }
    }
    $(<span class="hljs-string">'body'</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-string">'.list_stream_reader_close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        isOpen = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> $readerDiv = $(<span class="hljs-keyword">this</span>).closest(<span class="hljs-string">'.list_stream_reader'</span>);
        closeStreamReader($readerDiv);
        <span class="hljs-keyword">var</span> streamButton = $(<span class="hljs-string">'.list_stream_button'</span>);
        <span class="hljs-keyword">if</span> (streamButton.length &gt; <span class="hljs-number">0</span>) {
            streamButton.attr(<span class="hljs-string">"aria-expanded"</span>, isOpen);
            streamButton.focus();
        }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeStreamReader</span>(<span class="hljs-params">$readerDiv</span>) </span>{
        unfreezeTableWidth();
        $readerDiv.remove();
        <span class="hljs-keyword">var</span> listWrapperStyles = {
            <span class="hljs-string">'position'</span>: <span class="hljs-string">''</span>,
            <span class="hljs-string">'padding-right'</span>: <span class="hljs-number">0</span>
        };
        setListWrapperStyles(listWrapperStyles);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">freezeTableWidth</span>(<span class="hljs-params"></span>) </span>{
        $(<span class="hljs-string">'table.list_table'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, el</span>) </span>{
            <span class="hljs-keyword">var</span> $el = $(el);
            <span class="hljs-keyword">var</span> width = $el.width();
            $el.css(<span class="hljs-string">'width'</span>, width);
        })
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unfreezeTableWidth</span>(<span class="hljs-params"></span>) </span>{
        $(<span class="hljs-string">'table.list_table'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">index, el</span>) </span>{
            $(el).css(<span class="hljs-string">'width'</span>, <span class="hljs-string">''</span>);
        })
    }
});;
<span class="hljs-comment">/*! RESOURCE: /scripts/js_includes_weba.js */</span>
<span class="hljs-comment">/*! RESOURCE: /scripts/doctype/GlideWebAnalytics.js */</span>
<span class="hljs-keyword">var</span> GlideWebAnalytics = (<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subscribe</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> webaChannelId = <span class="hljs-string">"/weba/config"</span>;
        <span class="hljs-keyword">var</span> webaCh = <span class="hljs-built_in">window</span>.amb.getClient().getChannel(webaChannelId);
        webaCh.subscribe(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.NOW.webaConfig == <span class="hljs-literal">undefined</span>)
                <span class="hljs-built_in">window</span>.NOW.webaConfig = {};
            <span class="hljs-keyword">var</span> oldConfig = {
                <span class="hljs-attr">siteId</span>: <span class="hljs-built_in">window</span>.NOW.webaConfig.siteId,
                <span class="hljs-attr">trackerURL</span>: <span class="hljs-built_in">window</span>.NOW.webaConfig.trackerURL
            };
            <span class="hljs-built_in">window</span>.NOW.webaConfig.siteId = response.data.weba_site_id;
            <span class="hljs-built_in">window</span>.NOW.webaConfig.trackerURL = response.data.weba_rx_url;
            handleConfigUpdate(oldConfig, <span class="hljs-built_in">window</span>.NOW.webaConfig);
        });
        <span class="hljs-built_in">window</span>.amb.getClient().connect();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleConfigUpdate</span>(<span class="hljs-params">oldConfig, newConfig</span>) </span>{
        <span class="hljs-keyword">if</span> (newConfig.siteId == <span class="hljs-string">"0"</span>)
            removeTracker();
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldConfig.siteId != <span class="hljs-string">"0"</span> &amp;&amp; oldConfig.siteId != newConfig.siteId)
            updateTracker(oldConfig, newConfig);
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (oldConfig.siteId == <span class="hljs-literal">undefined</span> || oldConfig.siteId == <span class="hljs-string">"0"</span>)
            insertTracker(newConfig);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeTracker</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!trackerExists())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> <span class="hljs-built_in">document</span> = <span class="hljs-built_in">window</span>.document;
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> trackerScriptId = <span class="hljs-string">"weba"</span>;
        <span class="hljs-keyword">var</span> trackEle = <span class="hljs-built_in">document</span>.getElementById(trackerScriptId);
        head.removeChild(trackEle);
        <span class="hljs-keyword">var</span> asyncTrackEle = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'webaScript'</span>);
        <span class="hljs-keyword">if</span> (asyncTrackEle == <span class="hljs-literal">undefined</span>)
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> src = asyncTrackEle.src;
        <span class="hljs-keyword">if</span> (src != <span class="hljs-literal">undefined</span> &amp;&amp; src.indexOf(<span class="hljs-string">"piwik"</span>) &gt; <span class="hljs-number">0</span>)
            head.removeChild(asyncTrackEle);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateTracker</span>(<span class="hljs-params">oldConfig, newConfig</span>) </span>{
        <span class="hljs-keyword">var</span> trackerScriptId = <span class="hljs-string">"weba"</span>;
        <span class="hljs-keyword">var</span> trackEle = <span class="hljs-built_in">window</span>.document.getElementById(trackerScriptId);
        <span class="hljs-keyword">var</span> script = trackEle.text;
        <span class="hljs-keyword">if</span> (script != <span class="hljs-literal">undefined</span> &amp;&amp; script != <span class="hljs-string">""</span>) {
            script = script.replace(oldConfig.siteId, newConfig.siteId);
            script = script.replace(oldConfig.trackerURL, newConfig.trackerURL);
            trackEle.text = script;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertTracker</span>(<span class="hljs-params">newConfig</span>) </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-built_in">document</span> = <span class="hljs-built_in">window</span>.document;
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">if</span> (trackerExists())
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!isConfigValid(newConfig))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">var</span> trackerScript = generateTrackerScript(newConfig);
        <span class="hljs-keyword">var</span> trackerElement = getOrCreateTracker();
        trackerElement.text = trackerScript;
        head.appendChild(trackerElement);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyTracker</span>(<span class="hljs-params"></span>) </span>{
        insertTracker(<span class="hljs-built_in">window</span>.NOW.webaConfig);
        subscribe();
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyTrackEvent</span>(<span class="hljs-params">category, key, value, additionalValue</span>) </span>{
        <span class="hljs-keyword">if</span> (!isConfigValid(<span class="hljs-built_in">window</span>.NOW.webaConfig))
            <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">if</span> (!trackerExists())
            applyTracker();
        <span class="hljs-keyword">var</span> eventItems = [<span class="hljs-string">"trackEvent"</span>, category, key, value, additionalValue];
        <span class="hljs-keyword">var</span> eventScript = <span class="hljs-string">"_paq.push("</span> + <span class="hljs-built_in">JSON</span>.stringify(eventItems) + <span class="hljs-string">");"</span>;
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> scriptEle = <span class="hljs-built_in">window</span>.document.createElement(<span class="hljs-string">"script"</span>);
        scriptEle.text = eventScript;
        head.appendChild(scriptEle);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trackerExists</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-built_in">document</span> = <span class="hljs-built_in">window</span>.document;
        <span class="hljs-keyword">var</span> head = <span class="hljs-built_in">document</span>.head || <span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'head'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> trackEle = <span class="hljs-built_in">window</span>.document.getElementById(<span class="hljs-string">"weba"</span>);
        <span class="hljs-keyword">if</span> (trackEle != <span class="hljs-literal">undefined</span> &amp;&amp; trackEle != <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isConfigValid</span>(<span class="hljs-params">newConfig</span>) </span>{
        <span class="hljs-keyword">var</span> zero = <span class="hljs-string">"0"</span>;
        <span class="hljs-keyword">var</span> webaSiteId = (newConfig != <span class="hljs-literal">undefined</span>) ? newConfig.siteId : zero;
        <span class="hljs-keyword">var</span> trackerURL = (newConfig != <span class="hljs-literal">undefined</span>) ? newConfig.trackerURL : <span class="hljs-string">""</span>;
        <span class="hljs-keyword">if</span> (webaSiteId == <span class="hljs-literal">undefined</span> || webaSiteId == <span class="hljs-string">""</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (webaSiteId == zero)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">if</span> (trackerURL == <span class="hljs-literal">undefined</span> || trackerURL == <span class="hljs-string">""</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOrCreateTracker</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> trackerScriptId = <span class="hljs-string">"weba"</span>;
        <span class="hljs-keyword">var</span> trackEle = <span class="hljs-built_in">window</span>.document.getElementById(trackerScriptId);
        <span class="hljs-keyword">if</span> (trackEle != <span class="hljs-literal">undefined</span> &amp;&amp; trackEle != <span class="hljs-literal">null</span>)
            <span class="hljs-keyword">return</span> trackEle;
        trackEle = <span class="hljs-built_in">window</span>.document.createElement(<span class="hljs-string">"script"</span>);
        trackEle.id = trackerScriptId;
        trackEle.type = <span class="hljs-string">"text/javascript"</span>;
        <span class="hljs-keyword">return</span> trackEle;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">generateTrackerScript</span>(<span class="hljs-params">webaConfig</span>) </span>{
        <span class="hljs-keyword">var</span> trackerURL = webaConfig.trackerURL;
        <span class="hljs-keyword">if</span> (trackerURL.endsWith(<span class="hljs-string">"/"</span>))
            trackerURL = webaConfig.trackerURL.substring(<span class="hljs-number">0</span>, trackerURL.length - <span class="hljs-number">1</span>);
        <span class="hljs-keyword">var</span> script = <span class="hljs-string">"var _paq = _paq || [];"</span>;
        script += <span class="hljs-string">"_paq.push(['trackPageView']); _paq.push(['enableLinkTracking']);"</span>;
        script += <span class="hljs-string">"(function() { var u='TRACKER_SERVER_URL';_paq.push(['setTrackerUrl', u]);_paq.push(['setSiteId', SITE_ID]);var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript'; g.async=true; g.defer=true; g.src='WEBA_SCRIPT_PATH'; g.id='webaScript';s.parentNode.insertBefore(g,s); })();"</span>;
        script = script.replace(<span class="hljs-string">"TRACKER_SERVER_URL"</span>, trackerURL);
        script = script.replace(<span class="hljs-string">"SITE_ID"</span>, webaConfig.siteId);
        script = script.replace(<span class="hljs-string">"WEBA_SCRIPT_PATH"</span>, webaConfig.webaScriptPath);
        <span class="hljs-keyword">return</span> script;
    }
    <span class="hljs-keyword">var</span> api = {
        <span class="hljs-attr">trackPage</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.document.readyState == <span class="hljs-string">"complete"</span>)
                applyTracker();
            <span class="hljs-keyword">else</span>
                <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"load"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    applyTracker();
                }, <span class="hljs-literal">false</span>);
        },
        <span class="hljs-attr">trackEvent</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">category, key, value, additionalValue, delayInMs</span>) </span>{
            <span class="hljs-keyword">if</span> (delayInMs == <span class="hljs-literal">undefined</span>)
                delayInMs = <span class="hljs-number">3000</span>;
            <span class="hljs-built_in">window</span>.setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                applyTrackEvent(category, key, value, additionalValue);
            }, delayInMs);
        }
    }
    <span class="hljs-keyword">return</span> api;
})();;;;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
