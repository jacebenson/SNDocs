<!DOCTYPE html>

<html>
<head>
  <title>directive.spModel.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="CustomEventManager.html">
                  CustomEventManager.js
                </a>
              
                
                <a class="source" href="GlideWebAnalytics.html">
                  GlideWebAnalytics.js
                </a>
              
                
                <a class="source" href="_module.html">
                  _module.js
                </a>
              
                
                <a class="source" href="amb.Channel.html">
                  amb.Channel.js
                </a>
              
                
                <a class="source" href="amb.ChannelListener.html">
                  amb.ChannelListener.js
                </a>
              
                
                <a class="source" href="amb.ChannelRedirect.html">
                  amb.ChannelRedirect.js
                </a>
              
                
                <a class="source" href="amb.EventManager.html">
                  amb.EventManager.js
                </a>
              
                
                <a class="source" href="amb.Logger.html">
                  amb.Logger.js
                </a>
              
                
                <a class="source" href="amb.MessageClient.html">
                  amb.MessageClient.js
                </a>
              
                
                <a class="source" href="amb.MessageClientBuilder.html">
                  amb.MessageClientBuilder.js
                </a>
              
                
                <a class="source" href="amb.ServerConnection.html">
                  amb.ServerConnection.js
                </a>
              
                
                <a class="source" href="amb_properties.html">
                  amb_properties.js
                </a>
              
                
                <a class="source" href="angular-animate.html">
                  angular-animate.js
                </a>
              
                
                <a class="source" href="angular-aria.html">
                  angular-aria.js
                </a>
              
                
                <a class="source" href="angular-cookies.html">
                  angular-cookies.js
                </a>
              
                
                <a class="source" href="angular-ellipsis.min.html">
                  angular-ellipsis.min.js
                </a>
              
                
                <a class="source" href="angular-file-upload-all.html">
                  angular-file-upload-all.js
                </a>
              
                
                <a class="source" href="angular-resource.html">
                  angular-resource.js
                </a>
              
                
                <a class="source" href="angular-route.html">
                  angular-route.js
                </a>
              
                
                <a class="source" href="angular-sanitize.html">
                  angular-sanitize.js
                </a>
              
                
                <a class="source" href="angular-tooltips.html">
                  angular-tooltips.js
                </a>
              
                
                <a class="source" href="angular-touch.html">
                  angular-touch.js
                </a>
              
                
                <a class="source" href="angular-ui-tinymce.html">
                  angular-ui-tinymce.js
                </a>
              
                
                <a class="source" href="angular.html">
                  angular.js
                </a>
              
                
                <a class="source" href="angular_includes_no_min.1.5.11.html">
                  angular_includes_no_min.1.5.11.js
                </a>
              
                
                <a class="source" href="app.$sp.html">
                  app.$sp.js
                </a>
              
                
                <a class="source" href="app.config.html">
                  app.config.js
                </a>
              
                
                <a class="source" href="app.ng.amb.html">
                  app.ng.amb.js
                </a>
              
                
                <a class="source" href="appResourcesProvider.html">
                  appResourcesProvider.js
                </a>
              
                
                <a class="source" href="attachments.html">
                  attachments.js
                </a>
              
                
                <a class="source" href="auth.html">
                  auth.js
                </a>
              
                
                <a class="source" href="autosize-3.0.17.min.html">
                  autosize-3.0.17.min.js
                </a>
              
                
                <a class="source" href="autosizer.min.html">
                  autosizer.min.js
                </a>
              
                
                <a class="source" href="bootstrap-datetimepicker.html">
                  bootstrap-datetimepicker.js
                </a>
              
                
                <a class="source" href="bootstrap-iconpicker.html">
                  bootstrap-iconpicker.js
                </a>
              
                
                <a class="source" href="bootstrap_336.html">
                  bootstrap_336.js
                </a>
              
                
                <a class="source" href="cabrillo.factory.html">
                  cabrillo.factory.js
                </a>
              
                
                <a class="source" href="camera.html">
                  camera.js
                </a>
              
                
                <a class="source" href="catalogDataLookup.html">
                  catalogDataLookup.js
                </a>
              
                
                <a class="source" href="catalogGlideFormFactory.html">
                  catalogGlideFormFactory.js
                </a>
              
                
                <a class="source" href="catalogItemFactory.html">
                  catalogItemFactory.js
                </a>
              
                
                <a class="source" href="clientScript_components.html">
                  clientScript_components.js
                </a>
              
                
                <a class="source" href="cometd.html">
                  cometd.js
                </a>
              
                
                <a class="source" href="constant.spConf.html">
                  constant.spConf.js
                </a>
              
                
                <a class="source" href="controller.AMBRecordWatcher.html">
                  controller.AMBRecordWatcher.js
                </a>
              
                
                <a class="source" href="controller.Stream.html">
                  controller.Stream.js
                </a>
              
                
                <a class="source" href="controller.formStream.html">
                  controller.formStream.js
                </a>
              
                
                <a class="source" href="controller.snStream.html">
                  controller.snStream.js
                </a>
              
                
                <a class="source" href="controller.spLogin.html">
                  controller.spLogin.js
                </a>
              
                
                <a class="source" href="controller.spPage.html">
                  controller.spPage.js
                </a>
              
                
                <a class="source" href="controller.spWidgetDebug.html">
                  controller.spWidgetDebug.js
                </a>
              
                
                <a class="source" href="core.html">
                  core.js
                </a>
              
                
                <a class="source" href="debug.html">
                  debug.js
                </a>
              
                
                <a class="source" href="decorator.uiTinymce.html">
                  decorator.uiTinymce.js
                </a>
              
                
                <a class="source" href="directive.contenteditable.html">
                  directive.contenteditable.js
                </a>
              
                
                <a class="source" href="directive.formStreamEntry.html">
                  directive.formStreamEntry.js
                </a>
              
                
                <a class="source" href="directive.glideFormField.html">
                  directive.glideFormField.js
                </a>
              
                
                <a class="source" href="directive.glyph.html">
                  directive.glyph.js
                </a>
              
                
                <a class="source" href="directive.message.html">
                  directive.message.js
                </a>
              
                
                <a class="source" href="directive.nowAttachmentsList.html">
                  directive.nowAttachmentsList.js
                </a>
              
                
                <a class="source" href="directive.recursiveHelper.html">
                  directive.recursiveHelper.js
                </a>
              
                
                <a class="source" href="directive.scroll_form.html">
                  directive.scroll_form.js
                </a>
              
                
                <a class="source" href="directive.snAttachmentList.html">
                  directive.snAttachmentList.js
                </a>
              
                
                <a class="source" href="directive.snAttachmentPreview.html">
                  directive.snAttachmentPreview.js
                </a>
              
                
                <a class="source" href="directive.snAvatar.html">
                  directive.snAvatar.js
                </a>
              
                
                <a class="source" href="directive.snAvatarPopover.html">
                  directive.snAvatarPopover.js
                </a>
              
                
                <a class="source" href="directive.snBindI18n.html">
                  directive.snBindI18n.js
                </a>
              
                
                <a class="source" href="directive.snBindOnce.html">
                  directive.snBindOnce.js
                </a>
              
                
                <a class="source" href="directive.snBindPopoverSelection.html">
                  directive.snBindPopoverSelection.js
                </a>
              
                
                <a class="source" href="directive.snBlurOnEnter.html">
                  directive.snBlurOnEnter.js
                </a>
              
                
                <a class="source" href="directive.snBootstrapPopover.html">
                  directive.snBootstrapPopover.js
                </a>
              
                
                <a class="source" href="directive.snChoiceList.html">
                  directive.snChoiceList.js
                </a>
              
                
                <a class="source" href="directive.snCloak.html">
                  directive.snCloak.js
                </a>
              
                
                <a class="source" href="directive.snComplexPopover.html">
                  directive.snComplexPopover.js
                </a>
              
                
                <a class="source" href="directive.snComposing.html">
                  directive.snComposing.js
                </a>
              
                
                <a class="source" href="directive.snConfirmModal.html">
                  directive.snConfirmModal.js
                </a>
              
                
                <a class="source" href="directive.snContextMenu.html">
                  directive.snContextMenu.js
                </a>
              
                
                <a class="source" href="directive.snDayAgo.html">
                  directive.snDayAgo.js
                </a>
              
                
                <a class="source" href="directive.snDialog.html">
                  directive.snDialog.js
                </a>
              
                
                <a class="source" href="directive.snExpandedEmail.html">
                  directive.snExpandedEmail.js
                </a>
              
                
                <a class="source" href="directive.snFieldReference.html">
                  directive.snFieldReference.js
                </a>
              
                
                <a class="source" href="directive.snFileUploadInput.html">
                  directive.snFileUploadInput.js
                </a>
              
                
                <a class="source" href="directive.snFlyout.html">
                  directive.snFlyout.js
                </a>
              
                
                <a class="source" href="directive.snFocus.html">
                  directive.snFocus.js
                </a>
              
                
                <a class="source" href="directive.snFocusEsc.html">
                  directive.snFocusEsc.js
                </a>
              
                
                <a class="source" href="directive.snGlyph.html">
                  directive.snGlyph.js
                </a>
              
                
                <a class="source" href="directive.snGroupAvatar.html">
                  directive.snGroupAvatar.js
                </a>
              
                
                <a class="source" href="directive.snImageUploader.html">
                  directive.snImageUploader.js
                </a>
              
                
                <a class="source" href="directive.snLinkContent.html">
                  directive.snLinkContent.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentArticle.html">
                  directive.snLinkContentArticle.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentAttachment.html">
                  directive.snLinkContentAttachment.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentError.html">
                  directive.snLinkContentError.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentImage.html">
                  directive.snLinkContentImage.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentRecord.html">
                  directive.snLinkContentRecord.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentSoundcloud.html">
                  directive.snLinkContentSoundcloud.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentYoutube.html">
                  directive.snLinkContentYoutube.js
                </a>
              
                
                <a class="source" href="directive.snMentionPopover.html">
                  directive.snMentionPopover.js
                </a>
              
                
                <a class="source" href="directive.snModal.html">
                  directive.snModal.js
                </a>
              
                
                <a class="source" href="directive.snModalShow.html">
                  directive.snModalShow.js
                </a>
              
                
                <a class="source" href="directive.snNotification.html">
                  directive.snNotification.js
                </a>
              
                
                <a class="source" href="directive.snPasteFileHandler.html">
                  directive.snPasteFileHandler.js
                </a>
              
                
                <a class="source" href="directive.snPresence.html">
                  directive.snPresence.js
                </a>
              
                
                <a class="source" href="directive.snRecordPicker.html">
                  directive.snRecordPicker.js
                </a>
              
                
                <a class="source" href="directive.snReferencePicker.html">
                  directive.snReferencePicker.js
                </a>
              
                
                <a class="source" href="directive.snResizeHeight.html">
                  directive.snResizeHeight.js
                </a>
              
                
                <a class="source" href="directive.snSelectBasic.html">
                  directive.snSelectBasic.js
                </a>
              
                
                <a class="source" href="directive.snStickyHeaders.html">
                  directive.snStickyHeaders.js
                </a>
              
                
                <a class="source" href="directive.snStream.html">
                  directive.snStream.js
                </a>
              
                
                <a class="source" href="directive.snSyncWith.html">
                  directive.snSyncWith.js
                </a>
              
                
                <a class="source" href="directive.snTableReference.html">
                  directive.snTableReference.js
                </a>
              
                
                <a class="source" href="directive.snTabs.html">
                  directive.snTabs.js
                </a>
              
                
                <a class="source" href="directive.snTextExpander.html">
                  directive.snTextExpander.js
                </a>
              
                
                <a class="source" href="directive.snTimeAgo.html">
                  directive.snTimeAgo.js
                </a>
              
                
                <a class="source" href="directive.snUserAvatar.html">
                  directive.snUserAvatar.js
                </a>
              
                
                <a class="source" href="directive.snUserProfile.html">
                  directive.snUserProfile.js
                </a>
              
                
                <a class="source" href="directive.spAnnouncements.html">
                  directive.spAnnouncements.js
                </a>
              
                
                <a class="source" href="directive.spAriaPageTitle.html">
                  directive.spAriaPageTitle.js
                </a>
              
                
                <a class="source" href="directive.spAttachmentButton.html">
                  directive.spAttachmentButton.js
                </a>
              
                
                <a class="source" href="directive.spCLink.html">
                  directive.spCLink.js
                </a>
              
                
                <a class="source" href="directive.spCatItem.html">
                  directive.spCatItem.js
                </a>
              
                
                <a class="source" href="directive.spChoiceList.html">
                  directive.spChoiceList.js
                </a>
              
                
                <a class="source" href="directive.spCodeMirror.html">
                  directive.spCodeMirror.js
                </a>
              
                
                <a class="source" href="directive.spColorPicker.html">
                  directive.spColorPicker.js
                </a>
              
                
                <a class="source" href="directive.spContextMenu.html">
                  directive.spContextMenu.js
                </a>
              
                
                <a class="source" href="directive.spCssEditor.html">
                  directive.spCssEditor.js
                </a>
              
                
                <a class="source" href="directive.spCurrencyElement.html">
                  directive.spCurrencyElement.js
                </a>
              
                
                <a class="source" href="directive.spDatePicker.html">
                  directive.spDatePicker.js
                </a>
              
                
                <a class="source" href="directive.spDropdownTree.html">
                  directive.spDropdownTree.js
                </a>
              
                
                <a class="source" href="directive.spDurationElement.html">
                  directive.spDurationElement.js
                </a>
              
                
                <a class="source" href="directive.spEditableField.html">
                  directive.spEditableField.js
                </a>
              
                
                <a class="source" href="directive.spEmailElement.html">
                  directive.spEmailElement.js
                </a>
              
                
                <a class="source" href="directive.spFieldListElement.html">
                  directive.spFieldListElement.js
                </a>
              
                
                <a class="source" href="directive.spFormField.html">
                  directive.spFormField.js
                </a>
              
                
                <a class="source" href="directive.spGlyphPicker.html">
                  directive.spGlyphPicker.js
                </a>
              
                
                <a class="source" href="directive.spHTMLEditor.html">
                  directive.spHTMLEditor.js
                </a>
              
                
                <a class="source" href="directive.spHtmlContent.html">
                  directive.spHtmlContent.js
                </a>
              
                
                <a class="source" href="directive.spMessageDialog.html">
                  directive.spMessageDialog.js
                </a>
              
                
                <a class="source" href="directive.spMetatags.html">
                  directive.spMetatags.js
                </a>
              
                
                <a class="source" href="directive.spModel.html">
                  directive.spModel.js
                </a>
              
                
                <a class="source" href="directive.spNavbarToggle.html">
                  directive.spNavbarToggle.js
                </a>
              
                
                <a class="source" href="directive.spNotifications.html">
                  directive.spNotifications.js
                </a>
              
                
                <a class="source" href="directive.spOnTransition.html">
                  directive.spOnTransition.js
                </a>
              
                
                <a class="source" href="directive.spPageRow.html">
                  directive.spPageRow.js
                </a>
              
                
                <a class="source" href="directive.spPanel.html">
                  directive.spPanel.js
                </a>
              
                
                <a class="source" href="directive.spPauseChildWatchersIfHidden.html">
                  directive.spPauseChildWatchersIfHidden.js
                </a>
              
                
                <a class="source" href="directive.spReferenceElement.html">
                  directive.spReferenceElement.js
                </a>
              
                
                <a class="source" href="directive.spReferenceField.html">
                  directive.spReferenceField.js
                </a>
              
                
                <a class="source" href="directive.spScriptEditor.html">
                  directive.spScriptEditor.js
                </a>
              
                
                <a class="source" href="directive.spScroll.html">
                  directive.spScroll.js
                </a>
              
                
                <a class="source" href="directive.spTextarea.html">
                  directive.spTextarea.js
                </a>
              
                
                <a class="source" href="directive.spTinymceEditor.html">
                  directive.spTinymceEditor.js
                </a>
              
                
                <a class="source" href="directive.spWidget.html">
                  directive.spWidget.js
                </a>
              
                
                <a class="source" href="factory.AMBOverlay.html">
                  factory.AMBOverlay.js
                </a>
              
                
                <a class="source" href="factory.ArraySynchronizer.html">
                  factory.ArraySynchronizer.js
                </a>
              
                
                <a class="source" href="factory.glideUrlBuilder.html">
                  factory.glideUrlBuilder.js
                </a>
              
                
                <a class="source" href="factory.notificationWrapper.html">
                  factory.notificationWrapper.js
                </a>
              
                
                <a class="source" href="factory.nowAttachmentHandler.html">
                  factory.nowAttachmentHandler.js
                </a>
              
                
                <a class="source" href="factory.paneManager.html">
                  factory.paneManager.js
                </a>
              
                
                <a class="source" href="factory.snAttachmentHandler.html">
                  factory.snAttachmentHandler.js
                </a>
              
                
                <a class="source" href="factory.snPresence.html">
                  factory.snPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordPresence.html">
                  factory.snRecordPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordWatcher.html">
                  factory.snRecordWatcher.js
                </a>
              
                
                <a class="source" href="factory.spInterceptor.html">
                  factory.spInterceptor.js
                </a>
              
                
                <a class="source" href="factory.spLabelHelper.html">
                  factory.spLabelHelper.js
                </a>
              
                
                <a class="source" href="factory.spMacro.html">
                  factory.spMacro.js
                </a>
              
                
                <a class="source" href="factory.spModelUtil.html">
                  factory.spModelUtil.js
                </a>
              
                
                <a class="source" href="factory.spPage.html">
                  factory.spPage.js
                </a>
              
                
                <a class="source" href="factory.spServer.html">
                  factory.spServer.js
                </a>
              
                
                <a class="source" href="factory.spUIActionFactory.html">
                  factory.spUIActionFactory.js
                </a>
              
                
                <a class="source" href="factory.spUIActionsExecuter.html">
                  factory.spUIActionsExecuter.js
                </a>
              
                
                <a class="source" href="factory.spWidget.html">
                  factory.spWidget.js
                </a>
              
                
                <a class="source" href="factory.unwrappedHTTPPromise.html">
                  factory.unwrappedHTTPPromise.js
                </a>
              
                
                <a class="source" href="filter.html">
                  filter.js
                </a>
              
                
                <a class="source" href="form.html">
                  form.js
                </a>
              
                
                <a class="source" href="geolocation.html">
                  geolocation.js
                </a>
              
                
                <a class="source" href="glideAjax.html">
                  glideAjax.js
                </a>
              
                
                <a class="source" href="glideAjaxFactory.html">
                  glideAjaxFactory.js
                </a>
              
                
                <a class="source" href="glideFormEnvironmentFactory.html">
                  glideFormEnvironmentFactory.js
                </a>
              
                
                <a class="source" href="glideFormFactory.html">
                  glideFormFactory.js
                </a>
              
                
                <a class="source" href="glideFormFieldFactory.html">
                  glideFormFieldFactory.js
                </a>
              
                
                <a class="source" href="glideFormMessageHandler.html">
                  glideFormMessageHandler.js
                </a>
              
                
                <a class="source" href="glideListFactory.html">
                  glideListFactory.js
                </a>
              
                
                <a class="source" href="glideModalFactory.html">
                  glideModalFactory.js
                </a>
              
                
                <a class="source" href="glideRecord.html">
                  glideRecord.js
                </a>
              
                
                <a class="source" href="glideRecordData.html">
                  glideRecordData.js
                </a>
              
                
                <a class="source" href="glideRecordFactory.html">
                  glideRecordFactory.js
                </a>
              
                
                <a class="source" href="glideRequest.html">
                  glideRequest.js
                </a>
              
                
                <a class="source" href="glideUIActionsApi.html">
                  glideUIActionsApi.js
                </a>
              
                
                <a class="source" href="glideUIActionsFactory.html">
                  glideUIActionsFactory.js
                </a>
              
                
                <a class="source" href="glideUser.html">
                  glideUser.js
                </a>
              
                
                <a class="source" href="glideUserFactory.html">
                  glideUserFactory.js
                </a>
              
                
                <a class="source" href="glideUserSession.html">
                  glideUserSession.js
                </a>
              
                
                <a class="source" href="iconset-fontawesome.html">
                  iconset-fontawesome.js
                </a>
              
                
                <a class="source" href="jQueryRequestShim.html">
                  jQueryRequestShim.js
                </a>
              
                
                <a class="source" href="jquery-2.1.html">
                  jquery-2.1.js
                </a>
              
                
                <a class="source" href="js_includes_amb.html">
                  js_includes_amb.js
                </a>
              
                
                <a class="source" href="js_includes_angular.html">
                  js_includes_angular.js
                </a>
              
                
                <a class="source" href="js_includes_attachments.html">
                  js_includes_attachments.js
                </a>
              
                
                <a class="source" href="js_includes_avatar.html">
                  js_includes_avatar.js
                </a>
              
                
                <a class="source" href="js_includes_cabrillo.html">
                  js_includes_cabrillo.js
                </a>
              
                
                <a class="source" href="js_includes_clientScript.html">
                  js_includes_clientScript.js
                </a>
              
                
                <a class="source" href="js_includes_common.html">
                  js_includes_common.js
                </a>
              
                
                <a class="source" href="js_includes_controls.html">
                  js_includes_controls.js
                </a>
              
                
                <a class="source" href="js_includes_data.html">
                  js_includes_data.js
                </a>
              
                
                <a class="source" href="js_includes_datetime.html">
                  js_includes_datetime.js
                </a>
              
                
                <a class="source" href="js_includes_form.html">
                  js_includes_form.js
                </a>
              
                
                <a class="source" href="js_includes_glide.html">
                  js_includes_glide.js
                </a>
              
                
                <a class="source" href="js_includes_i18n.html">
                  js_includes_i18n.js
                </a>
              
                
                <a class="source" href="js_includes_link.html">
                  js_includes_link.js
                </a>
              
                
                <a class="source" href="js_includes_mention.html">
                  js_includes_mention.js
                </a>
              
                
                <a class="source" href="js_includes_messaging.html">
                  js_includes_messaging.js
                </a>
              
                
                <a class="source" href="js_includes_ng_amb.html">
                  js_includes_ng_amb.js
                </a>
              
                
                <a class="source" href="js_includes_notification.html">
                  js_includes_notification.js
                </a>
              
                
                <a class="source" href="js_includes_presence.html">
                  js_includes_presence.js
                </a>
              
                
                <a class="source" href="js_includes_resources.html">
                  js_includes_resources.js
                </a>
              
                
                <a class="source" href="js_includes_sp.html">
                  js_includes_sp.js
                </a>
              
                
                <a class="source" href="js_includes_sp_core.html">
                  js_includes_sp_core.js
                </a>
              
                
                <a class="source" href="js_includes_sp_deps.html">
                  js_includes_sp_deps.js
                </a>
              
                
                <a class="source" href="js_includes_sp_tinymce.html">
                  js_includes_sp_tinymce.js
                </a>
              
                
                <a class="source" href="js_includes_stream.html">
                  js_includes_stream.js
                </a>
              
                
                <a class="source" href="js_includes_ui.html">
                  js_includes_ui.js
                </a>
              
                
                <a class="source" href="js_includes_ui_popover.html">
                  js_includes_ui_popover.js
                </a>
              
                
                <a class="source" href="js_includes_user_profile.html">
                  js_includes_user_profile.js
                </a>
              
                
                <a class="source" href="js_includes_util.html">
                  js_includes_util.js
                </a>
              
                
                <a class="source" href="list.html">
                  list.js
                </a>
              
                
                <a class="source" href="lodash.min.html">
                  lodash.min.js
                </a>
              
                
                <a class="source" href="mentio.html">
                  mentio.js
                </a>
              
                
                <a class="source" href="modal.html">
                  modal.js
                </a>
              
                
                <a class="source" href="moment-2.14.1.min.html">
                  moment-2.14.1.min.js
                </a>
              
                
                <a class="source" href="moment-timezone-with-data-0.5.13.html">
                  moment-timezone-with-data-0.5.13.js
                </a>
              
                
                <a class="source" href="navigation.html">
                  navigation.js
                </a>
              
                
                <a class="source" href="ng-sortable.html">
                  ng-sortable.js
                </a>
              
                
                <a class="source" href="ocLazyLoad.min.html">
                  ocLazyLoad.min.js
                </a>
              
                
                <a class="source" href="prism.html">
                  prism.js
                </a>
              
                
                <a class="source" href="provider.defaultJSAutocomplete.html">
                  provider.defaultJSAutocomplete.js
                </a>
              
                
                <a class="source" href="provider.lazyloader.html">
                  provider.lazyloader.js
                </a>
              
                
                <a class="source" href="provider.linkContentTypes.html">
                  provider.linkContentTypes.js
                </a>
              
                
                <a class="source" href="select2.html">
                  select2.js
                </a>
              
                
                <a class="source" href="service.AMB.html">
                  service.AMB.js
                </a>
              
                
                <a class="source" href="service.authInterceptor.html">
                  service.authInterceptor.js
                </a>
              
                
                <a class="source" href="service.avatarProfilePersister.html">
                  service.avatarProfilePersister.js
                </a>
              
                
                <a class="source" href="service.dateUtils.html">
                  service.dateUtils.js
                </a>
              
                
                <a class="source" href="service.debounceFn.html">
                  service.debounceFn.js
                </a>
              
                
                <a class="source" href="service.filterExpressionParser.html">
                  service.filterExpressionParser.js
                </a>
              
                
                <a class="source" href="service.getTemplateUrl.html">
                  service.getTemplateUrl.js
                </a>
              
                
                <a class="source" href="service.i18n.html">
                  service.i18n.js
                </a>
              
                
                <a class="source" href="service.md5.html">
                  service.md5.js
                </a>
              
                
                <a class="source" href="service.nowServer.html">
                  service.nowServer.js
                </a>
              
                
                <a class="source" href="service.nowStream.html">
                  service.nowStream.js
                </a>
              
                
                <a class="source" href="service.priorityQueue.html">
                  service.priorityQueue.js
                </a>
              
                
                <a class="source" href="service.progressDialog.html">
                  service.progressDialog.js
                </a>
              
                
                <a class="source" href="service.queryFilter.html">
                  service.queryFilter.js
                </a>
              
                
                <a class="source" href="service.snComplexPopoverService.html">
                  service.snComplexPopoverService.js
                </a>
              
                
                <a class="source" href="service.snComposingPresence.html">
                  service.snComposingPresence.js
                </a>
              
                
                <a class="source" href="service.snConnect.html">
                  service.snConnect.js
                </a>
              
                
                <a class="source" href="service.snCustomEvent.html">
                  service.snCustomEvent.js
                </a>
              
                
                <a class="source" href="service.snMention.html">
                  service.snMention.js
                </a>
              
                
                <a class="source" href="service.snNotification.html">
                  service.snNotification.js
                </a>
              
                
                <a class="source" href="service.snNotifier.html">
                  service.snNotifier.js
                </a>
              
                
                <a class="source" href="service.snResource.html">
                  service.snResource.js
                </a>
              
                
                <a class="source" href="service.snTabActivity.html">
                  service.snTabActivity.js
                </a>
              
                
                <a class="source" href="service.spAnnouncement.html">
                  service.spAnnouncement.js
                </a>
              
                
                <a class="source" href="service.spAria.html">
                  service.spAria.js
                </a>
              
                
                <a class="source" href="service.spAriaFocusManager.html">
                  service.spAriaFocusManager.js
                </a>
              
                
                <a class="source" href="service.spAuthModal.html">
                  service.spAuthModal.js
                </a>
              
                
                <a class="source" href="service.spAuthentication.html">
                  service.spAuthentication.js
                </a>
              
                
                <a class="source" href="service.spCodeEditorAutocomplete.html">
                  service.spCodeEditorAutocomplete.js
                </a>
              
                
                <a class="source" href="service.spIs.html">
                  service.spIs.js
                </a>
              
                
                <a class="source" href="service.spMetatags.html">
                  service.spMetatags.js
                </a>
              
                
                <a class="source" href="service.spModal.html">
                  service.spModal.js
                </a>
              
                
                <a class="source" href="service.spNavStateManager.html">
                  service.spNavStateManager.js
                </a>
              
                
                <a class="source" href="service.spPreference.html">
                  service.spPreference.js
                </a>
              
                
                <a class="source" href="service.spScUtil.html">
                  service.spScUtil.js
                </a>
              
                
                <a class="source" href="service.spThrottle.html">
                  service.spThrottle.js
                </a>
              
                
                <a class="source" href="service.spUtil.html">
                  service.spUtil.js
                </a>
              
                
                <a class="source" href="service.urlTools.html">
                  service.urlTools.js
                </a>
              
                
                <a class="source" href="service.userPreferences.html">
                  service.userPreferences.js
                </a>
              
                
                <a class="source" href="snPolyfill.html">
                  snPolyfill.js
                </a>
              
                
                <a class="source" href="snPresenceLite.html">
                  snPresenceLite.js
                </a>
              
                
                <a class="source" href="snTimeAgoSettings.html">
                  snTimeAgoSettings.js
                </a>
              
                
                <a class="source" href="snm.auth.data.module.html">
                  snm.auth.data.module.js
                </a>
              
                
                <a class="source" href="snm.serviceCatalog.data.shim.html">
                  snm.serviceCatalog.data.shim.js
                </a>
              
                
                <a class="source" href="snm.serviceCatalog.form.module.html">
                  snm.serviceCatalog.form.module.js
                </a>
              
                
                <a class="source" href="sortable.min.html">
                  sortable.min.js
                </a>
              
                
                <a class="source" href="sp.geo.html">
                  sp.geo.js
                </a>
              
                
                <a class="source" href="templates.html">
                  templates.js
                </a>
              
                
                <a class="source" href="theme.min.html">
                  theme.min.js
                </a>
              
                
                <a class="source" href="tinymce.min.html">
                  tinymce.min.js
                </a>
              
                
                <a class="source" href="ui-bootstrap-tpls-1.1.2.html">
                  ui-bootstrap-tpls-1.1.2.js
                </a>
              
                
                <a class="source" href="uiPolicyFactory.html">
                  uiPolicyFactory.js
                </a>
              
                
                <a class="source" href="uiPolicyTypes.html">
                  uiPolicyTypes.js
                </a>
              
                
                <a class="source" href="vanilla.cometd.html">
                  vanilla.cometd.js
                </a>
              
                
                <a class="source" href="viewLayout.html">
                  viewLayout.js
                </a>
              
                
                <a class="source" href="xmlUtil.html">
                  xmlUtil.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>directive.spModel.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*! RESOURCE: /scripts/app.$sp/directive.spModel.js */</span>
angular.module(<span class="hljs-string">'sn.$sp'</span>).directive(<span class="hljs-string">'spVariableLayout'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">restrict</span>: <span class="hljs-string">'E'</span>,
        <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'sp_variable_layout.xml'</span>,
        <span class="hljs-attr">scope</span>: <span class="hljs-literal">false</span>
    };
}).directive(<span class="hljs-string">'spModel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$q, spUtil, glideFormFactory, glideUserSession, catalogItemFactory, glideFormEnvironmentFactory, catalogGlideFormFactory, spUIActionFactory, glideModalFactory, $uibModal,
    spModal, glideListFactory, spModelUtil</span>) </span>{
<span class="hljs-meta">    'use strict'</span>;
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">restrict</span>: <span class="hljs-string">'E'</span>,
        <span class="hljs-attr">templateUrl</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elem, attrs</span>) </span>{
            <span class="hljs-keyword">return</span> attrs.templateUrl || <span class="hljs-string">'sp_model.xml'</span>;
        },
        <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">scope</span>: {
            <span class="hljs-attr">formModel</span>: <span class="hljs-string">"="</span>,
            <span class="hljs-attr">mandatory</span>: <span class="hljs-string">'='</span>,
            <span class="hljs-attr">isInlineForm</span>: <span class="hljs-string">'=?'</span>
        },
        <span class="hljs-attr">controller</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope</span>) </span>{
            <span class="hljs-keyword">var</span> c = <span class="hljs-keyword">this</span>;
            <span class="hljs-keyword">var</span> g_form;
            <span class="hljs-keyword">var</span> flatFields;
            <span class="hljs-keyword">var</span> isCatalogItem;
            <span class="hljs-keyword">var</span> formModel;
            <span class="hljs-keyword">var</span> ui_g_form;
            <span class="hljs-keyword">var</span> formEnvironment;
            <span class="hljs-keyword">var</span> deferredEnv = $q.defer();
            $scope.okToPaintForm = <span class="hljs-literal">false</span>;
            $scope.$watch(<span class="hljs-string">'formModel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newValue</span>) </span>{
                <span class="hljs-keyword">if</span> (angular.isDefined(newValue)) {
                    init();
                }
            });
            c.populateMandatory = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">populateMandatory</span>(<span class="hljs-params">flatFields</span>) </span>{
                <span class="hljs-keyword">var</span> mandatory = [];
                <span class="hljs-keyword">var</span> field;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f <span class="hljs-keyword">in</span> flatFields) {
                    field = flatFields[f];
                    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> field.mandatory_filled == <span class="hljs-string">'undefined'</span>)
                        <span class="hljs-keyword">continue</span>;
                    <span class="hljs-keyword">if</span> (field.mandatory_filled())
                        <span class="hljs-keyword">continue</span>;
                    <span class="hljs-keyword">if</span> (field.visible &amp;&amp; field.isMandatory())
                        mandatory.push(field);
                }
                $scope.$emit(<span class="hljs-string">"variable.mandatory.change"</span>);
                <span class="hljs-keyword">return</span> mandatory;
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onChange</span>(<span class="hljs-params">fieldName, oldValue, newValue</span>) </span>{
                <span class="hljs-keyword">if</span> (!(fieldName <span class="hljs-keyword">in</span> formModel._fields))
                    <span class="hljs-keyword">return</span>;
                $scope.$evalAsync(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">var</span> field = formModel._fields[fieldName];
                    <span class="hljs-keyword">if</span> (isCatalogItem) {
                        <span class="hljs-keyword">if</span> (field._pricing) {
                            c.setPrices(field, newValue);
                            c.setBoolean(field, newValue);
                            c.calcPrice(formModel._fields);
                        }
                    }
                    $scope.mandatory = c.populateMandatory(flatFields);
                    <span class="hljs-keyword">var</span> p = {
                        <span class="hljs-attr">field</span>: field,
                        <span class="hljs-attr">oldValue</span>: oldValue,
                        <span class="hljs-attr">newValue</span>: newValue
                    };
                    $scope.$emit(<span class="hljs-string">"field.change"</span>, p);
                    $scope.$broadcast(<span class="hljs-string">"field.change."</span> + field.name, p);
                    $scope.$emit(<span class="hljs-string">"field.change."</span> + field.name, p);
                });
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uiMessageHandler</span>(<span class="hljs-params">g_form, type, message</span>) </span>{
                <span class="hljs-keyword">switch</span> (type) {
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'infoMessage'</span>:
                        spUtil.addInfoMessage(message);
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'errorMessage'</span>:
                        spUtil.addErrorMessage(message);
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'clearMessages'</span>:
                        <span class="hljs-keyword">break</span>;
                    <span class="hljs-keyword">default</span>:
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            }
            c.getFieldsFromView = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFieldsFromView</span>(<span class="hljs-params">fm</span>) </span>{
                <span class="hljs-keyword">var</span> fields = [],
                    field;
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fm._view !== <span class="hljs-string">"undefined"</span>) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f <span class="hljs-keyword">in</span> fm._view) {
                        field = fm._view[f];
                        <span class="hljs-keyword">if</span> (fm._fields[field.name]) {
                            fields.push(fm._fields[field.name]);
                        }
                        getNestedVariables(fm, fields, field);
                    }
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> fm._sections !== <span class="hljs-string">"undefined"</span>) {
                    getNestedFields(fields, fm._sections);
                }
                <span class="hljs-keyword">return</span> fields;
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNestedVariables</span>(<span class="hljs-params">fm, fields, field</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> field.variables !== <span class="hljs-string">"undefined"</span>) {
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> v <span class="hljs-keyword">in</span> field.variables) {
                        <span class="hljs-keyword">var</span> variable = field.variables[v];
                        <span class="hljs-keyword">if</span> (fm._fields[variable.name]) {
                            fields.push(fm._fields[variable.name]);
                        }
                        getNestedVariables(fm, fields, variable);
                    }
                }
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNestedFields</span>(<span class="hljs-params">fields, containers</span>) </span>{
                <span class="hljs-keyword">if</span> (!containers)
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _container <span class="hljs-keyword">in</span> containers) {
                    <span class="hljs-keyword">var</span> container = containers[_container];
                    <span class="hljs-keyword">if</span> (container.columns) {
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _col <span class="hljs-keyword">in</span> container.columns) {
                            <span class="hljs-keyword">var</span> col = container.columns[_col];
                            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> _field <span class="hljs-keyword">in</span> col.fields) {
                                <span class="hljs-keyword">var</span> field = col.fields[_field];
                                <span class="hljs-keyword">if</span> (field.type == <span class="hljs-string">"container"</span>)
                                    getNestedFields(fields, [field]);
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (field.type == <span class="hljs-string">"checkbox_container"</span>)
                                    getNestedFields(fields, field.containers);
                                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (field.type == <span class="hljs-string">"field"</span>)
                                    fields.push(formModel._fields[field.name]);
                            }
                        }
                    }
                }
            }
            c.hasCatalogVariable = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasCatalogVariable</span>(<span class="hljs-params">flatFields</span>) </span>{
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> f <span class="hljs-keyword">in</span> flatFields) {
                    <span class="hljs-keyword">if</span> (flatFields[f].hasOwnProperty(<span class="hljs-string">'_cat_variable'</span>))
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            };
            c.calcPrice = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calcPrice</span>(<span class="hljs-params">fields</span>) </span>{
                <span class="hljs-keyword">var</span> price = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">var</span> recurring_price = <span class="hljs-number">0</span>;
                angular.forEach(fields, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">field</span>) </span>{
                    <span class="hljs-keyword">if</span> (field.price)
                        price += <span class="hljs-built_in">Number</span>(field.price);
                    <span class="hljs-keyword">if</span> (field.recurring_price)
                        recurring_price += <span class="hljs-built_in">Number</span>(field.recurring_price);
                });
                <span class="hljs-keyword">var</span> o = {
                    <span class="hljs-attr">price</span>: price,
                    <span class="hljs-attr">recurring_price</span>: recurring_price
                };
                $scope.$emit(<span class="hljs-string">"variable.price.change"</span>, o);
            };
            c.setBoolean = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setBoolean</span>(<span class="hljs-params">field, value</span>) </span>{
                <span class="hljs-keyword">if</span> (field.type != <span class="hljs-string">'boolean'</span> &amp;&amp; field.type != <span class="hljs-string">'boolean_confirm'</span>)
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">if</span> (value == <span class="hljs-literal">true</span> || value == <span class="hljs-string">'true'</span>) {
                    field.price = field._pricing.price_if_checked;
                    field.recurring_price = field._pricing.rec_price_if_checked;
                } <span class="hljs-keyword">else</span>
                    field.price = field.recurring_price = <span class="hljs-number">0</span>;
            };
            c.setPrices = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setPrices</span>(<span class="hljs-params">field, value</span>) </span>{
                <span class="hljs-keyword">if</span> (!field.choices)
                    <span class="hljs-keyword">return</span>;
                field.choices.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">c</span>) </span>{
                    <span class="hljs-keyword">if</span> (c.value != value)
                        <span class="hljs-keyword">return</span>;
                    field.price = c.price;
                    field.recurring_price = c.recurring_price;
                });
            };
            $scope.getGlideForm = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> ui_g_form;
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasVariablePrefix</span>(<span class="hljs-params">v</span>) </span>{
                <span class="hljs-keyword">return</span> v.indexOf(<span class="hljs-string">"IO:"</span>) == <span class="hljs-number">0</span>;
            }
            $scope.getVarID = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">v</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> v.name != <span class="hljs-string">"undefined"</span> &amp;&amp; hasVariablePrefix(v.name))
                    <span class="hljs-keyword">return</span> v.name.substring(<span class="hljs-number">3</span>);
                <span class="hljs-keyword">return</span> v.name;
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initGlideForm</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> uiActions = spUIActionFactory.create(formModel._ui_actions || [], {
                    <span class="hljs-attr">attachmentGUID</span>: formModel._attachmentGUID,
                    <span class="hljs-attr">uiActionNotifier</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">actionName, uiActionPromise</span>) </span>{
                        uiActionPromise.then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
                            $scope.$emit(<span class="hljs-string">"spModel.uiActionComplete"</span>, response);
                        });
                    }
                });
                spModelUtil.extendFields(flatFields);
                g_form = glideFormFactory.create($scope, (isCatalogItem ? <span class="hljs-literal">null</span> : formModel.table), formModel.sys_id, flatFields, uiActions, {
                    <span class="hljs-attr">uiMessageHandler</span>: uiMessageHandler,
                    <span class="hljs-attr">relatedLists</span>: formModel._related_lists,
                    <span class="hljs-attr">sections</span>: formModel._sections
                });
                g_form.getControl = getControl;
                g_form.getField = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fieldName</span>) </span>{
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, iM = flatFields.length; i &lt; iM; i++) {
                        <span class="hljs-keyword">var</span> field = flatFields[i];
                        <span class="hljs-keyword">if</span> (field.variable_name === fieldName || field.name === fieldName) {
                            <span class="hljs-keyword">return</span> field;
                        }
                    }
                    <span class="hljs-keyword">if</span> (g_form._options.getMappedField) {
                        <span class="hljs-keyword">var</span> mapped = g_form._options.getMappedField(fieldName);
                        <span class="hljs-keyword">if</span> (mapped) {
                            <span class="hljs-keyword">return</span> mapped;
                        }
                    }
                };
                g_form.showFieldMsg0 = g_form.showFieldMsg;
                g_form.showFieldMsg = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    g_form.showFieldMsg0.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
                    <span class="hljs-keyword">if</span> (!$scope.$root.$$phase) {
                        $scope.$apply();
                    }
                };
                g_form.$private.events.on(<span class="hljs-string">'change'</span>, onChange);
                g_form.$private.events.on(<span class="hljs-string">'propertyChange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">type, fieldName, propertyName</span>) </span>{
                    <span class="hljs-keyword">if</span> (propertyName == <span class="hljs-string">"mandatory"</span>)
                        $scope.mandatory = c.populateMandatory(flatFields);
                });
                $scope.$on(<span class="hljs-string">"sp.spFormField.stagedValueChange"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $scope.mandatory = c.populateMandatory(flatFields);
                });
                <span class="hljs-keyword">return</span> g_form;
            }
            $scope.paintForm = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">paintForm</span>(<span class="hljs-params">container</span>) </span>{
                <span class="hljs-keyword">return</span> $scope.okToPaintForm &amp;&amp; $scope.isContainerVisible(container);
            };
            $scope.isContainerVisible = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isContainerVisible</span>(<span class="hljs-params">container</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> formModel._fields[container.name] != <span class="hljs-string">"undefined"</span>)
                    <span class="hljs-keyword">return</span> formModel._fields[container.name].visible;
                <span class="hljs-keyword">else</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            };
            c.massageView = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">massageView</span>(<span class="hljs-params">formModel</span>) </span>{
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> formModel._view == <span class="hljs-string">"undefined"</span>)
                    <span class="hljs-keyword">return</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = formModel._view.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
                    <span class="hljs-keyword">var</span> field = formModel._view[i];
                    <span class="hljs-keyword">if</span> (field.type == <span class="hljs-string">'field'</span> &amp;&amp; !formModel._fields[field.name])
                        formModel._view.splice(i, <span class="hljs-number">1</span>);
                }
                <span class="hljs-keyword">if</span> (formModel._sections == <span class="hljs-literal">null</span>) {
                    formModel._sections = [{
                        <span class="hljs-attr">_bootstrap_cells</span>: <span class="hljs-number">12</span>,
                        <span class="hljs-attr">visible</span>: <span class="hljs-literal">true</span>,
                        <span class="hljs-attr">columns</span>: [{
                            <span class="hljs-attr">fields</span>: formModel._view
                        }]
                    }];
                }
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params"></span>) </span>{
                $scope.mandatory = [];
                formModel = $scope.formModel;
                c.massageView(formModel);
                flatFields = c.getFieldsFromView(formModel);
                isCatalogItem = c.hasCatalogVariable(flatFields);
                glideUserSession.loadCurrentUser().then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">user</span>) </span>{
                    createEnvironment(user);
                    $scope.okToPaintForm = <span class="hljs-literal">true</span>;
                    $scope.containers = formModel._sections;
                    deferredEnv.resolve();
                }).catch(deferredEnv.reject);
            }
            $scope.execItemScripts = _.once(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                deferredEnv.promise.then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    $scope.$emit(<span class="hljs-string">"spModel.fields.rendered"</span>);
                    $scope.$evalAsync(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        $scope.mandatory = c.populateMandatory(flatFields);
                        formEnvironment.initialize();
                        $scope.$emit(<span class="hljs-string">"spModel.gForm.initialized"</span>, g_form);
                    });
                });
            });

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createEnvironment</span>(<span class="hljs-params">user</span>) </span>{
                g_form = initGlideForm();
                <span class="hljs-keyword">var</span> g_modal = glideModalFactory.create({
                    <span class="hljs-attr">alert</span>: modalAlert,
                    <span class="hljs-attr">confirm</span>: modalConfirm
                });
                formEnvironment = glideFormEnvironmentFactory.createWithConfiguration(g_form, user, formModel.g_scratchpad, formModel.client_script || [], formModel.policy || [], g_modal);
                ui_g_form = formEnvironment.getUserGlideForm();
                <span class="hljs-keyword">if</span> (isCatalogItem) {
                    formEnvironment.g_env.registerExtensionPoint(<span class="hljs-string">'g_service_catalog'</span>, {
                        <span class="hljs-string">'isOrderGuide'</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                            <span class="hljs-keyword">return</span> formModel.isOrderGuideItem ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;
                        }
                    });
                    catalogGlideFormFactory.addItemEditor(g_form, formModel.sys_id, <span class="hljs-literal">null</span>, formModel.sys_id, flatFields);
                    catalogGlideFormFactory.addVariableEditor(g_form, formModel.sys_id, <span class="hljs-literal">null</span>, formModel.sys_id, flatFields);
                    c.calcPrice(formModel._fields);
                }
                formEnvironment.g_env.registerExtensionPoint(<span class="hljs-string">'spModal'</span>, spModal);
                formEnvironment.g_env.registerExtensionPoint(<span class="hljs-string">'g_list'</span>, glideListFactory.init(g_form, flatFields));
            }
            $scope.$on(<span class="hljs-string">'$destroy'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (g_form)
                    $scope.$emit(<span class="hljs-string">"spModel.gForm.destroyed"</span>, formModel.sys_id);
            });

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">modalAlert</span>(<span class="hljs-params">title, message, done</span>) </span>{
                spModal.alert(message).then(done);
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">modalConfirm</span>(<span class="hljs-params">title, message, done</span>) </span>{
                spModal.confirm(message).then(
                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        done(<span class="hljs-literal">true</span>)
                    },
                    <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        done(<span class="hljs-literal">false</span>)
                    }
                );
            }
        }
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getControl</span>(<span class="hljs-params">name</span>) </span>{
        <span class="hljs-keyword">var</span> names = <span class="hljs-keyword">this</span>.getFieldNames();
        <span class="hljs-keyword">if</span> (names.indexOf(name) == <span class="hljs-number">-1</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> GlideFormControl(<span class="hljs-keyword">this</span>, name);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GlideFormControl</span>(<span class="hljs-params">g_form, name</span>) </span>{
            <span class="hljs-keyword">this</span>.g_form = g_form;
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.options = [];
            <span class="hljs-keyword">this</span>.focus = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">focus</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"&gt;&gt; focus not implemented for "</span> + <span class="hljs-keyword">this</span>.name)
            }
            <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-keyword">this</span>, <span class="hljs-string">'value'</span>, {
                <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.g_form.getValue(<span class="hljs-keyword">this</span>.name);
                },
                <span class="hljs-attr">set</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{
                    <span class="hljs-keyword">this</span>.g_form.setValue(<span class="hljs-keyword">this</span>.name, val);
                }
            })
        }
    }
});;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
