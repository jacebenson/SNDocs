<!DOCTYPE html>

<html>
<head>
  <title>angular-animate.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="AJAXCompleter.html">
                  AJAXCompleter.js
                </a>
              
                
                <a class="source" href="AJAXEmailClientCompleter.html">
                  AJAXEmailClientCompleter.js
                </a>
              
                
                <a class="source" href="AJAXOtherCompleter.html">
                  AJAXOtherCompleter.js
                </a>
              
                
                <a class="source" href="AJAXReferenceChoice.html">
                  AJAXReferenceChoice.js
                </a>
              
                
                <a class="source" href="AJAXReferenceCompleter.html">
                  AJAXReferenceCompleter.js
                </a>
              
                
                <a class="source" href="AJAXReferenceCompleterMulti.html">
                  AJAXReferenceCompleterMulti.js
                </a>
              
                
                <a class="source" href="AJAXReferenceControls.html">
                  AJAXReferenceControls.js
                </a>
              
                
                <a class="source" href="AJAXTableCompleter.html">
                  AJAXTableCompleter.js
                </a>
              
                
                <a class="source" href="AttachmentUploader.html">
                  AttachmentUploader.js
                </a>
              
                
                <a class="source" href="AutoComplete.html">
                  AutoComplete.js
                </a>
              
                
                <a class="source" href="BoundsUtil2.html">
                  BoundsUtil2.js
                </a>
              
                
                <a class="source" href="CookieJar.html">
                  CookieJar.js
                </a>
              
                
                <a class="source" href="CustomEventManager.html">
                  CustomEventManager.js
                </a>
              
                
                <a class="source" href="DaysOfWeekElement.html">
                  DaysOfWeekElement.js
                </a>
              
                
                <a class="source" href="DerivedFields.html">
                  DerivedFields.js
                </a>
              
                
                <a class="source" href="DropTarget2.html">
                  DropTarget2.js
                </a>
              
                
                <a class="source" href="FieldListElement.html">
                  FieldListElement.js
                </a>
              
                
                <a class="source" href="GlideAPI1.html">
                  GlideAPI1.js
                </a>
              
                
                <a class="source" href="GlideAjax.html">
                  GlideAjax.js
                </a>
              
                
                <a class="source" href="GlideAjaxForm.html">
                  GlideAjaxForm.js
                </a>
              
                
                <a class="source" href="GlideBox.html">
                  GlideBox.js
                </a>
              
                
                <a class="source" href="GlideClientCache.html">
                  GlideClientCache.js
                </a>
              
                
                <a class="source" href="GlideDecoration.html">
                  GlideDecoration.js
                </a>
              
                
                <a class="source" href="GlideDialogForm.html">
                  GlideDialogForm.js
                </a>
              
                
                <a class="source" href="GlideDialogWindow.html">
                  GlideDialogWindow.js
                </a>
              
                
                <a class="source" href="GlideDraggable.html">
                  GlideDraggable.js
                </a>
              
                
                <a class="source" href="GlideDuration.html">
                  GlideDuration.js
                </a>
              
                
                <a class="source" href="GlideEvent.html">
                  GlideEvent.js
                </a>
              
                
                <a class="source" href="GlideEventHandler.html">
                  GlideEventHandler.js
                </a>
              
                
                <a class="source" href="GlideFilter14.html">
                  GlideFilter14.js
                </a>
              
                
                <a class="source" href="GlideFilterDate.html">
                  GlideFilterDate.js
                </a>
              
                
                <a class="source" href="GlideFilterDescription.html">
                  GlideFilterDescription.js
                </a>
              
                
                <a class="source" href="GlideFilterHandlers.html">
                  GlideFilterHandlers.js
                </a>
              
                
                <a class="source" href="GlideFilterItemVariables.html">
                  GlideFilterItemVariables.js
                </a>
              
                
                <a class="source" href="GlideFilterLabels.html">
                  GlideFilterLabels.js
                </a>
              
                
                <a class="source" href="GlideFilterQuestions.html">
                  GlideFilterQuestions.js
                </a>
              
                
                <a class="source" href="GlideFilterReference.html">
                  GlideFilterReference.js
                </a>
              
                
                <a class="source" href="GlideFilterReferenceMulti.html">
                  GlideFilterReferenceMulti.js
                </a>
              
                
                <a class="source" href="GlideFilterVariableMap.html">
                  GlideFilterVariableMap.js
                </a>
              
                
                <a class="source" href="GlideFilterVariables.html">
                  GlideFilterVariables.js
                </a>
              
                
                <a class="source" href="GlideForm14.html">
                  GlideForm14.js
                </a>
              
                
                <a class="source" href="GlideHeaderSearch.html">
                  GlideHeaderSearch.js
                </a>
              
                
                <a class="source" href="GlideList2.html">
                  GlideList2.js
                </a>
              
                
                <a class="source" href="GlideList2Handlers.html">
                  GlideList2Handlers.js
                </a>
              
                
                <a class="source" href="GlideList2InitEvents.html">
                  GlideList2InitEvents.js
                </a>
              
                
                <a class="source" href="GlideList2Statics.html">
                  GlideList2Statics.js
                </a>
              
                
                <a class="source" href="GlideListAggregates.html">
                  GlideListAggregates.js
                </a>
              
                
                <a class="source" href="GlideListEditor.html">
                  GlideListEditor.js
                </a>
              
                
                <a class="source" href="GlideListEditorMessaging.html">
                  GlideListEditorMessaging.js
                </a>
              
                
                <a class="source" href="GlideListElement.html">
                  GlideListElement.js
                </a>
              
                
                <a class="source" href="GlideListWidget.html">
                  GlideListWidget.js
                </a>
              
                
                <a class="source" href="GlideModal.html">
                  GlideModal.js
                </a>
              
                
                <a class="source" href="GlideModalForm.html">
                  GlideModalForm.js
                </a>
              
                
                <a class="source" href="GlideNavigation.html">
                  GlideNavigation.js
                </a>
              
                
                <a class="source" href="GlideOverlay.html">
                  GlideOverlay.js
                </a>
              
                
                <a class="source" href="GlidePane.html">
                  GlidePane.js
                </a>
              
                
                <a class="source" href="GlidePaneForm.html">
                  GlidePaneForm.js
                </a>
              
                
                <a class="source" href="GlideRecord.html">
                  GlideRecord.js
                </a>
              
                
                <a class="source" href="GlideTabs2.html">
                  GlideTabs2.js
                </a>
              
                
                <a class="source" href="GlideTabs2State.html">
                  GlideTabs2State.js
                </a>
              
                
                <a class="source" href="GlideTabs2Tab.html">
                  GlideTabs2Tab.js
                </a>
              
                
                <a class="source" href="GlideTimeElement.html">
                  GlideTimeElement.js
                </a>
              
                
                <a class="source" href="GlideTimerElement.html">
                  GlideTimerElement.js
                </a>
              
                
                <a class="source" href="GlideTransactionScope.html">
                  GlideTransactionScope.js
                </a>
              
                
                <a class="source" href="GlideUI.html">
                  GlideUI.js
                </a>
              
                
                <a class="source" href="GlideUIDefault.html">
                  GlideUIDefault.js
                </a>
              
                
                <a class="source" href="GlideUIElement.html">
                  GlideUIElement.js
                </a>
              
                
                <a class="source" href="GlideUINotification.html">
                  GlideUINotification.js
                </a>
              
                
                <a class="source" href="GlideURL.html">
                  GlideURL.js
                </a>
              
                
                <a class="source" href="GlideURLElement.html">
                  GlideURLElement.js
                </a>
              
                
                <a class="source" href="GlideUser.html">
                  GlideUser.js
                </a>
              
                
                <a class="source" href="GlideUserImageElement.html">
                  GlideUserImageElement.js
                </a>
              
                
                <a class="source" href="GlideWidgetActions.html">
                  GlideWidgetActions.js
                </a>
              
                
                <a class="source" href="GlideWidgetFilter.html">
                  GlideWidgetFilter.js
                </a>
              
                
                <a class="source" href="GlideWidgetHideOnEmpty.html">
                  GlideWidgetHideOnEmpty.js
                </a>
              
                
                <a class="source" href="GlideWidgetSearch.html">
                  GlideWidgetSearch.js
                </a>
              
                
                <a class="source" href="GlideWidgetVCR.html">
                  GlideWidgetVCR.js
                </a>
              
                
                <a class="source" href="GlideWindow.html">
                  GlideWindow.js
                </a>
              
                
                <a class="source" href="GuidedTourElementTranslator.html">
                  GuidedTourElementTranslator.js
                </a>
              
                
                <a class="source" href="GwtCellEditor.html">
                  GwtCellEditor.js
                </a>
              
                
                <a class="source" href="GwtCellSelector.html">
                  GwtCellSelector.js
                </a>
              
                
                <a class="source" href="GwtContextMenu.html">
                  GwtContextMenu.js
                </a>
              
                
                <a class="source" href="GwtCursor.html">
                  GwtCursor.js
                </a>
              
                
                <a class="source" href="GwtDate.html">
                  GwtDate.js
                </a>
              
                
                <a class="source" href="GwtDraggable.html">
                  GwtDraggable.js
                </a>
              
                
                <a class="source" href="GwtDraggableSnap.html">
                  GwtDraggableSnap.js
                </a>
              
                
                <a class="source" href="GwtExportScheduleDialog.html">
                  GwtExportScheduleDialog.js
                </a>
              
                
                <a class="source" href="GwtGridEdit.html">
                  GwtGridEdit.js
                </a>
              
                
                <a class="source" href="GwtListEditAjaxChangeSaver.html">
                  GwtListEditAjaxChangeSaver.js
                </a>
              
                
                <a class="source" href="GwtListEditAjaxValueLoader.html">
                  GwtListEditAjaxValueLoader.js
                </a>
              
                
                <a class="source" href="GwtListEditBoolean.html">
                  GwtListEditBoolean.js
                </a>
              
                
                <a class="source" href="GwtListEditCalendar.html">
                  GwtListEditCalendar.js
                </a>
              
                
                <a class="source" href="GwtListEditDependent.html">
                  GwtListEditDependent.js
                </a>
              
                
                <a class="source" href="GwtListEditDuration.html">
                  GwtListEditDuration.js
                </a>
              
                
                <a class="source" href="GwtListEditEncryptedText.html">
                  GwtListEditEncryptedText.js
                </a>
              
                
                <a class="source" href="GwtListEditError.html">
                  GwtListEditError.js
                </a>
              
                
                <a class="source" href="GwtListEditGList.html">
                  GwtListEditGList.js
                </a>
              
                
                <a class="source" href="GwtListEditGlideRecord.html">
                  GwtListEditGlideRecord.js
                </a>
              
                
                <a class="source" href="GwtListEditGridSelector.html">
                  GwtListEditGridSelector.js
                </a>
              
                
                <a class="source" href="GwtListEditInternalType.html">
                  GwtListEditInternalType.js
                </a>
              
                
                <a class="source" href="GwtListEditJournal.html">
                  GwtListEditJournal.js
                </a>
              
                
                <a class="source" href="GwtListEditMultiText.html">
                  GwtListEditMultiText.js
                </a>
              
                
                <a class="source" href="GwtListEditPassword.html">
                  GwtListEditPassword.js
                </a>
              
                
                <a class="source" href="GwtListEditRecord.html">
                  GwtListEditRecord.js
                </a>
              
                
                <a class="source" href="GwtListEditRecordDecorations.html">
                  GwtListEditRecordDecorations.js
                </a>
              
                
                <a class="source" href="GwtListEditReference.html">
                  GwtListEditReference.js
                </a>
              
                
                <a class="source" href="GwtListEditRelatedTags.html">
                  GwtListEditRelatedTags.js
                </a>
              
                
                <a class="source" href="GwtListEditSavePolicy.html">
                  GwtListEditSavePolicy.js
                </a>
              
                
                <a class="source" href="GwtListEditSelect.html">
                  GwtListEditSelect.js
                </a>
              
                
                <a class="source" href="GwtListEditTableController.html">
                  GwtListEditTableController.js
                </a>
              
                
                <a class="source" href="GwtListEditTablename.html">
                  GwtListEditTablename.js
                </a>
              
                
                <a class="source" href="GwtListEditText.html">
                  GwtListEditText.js
                </a>
              
                
                <a class="source" href="GwtListEditTranslatedField.html">
                  GwtListEditTranslatedField.js
                </a>
              
                
                <a class="source" href="GwtListEditUpdateTablename.html">
                  GwtListEditUpdateTablename.js
                </a>
              
                
                <a class="source" href="GwtListEditValueRenderer.html">
                  GwtListEditValueRenderer.js
                </a>
              
                
                <a class="source" href="GwtListEditWindow.html">
                  GwtListEditWindow.js
                </a>
              
                
                <a class="source" href="GwtListEditor.html">
                  GwtListEditor.js
                </a>
              
                
                <a class="source" href="GwtListEditorPendingChanges.html">
                  GwtListEditorPendingChanges.js
                </a>
              
                
                <a class="source" href="GwtMessage14.html">
                  GwtMessage14.js
                </a>
              
                
                <a class="source" href="GwtObservable.html">
                  GwtObservable.js
                </a>
              
                
                <a class="source" href="GwtPollDialog.html">
                  GwtPollDialog.js
                </a>
              
                
                <a class="source" href="ISO9075.html">
                  ISO9075.js
                </a>
              
                
                <a class="source" href="ListDraggableRow2.html">
                  ListDraggableRow2.js
                </a>
              
                
                <a class="source" href="ListSelectManager2.html">
                  ListSelectManager2.js
                </a>
              
                
                <a class="source" href="ListSortDual2.html">
                  ListSortDual2.js
                </a>
              
                
                <a class="source" href="ListSortWindow2.html">
                  ListSortWindow2.js
                </a>
              
                
                <a class="source" href="NOW.messaging.html">
                  NOW.messaging.js
                </a>
              
                
                <a class="source" href="NOW.messaging.record.html">
                  NOW.messaging.record.js
                </a>
              
                
                <a class="source" href="NameMapEntry.html">
                  NameMapEntry.js
                </a>
              
                
                <a class="source" href="NotificationMessage.html">
                  NotificationMessage.js
                </a>
              
                
                <a class="source" href="PageTiming14.html">
                  PageTiming14.js
                </a>
              
                
                <a class="source" href="PersonalizeForm.html">
                  PersonalizeForm.js
                </a>
              
                
                <a class="source" href="Point.html">
                  Point.js
                </a>
              
                
                <a class="source" href="SLARepairClient.html">
                  SLARepairClient.js
                </a>
              
                
                <a class="source" href="ScriptLoader.html">
                  ScriptLoader.js
                </a>
              
                
                <a class="source" href="Select.html">
                  Select.js
                </a>
              
                
                <a class="source" href="SlushBucket.html">
                  SlushBucket.js
                </a>
              
                
                <a class="source" href="SortDraggable2.html">
                  SortDraggable2.js
                </a>
              
                
                <a class="source" href="SortDropTarget2.html">
                  SortDropTarget2.js
                </a>
              
                
                <a class="source" href="SortListManager2.html">
                  SortListManager2.js
                </a>
              
                
                <a class="source" href="SortUtil2.html">
                  SortUtil2.js
                </a>
              
                
                <a class="source" href="StopWatch.html">
                  StopWatch.js
                </a>
              
                
                <a class="source" href="Table.html">
                  Table.js
                </a>
              
                
                <a class="source" href="TableElement.html">
                  TableElement.js
                </a>
              
                
                <a class="source" href="TableExtension.html">
                  TableExtension.js
                </a>
              
                
                <a class="source" href="TemplateRecord.html">
                  TemplateRecord.js
                </a>
              
                
                <a class="source" href="TextAreaElement.html">
                  TextAreaElement.js
                </a>
              
                
                <a class="source" href="UserRolesElement.html">
                  UserRolesElement.js
                </a>
              
                
                <a class="source" href="UtilityAndOverrides2.html">
                  UtilityAndOverrides2.js
                </a>
              
                
                <a class="source" href="_module.heisenberg.html">
                  _module.heisenberg.js
                </a>
              
                
                <a class="source" href="_module.html">
                  _module.js
                </a>
              
                
                <a class="source" href="ac.html">
                  ac.js
                </a>
              
                
                <a class="source" href="ac_derived_field_support.html">
                  ac_derived_field_support.js
                </a>
              
                
                <a class="source" href="accessibility.html">
                  accessibility.js
                </a>
              
                
                <a class="source" href="accessibility_tabindex.html">
                  accessibility_tabindex.js
                </a>
              
                
                <a class="source" href="affix.html">
                  affix.js
                </a>
              
                
                <a class="source" href="alert.html">
                  alert.js
                </a>
              
                
                <a class="source" href="amb.ChannelListener.html">
                  amb.ChannelListener.js
                </a>
              
                
                <a class="source" href="amb.ChannelRedirect.html">
                  amb.ChannelRedirect.js
                </a>
              
                
                <a class="source" href="amb.EventManager.html">
                  amb.EventManager.js
                </a>
              
                
                <a class="source" href="amb.Logger.html">
                  amb.Logger.js
                </a>
              
                
                <a class="source" href="amb.MessageClient.html">
                  amb.MessageClient.js
                </a>
              
                
                <a class="source" href="amb.MessageClientBuilder.html">
                  amb.MessageClientBuilder.js
                </a>
              
                
                <a class="source" href="amb.ServerConnection.html">
                  amb.ServerConnection.js
                </a>
              
                
                <a class="source" href="amb_properties.html">
                  amb_properties.js
                </a>
              
                
                <a class="source" href="angular-animate.html">
                  angular-animate.js
                </a>
              
                
                <a class="source" href="angular-sanitize.html">
                  angular-sanitize.js
                </a>
              
                
                <a class="source" href="angular.html">
                  angular.js
                </a>
              
                
                <a class="source" href="angular_includes_1.4.html">
                  angular_includes_1.4.js
                </a>
              
                
                <a class="source" href="annotations_toggle.html">
                  annotations_toggle.js
                </a>
              
                
                <a class="source" href="app.form_presence.html">
                  app.form_presence.js
                </a>
              
                
                <a class="source" href="app.ng.amb.html">
                  app.ng.amb.js
                </a>
              
                
                <a class="source" href="app_guided_tours.html">
                  app_guided_tours.js
                </a>
              
                
                <a class="source" href="button.html">
                  button.js
                </a>
              
                
                <a class="source" href="calendar.html">
                  calendar.js
                </a>
              
                
                <a class="source" href="carousel.html">
                  carousel.js
                </a>
              
                
                <a class="source" href="collapse.html">
                  collapse.js
                </a>
              
                
                <a class="source" href="cometd.html">
                  cometd.js
                </a>
              
                
                <a class="source" href="condition14_new.html">
                  condition14_new.js
                </a>
              
                
                <a class="source" href="condition14_reporting.html">
                  condition14_reporting.js
                </a>
              
                
                <a class="source" href="condition14_templates.html">
                  condition14_templates.js
                </a>
              
                
                <a class="source" href="condition_global_variables14.html">
                  condition_global_variables14.js
                </a>
              
                
                <a class="source" href="constants_embedded_help.html">
                  constants_embedded_help.js
                </a>
              
                
                <a class="source" href="context_actions.html">
                  context_actions.js
                </a>
              
                
                <a class="source" href="controller.AMBRecordWatcher.html">
                  controller.AMBRecordWatcher.js
                </a>
              
                
                <a class="source" href="controller.Stream.html">
                  controller.Stream.js
                </a>
              
                
                <a class="source" href="controller.formStream.html">
                  controller.formStream.js
                </a>
              
                
                <a class="source" href="controller.guidedTours.html">
                  controller.guidedTours.js
                </a>
              
                
                <a class="source" href="depends.html">
                  depends.js
                </a>
              
                
                <a class="source" href="directive.contenteditable.html">
                  directive.contenteditable.js
                </a>
              
                
                <a class="source" href="directive.formStreamEntry.html">
                  directive.formStreamEntry.js
                </a>
              
                
                <a class="source" href="directive.message.html">
                  directive.message.js
                </a>
              
                
                <a class="source" href="directive.scroll_form.html">
                  directive.scroll_form.js
                </a>
              
                
                <a class="source" href="directive.snAttachmentPreview.html">
                  directive.snAttachmentPreview.js
                </a>
              
                
                <a class="source" href="directive.snAvatar.html">
                  directive.snAvatar.js
                </a>
              
                
                <a class="source" href="directive.snAvatarPopover.html">
                  directive.snAvatarPopover.js
                </a>
              
                
                <a class="source" href="directive.snBindI18n.html">
                  directive.snBindI18n.js
                </a>
              
                
                <a class="source" href="directive.snBindOnce.html">
                  directive.snBindOnce.js
                </a>
              
                
                <a class="source" href="directive.snBindPopoverSelection.html">
                  directive.snBindPopoverSelection.js
                </a>
              
                
                <a class="source" href="directive.snBlurOnEnter.html">
                  directive.snBlurOnEnter.js
                </a>
              
                
                <a class="source" href="directive.snBootstrapPopover.html">
                  directive.snBootstrapPopover.js
                </a>
              
                
                <a class="source" href="directive.snChoiceList.html">
                  directive.snChoiceList.js
                </a>
              
                
                <a class="source" href="directive.snCloak.html">
                  directive.snCloak.js
                </a>
              
                
                <a class="source" href="directive.snComplexPopover.html">
                  directive.snComplexPopover.js
                </a>
              
                
                <a class="source" href="directive.snConfirmModal.html">
                  directive.snConfirmModal.js
                </a>
              
                
                <a class="source" href="directive.snContextMenu.html">
                  directive.snContextMenu.js
                </a>
              
                
                <a class="source" href="directive.snDayAgo.html">
                  directive.snDayAgo.js
                </a>
              
                
                <a class="source" href="directive.snExpandedEmail.html">
                  directive.snExpandedEmail.js
                </a>
              
                
                <a class="source" href="directive.snFieldReference.html">
                  directive.snFieldReference.js
                </a>
              
                
                <a class="source" href="directive.snFlyout.html">
                  directive.snFlyout.js
                </a>
              
                
                <a class="source" href="directive.snFocus.html">
                  directive.snFocus.js
                </a>
              
                
                <a class="source" href="directive.snGlyph.html">
                  directive.snGlyph.js
                </a>
              
                
                <a class="source" href="directive.snImageUploader.html">
                  directive.snImageUploader.js
                </a>
              
                
                <a class="source" href="directive.snLinkContent.html">
                  directive.snLinkContent.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentArticle.html">
                  directive.snLinkContentArticle.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentAttachment.html">
                  directive.snLinkContentAttachment.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentError.html">
                  directive.snLinkContentError.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentImage.html">
                  directive.snLinkContentImage.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentRecord.html">
                  directive.snLinkContentRecord.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentSoundcloud.html">
                  directive.snLinkContentSoundcloud.js
                </a>
              
                
                <a class="source" href="directive.snLinkContentYoutube.html">
                  directive.snLinkContentYoutube.js
                </a>
              
                
                <a class="source" href="directive.snModal.html">
                  directive.snModal.js
                </a>
              
                
                <a class="source" href="directive.snModalShow.html">
                  directive.snModalShow.js
                </a>
              
                
                <a class="source" href="directive.snNotification.html">
                  directive.snNotification.js
                </a>
              
                
                <a class="source" href="directive.snPopoverBasic.html">
                  directive.snPopoverBasic.js
                </a>
              
                
                <a class="source" href="directive.snPresence.html">
                  directive.snPresence.js
                </a>
              
                
                <a class="source" href="directive.snRecordPicker.html">
                  directive.snRecordPicker.js
                </a>
              
                
                <a class="source" href="directive.snReferencePicker.html">
                  directive.snReferencePicker.js
                </a>
              
                
                <a class="source" href="directive.snResizeHeight.html">
                  directive.snResizeHeight.js
                </a>
              
                
                <a class="source" href="directive.snSelectBasic.html">
                  directive.snSelectBasic.js
                </a>
              
                
                <a class="source" href="directive.snStickyHeaders.html">
                  directive.snStickyHeaders.js
                </a>
              
                
                <a class="source" href="directive.snStream.html">
                  directive.snStream.js
                </a>
              
                
                <a class="source" href="directive.snSyncWith.html">
                  directive.snSyncWith.js
                </a>
              
                
                <a class="source" href="directive.snTableReference.html">
                  directive.snTableReference.js
                </a>
              
                
                <a class="source" href="directive.snTabs.html">
                  directive.snTabs.js
                </a>
              
                
                <a class="source" href="directive.snTabsBasic.html">
                  directive.snTabsBasic.js
                </a>
              
                
                <a class="source" href="directive.snTextExpander.html">
                  directive.snTextExpander.js
                </a>
              
                
                <a class="source" href="directive.snTimeAgo.html">
                  directive.snTimeAgo.js
                </a>
              
                
                <a class="source" href="directive.snTooltipBasic.html">
                  directive.snTooltipBasic.js
                </a>
              
                
                <a class="source" href="directive.snUserAvatar.html">
                  directive.snUserAvatar.js
                </a>
              
                
                <a class="source" href="directive.snUserProfile.html">
                  directive.snUserProfile.js
                </a>
              
                
                <a class="source" href="dropdown.html">
                  dropdown.js
                </a>
              
                
                <a class="source" href="dropdowns.html">
                  dropdowns.js
                </a>
              
                
                <a class="source" href="email_activity.html">
                  email_activity.js
                </a>
              
                
                <a class="source" href="event_initialize.html">
                  event_initialize.js
                </a>
              
                
                <a class="source" href="factory.AMBOverlay.html">
                  factory.AMBOverlay.js
                </a>
              
                
                <a class="source" href="factory.ArraySynchronizer.html">
                  factory.ArraySynchronizer.js
                </a>
              
                
                <a class="source" href="factory.glideUrlBuilder.html">
                  factory.glideUrlBuilder.js
                </a>
              
                
                <a class="source" href="factory.notificationWrapper.html">
                  factory.notificationWrapper.js
                </a>
              
                
                <a class="source" href="factory.paneManager.html">
                  factory.paneManager.js
                </a>
              
                
                <a class="source" href="factory.snPresence.html">
                  factory.snPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordPresence.html">
                  factory.snRecordPresence.js
                </a>
              
                
                <a class="source" href="factory.snRecordWatcher.html">
                  factory.snRecordWatcher.js
                </a>
              
                
                <a class="source" href="factory.unwrappedHTTPPromise.html">
                  factory.unwrappedHTTPPromise.js
                </a>
              
                
                <a class="source" href="fixedHeaders.html">
                  fixedHeaders.js
                </a>
              
                
                <a class="source" href="focus-trap.html">
                  focus-trap.js
                </a>
              
                
                <a class="source" href="form_submitted_mask.html">
                  form_submitted_mask.js
                </a>
              
                
                <a class="source" href="form_tags.html">
                  form_tags.js
                </a>
              
                
                <a class="source" href="formatting.html">
                  formatting.js
                </a>
              
                
                <a class="source" href="functions.html">
                  functions.js
                </a>
              
                
                <a class="source" href="functions_attachments.html">
                  functions_attachments.js
                </a>
              
                
                <a class="source" href="functions_bootstrap14.html">
                  functions_bootstrap14.js
                </a>
              
                
                <a class="source" href="functions_calendar.html">
                  functions_calendar.js
                </a>
              
                
                <a class="source" href="functions_clipboard.html">
                  functions_clipboard.js
                </a>
              
                
                <a class="source" href="functions_email.html">
                  functions_email.js
                </a>
              
                
                <a class="source" href="functions_fontsizer.html">
                  functions_fontsizer.js
                </a>
              
                
                <a class="source" href="functions_onchange.html">
                  functions_onchange.js
                </a>
              
                
                <a class="source" href="functions_reference.html">
                  functions_reference.js
                </a>
              
                
                <a class="source" href="functions_showloading.html">
                  functions_showloading.js
                </a>
              
                
                <a class="source" href="functions_user_image.html">
                  functions_user_image.js
                </a>
              
                
                <a class="source" href="glide-highcharts-v5.html">
                  glide-highcharts-v5.js
                </a>
              
                
                <a class="source" href="guided_tours_template.html">
                  guided_tours_template.js
                </a>
              
                
                <a class="source" href="heisenberg_all.html">
                  heisenberg_all.js
                </a>
              
                
                <a class="source" href="html_class_setter.html">
                  html_class_setter.js
                </a>
              
                
                <a class="source" href="jquery-2.1.html">
                  jquery-2.1.js
                </a>
              
                
                <a class="source" href="jquery-ui-1.9.2.custom.html">
                  jquery-ui-1.9.2.custom.js
                </a>
              
                
                <a class="source" href="jquery.cometd.html">
                  jquery.cometd.js
                </a>
              
                
                <a class="source" href="jquery2_includes.html">
                  jquery2_includes.js
                </a>
              
                
                <a class="source" href="jquery_clean.html">
                  jquery_clean.js
                </a>
              
                
                <a class="source" href="jquery_no_conflict.html">
                  jquery_no_conflict.js
                </a>
              
                
                <a class="source" href="js_guided_tours_includes.html">
                  js_guided_tours_includes.js
                </a>
              
                
                <a class="source" href="js_includes_amb.html">
                  js_includes_amb.js
                </a>
              
                
                <a class="source" href="js_includes_angular.html">
                  js_includes_angular.js
                </a>
              
                
                <a class="source" href="js_includes_controls.html">
                  js_includes_controls.js
                </a>
              
                
                <a class="source" href="js_includes_customer.html">
                  js_includes_customer.js
                </a>
              
                
                <a class="source" href="js_includes_datetime.html">
                  js_includes_datetime.js
                </a>
              
                
                <a class="source" href="js_includes_doctype.html">
                  js_includes_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_form_presence.html">
                  js_includes_form_presence.js
                </a>
              
                
                <a class="source" href="js_includes_glide.html">
                  js_includes_glide.js
                </a>
              
                
                <a class="source" href="js_includes_i18n.html">
                  js_includes_i18n.js
                </a>
              
                
                <a class="source" href="js_includes_last_doctype.html">
                  js_includes_last_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_link.html">
                  js_includes_link.js
                </a>
              
                
                <a class="source" href="js_includes_list_edit_doctype.html">
                  js_includes_list_edit_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_listv2_doctype.html">
                  js_includes_listv2_doctype.js
                </a>
              
                
                <a class="source" href="js_includes_mention.html">
                  js_includes_mention.js
                </a>
              
                
                <a class="source" href="js_includes_notification.html">
                  js_includes_notification.js
                </a>
              
                
                <a class="source" href="js_includes_sorting_new.html">
                  js_includes_sorting_new.js
                </a>
              
                
                <a class="source" href="js_includes_sp.html">
                  js_includes_sp.js
                </a>
              
                
                <a class="source" href="js_includes_sp_deps.html">
                  js_includes_sp_deps.js
                </a>
              
                
                <a class="source" href="js_includes_stream.html">
                  js_includes_stream.js
                </a>
              
                
                <a class="source" href="js_includes_ui.html">
                  js_includes_ui.js
                </a>
              
                
                <a class="source" href="js_includes_ui16_form.html">
                  js_includes_ui16_form.js
                </a>
              
                
                <a class="source" href="js_includes_ui_popover.html">
                  js_includes_ui_popover.js
                </a>
              
                
                <a class="source" href="js_includes_user_profile.html">
                  js_includes_user_profile.js
                </a>
              
                
                <a class="source" href="js_includes_util.html">
                  js_includes_util.js
                </a>
              
                
                <a class="source" href="list_filter.html">
                  list_filter.js
                </a>
              
                
                <a class="source" href="magellan.CreateFavoriteModal.html">
                  magellan.CreateFavoriteModal.js
                </a>
              
                
                <a class="source" href="mentio.html">
                  mentio.js
                </a>
              
                
                <a class="source" href="modal.html">
                  modal.js
                </a>
              
                
                <a class="source" href="modals.html">
                  modals.js
                </a>
              
                
                <a class="source" href="newtag-it.html">
                  newtag-it.js
                </a>
              
                
                <a class="source" href="page_title.html">
                  page_title.js
                </a>
              
                
                <a class="source" href="popover.html">
                  popover.js
                </a>
              
                
                <a class="source" href="popovers.html">
                  popovers.js
                </a>
              
                
                <a class="source" href="popupdivs14.html">
                  popupdivs14.js
                </a>
              
                
                <a class="source" href="popups.html">
                  popups.js
                </a>
              
                
                <a class="source" href="prototype.effects.html">
                  prototype.effects.js
                </a>
              
                
                <a class="source" href="prototype.hidefix.html">
                  prototype.hidefix.js
                </a>
              
                
                <a class="source" href="prototype.html">
                  prototype.js
                </a>
              
                
                <a class="source" href="prototype.plugin.html">
                  prototype.plugin.js
                </a>
              
                
                <a class="source" href="prototype.template.html">
                  prototype.template.js
                </a>
              
                
                <a class="source" href="provider.linkContentTypes.html">
                  provider.linkContentTypes.js
                </a>
              
                
                <a class="source" href="scoped_object_generators.html">
                  scoped_object_generators.js
                </a>
              
                
                <a class="source" href="scrollable.html">
                  scrollable.js
                </a>
              
                
                <a class="source" href="scrollspy.html">
                  scrollspy.js
                </a>
              
                
                <a class="source" href="section.html">
                  section.js
                </a>
              
                
                <a class="source" href="selects.html">
                  selects.js
                </a>
              
                
                <a class="source" href="service.AMB.html">
                  service.AMB.js
                </a>
              
                
                <a class="source" href="service.authInterceptor.html">
                  service.authInterceptor.js
                </a>
              
                
                <a class="source" href="service.avatarProfilePersister.html">
                  service.avatarProfilePersister.js
                </a>
              
                
                <a class="source" href="service.dateUtils.html">
                  service.dateUtils.js
                </a>
              
                
                <a class="source" href="service.debounceFn.html">
                  service.debounceFn.js
                </a>
              
                
                <a class="source" href="service.filterExpressionParser.html">
                  service.filterExpressionParser.js
                </a>
              
                
                <a class="source" href="service.getTemplateUrl.html">
                  service.getTemplateUrl.js
                </a>
              
                
                <a class="source" href="service.guidedToursService.html">
                  service.guidedToursService.js
                </a>
              
                
                <a class="source" href="service.md5.html">
                  service.md5.js
                </a>
              
                
                <a class="source" href="service.nowServer.html">
                  service.nowServer.js
                </a>
              
                
                <a class="source" href="service.nowStream.html">
                  service.nowStream.js
                </a>
              
                
                <a class="source" href="service.priorityQueue.html">
                  service.priorityQueue.js
                </a>
              
                
                <a class="source" href="service.progressDialog.html">
                  service.progressDialog.js
                </a>
              
                
                <a class="source" href="service.queryFilter.html">
                  service.queryFilter.js
                </a>
              
                
                <a class="source" href="service.snComplexPopoverService.html">
                  service.snComplexPopoverService.js
                </a>
              
                
                <a class="source" href="service.snConnect.html">
                  service.snConnect.js
                </a>
              
                
                <a class="source" href="service.snCustomEvent.html">
                  service.snCustomEvent.js
                </a>
              
                
                <a class="source" href="service.snMention.html">
                  service.snMention.js
                </a>
              
                
                <a class="source" href="service.snNotification.html">
                  service.snNotification.js
                </a>
              
                
                <a class="source" href="service.snNotifier.html">
                  service.snNotifier.js
                </a>
              
                
                <a class="source" href="service.snResource.html">
                  service.snResource.js
                </a>
              
                
                <a class="source" href="service.snTabActivity.html">
                  service.snTabActivity.js
                </a>
              
                
                <a class="source" href="service.urlTools.html">
                  service.urlTools.js
                </a>
              
                
                <a class="source" href="service.userData.html">
                  service.userData.js
                </a>
              
                
                <a class="source" href="service.userPreferences.html">
                  service.userPreferences.js
                </a>
              
                
                <a class="source" href="simpleStorage.html">
                  simpleStorage.js
                </a>
              
                
                <a class="source" href="snPolyfill.html">
                  snPolyfill.js
                </a>
              
                
                <a class="source" href="snPopover.html">
                  snPopover.js
                </a>
              
                
                <a class="source" href="snTimeAgoSettings.html">
                  snTimeAgoSettings.js
                </a>
              
                
                <a class="source" href="streamButton.html">
                  streamButton.js
                </a>
              
                
                <a class="source" href="tabbable.html">
                  tabbable.js
                </a>
              
                
                <a class="source" href="tables.html">
                  tables.js
                </a>
              
                
                <a class="source" href="tabs.html">
                  tabs.js
                </a>
              
                
                <a class="source" href="tabs2_14.html">
                  tabs2_14.js
                </a>
              
                
                <a class="source" href="templates.html">
                  templates.js
                </a>
              
                
                <a class="source" href="textutil.html">
                  textutil.js
                </a>
              
                
                <a class="source" href="timeAgo.html">
                  timeAgo.js
                </a>
              
                
                <a class="source" href="tooltip.html">
                  tooltip.js
                </a>
              
                
                <a class="source" href="tooltips.html">
                  tooltips.js
                </a>
              
                
                <a class="source" href="transaction_scope_includes.html">
                  transaction_scope_includes.js
                </a>
              
                
                <a class="source" href="transition.html">
                  transition.js
                </a>
              
                
                <a class="source" href="ui_policy.html">
                  ui_policy.js
                </a>
              
                
                <a class="source" href="utils14.html">
                  utils14.js
                </a>
              
                
                <a class="source" href="velocity.ui.html">
                  velocity.ui.js
                </a>
              
                
                <a class="source" href="xmlhttp.html">
                  xmlhttp.js
                </a>
              
                
                <a class="source" href="z_last_include.html">
                  z_last_include.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>angular-animate.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/*! RESOURCE: /scripts/angular_1.5.8/angular-animate.js */</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">window, angular</span>) </span>{
<span class="hljs-meta">  'use strict'</span>;
  <span class="hljs-keyword">var</span> ELEMENT_NODE = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">var</span> COMMENT_NODE = <span class="hljs-number">8</span>;
  <span class="hljs-keyword">var</span> ADD_CLASS_SUFFIX = <span class="hljs-string">'-add'</span>;
  <span class="hljs-keyword">var</span> REMOVE_CLASS_SUFFIX = <span class="hljs-string">'-remove'</span>;
  <span class="hljs-keyword">var</span> EVENT_CLASS_PREFIX = <span class="hljs-string">'ng-'</span>;
  <span class="hljs-keyword">var</span> ACTIVE_CLASS_SUFFIX = <span class="hljs-string">'-active'</span>;
  <span class="hljs-keyword">var</span> PREPARE_CLASS_SUFFIX = <span class="hljs-string">'-prepare'</span>;
  <span class="hljs-keyword">var</span> NG_ANIMATE_CLASSNAME = <span class="hljs-string">'ng-animate'</span>;
  <span class="hljs-keyword">var</span> NG_ANIMATE_CHILDREN_DATA = <span class="hljs-string">'$$ngAnimateChildren'</span>;
  <span class="hljs-keyword">var</span> CSS_PREFIX = <span class="hljs-string">''</span>,
    TRANSITION_PROP, TRANSITIONEND_EVENT, ANIMATION_PROP, ANIMATIONEND_EVENT;
  <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">window</span>.ontransitionend === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) &amp;&amp; (<span class="hljs-built_in">window</span>.onwebkittransitionend !== <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)) {
    CSS_PREFIX = <span class="hljs-string">'-webkit-'</span>;
    TRANSITION_PROP = <span class="hljs-string">'WebkitTransition'</span>;
    TRANSITIONEND_EVENT = <span class="hljs-string">'webkitTransitionEnd transitionend'</span>;
  } <span class="hljs-keyword">else</span> {
    TRANSITION_PROP = <span class="hljs-string">'transition'</span>;
    TRANSITIONEND_EVENT = <span class="hljs-string">'transitionend'</span>;
  }
  <span class="hljs-keyword">if</span> ((<span class="hljs-built_in">window</span>.onanimationend === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>) &amp;&amp; (<span class="hljs-built_in">window</span>.onwebkitanimationend !== <span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)) {
    CSS_PREFIX = <span class="hljs-string">'-webkit-'</span>;
    ANIMATION_PROP = <span class="hljs-string">'WebkitAnimation'</span>;
    ANIMATIONEND_EVENT = <span class="hljs-string">'webkitAnimationEnd animationend'</span>;
  } <span class="hljs-keyword">else</span> {
    ANIMATION_PROP = <span class="hljs-string">'animation'</span>;
    ANIMATIONEND_EVENT = <span class="hljs-string">'animationend'</span>;
  }
  <span class="hljs-keyword">var</span> DURATION_KEY = <span class="hljs-string">'Duration'</span>;
  <span class="hljs-keyword">var</span> PROPERTY_KEY = <span class="hljs-string">'Property'</span>;
  <span class="hljs-keyword">var</span> DELAY_KEY = <span class="hljs-string">'Delay'</span>;
  <span class="hljs-keyword">var</span> TIMING_KEY = <span class="hljs-string">'TimingFunction'</span>;
  <span class="hljs-keyword">var</span> ANIMATION_ITERATION_COUNT_KEY = <span class="hljs-string">'IterationCount'</span>;
  <span class="hljs-keyword">var</span> ANIMATION_PLAYSTATE_KEY = <span class="hljs-string">'PlayState'</span>;
  <span class="hljs-keyword">var</span> SAFE_FAST_FORWARD_DURATION_VALUE = <span class="hljs-number">9999</span>;
  <span class="hljs-keyword">var</span> ANIMATION_DELAY_PROP = ANIMATION_PROP + DELAY_KEY;
  <span class="hljs-keyword">var</span> ANIMATION_DURATION_PROP = ANIMATION_PROP + DURATION_KEY;
  <span class="hljs-keyword">var</span> TRANSITION_DELAY_PROP = TRANSITION_PROP + DELAY_KEY;
  <span class="hljs-keyword">var</span> TRANSITION_DURATION_PROP = TRANSITION_PROP + DURATION_KEY;
  <span class="hljs-keyword">var</span> ngMinErr = angular.$$minErr(<span class="hljs-string">'ng'</span>);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">assertArg</span>(<span class="hljs-params">arg, name, reason</span>) </span>{
    <span class="hljs-keyword">if</span> (!arg) {
      <span class="hljs-keyword">throw</span> ngMinErr(<span class="hljs-string">'areq'</span>, <span class="hljs-string">"Argument '{0}' is {1}"</span>, (name || <span class="hljs-string">'?'</span>), (reason || <span class="hljs-string">"required"</span>));
    }
    <span class="hljs-keyword">return</span> arg;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mergeClasses</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-keyword">if</span> (!a &amp;&amp; !b) <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (!a) <span class="hljs-keyword">return</span> b;
    <span class="hljs-keyword">if</span> (!b) <span class="hljs-keyword">return</span> a;
    <span class="hljs-keyword">if</span> (isArray(a)) a = a.join(<span class="hljs-string">' '</span>);
    <span class="hljs-keyword">if</span> (isArray(b)) b = b.join(<span class="hljs-string">' '</span>);
    <span class="hljs-keyword">return</span> a + <span class="hljs-string">' '</span> + b;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">packageStyles</span>(<span class="hljs-params">options</span>) </span>{
    <span class="hljs-keyword">var</span> styles = {};
    <span class="hljs-keyword">if</span> (options &amp;&amp; (options.to || options.from)) {
      styles.to = options.to;
      styles.from = options.from;
    }
    <span class="hljs-keyword">return</span> styles;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">pendClasses</span>(<span class="hljs-params">classes, fix, isPrefix</span>) </span>{
    <span class="hljs-keyword">var</span> className = <span class="hljs-string">''</span>;
    classes = isArray(classes) ?
      classes :
      classes &amp;&amp; isString(classes) &amp;&amp; classes.length ?
      classes.split(<span class="hljs-regexp">/\s+/</span>) :
      [];
    forEach(classes, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">klass, i</span>) </span>{
      <span class="hljs-keyword">if</span> (klass &amp;&amp; klass.length &gt; <span class="hljs-number">0</span>) {
        className += (i &gt; <span class="hljs-number">0</span>) ? <span class="hljs-string">' '</span> : <span class="hljs-string">''</span>;
        className += isPrefix ? fix + klass :
          klass + fix;
      }
    });
    <span class="hljs-keyword">return</span> className;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeFromArray</span>(<span class="hljs-params">arr, val</span>) </span>{
    <span class="hljs-keyword">var</span> index = arr.indexOf(val);
    <span class="hljs-keyword">if</span> (val &gt;= <span class="hljs-number">0</span>) {
      arr.splice(index, <span class="hljs-number">1</span>);
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stripCommentsFromElement</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">if</span> (element <span class="hljs-keyword">instanceof</span> jqLite) {
      <span class="hljs-keyword">switch</span> (element.length) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
          <span class="hljs-keyword">return</span> element;
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
          <span class="hljs-keyword">if</span> (element[<span class="hljs-number">0</span>].nodeType === ELEMENT_NODE) {
            <span class="hljs-keyword">return</span> element;
          }
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">default</span>:
          <span class="hljs-keyword">return</span> jqLite(extractElementNode(element));
      }
    }
    <span class="hljs-keyword">if</span> (element.nodeType === ELEMENT_NODE) {
      <span class="hljs-keyword">return</span> jqLite(element);
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">extractElementNode</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">if</span> (!element[<span class="hljs-number">0</span>]) <span class="hljs-keyword">return</span> element;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; element.length; i++) {
      <span class="hljs-keyword">var</span> elm = element[i];
      <span class="hljs-keyword">if</span> (elm.nodeType == ELEMENT_NODE) {
        <span class="hljs-keyword">return</span> elm;
      }
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$$addClass</span>(<span class="hljs-params">$$jqLite, element, className</span>) </span>{
    forEach(element, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elm</span>) </span>{
      $$jqLite.addClass(elm, className);
    });
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">$$removeClass</span>(<span class="hljs-params">$$jqLite, element, className</span>) </span>{
    forEach(element, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">elm</span>) </span>{
      $$jqLite.removeClass(elm, className);
    });
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyAnimationClassesFactory</span>(<span class="hljs-params">$$jqLite</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, options</span>) </span>{
      <span class="hljs-keyword">if</span> (options.addClass) {
        $$addClass($$jqLite, element, options.addClass);
        options.addClass = <span class="hljs-literal">null</span>;
      }
      <span class="hljs-keyword">if</span> (options.removeClass) {
        $$removeClass($$jqLite, element, options.removeClass);
        options.removeClass = <span class="hljs-literal">null</span>;
      }
    };
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareAnimationOptions</span>(<span class="hljs-params">options</span>) </span>{
    options = options || {};
    <span class="hljs-keyword">if</span> (!options.$$prepared) {
      <span class="hljs-keyword">var</span> domOperation = options.domOperation || noop;
      options.domOperation = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        options.$$domOperationFired = <span class="hljs-literal">true</span>;
        domOperation();
        domOperation = noop;
      };
      options.$$prepared = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">return</span> options;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyAnimationStyles</span>(<span class="hljs-params">element, options</span>) </span>{
    applyAnimationFromStyles(element, options);
    applyAnimationToStyles(element, options);
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyAnimationFromStyles</span>(<span class="hljs-params">element, options</span>) </span>{
    <span class="hljs-keyword">if</span> (options.from) {
      element.css(options.from);
      options.from = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyAnimationToStyles</span>(<span class="hljs-params">element, options</span>) </span>{
    <span class="hljs-keyword">if</span> (options.to) {
      element.css(options.to);
      options.to = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mergeAnimationDetails</span>(<span class="hljs-params">element, oldAnimation, newAnimation</span>) </span>{
    <span class="hljs-keyword">var</span> target = oldAnimation.options || {};
    <span class="hljs-keyword">var</span> newOptions = newAnimation.options || {};
    <span class="hljs-keyword">var</span> toAdd = (target.addClass || <span class="hljs-string">''</span>) + <span class="hljs-string">' '</span> + (newOptions.addClass || <span class="hljs-string">''</span>);
    <span class="hljs-keyword">var</span> toRemove = (target.removeClass || <span class="hljs-string">''</span>) + <span class="hljs-string">' '</span> + (newOptions.removeClass || <span class="hljs-string">''</span>);
    <span class="hljs-keyword">var</span> classes = resolveElementClasses(element.attr(<span class="hljs-string">'class'</span>), toAdd, toRemove);
    <span class="hljs-keyword">if</span> (newOptions.preparationClasses) {
      target.preparationClasses = concatWithSpace(newOptions.preparationClasses, target.preparationClasses);
      <span class="hljs-keyword">delete</span> newOptions.preparationClasses;
    }
    <span class="hljs-keyword">var</span> realDomOperation = target.domOperation !== noop ? target.domOperation : <span class="hljs-literal">null</span>;
    extend(target, newOptions);
    <span class="hljs-keyword">if</span> (realDomOperation) {
      target.domOperation = realDomOperation;
    }
    <span class="hljs-keyword">if</span> (classes.addClass) {
      target.addClass = classes.addClass;
    } <span class="hljs-keyword">else</span> {
      target.addClass = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">if</span> (classes.removeClass) {
      target.removeClass = classes.removeClass;
    } <span class="hljs-keyword">else</span> {
      target.removeClass = <span class="hljs-literal">null</span>;
    }
    oldAnimation.addClass = target.addClass;
    oldAnimation.removeClass = target.removeClass;
    <span class="hljs-keyword">return</span> target;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resolveElementClasses</span>(<span class="hljs-params">existing, toAdd, toRemove</span>) </span>{
    <span class="hljs-keyword">var</span> ADD_CLASS = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> REMOVE_CLASS = <span class="hljs-number">-1</span>;
    <span class="hljs-keyword">var</span> flags = {};
    existing = splitClassesToLookup(existing);
    toAdd = splitClassesToLookup(toAdd);
    forEach(toAdd, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, key</span>) </span>{
      flags[key] = ADD_CLASS;
    });
    toRemove = splitClassesToLookup(toRemove);
    forEach(toRemove, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, key</span>) </span>{
      flags[key] = flags[key] === ADD_CLASS ? <span class="hljs-literal">null</span> : REMOVE_CLASS;
    });
    <span class="hljs-keyword">var</span> classes = {
      <span class="hljs-attr">addClass</span>: <span class="hljs-string">''</span>,
      <span class="hljs-attr">removeClass</span>: <span class="hljs-string">''</span>
    };
    forEach(flags, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val, klass</span>) </span>{
      <span class="hljs-keyword">var</span> prop, allow;
      <span class="hljs-keyword">if</span> (val === ADD_CLASS) {
        prop = <span class="hljs-string">'addClass'</span>;
        allow = !existing[klass] || existing[klass + REMOVE_CLASS_SUFFIX];
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (val === REMOVE_CLASS) {
        prop = <span class="hljs-string">'removeClass'</span>;
        allow = existing[klass] || existing[klass + ADD_CLASS_SUFFIX];
      }
      <span class="hljs-keyword">if</span> (allow) {
        <span class="hljs-keyword">if</span> (classes[prop].length) {
          classes[prop] += <span class="hljs-string">' '</span>;
        }
        classes[prop] += klass;
      }
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">splitClassesToLookup</span>(<span class="hljs-params">classes</span>) </span>{
      <span class="hljs-keyword">if</span> (isString(classes)) {
        classes = classes.split(<span class="hljs-string">' '</span>);
      }
      <span class="hljs-keyword">var</span> obj = {};
      forEach(classes, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">klass</span>) </span>{
        <span class="hljs-keyword">if</span> (klass.length) {
          obj[klass] = <span class="hljs-literal">true</span>;
        }
      });
      <span class="hljs-keyword">return</span> obj;
    }
    <span class="hljs-keyword">return</span> classes;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDomNode</span>(<span class="hljs-params">element</span>) </span>{
    <span class="hljs-keyword">return</span> (element <span class="hljs-keyword">instanceof</span> jqLite) ? element[<span class="hljs-number">0</span>] : element;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyGeneratedPreparationClasses</span>(<span class="hljs-params">element, event, options</span>) </span>{
    <span class="hljs-keyword">var</span> classes = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (event) {
      classes = pendClasses(event, EVENT_CLASS_PREFIX, <span class="hljs-literal">true</span>);
    }
    <span class="hljs-keyword">if</span> (options.addClass) {
      classes = concatWithSpace(classes, pendClasses(options.addClass, ADD_CLASS_SUFFIX));
    }
    <span class="hljs-keyword">if</span> (options.removeClass) {
      classes = concatWithSpace(classes, pendClasses(options.removeClass, REMOVE_CLASS_SUFFIX));
    }
    <span class="hljs-keyword">if</span> (classes.length) {
      options.preparationClasses = classes;
      element.addClass(classes);
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearGeneratedClasses</span>(<span class="hljs-params">element, options</span>) </span>{
    <span class="hljs-keyword">if</span> (options.preparationClasses) {
      element.removeClass(options.preparationClasses);
      options.preparationClasses = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">if</span> (options.activeClasses) {
      element.removeClass(options.activeClasses);
      options.activeClasses = <span class="hljs-literal">null</span>;
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">blockTransitions</span>(<span class="hljs-params">node, duration</span>) </span>{
    <span class="hljs-keyword">var</span> value = duration ? <span class="hljs-string">'-'</span> + duration + <span class="hljs-string">'s'</span> : <span class="hljs-string">''</span>;
    applyInlineStyle(node, [TRANSITION_DELAY_PROP, value]);
    <span class="hljs-keyword">return</span> [TRANSITION_DELAY_PROP, value];
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">blockKeyframeAnimations</span>(<span class="hljs-params">node, applyBlock</span>) </span>{
    <span class="hljs-keyword">var</span> value = applyBlock ? <span class="hljs-string">'paused'</span> : <span class="hljs-string">''</span>;
    <span class="hljs-keyword">var</span> key = ANIMATION_PROP + ANIMATION_PLAYSTATE_KEY;
    applyInlineStyle(node, [key, value]);
    <span class="hljs-keyword">return</span> [key, value];
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyInlineStyle</span>(<span class="hljs-params">node, styleTuple</span>) </span>{
    <span class="hljs-keyword">var</span> prop = styleTuple[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> value = styleTuple[<span class="hljs-number">1</span>];
    node.style[prop] = value;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">concatWithSpace</span>(<span class="hljs-params">a, b</span>) </span>{
    <span class="hljs-keyword">if</span> (!a) <span class="hljs-keyword">return</span> b;
    <span class="hljs-keyword">if</span> (!b) <span class="hljs-keyword">return</span> a;
    <span class="hljs-keyword">return</span> a + <span class="hljs-string">' '</span> + b;
  }
  <span class="hljs-keyword">var</span> $$rAFSchedulerFactory = [<span class="hljs-string">'$$rAF'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$rAF</span>) </span>{
    <span class="hljs-keyword">var</span> queue, cancelFn;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scheduler</span>(<span class="hljs-params">tasks</span>) </span>{
      queue = queue.concat(tasks);
      nextTick();
    }
    queue = scheduler.queue = [];
    scheduler.waitUntilQuiet = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
      <span class="hljs-keyword">if</span> (cancelFn) cancelFn();
      cancelFn = $$rAF(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        cancelFn = <span class="hljs-literal">null</span>;
        fn();
        nextTick();
      });
    };
    <span class="hljs-keyword">return</span> scheduler;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nextTick</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">if</span> (!queue.length) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">var</span> items = queue.shift();
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; items.length; i++) {
        items[i]();
      }
      <span class="hljs-keyword">if</span> (!cancelFn) {
        $$rAF(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">if</span> (!cancelFn) nextTick();
        });
      }
    }
  }];
  <span class="hljs-keyword">var</span> $$AnimateChildrenDirective = [<span class="hljs-string">'$interpolate'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$interpolate</span>) </span>{
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">link</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope, element, attrs</span>) </span>{
        <span class="hljs-keyword">var</span> val = attrs.ngAnimateChildren;
        <span class="hljs-keyword">if</span> (isString(val) &amp;&amp; val.length === <span class="hljs-number">0</span>) {
          element.data(NG_ANIMATE_CHILDREN_DATA, <span class="hljs-literal">true</span>);
        } <span class="hljs-keyword">else</span> {
          setData($interpolate(val)(scope));
          attrs.$observe(<span class="hljs-string">'ngAnimateChildren'</span>, setData);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setData</span>(<span class="hljs-params">value</span>) </span>{
          value = value === <span class="hljs-string">'on'</span> || value === <span class="hljs-string">'true'</span>;
          element.data(NG_ANIMATE_CHILDREN_DATA, value);
        }
      }
    };
  }];
  <span class="hljs-keyword">var</span> ANIMATE_TIMER_KEY = <span class="hljs-string">'$$animateCss'</span>;
  <span class="hljs-keyword">var</span> ONE_SECOND = <span class="hljs-number">1000</span>;
  <span class="hljs-keyword">var</span> BASE_TEN = <span class="hljs-number">10</span>;
  <span class="hljs-keyword">var</span> ELAPSED_TIME_MAX_DECIMAL_PLACES = <span class="hljs-number">3</span>;
  <span class="hljs-keyword">var</span> CLOSING_TIME_BUFFER = <span class="hljs-number">1.5</span>;
  <span class="hljs-keyword">var</span> DETECT_CSS_PROPERTIES = {
    <span class="hljs-attr">transitionDuration</span>: TRANSITION_DURATION_PROP,
    <span class="hljs-attr">transitionDelay</span>: TRANSITION_DELAY_PROP,
    <span class="hljs-attr">transitionProperty</span>: TRANSITION_PROP + PROPERTY_KEY,
    <span class="hljs-attr">animationDuration</span>: ANIMATION_DURATION_PROP,
    <span class="hljs-attr">animationDelay</span>: ANIMATION_DELAY_PROP,
    <span class="hljs-attr">animationIterationCount</span>: ANIMATION_PROP + ANIMATION_ITERATION_COUNT_KEY
  };
  <span class="hljs-keyword">var</span> DETECT_STAGGER_CSS_PROPERTIES = {
    <span class="hljs-attr">transitionDuration</span>: TRANSITION_DURATION_PROP,
    <span class="hljs-attr">transitionDelay</span>: TRANSITION_DELAY_PROP,
    <span class="hljs-attr">animationDuration</span>: ANIMATION_DURATION_PROP,
    <span class="hljs-attr">animationDelay</span>: ANIMATION_DELAY_PROP
  };

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCssKeyframeDurationStyle</span>(<span class="hljs-params">duration</span>) </span>{
    <span class="hljs-keyword">return</span> [ANIMATION_DURATION_PROP, duration + <span class="hljs-string">'s'</span>];
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCssDelayStyle</span>(<span class="hljs-params">delay, isKeyframeAnimation</span>) </span>{
    <span class="hljs-keyword">var</span> prop = isKeyframeAnimation ? ANIMATION_DELAY_PROP : TRANSITION_DELAY_PROP;
    <span class="hljs-keyword">return</span> [prop, delay + <span class="hljs-string">'s'</span>];
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeCssStyles</span>(<span class="hljs-params">$window, element, properties</span>) </span>{
    <span class="hljs-keyword">var</span> styles = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">var</span> detectedStyles = $<span class="hljs-built_in">window</span>.getComputedStyle(element) || {};
    forEach(properties, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">formalStyleName, actualStyleName</span>) </span>{
      <span class="hljs-keyword">var</span> val = detectedStyles[formalStyleName];
      <span class="hljs-keyword">if</span> (val) {
        <span class="hljs-keyword">var</span> c = val.charAt(<span class="hljs-number">0</span>);
        <span class="hljs-keyword">if</span> (c === <span class="hljs-string">'-'</span> || c === <span class="hljs-string">'+'</span> || c &gt;= <span class="hljs-number">0</span>) {
          val = parseMaxTime(val);
        }
        <span class="hljs-keyword">if</span> (val === <span class="hljs-number">0</span>) {
          val = <span class="hljs-literal">null</span>;
        }
        styles[actualStyleName] = val;
      }
    });
    <span class="hljs-keyword">return</span> styles;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseMaxTime</span>(<span class="hljs-params">str</span>) </span>{
    <span class="hljs-keyword">var</span> maxValue = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> values = str.split(<span class="hljs-regexp">/\s*,\s*/</span>);
    forEach(values, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-keyword">if</span> (value.charAt(value.length - <span class="hljs-number">1</span>) == <span class="hljs-string">'s'</span>) {
        value = value.substring(<span class="hljs-number">0</span>, value.length - <span class="hljs-number">1</span>);
      }
      value = <span class="hljs-built_in">parseFloat</span>(value) || <span class="hljs-number">0</span>;
      maxValue = maxValue ? <span class="hljs-built_in">Math</span>.max(value, maxValue) : value;
    });
    <span class="hljs-keyword">return</span> maxValue;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">truthyTimingValue</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">return</span> val === <span class="hljs-number">0</span> || val != <span class="hljs-literal">null</span>;
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCssTransitionDurationStyle</span>(<span class="hljs-params">duration, applyOnlyDuration</span>) </span>{
    <span class="hljs-keyword">var</span> style = TRANSITION_PROP;
    <span class="hljs-keyword">var</span> value = duration + <span class="hljs-string">'s'</span>;
    <span class="hljs-keyword">if</span> (applyOnlyDuration) {
      style += DURATION_KEY;
    } <span class="hljs-keyword">else</span> {
      value += <span class="hljs-string">' linear all'</span>;
    }
    <span class="hljs-keyword">return</span> [style, value];
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createLocalCacheLookup</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> cache = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">flush</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        cache = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
      },
      <span class="hljs-attr">count</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> entry = cache[key];
        <span class="hljs-keyword">return</span> entry ? entry.total : <span class="hljs-number">0</span>;
      },
      <span class="hljs-attr">get</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
        <span class="hljs-keyword">var</span> entry = cache[key];
        <span class="hljs-keyword">return</span> entry &amp;&amp; entry.value;
      },
      <span class="hljs-attr">put</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
        <span class="hljs-keyword">if</span> (!cache[key]) {
          cache[key] = {
            <span class="hljs-attr">total</span>: <span class="hljs-number">1</span>,
            <span class="hljs-attr">value</span>: value
          };
        } <span class="hljs-keyword">else</span> {
          cache[key].total++;
        }
      }
    };
  }

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">registerRestorableStyles</span>(<span class="hljs-params">backup, node, properties</span>) </span>{
    forEach(properties, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">prop</span>) </span>{
      backup[prop] = isDefined(backup[prop]) ?
        backup[prop] :
        node.style.getPropertyValue(prop);
    });
  }
  <span class="hljs-keyword">var</span> $AnimateCssProvider = [<span class="hljs-string">'$animateProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animateProvider</span>) </span>{
    <span class="hljs-keyword">var</span> gcsLookup = createLocalCacheLookup();
    <span class="hljs-keyword">var</span> gcsStaggerLookup = createLocalCacheLookup();
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$window'</span>, <span class="hljs-string">'$$jqLite'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-string">'$timeout'</span>,
      <span class="hljs-string">'$$forceReflow'</span>, <span class="hljs-string">'$sniffer'</span>, <span class="hljs-string">'$$rAFScheduler'</span>, <span class="hljs-string">'$$animateQueue'</span>,
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$window, $$jqLite, $$AnimateRunner, $timeout,
        $$forceReflow, $sniffer, $$rAFScheduler, $$animateQueue</span>) </span>{
        <span class="hljs-keyword">var</span> applyAnimationClasses = applyAnimationClassesFactory($$jqLite);
        <span class="hljs-keyword">var</span> parentCounter = <span class="hljs-number">0</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">gcsHashFn</span>(<span class="hljs-params">node, extraClasses</span>) </span>{
          <span class="hljs-keyword">var</span> KEY = <span class="hljs-string">"$$ngAnimateParentKey"</span>;
          <span class="hljs-keyword">var</span> parentNode = node.parentNode;
          <span class="hljs-keyword">var</span> parentID = parentNode[KEY] || (parentNode[KEY] = ++parentCounter);
          <span class="hljs-keyword">return</span> parentID + <span class="hljs-string">'-'</span> + node.getAttribute(<span class="hljs-string">'class'</span>) + <span class="hljs-string">'-'</span> + extraClasses;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeCachedCssStyles</span>(<span class="hljs-params">node, className, cacheKey, properties</span>) </span>{
          <span class="hljs-keyword">var</span> timings = gcsLookup.get(cacheKey);
          <span class="hljs-keyword">if</span> (!timings) {
            timings = computeCssStyles($<span class="hljs-built_in">window</span>, node, properties);
            <span class="hljs-keyword">if</span> (timings.animationIterationCount === <span class="hljs-string">'infinite'</span>) {
              timings.animationIterationCount = <span class="hljs-number">1</span>;
            }
          }
          gcsLookup.put(cacheKey, timings);
          <span class="hljs-keyword">return</span> timings;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeCachedCssStaggerStyles</span>(<span class="hljs-params">node, className, cacheKey, properties</span>) </span>{
          <span class="hljs-keyword">var</span> stagger;
          <span class="hljs-keyword">if</span> (gcsLookup.count(cacheKey) &gt; <span class="hljs-number">0</span>) {
            stagger = gcsStaggerLookup.get(cacheKey);
            <span class="hljs-keyword">if</span> (!stagger) {
              <span class="hljs-keyword">var</span> staggerClassName = pendClasses(className, <span class="hljs-string">'-stagger'</span>);
              $$jqLite.addClass(node, staggerClassName);
              stagger = computeCssStyles($<span class="hljs-built_in">window</span>, node, properties);
              stagger.animationDuration = <span class="hljs-built_in">Math</span>.max(stagger.animationDuration, <span class="hljs-number">0</span>);
              stagger.transitionDuration = <span class="hljs-built_in">Math</span>.max(stagger.transitionDuration, <span class="hljs-number">0</span>);
              $$jqLite.removeClass(node, staggerClassName);
              gcsStaggerLookup.put(cacheKey, stagger);
            }
          }
          <span class="hljs-keyword">return</span> stagger || {};
        }
        <span class="hljs-keyword">var</span> cancelLastRAFRequest;
        <span class="hljs-keyword">var</span> rafWaitQueue = [];

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">waitUntilQuiet</span>(<span class="hljs-params">callback</span>) </span>{
          rafWaitQueue.push(callback);
          $$rAFScheduler.waitUntilQuiet(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            gcsLookup.flush();
            gcsStaggerLookup.flush();
            <span class="hljs-keyword">var</span> pageWidth = $$forceReflow();
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; rafWaitQueue.length; i++) {
              rafWaitQueue[i](pageWidth);
            }
            rafWaitQueue.length = <span class="hljs-number">0</span>;
          });
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeTimings</span>(<span class="hljs-params">node, className, cacheKey</span>) </span>{
          <span class="hljs-keyword">var</span> timings = computeCachedCssStyles(node, className, cacheKey, DETECT_CSS_PROPERTIES);
          <span class="hljs-keyword">var</span> aD = timings.animationDelay;
          <span class="hljs-keyword">var</span> tD = timings.transitionDelay;
          timings.maxDelay = aD &amp;&amp; tD ?
            <span class="hljs-built_in">Math</span>.max(aD, tD) :
            (aD || tD);
          timings.maxDuration = <span class="hljs-built_in">Math</span>.max(
            timings.animationDuration * timings.animationIterationCount,
            timings.transitionDuration);
          <span class="hljs-keyword">return</span> timings;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">init</span>(<span class="hljs-params">element, initialOptions</span>) </span>{
          <span class="hljs-keyword">var</span> options = initialOptions || {};
          <span class="hljs-keyword">if</span> (!options.$$prepared) {
            options = prepareAnimationOptions(copy(options));
          }
          <span class="hljs-keyword">var</span> restoreStyles = {};
          <span class="hljs-keyword">var</span> node = getDomNode(element);
          <span class="hljs-keyword">if</span> (!node ||
            !node.parentNode ||
            !$$animateQueue.enabled()) {
            <span class="hljs-keyword">return</span> closeAndReturnNoopAnimator();
          }
          <span class="hljs-keyword">var</span> temporaryStyles = [];
          <span class="hljs-keyword">var</span> classes = element.attr(<span class="hljs-string">'class'</span>);
          <span class="hljs-keyword">var</span> styles = packageStyles(options);
          <span class="hljs-keyword">var</span> animationClosed;
          <span class="hljs-keyword">var</span> animationPaused;
          <span class="hljs-keyword">var</span> animationCompleted;
          <span class="hljs-keyword">var</span> runner;
          <span class="hljs-keyword">var</span> runnerHost;
          <span class="hljs-keyword">var</span> maxDelay;
          <span class="hljs-keyword">var</span> maxDelayTime;
          <span class="hljs-keyword">var</span> maxDuration;
          <span class="hljs-keyword">var</span> maxDurationTime;
          <span class="hljs-keyword">var</span> startTime;
          <span class="hljs-keyword">var</span> events = [];
          <span class="hljs-keyword">if</span> (options.duration === <span class="hljs-number">0</span> || (!$sniffer.animations &amp;&amp; !$sniffer.transitions)) {
            <span class="hljs-keyword">return</span> closeAndReturnNoopAnimator();
          }
          <span class="hljs-keyword">var</span> method = options.event &amp;&amp; isArray(options.event) ?
            options.event.join(<span class="hljs-string">' '</span>) :
            options.event;
          <span class="hljs-keyword">var</span> isStructural = method &amp;&amp; options.structural;
          <span class="hljs-keyword">var</span> structuralClassName = <span class="hljs-string">''</span>;
          <span class="hljs-keyword">var</span> addRemoveClassName = <span class="hljs-string">''</span>;
          <span class="hljs-keyword">if</span> (isStructural) {
            structuralClassName = pendClasses(method, EVENT_CLASS_PREFIX, <span class="hljs-literal">true</span>);
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (method) {
            structuralClassName = method;
          }
          <span class="hljs-keyword">if</span> (options.addClass) {
            addRemoveClassName += pendClasses(options.addClass, ADD_CLASS_SUFFIX);
          }
          <span class="hljs-keyword">if</span> (options.removeClass) {
            <span class="hljs-keyword">if</span> (addRemoveClassName.length) {
              addRemoveClassName += <span class="hljs-string">' '</span>;
            }
            addRemoveClassName += pendClasses(options.removeClass, REMOVE_CLASS_SUFFIX);
          }
          <span class="hljs-keyword">if</span> (options.applyClassesEarly &amp;&amp; addRemoveClassName.length) {
            applyAnimationClasses(element, options);
          }
          <span class="hljs-keyword">var</span> preparationClasses = [structuralClassName, addRemoveClassName].join(<span class="hljs-string">' '</span>).trim();
          <span class="hljs-keyword">var</span> fullClassName = classes + <span class="hljs-string">' '</span> + preparationClasses;
          <span class="hljs-keyword">var</span> activeClasses = pendClasses(preparationClasses, ACTIVE_CLASS_SUFFIX);
          <span class="hljs-keyword">var</span> hasToStyles = styles.to &amp;&amp; <span class="hljs-built_in">Object</span>.keys(styles.to).length &gt; <span class="hljs-number">0</span>;
          <span class="hljs-keyword">var</span> containsKeyframeAnimation = (options.keyframeStyle || <span class="hljs-string">''</span>).length &gt; <span class="hljs-number">0</span>;
          <span class="hljs-keyword">if</span> (!containsKeyframeAnimation &amp;&amp;
            !hasToStyles &amp;&amp;
            !preparationClasses) {
            <span class="hljs-keyword">return</span> closeAndReturnNoopAnimator();
          }
          <span class="hljs-keyword">var</span> cacheKey, stagger;
          <span class="hljs-keyword">if</span> (options.stagger &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">var</span> staggerVal = <span class="hljs-built_in">parseFloat</span>(options.stagger);
            stagger = {
              <span class="hljs-attr">transitionDelay</span>: staggerVal,
              <span class="hljs-attr">animationDelay</span>: staggerVal,
              <span class="hljs-attr">transitionDuration</span>: <span class="hljs-number">0</span>,
              <span class="hljs-attr">animationDuration</span>: <span class="hljs-number">0</span>
            };
          } <span class="hljs-keyword">else</span> {
            cacheKey = gcsHashFn(node, fullClassName);
            stagger = computeCachedCssStaggerStyles(node, preparationClasses, cacheKey, DETECT_STAGGER_CSS_PROPERTIES);
          }
          <span class="hljs-keyword">if</span> (!options.$$skipPreparationClasses) {
            $$jqLite.addClass(element, preparationClasses);
          }
          <span class="hljs-keyword">var</span> applyOnlyDuration;
          <span class="hljs-keyword">if</span> (options.transitionStyle) {
            <span class="hljs-keyword">var</span> transitionStyle = [TRANSITION_PROP, options.transitionStyle];
            applyInlineStyle(node, transitionStyle);
            temporaryStyles.push(transitionStyle);
          }
          <span class="hljs-keyword">if</span> (options.duration &gt;= <span class="hljs-number">0</span>) {
            applyOnlyDuration = node.style[TRANSITION_PROP].length &gt; <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> durationStyle = getCssTransitionDurationStyle(options.duration, applyOnlyDuration);
            applyInlineStyle(node, durationStyle);
            temporaryStyles.push(durationStyle);
          }
          <span class="hljs-keyword">if</span> (options.keyframeStyle) {
            <span class="hljs-keyword">var</span> keyframeStyle = [ANIMATION_PROP, options.keyframeStyle];
            applyInlineStyle(node, keyframeStyle);
            temporaryStyles.push(keyframeStyle);
          }
          <span class="hljs-keyword">var</span> itemIndex = stagger ?
            options.staggerIndex &gt;= <span class="hljs-number">0</span> ?
            options.staggerIndex :
            gcsLookup.count(cacheKey) :
            <span class="hljs-number">0</span>;
          <span class="hljs-keyword">var</span> isFirst = itemIndex === <span class="hljs-number">0</span>;
          <span class="hljs-keyword">if</span> (isFirst &amp;&amp; !options.skipBlocking) {
            blockTransitions(node, SAFE_FAST_FORWARD_DURATION_VALUE);
          }
          <span class="hljs-keyword">var</span> timings = computeTimings(node, fullClassName, cacheKey);
          <span class="hljs-keyword">var</span> relativeDelay = timings.maxDelay;
          maxDelay = <span class="hljs-built_in">Math</span>.max(relativeDelay, <span class="hljs-number">0</span>);
          maxDuration = timings.maxDuration;
          <span class="hljs-keyword">var</span> flags = {};
          flags.hasTransitions = timings.transitionDuration &gt; <span class="hljs-number">0</span>;
          flags.hasAnimations = timings.animationDuration &gt; <span class="hljs-number">0</span>;
          flags.hasTransitionAll = flags.hasTransitions &amp;&amp; timings.transitionProperty == <span class="hljs-string">'all'</span>;
          flags.applyTransitionDuration = hasToStyles &amp;&amp; (
            (flags.hasTransitions &amp;&amp; !flags.hasTransitionAll) ||
            (flags.hasAnimations &amp;&amp; !flags.hasTransitions));
          flags.applyAnimationDuration = options.duration &amp;&amp; flags.hasAnimations;
          flags.applyTransitionDelay = truthyTimingValue(options.delay) &amp;&amp; (flags.applyTransitionDuration || flags.hasTransitions);
          flags.applyAnimationDelay = truthyTimingValue(options.delay) &amp;&amp; flags.hasAnimations;
          flags.recalculateTimingStyles = addRemoveClassName.length &gt; <span class="hljs-number">0</span>;
          <span class="hljs-keyword">if</span> (flags.applyTransitionDuration || flags.applyAnimationDuration) {
            maxDuration = options.duration ? <span class="hljs-built_in">parseFloat</span>(options.duration) : maxDuration;
            <span class="hljs-keyword">if</span> (flags.applyTransitionDuration) {
              flags.hasTransitions = <span class="hljs-literal">true</span>;
              timings.transitionDuration = maxDuration;
              applyOnlyDuration = node.style[TRANSITION_PROP + PROPERTY_KEY].length &gt; <span class="hljs-number">0</span>;
              temporaryStyles.push(getCssTransitionDurationStyle(maxDuration, applyOnlyDuration));
            }
            <span class="hljs-keyword">if</span> (flags.applyAnimationDuration) {
              flags.hasAnimations = <span class="hljs-literal">true</span>;
              timings.animationDuration = maxDuration;
              temporaryStyles.push(getCssKeyframeDurationStyle(maxDuration));
            }
          }
          <span class="hljs-keyword">if</span> (maxDuration === <span class="hljs-number">0</span> &amp;&amp; !flags.recalculateTimingStyles) {
            <span class="hljs-keyword">return</span> closeAndReturnNoopAnimator();
          }
          <span class="hljs-keyword">if</span> (options.delay != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">var</span> delayStyle;
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> options.delay !== <span class="hljs-string">"boolean"</span>) {
              delayStyle = <span class="hljs-built_in">parseFloat</span>(options.delay);
              maxDelay = <span class="hljs-built_in">Math</span>.max(delayStyle, <span class="hljs-number">0</span>);
            }
            <span class="hljs-keyword">if</span> (flags.applyTransitionDelay) {
              temporaryStyles.push(getCssDelayStyle(delayStyle));
            }
            <span class="hljs-keyword">if</span> (flags.applyAnimationDelay) {
              temporaryStyles.push(getCssDelayStyle(delayStyle, <span class="hljs-literal">true</span>));
            }
          }
          <span class="hljs-keyword">if</span> (options.duration == <span class="hljs-literal">null</span> &amp;&amp; timings.transitionDuration &gt; <span class="hljs-number">0</span>) {
            flags.recalculateTimingStyles = flags.recalculateTimingStyles || isFirst;
          }
          maxDelayTime = maxDelay * ONE_SECOND;
          maxDurationTime = maxDuration * ONE_SECOND;
          <span class="hljs-keyword">if</span> (!options.skipBlocking) {
            flags.blockTransition = timings.transitionDuration &gt; <span class="hljs-number">0</span>;
            flags.blockKeyframeAnimation = timings.animationDuration &gt; <span class="hljs-number">0</span> &amp;&amp;
              stagger.animationDelay &gt; <span class="hljs-number">0</span> &amp;&amp;
              stagger.animationDuration === <span class="hljs-number">0</span>;
          }
          <span class="hljs-keyword">if</span> (options.from) {
            <span class="hljs-keyword">if</span> (options.cleanupStyles) {
              registerRestorableStyles(restoreStyles, node, <span class="hljs-built_in">Object</span>.keys(options.from));
            }
            applyAnimationFromStyles(element, options);
          }
          <span class="hljs-keyword">if</span> (flags.blockTransition || flags.blockKeyframeAnimation) {
            applyBlocking(maxDuration);
          } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!options.skipBlocking) {
            blockTransitions(node, <span class="hljs-literal">false</span>);
          }
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">$$willAnimate</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">end</span>: endFn,
            <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">if</span> (animationClosed) <span class="hljs-keyword">return</span>;
              runnerHost = {
                <span class="hljs-attr">end</span>: endFn,
                <span class="hljs-attr">cancel</span>: cancelFn,
                <span class="hljs-attr">resume</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-attr">pause</span>: <span class="hljs-literal">null</span>
              };
              runner = <span class="hljs-keyword">new</span> $$AnimateRunner(runnerHost);
              waitUntilQuiet(start);
              <span class="hljs-keyword">return</span> runner;
            }
          };

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endFn</span>(<span class="hljs-params"></span>) </span>{
            close();
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cancelFn</span>(<span class="hljs-params"></span>) </span>{
            close(<span class="hljs-literal">true</span>);
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span>(<span class="hljs-params">rejected</span>) </span>{
            <span class="hljs-keyword">if</span> (animationClosed || (animationCompleted &amp;&amp; animationPaused)) <span class="hljs-keyword">return</span>;
            animationClosed = <span class="hljs-literal">true</span>;
            animationPaused = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">if</span> (!options.$$skipPreparationClasses) {
              $$jqLite.removeClass(element, preparationClasses);
            }
            $$jqLite.removeClass(element, activeClasses);
            blockKeyframeAnimations(node, <span class="hljs-literal">false</span>);
            blockTransitions(node, <span class="hljs-literal">false</span>);
            forEach(temporaryStyles, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
              node.style[entry[<span class="hljs-number">0</span>]] = <span class="hljs-string">''</span>;
            });
            applyAnimationClasses(element, options);
            applyAnimationStyles(element, options);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Object</span>.keys(restoreStyles).length) {
              forEach(restoreStyles, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, prop</span>) </span>{
                value ? node.style.setProperty(prop, value) :
                  node.style.removeProperty(prop);
              });
            }
            <span class="hljs-keyword">if</span> (options.onDone) {
              options.onDone();
            }
            <span class="hljs-keyword">if</span> (events &amp;&amp; events.length) {
              element.off(events.join(<span class="hljs-string">' '</span>), onAnimationProgress);
            }
            <span class="hljs-keyword">var</span> animationTimerData = element.data(ANIMATE_TIMER_KEY);
            <span class="hljs-keyword">if</span> (animationTimerData) {
              $timeout.cancel(animationTimerData[<span class="hljs-number">0</span>].timer);
              element.removeData(ANIMATE_TIMER_KEY);
            }
            <span class="hljs-keyword">if</span> (runner) {
              runner.complete(!rejected);
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyBlocking</span>(<span class="hljs-params">duration</span>) </span>{
            <span class="hljs-keyword">if</span> (flags.blockTransition) {
              blockTransitions(node, duration);
            }
            <span class="hljs-keyword">if</span> (flags.blockKeyframeAnimation) {
              blockKeyframeAnimations(node, !!duration);
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeAndReturnNoopAnimator</span>(<span class="hljs-params"></span>) </span>{
            runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
              <span class="hljs-attr">end</span>: endFn,
              <span class="hljs-attr">cancel</span>: cancelFn
            });
            waitUntilQuiet(noop);
            close();
            <span class="hljs-keyword">return</span> {
              <span class="hljs-attr">$$willAnimate</span>: <span class="hljs-literal">false</span>,
              <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> runner;
              },
              <span class="hljs-attr">end</span>: endFn
            };
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAnimationProgress</span>(<span class="hljs-params">event</span>) </span>{
            event.stopPropagation();
            <span class="hljs-keyword">var</span> ev = event.originalEvent || event;
            <span class="hljs-keyword">var</span> timeStamp = ev.$manualTimeStamp || <span class="hljs-built_in">Date</span>.now();
            <span class="hljs-keyword">var</span> elapsedTime = <span class="hljs-built_in">parseFloat</span>(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.max(timeStamp - startTime, <span class="hljs-number">0</span>) &gt;= maxDelayTime &amp;&amp; elapsedTime &gt;= maxDuration) {
              animationCompleted = <span class="hljs-literal">true</span>;
              close();
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">start</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (animationClosed) <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">if</span> (!node.parentNode) {
              close();
              <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> playPause = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">playAnimation</span>) </span>{
              <span class="hljs-keyword">if</span> (!animationCompleted) {
                animationPaused = !playAnimation;
                <span class="hljs-keyword">if</span> (timings.animationDuration) {
                  <span class="hljs-keyword">var</span> value = blockKeyframeAnimations(node, animationPaused);
                  animationPaused
                    ?
                    temporaryStyles.push(value) :
                    removeFromArray(temporaryStyles, value);
                }
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (animationPaused &amp;&amp; playAnimation) {
                animationPaused = <span class="hljs-literal">false</span>;
                close();
              }
            };
            <span class="hljs-keyword">var</span> maxStagger = itemIndex &gt; <span class="hljs-number">0</span> &amp;&amp;
              ((timings.transitionDuration &amp;&amp; stagger.transitionDuration === <span class="hljs-number">0</span>) ||
                (timings.animationDuration &amp;&amp; stagger.animationDuration === <span class="hljs-number">0</span>)) &amp;&amp;
              <span class="hljs-built_in">Math</span>.max(stagger.animationDelay, stagger.transitionDelay);
            <span class="hljs-keyword">if</span> (maxStagger) {
              $timeout(triggerAnimationStart,
                <span class="hljs-built_in">Math</span>.floor(maxStagger * itemIndex * ONE_SECOND),
                <span class="hljs-literal">false</span>);
            } <span class="hljs-keyword">else</span> {
              triggerAnimationStart();
            }
            runnerHost.resume = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              playPause(<span class="hljs-literal">true</span>);
            };
            runnerHost.pause = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              playPause(<span class="hljs-literal">false</span>);
            };

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">triggerAnimationStart</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">if</span> (animationClosed) <span class="hljs-keyword">return</span>;
              applyBlocking(<span class="hljs-literal">false</span>);
              forEach(temporaryStyles, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
                <span class="hljs-keyword">var</span> key = entry[<span class="hljs-number">0</span>];
                <span class="hljs-keyword">var</span> value = entry[<span class="hljs-number">1</span>];
                node.style[key] = value;
              });
              applyAnimationClasses(element, options);
              $$jqLite.addClass(element, activeClasses);
              <span class="hljs-keyword">if</span> (flags.recalculateTimingStyles) {
                fullClassName = node.className + <span class="hljs-string">' '</span> + preparationClasses;
                cacheKey = gcsHashFn(node, fullClassName);
                timings = computeTimings(node, fullClassName, cacheKey);
                relativeDelay = timings.maxDelay;
                maxDelay = <span class="hljs-built_in">Math</span>.max(relativeDelay, <span class="hljs-number">0</span>);
                maxDuration = timings.maxDuration;
                <span class="hljs-keyword">if</span> (maxDuration === <span class="hljs-number">0</span>) {
                  close();
                  <span class="hljs-keyword">return</span>;
                }
                flags.hasTransitions = timings.transitionDuration &gt; <span class="hljs-number">0</span>;
                flags.hasAnimations = timings.animationDuration &gt; <span class="hljs-number">0</span>;
              }
              <span class="hljs-keyword">if</span> (flags.applyAnimationDelay) {
                relativeDelay = <span class="hljs-keyword">typeof</span> options.delay !== <span class="hljs-string">"boolean"</span> &amp;&amp; truthyTimingValue(options.delay) ?
                  <span class="hljs-built_in">parseFloat</span>(options.delay) :
                  relativeDelay;
                maxDelay = <span class="hljs-built_in">Math</span>.max(relativeDelay, <span class="hljs-number">0</span>);
                timings.animationDelay = relativeDelay;
                delayStyle = getCssDelayStyle(relativeDelay, <span class="hljs-literal">true</span>);
                temporaryStyles.push(delayStyle);
                node.style[delayStyle[<span class="hljs-number">0</span>]] = delayStyle[<span class="hljs-number">1</span>];
              }
              maxDelayTime = maxDelay * ONE_SECOND;
              maxDurationTime = maxDuration * ONE_SECOND;
              <span class="hljs-keyword">if</span> (options.easing) {
                <span class="hljs-keyword">var</span> easeProp, easeVal = options.easing;
                <span class="hljs-keyword">if</span> (flags.hasTransitions) {
                  easeProp = TRANSITION_PROP + TIMING_KEY;
                  temporaryStyles.push([easeProp, easeVal]);
                  node.style[easeProp] = easeVal;
                }
                <span class="hljs-keyword">if</span> (flags.hasAnimations) {
                  easeProp = ANIMATION_PROP + TIMING_KEY;
                  temporaryStyles.push([easeProp, easeVal]);
                  node.style[easeProp] = easeVal;
                }
              }
              <span class="hljs-keyword">if</span> (timings.transitionDuration) {
                events.push(TRANSITIONEND_EVENT);
              }
              <span class="hljs-keyword">if</span> (timings.animationDuration) {
                events.push(ANIMATIONEND_EVENT);
              }
              startTime = <span class="hljs-built_in">Date</span>.now();
              <span class="hljs-keyword">var</span> timerTime = maxDelayTime + CLOSING_TIME_BUFFER * maxDurationTime;
              <span class="hljs-keyword">var</span> endTime = startTime + timerTime;
              <span class="hljs-keyword">var</span> animationsData = element.data(ANIMATE_TIMER_KEY) || [];
              <span class="hljs-keyword">var</span> setupFallbackTimer = <span class="hljs-literal">true</span>;
              <span class="hljs-keyword">if</span> (animationsData.length) {
                <span class="hljs-keyword">var</span> currentTimerData = animationsData[<span class="hljs-number">0</span>];
                setupFallbackTimer = endTime &gt; currentTimerData.expectedEndTime;
                <span class="hljs-keyword">if</span> (setupFallbackTimer) {
                  $timeout.cancel(currentTimerData.timer);
                } <span class="hljs-keyword">else</span> {
                  animationsData.push(close);
                }
              }
              <span class="hljs-keyword">if</span> (setupFallbackTimer) {
                <span class="hljs-keyword">var</span> timer = $timeout(onAnimationExpired, timerTime, <span class="hljs-literal">false</span>);
                animationsData[<span class="hljs-number">0</span>] = {
                  <span class="hljs-attr">timer</span>: timer,
                  <span class="hljs-attr">expectedEndTime</span>: endTime
                };
                animationsData.push(close);
                element.data(ANIMATE_TIMER_KEY, animationsData);
              }
              <span class="hljs-keyword">if</span> (events.length) {
                element.on(events.join(<span class="hljs-string">' '</span>), onAnimationProgress);
              }
              <span class="hljs-keyword">if</span> (options.to) {
                <span class="hljs-keyword">if</span> (options.cleanupStyles) {
                  registerRestorableStyles(restoreStyles, node, <span class="hljs-built_in">Object</span>.keys(options.to));
                }
                applyAnimationToStyles(element, options);
              }
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onAnimationExpired</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> animationsData = element.data(ANIMATE_TIMER_KEY);
              <span class="hljs-keyword">if</span> (animationsData) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; animationsData.length; i++) {
                  animationsData[i]();
                }
                element.removeData(ANIMATE_TIMER_KEY);
              }
            }
          }
        };
      }
    ];
  }];
  <span class="hljs-keyword">var</span> $$AnimateCssDriverProvider = [<span class="hljs-string">'$$animationProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$animationProvider</span>) </span>{
    $$animationProvider.drivers.push(<span class="hljs-string">'$$animateCssDriver'</span>);
    <span class="hljs-keyword">var</span> NG_ANIMATE_SHIM_CLASS_NAME = <span class="hljs-string">'ng-animate-shim'</span>;
    <span class="hljs-keyword">var</span> NG_ANIMATE_ANCHOR_CLASS_NAME = <span class="hljs-string">'ng-anchor'</span>;
    <span class="hljs-keyword">var</span> NG_OUT_ANCHOR_CLASS_NAME = <span class="hljs-string">'ng-anchor-out'</span>;
    <span class="hljs-keyword">var</span> NG_IN_ANCHOR_CLASS_NAME = <span class="hljs-string">'ng-anchor-in'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isDocumentFragment</span>(<span class="hljs-params">node</span>) </span>{
      <span class="hljs-keyword">return</span> node.parentNode &amp;&amp; node.parentNode.nodeType === <span class="hljs-number">11</span>;
    }
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$animateCss'</span>, <span class="hljs-string">'$rootScope'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-string">'$rootElement'</span>, <span class="hljs-string">'$sniffer'</span>, <span class="hljs-string">'$$jqLite'</span>, <span class="hljs-string">'$document'</span>,
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animateCss, $rootScope, $$AnimateRunner, $rootElement, $sniffer, $$jqLite, $document</span>) </span>{
        <span class="hljs-keyword">if</span> (!$sniffer.animations &amp;&amp; !$sniffer.transitions) <span class="hljs-keyword">return</span> noop;
        <span class="hljs-keyword">var</span> bodyNode = $<span class="hljs-built_in">document</span>[<span class="hljs-number">0</span>].body;
        <span class="hljs-keyword">var</span> rootNode = getDomNode($rootElement);
        <span class="hljs-keyword">var</span> rootBodyElement = jqLite(
          isDocumentFragment(rootNode) || bodyNode.contains(rootNode) ? rootNode : bodyNode
        );
        <span class="hljs-keyword">var</span> applyAnimationClasses = applyAnimationClassesFactory($$jqLite);
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initDriverFn</span>(<span class="hljs-params">animationDetails</span>) </span>{
          <span class="hljs-keyword">return</span> animationDetails.from &amp;&amp; animationDetails.to ?
            prepareFromToAnchorAnimation(animationDetails.from,
              animationDetails.to,
              animationDetails.classes,
              animationDetails.anchors) :
            prepareRegularAnimation(animationDetails);
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterCssClasses</span>(<span class="hljs-params">classes</span>) </span>{
          <span class="hljs-keyword">return</span> classes.replace(<span class="hljs-regexp">/\bng-\S+\b/g</span>, <span class="hljs-string">''</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUniqueValues</span>(<span class="hljs-params">a, b</span>) </span>{
          <span class="hljs-keyword">if</span> (isString(a)) a = a.split(<span class="hljs-string">' '</span>);
          <span class="hljs-keyword">if</span> (isString(b)) b = b.split(<span class="hljs-string">' '</span>);
          <span class="hljs-keyword">return</span> a.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) </span>{
            <span class="hljs-keyword">return</span> b.indexOf(val) === <span class="hljs-number">-1</span>;
          }).join(<span class="hljs-string">' '</span>);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareAnchoredAnimation</span>(<span class="hljs-params">classes, outAnchor, inAnchor</span>) </span>{
          <span class="hljs-keyword">var</span> clone = jqLite(getDomNode(outAnchor).cloneNode(<span class="hljs-literal">true</span>));
          <span class="hljs-keyword">var</span> startingClasses = filterCssClasses(getClassVal(clone));
          outAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);
          inAnchor.addClass(NG_ANIMATE_SHIM_CLASS_NAME);
          clone.addClass(NG_ANIMATE_ANCHOR_CLASS_NAME);
          rootBodyElement.append(clone);
          <span class="hljs-keyword">var</span> animatorIn, animatorOut = prepareOutAnimation();
          <span class="hljs-keyword">if</span> (!animatorOut) {
            animatorIn = prepareInAnimation();
            <span class="hljs-keyword">if</span> (!animatorIn) {
              <span class="hljs-keyword">return</span> end();
            }
          }
          <span class="hljs-keyword">var</span> startingAnimator = animatorOut || animatorIn;
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> runner;
              <span class="hljs-keyword">var</span> currentAnimation = startingAnimator.start();
              currentAnimation.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                currentAnimation = <span class="hljs-literal">null</span>;
                <span class="hljs-keyword">if</span> (!animatorIn) {
                  animatorIn = prepareInAnimation();
                  <span class="hljs-keyword">if</span> (animatorIn) {
                    currentAnimation = animatorIn.start();
                    currentAnimation.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                      currentAnimation = <span class="hljs-literal">null</span>;
                      end();
                      runner.complete();
                    });
                    <span class="hljs-keyword">return</span> currentAnimation;
                  }
                }
                end();
                runner.complete();
              });
              runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
                <span class="hljs-attr">end</span>: endFn,
                <span class="hljs-attr">cancel</span>: endFn
              });
              <span class="hljs-keyword">return</span> runner;

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endFn</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (currentAnimation) {
                  currentAnimation.end();
                }
              }
            }
          };

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calculateAnchorStyles</span>(<span class="hljs-params">anchor</span>) </span>{
            <span class="hljs-keyword">var</span> styles = {};
            <span class="hljs-keyword">var</span> coords = getDomNode(anchor).getBoundingClientRect();
            forEach([<span class="hljs-string">'width'</span>, <span class="hljs-string">'height'</span>, <span class="hljs-string">'top'</span>, <span class="hljs-string">'left'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
              <span class="hljs-keyword">var</span> value = coords[key];
              <span class="hljs-keyword">switch</span> (key) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'top'</span>:
                  value += bodyNode.scrollTop;
                  <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> <span class="hljs-string">'left'</span>:
                  value += bodyNode.scrollLeft;
                  <span class="hljs-keyword">break</span>;
              }
              styles[key] = <span class="hljs-built_in">Math</span>.floor(value) + <span class="hljs-string">'px'</span>;
            });
            <span class="hljs-keyword">return</span> styles;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareOutAnimation</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> animator = $animateCss(clone, {
              <span class="hljs-attr">addClass</span>: NG_OUT_ANCHOR_CLASS_NAME,
              <span class="hljs-attr">delay</span>: <span class="hljs-literal">true</span>,
              <span class="hljs-attr">from</span>: calculateAnchorStyles(outAnchor)
            });
            <span class="hljs-keyword">return</span> animator.$$willAnimate ? animator : <span class="hljs-literal">null</span>;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getClassVal</span>(<span class="hljs-params">element</span>) </span>{
            <span class="hljs-keyword">return</span> element.attr(<span class="hljs-string">'class'</span>) || <span class="hljs-string">''</span>;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareInAnimation</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> endingClasses = filterCssClasses(getClassVal(inAnchor));
            <span class="hljs-keyword">var</span> toAdd = getUniqueValues(endingClasses, startingClasses);
            <span class="hljs-keyword">var</span> toRemove = getUniqueValues(startingClasses, endingClasses);
            <span class="hljs-keyword">var</span> animator = $animateCss(clone, {
              <span class="hljs-attr">to</span>: calculateAnchorStyles(inAnchor),
              <span class="hljs-attr">addClass</span>: NG_IN_ANCHOR_CLASS_NAME + <span class="hljs-string">' '</span> + toAdd,
              <span class="hljs-attr">removeClass</span>: NG_OUT_ANCHOR_CLASS_NAME + <span class="hljs-string">' '</span> + toRemove,
              <span class="hljs-attr">delay</span>: <span class="hljs-literal">true</span>
            });
            <span class="hljs-keyword">return</span> animator.$$willAnimate ? animator : <span class="hljs-literal">null</span>;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">end</span>(<span class="hljs-params"></span>) </span>{
            clone.remove();
            outAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
            inAnchor.removeClass(NG_ANIMATE_SHIM_CLASS_NAME);
          }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareFromToAnchorAnimation</span>(<span class="hljs-params">from, to, classes, anchors</span>) </span>{
          <span class="hljs-keyword">var</span> fromAnimation = prepareRegularAnimation(<span class="hljs-keyword">from</span>, noop);
          <span class="hljs-keyword">var</span> toAnimation = prepareRegularAnimation(to, noop);
          <span class="hljs-keyword">var</span> anchorAnimations = [];
          forEach(anchors, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">anchor</span>) </span>{
            <span class="hljs-keyword">var</span> outElement = anchor[<span class="hljs-string">'out'</span>];
            <span class="hljs-keyword">var</span> inElement = anchor[<span class="hljs-string">'in'</span>];
            <span class="hljs-keyword">var</span> animator = prepareAnchoredAnimation(classes, outElement, inElement);
            <span class="hljs-keyword">if</span> (animator) {
              anchorAnimations.push(animator);
            }
          });
          <span class="hljs-keyword">if</span> (!fromAnimation &amp;&amp; !toAnimation &amp;&amp; anchorAnimations.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> animationRunners = [];
              <span class="hljs-keyword">if</span> (fromAnimation) {
                animationRunners.push(fromAnimation.start());
              }
              <span class="hljs-keyword">if</span> (toAnimation) {
                animationRunners.push(toAnimation.start());
              }
              forEach(anchorAnimations, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">animation</span>) </span>{
                animationRunners.push(animation.start());
              });
              <span class="hljs-keyword">var</span> runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
                <span class="hljs-attr">end</span>: endFn,
                <span class="hljs-attr">cancel</span>: endFn
              });
              $$AnimateRunner.all(animationRunners, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
                runner.complete(status);
              });
              <span class="hljs-keyword">return</span> runner;

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endFn</span>(<span class="hljs-params"></span>) </span>{
                forEach(animationRunners, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">runner</span>) </span>{
                  runner.end();
                });
              }
            }
          };
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareRegularAnimation</span>(<span class="hljs-params">animationDetails</span>) </span>{
          <span class="hljs-keyword">var</span> element = animationDetails.element;
          <span class="hljs-keyword">var</span> options = animationDetails.options || {};
          <span class="hljs-keyword">if</span> (animationDetails.structural) {
            options.event = animationDetails.event;
            options.structural = <span class="hljs-literal">true</span>;
            options.applyClassesEarly = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">if</span> (animationDetails.event === <span class="hljs-string">'leave'</span>) {
              options.onDone = options.domOperation;
            }
          }
          <span class="hljs-keyword">if</span> (options.preparationClasses) {
            options.event = concatWithSpace(options.event, options.preparationClasses);
          }
          <span class="hljs-keyword">var</span> animator = $animateCss(element, options);
          <span class="hljs-keyword">return</span> animator.$$willAnimate ? animator : <span class="hljs-literal">null</span>;
        }
      }
    ];
  }];
  <span class="hljs-keyword">var</span> $$AnimateJsProvider = [<span class="hljs-string">'$animateProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animateProvider</span>) </span>{
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$injector'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-string">'$$jqLite'</span>,
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$injector, $$AnimateRunner, $$jqLite</span>) </span>{
        <span class="hljs-keyword">var</span> applyAnimationClasses = applyAnimationClassesFactory($$jqLite);
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, event, classes, options</span>) </span>{
          <span class="hljs-keyword">var</span> animationClosed = <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">3</span> &amp;&amp; isObject(classes)) {
            options = classes;
            classes = <span class="hljs-literal">null</span>;
          }
          options = prepareAnimationOptions(options);
          <span class="hljs-keyword">if</span> (!classes) {
            classes = element.attr(<span class="hljs-string">'class'</span>) || <span class="hljs-string">''</span>;
            <span class="hljs-keyword">if</span> (options.addClass) {
              classes += <span class="hljs-string">' '</span> + options.addClass;
            }
            <span class="hljs-keyword">if</span> (options.removeClass) {
              classes += <span class="hljs-string">' '</span> + options.removeClass;
            }
          }
          <span class="hljs-keyword">var</span> classesToAdd = options.addClass;
          <span class="hljs-keyword">var</span> classesToRemove = options.removeClass;
          <span class="hljs-keyword">var</span> animations = lookupAnimations(classes);
          <span class="hljs-keyword">var</span> before, after;
          <span class="hljs-keyword">if</span> (animations.length) {
            <span class="hljs-keyword">var</span> afterFn, beforeFn;
            <span class="hljs-keyword">if</span> (event == <span class="hljs-string">'leave'</span>) {
              beforeFn = <span class="hljs-string">'leave'</span>;
              afterFn = <span class="hljs-string">'afterLeave'</span>;
            } <span class="hljs-keyword">else</span> {
              beforeFn = <span class="hljs-string">'before'</span> + event.charAt(<span class="hljs-number">0</span>).toUpperCase() + event.substr(<span class="hljs-number">1</span>);
              afterFn = event;
            }
            <span class="hljs-keyword">if</span> (event !== <span class="hljs-string">'enter'</span> &amp;&amp; event !== <span class="hljs-string">'move'</span>) {
              before = packageAnimations(element, event, options, animations, beforeFn);
            }
            after = packageAnimations(element, event, options, animations, afterFn);
          }
          <span class="hljs-keyword">if</span> (!before &amp;&amp; !after) <span class="hljs-keyword">return</span>;

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyOptions</span>(<span class="hljs-params"></span>) </span>{
            options.domOperation();
            applyAnimationClasses(element, options);
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span>(<span class="hljs-params"></span>) </span>{
            animationClosed = <span class="hljs-literal">true</span>;
            applyOptions();
            applyAnimationStyles(element, options);
          }
          <span class="hljs-keyword">var</span> runner;
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">$$willAnimate</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">if</span> (runner) {
                runner.end();
              } <span class="hljs-keyword">else</span> {
                close();
                runner = <span class="hljs-keyword">new</span> $$AnimateRunner();
                runner.complete(<span class="hljs-literal">true</span>);
              }
              <span class="hljs-keyword">return</span> runner;
            },
            <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">if</span> (runner) {
                <span class="hljs-keyword">return</span> runner;
              }
              runner = <span class="hljs-keyword">new</span> $$AnimateRunner();
              <span class="hljs-keyword">var</span> closeActiveAnimations;
              <span class="hljs-keyword">var</span> chain = [];
              <span class="hljs-keyword">if</span> (before) {
                chain.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
                  closeActiveAnimations = before(fn);
                });
              }
              <span class="hljs-keyword">if</span> (chain.length) {
                chain.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
                  applyOptions();
                  fn(<span class="hljs-literal">true</span>);
                });
              } <span class="hljs-keyword">else</span> {
                applyOptions();
              }
              <span class="hljs-keyword">if</span> (after) {
                chain.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
                  closeActiveAnimations = after(fn);
                });
              }
              runner.setHost({
                <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                  endAnimations();
                },
                <span class="hljs-attr">cancel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                  endAnimations(<span class="hljs-literal">true</span>);
                }
              });
              $$AnimateRunner.chain(chain, onComplete);
              <span class="hljs-keyword">return</span> runner;

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onComplete</span>(<span class="hljs-params">success</span>) </span>{
                close(success);
                runner.complete(success);
              }

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endAnimations</span>(<span class="hljs-params">cancelled</span>) </span>{
                <span class="hljs-keyword">if</span> (!animationClosed) {
                  (closeActiveAnimations || noop)(cancelled);
                  onComplete(cancelled);
                }
              }
            }
          };

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executeAnimationFn</span>(<span class="hljs-params">fn, element, event, options, onDone</span>) </span>{
            <span class="hljs-keyword">var</span> args;
            <span class="hljs-keyword">switch</span> (event) {
              <span class="hljs-keyword">case</span> <span class="hljs-string">'animate'</span>:
                args = [element, options.from, options.to, onDone];
                <span class="hljs-keyword">break</span>;
              <span class="hljs-keyword">case</span> <span class="hljs-string">'setClass'</span>:
                args = [element, classesToAdd, classesToRemove, onDone];
                <span class="hljs-keyword">break</span>;
              <span class="hljs-keyword">case</span> <span class="hljs-string">'addClass'</span>:
                args = [element, classesToAdd, onDone];
                <span class="hljs-keyword">break</span>;
              <span class="hljs-keyword">case</span> <span class="hljs-string">'removeClass'</span>:
                args = [element, classesToRemove, onDone];
                <span class="hljs-keyword">break</span>;
              <span class="hljs-keyword">default</span>:
                args = [element, onDone];
                <span class="hljs-keyword">break</span>;
            }
            args.push(options);
            <span class="hljs-keyword">var</span> value = fn.apply(fn, args);
            <span class="hljs-keyword">if</span> (value) {
              <span class="hljs-keyword">if</span> (isFunction(value.start)) {
                value = value.start();
              }
              <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> $$AnimateRunner) {
                value.done(onDone);
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isFunction(value)) {
                <span class="hljs-keyword">return</span> value;
              }
            }
            <span class="hljs-keyword">return</span> noop;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">groupEventedAnimations</span>(<span class="hljs-params">element, event, options, animations, fnName</span>) </span>{
            <span class="hljs-keyword">var</span> operations = [];
            forEach(animations, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">ani</span>) </span>{
              <span class="hljs-keyword">var</span> animation = ani[fnName];
              <span class="hljs-keyword">if</span> (!animation) <span class="hljs-keyword">return</span>;
              operations.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">var</span> runner;
                <span class="hljs-keyword">var</span> endProgressCb;
                <span class="hljs-keyword">var</span> resolved = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">var</span> onAnimationComplete = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rejected</span>) </span>{
                  <span class="hljs-keyword">if</span> (!resolved) {
                    resolved = <span class="hljs-literal">true</span>;
                    (endProgressCb || noop)(rejected);
                    runner.complete(!rejected);
                  }
                };
                runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
                  <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    onAnimationComplete();
                  },
                  <span class="hljs-attr">cancel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    onAnimationComplete(<span class="hljs-literal">true</span>);
                  }
                });
                endProgressCb = executeAnimationFn(animation, element, event, options, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">result</span>) </span>{
                  <span class="hljs-keyword">var</span> cancelled = result === <span class="hljs-literal">false</span>;
                  onAnimationComplete(cancelled);
                });
                <span class="hljs-keyword">return</span> runner;
              });
            });
            <span class="hljs-keyword">return</span> operations;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">packageAnimations</span>(<span class="hljs-params">element, event, options, animations, fnName</span>) </span>{
            <span class="hljs-keyword">var</span> operations = groupEventedAnimations(element, event, options, animations, fnName);
            <span class="hljs-keyword">if</span> (operations.length === <span class="hljs-number">0</span>) {
              <span class="hljs-keyword">var</span> a, b;
              <span class="hljs-keyword">if</span> (fnName === <span class="hljs-string">'beforeSetClass'</span>) {
                a = groupEventedAnimations(element, <span class="hljs-string">'removeClass'</span>, options, animations, <span class="hljs-string">'beforeRemoveClass'</span>);
                b = groupEventedAnimations(element, <span class="hljs-string">'addClass'</span>, options, animations, <span class="hljs-string">'beforeAddClass'</span>);
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fnName === <span class="hljs-string">'setClass'</span>) {
                a = groupEventedAnimations(element, <span class="hljs-string">'removeClass'</span>, options, animations, <span class="hljs-string">'removeClass'</span>);
                b = groupEventedAnimations(element, <span class="hljs-string">'addClass'</span>, options, animations, <span class="hljs-string">'addClass'</span>);
              }
              <span class="hljs-keyword">if</span> (a) {
                operations = operations.concat(a);
              }
              <span class="hljs-keyword">if</span> (b) {
                operations = operations.concat(b);
              }
            }
            <span class="hljs-keyword">if</span> (operations.length === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startAnimation</span>(<span class="hljs-params">callback</span>) </span>{
              <span class="hljs-keyword">var</span> runners = [];
              <span class="hljs-keyword">if</span> (operations.length) {
                forEach(operations, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">animateFn</span>) </span>{
                  runners.push(animateFn());
                });
              }
              runners.length ? $$AnimateRunner.all(runners, callback) : callback();
              <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endFn</span>(<span class="hljs-params">reject</span>) </span>{
                forEach(runners, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">runner</span>) </span>{
                  reject ? runner.cancel() : runner.end();
                });
              };
            };
          }
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lookupAnimations</span>(<span class="hljs-params">classes</span>) </span>{
          classes = isArray(classes) ? classes : classes.split(<span class="hljs-string">' '</span>);
          <span class="hljs-keyword">var</span> matches = [],
            flagMap = {};
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; classes.length; i++) {
            <span class="hljs-keyword">var</span> klass = classes[i],
              animationFactory = $animateProvider.$$registeredAnimations[klass];
            <span class="hljs-keyword">if</span> (animationFactory &amp;&amp; !flagMap[klass]) {
              matches.push($injector.get(animationFactory));
              flagMap[klass] = <span class="hljs-literal">true</span>;
            }
          }
          <span class="hljs-keyword">return</span> matches;
        }
      }
    ];
  }];
  <span class="hljs-keyword">var</span> $$AnimateJsDriverProvider = [<span class="hljs-string">'$$animationProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$animationProvider</span>) </span>{
    $$animationProvider.drivers.push(<span class="hljs-string">'$$animateJsDriver'</span>);
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$$animateJs'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$animateJs, $$AnimateRunner</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initDriverFn</span>(<span class="hljs-params">animationDetails</span>) </span>{
        <span class="hljs-keyword">if</span> (animationDetails.from &amp;&amp; animationDetails.to) {
          <span class="hljs-keyword">var</span> fromAnimation = prepareAnimation(animationDetails.from);
          <span class="hljs-keyword">var</span> toAnimation = prepareAnimation(animationDetails.to);
          <span class="hljs-keyword">if</span> (!fromAnimation &amp;&amp; !toAnimation) <span class="hljs-keyword">return</span>;
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">start</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> animationRunners = [];
              <span class="hljs-keyword">if</span> (fromAnimation) {
                animationRunners.push(fromAnimation.start());
              }
              <span class="hljs-keyword">if</span> (toAnimation) {
                animationRunners.push(toAnimation.start());
              }
              $$AnimateRunner.all(animationRunners, done);
              <span class="hljs-keyword">var</span> runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
                <span class="hljs-attr">end</span>: endFnFactory(),
                <span class="hljs-attr">cancel</span>: endFnFactory()
              });
              <span class="hljs-keyword">return</span> runner;

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endFnFactory</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                  forEach(animationRunners, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">runner</span>) </span>{
                    runner.end();
                  });
                };
              }

              <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">done</span>(<span class="hljs-params">status</span>) </span>{
                runner.complete(status);
              }
            }
          };
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-keyword">return</span> prepareAnimation(animationDetails);
        }
      };

      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">prepareAnimation</span>(<span class="hljs-params">animationDetails</span>) </span>{
        <span class="hljs-keyword">var</span> element = animationDetails.element;
        <span class="hljs-keyword">var</span> event = animationDetails.event;
        <span class="hljs-keyword">var</span> options = animationDetails.options;
        <span class="hljs-keyword">var</span> classes = animationDetails.classes;
        <span class="hljs-keyword">return</span> $$animateJs(element, event, classes, options);
      }
    }];
  }];
  <span class="hljs-keyword">var</span> NG_ANIMATE_ATTR_NAME = <span class="hljs-string">'data-ng-animate'</span>;
  <span class="hljs-keyword">var</span> NG_ANIMATE_PIN_DATA = <span class="hljs-string">'$ngAnimatePin'</span>;
  <span class="hljs-keyword">var</span> $$AnimateQueueProvider = [<span class="hljs-string">'$animateProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animateProvider</span>) </span>{
    <span class="hljs-keyword">var</span> PRE_DIGEST_STATE = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> RUNNING_STATE = <span class="hljs-number">2</span>;
    <span class="hljs-keyword">var</span> ONE_SPACE = <span class="hljs-string">' '</span>;
    <span class="hljs-keyword">var</span> rules = <span class="hljs-keyword">this</span>.rules = {
      <span class="hljs-attr">skip</span>: [],
      <span class="hljs-attr">cancel</span>: [],
      <span class="hljs-attr">join</span>: []
    };

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">makeTruthyCssClassMap</span>(<span class="hljs-params">classString</span>) </span>{
      <span class="hljs-keyword">if</span> (!classString) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
      }
      <span class="hljs-keyword">var</span> keys = classString.split(ONE_SPACE);
      <span class="hljs-keyword">var</span> map = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
      forEach(keys, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key</span>) </span>{
        map[key] = <span class="hljs-literal">true</span>;
      });
      <span class="hljs-keyword">return</span> map;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasMatchingClasses</span>(<span class="hljs-params">newClassString, currentClassString</span>) </span>{
      <span class="hljs-keyword">if</span> (newClassString &amp;&amp; currentClassString) {
        <span class="hljs-keyword">var</span> currentClassMap = makeTruthyCssClassMap(currentClassString);
        <span class="hljs-keyword">return</span> newClassString.split(ONE_SPACE).some(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
          <span class="hljs-keyword">return</span> currentClassMap[className];
        });
      }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isAllowed</span>(<span class="hljs-params">ruleType, element, currentAnimation, previousAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> rules[ruleType].some(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
        <span class="hljs-keyword">return</span> fn(element, currentAnimation, previousAnimation);
      });
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasAnimationClasses</span>(<span class="hljs-params">animation, and</span>) </span>{
      <span class="hljs-keyword">var</span> a = (animation.addClass || <span class="hljs-string">''</span>).length &gt; <span class="hljs-number">0</span>;
      <span class="hljs-keyword">var</span> b = (animation.removeClass || <span class="hljs-string">''</span>).length &gt; <span class="hljs-number">0</span>;
      <span class="hljs-keyword">return</span> and ? a &amp;&amp; b : a || b;
    }
    rules.join.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> !newAnimation.structural &amp;&amp; hasAnimationClasses(newAnimation);
    });
    rules.skip.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> !newAnimation.structural &amp;&amp; !hasAnimationClasses(newAnimation);
    });
    rules.skip.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> currentAnimation.event == <span class="hljs-string">'leave'</span> &amp;&amp; newAnimation.structural;
    });
    rules.skip.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> currentAnimation.structural &amp;&amp; currentAnimation.state === RUNNING_STATE &amp;&amp; !newAnimation.structural;
    });
    rules.cancel.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> currentAnimation.structural &amp;&amp; newAnimation.structural;
    });
    rules.cancel.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">return</span> currentAnimation.state === RUNNING_STATE &amp;&amp; newAnimation.structural;
    });
    rules.cancel.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, newAnimation, currentAnimation</span>) </span>{
      <span class="hljs-keyword">if</span> (currentAnimation.structural) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">var</span> nA = newAnimation.addClass;
      <span class="hljs-keyword">var</span> nR = newAnimation.removeClass;
      <span class="hljs-keyword">var</span> cA = currentAnimation.addClass;
      <span class="hljs-keyword">var</span> cR = currentAnimation.removeClass;
      <span class="hljs-keyword">if</span> ((isUndefined(nA) &amp;&amp; isUndefined(nR)) || (isUndefined(cA) &amp;&amp; isUndefined(cR))) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
      <span class="hljs-keyword">return</span> hasMatchingClasses(nA, cR) || hasMatchingClasses(nR, cA);
    });
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$$rAF'</span>, <span class="hljs-string">'$rootScope'</span>, <span class="hljs-string">'$rootElement'</span>, <span class="hljs-string">'$document'</span>, <span class="hljs-string">'$$HashMap'</span>,
      <span class="hljs-string">'$$animation'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-string">'$templateRequest'</span>, <span class="hljs-string">'$$jqLite'</span>, <span class="hljs-string">'$$forceReflow'</span>,
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$rAF, $rootScope, $rootElement, $document, $$HashMap,
        $$animation, $$AnimateRunner, $templateRequest, $$jqLite, $$forceReflow</span>) </span>{
        <span class="hljs-keyword">var</span> activeAnimationsLookup = <span class="hljs-keyword">new</span> $$HashMap();
        <span class="hljs-keyword">var</span> disabledElementsLookup = <span class="hljs-keyword">new</span> $$HashMap();
        <span class="hljs-keyword">var</span> animationsEnabled = <span class="hljs-literal">null</span>;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postDigestTaskFactory</span>(<span class="hljs-params"></span>) </span>{
          <span class="hljs-keyword">var</span> postDigestCalled = <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">fn</span>) </span>{
            <span class="hljs-keyword">if</span> (postDigestCalled) {
              fn();
            } <span class="hljs-keyword">else</span> {
              $rootScope.$$postDigest(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                postDigestCalled = <span class="hljs-literal">true</span>;
                fn();
              });
            }
          };
        }
        <span class="hljs-keyword">var</span> deregisterWatch = $rootScope.$watch(
          <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> $templateRequest.totalPendingRequests === <span class="hljs-number">0</span>;
          },
          <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">isEmpty</span>) </span>{
            <span class="hljs-keyword">if</span> (!isEmpty) <span class="hljs-keyword">return</span>;
            deregisterWatch();
            $rootScope.$$postDigest(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              $rootScope.$$postDigest(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                <span class="hljs-keyword">if</span> (animationsEnabled === <span class="hljs-literal">null</span>) {
                  animationsEnabled = <span class="hljs-literal">true</span>;
                }
              });
            });
          }
        );
        <span class="hljs-keyword">var</span> callbackRegistry = <span class="hljs-built_in">Object</span>.create(<span class="hljs-literal">null</span>);
        <span class="hljs-keyword">var</span> classNameFilter = $animateProvider.classNameFilter();
        <span class="hljs-keyword">var</span> isAnimatableClassName = !classNameFilter ?
          <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          } :
          <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">className</span>) </span>{
            <span class="hljs-keyword">return</span> classNameFilter.test(className);
          };
        <span class="hljs-keyword">var</span> applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">normalizeAnimationDetails</span>(<span class="hljs-params">element, animation</span>) </span>{
          <span class="hljs-keyword">return</span> mergeAnimationDetails(element, animation, {});
        }
        <span class="hljs-keyword">var</span> contains = <span class="hljs-built_in">window</span>.Node.prototype.contains || <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">arg</span>) </span>{
          <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> === arg || !!(<span class="hljs-keyword">this</span>.compareDocumentPosition(arg) &amp; <span class="hljs-number">16</span>);
        };

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findCallbacks</span>(<span class="hljs-params">parent, element, event</span>) </span>{
          <span class="hljs-keyword">var</span> targetNode = getDomNode(element);
          <span class="hljs-keyword">var</span> targetParentNode = getDomNode(parent);
          <span class="hljs-keyword">var</span> matches = [];
          <span class="hljs-keyword">var</span> entries = callbackRegistry[event];
          <span class="hljs-keyword">if</span> (entries) {
            forEach(entries, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
              <span class="hljs-keyword">if</span> (contains.call(entry.node, targetNode)) {
                matches.push(entry.callback);
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'leave'</span> &amp;&amp; contains.call(entry.node, targetParentNode)) {
                matches.push(entry.callback);
              }
            });
          }
          <span class="hljs-keyword">return</span> matches;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">filterFromRegistry</span>(<span class="hljs-params">list, matchContainer, matchCallback</span>) </span>{
          <span class="hljs-keyword">var</span> containerNode = extractElementNode(matchContainer);
          <span class="hljs-keyword">return</span> list.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
            <span class="hljs-keyword">var</span> isMatch = entry.node === containerNode &amp;&amp;
              (!matchCallback || entry.callback === matchCallback);
            <span class="hljs-keyword">return</span> !isMatch;
          });
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cleanupEventListeners</span>(<span class="hljs-params">phase, element</span>) </span>{
          <span class="hljs-keyword">if</span> (phase === <span class="hljs-string">'close'</span> &amp;&amp; !element[<span class="hljs-number">0</span>].parentNode) {
            $animate.off(element);
          }
        }
        <span class="hljs-keyword">var</span> $animate = {
          <span class="hljs-attr">on</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, container, callback</span>) </span>{
            <span class="hljs-keyword">var</span> node = extractElementNode(container);
            callbackRegistry[event] = callbackRegistry[event] || [];
            callbackRegistry[event].push({
              <span class="hljs-attr">node</span>: node,
              <span class="hljs-attr">callback</span>: callback
            });
            jqLite(container).on(<span class="hljs-string">'$destroy'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> animationDetails = activeAnimationsLookup.get(node);
              <span class="hljs-keyword">if</span> (!animationDetails) {
                $animate.off(event, container, callback);
              }
            });
          },
          <span class="hljs-attr">off</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, container, callback</span>) </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span> &amp;&amp; !isString(<span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>])) {
              container = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>];
              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> eventType <span class="hljs-keyword">in</span> callbackRegistry) {
                callbackRegistry[eventType] = filterFromRegistry(callbackRegistry[eventType], container);
              }
              <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-keyword">var</span> entries = callbackRegistry[event];
            <span class="hljs-keyword">if</span> (!entries) <span class="hljs-keyword">return</span>;
            callbackRegistry[event] = <span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span> ?
              <span class="hljs-literal">null</span> :
              filterFromRegistry(entries, container, callback);
          },
          <span class="hljs-attr">pin</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, parentElement</span>) </span>{
            assertArg(isElement(element), <span class="hljs-string">'element'</span>, <span class="hljs-string">'not an element'</span>);
            assertArg(isElement(parentElement), <span class="hljs-string">'parentElement'</span>, <span class="hljs-string">'not an element'</span>);
            element.data(NG_ANIMATE_PIN_DATA, parentElement);
          },
          <span class="hljs-attr">push</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, event, options, domOperation</span>) </span>{
            options = options || {};
            options.domOperation = domOperation;
            <span class="hljs-keyword">return</span> queueAnimation(element, event, options);
          },
          <span class="hljs-attr">enabled</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, bool</span>) </span>{
            <span class="hljs-keyword">var</span> argCount = <span class="hljs-built_in">arguments</span>.length;
            <span class="hljs-keyword">if</span> (argCount === <span class="hljs-number">0</span>) {
              bool = !!animationsEnabled;
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">var</span> hasElement = isElement(element);
              <span class="hljs-keyword">if</span> (!hasElement) {
                bool = animationsEnabled = !!element;
              } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> node = getDomNode(element);
                <span class="hljs-keyword">if</span> (argCount === <span class="hljs-number">1</span>) {
                  bool = !disabledElementsLookup.get(node);
                } <span class="hljs-keyword">else</span> {
                  disabledElementsLookup.put(node, !bool);
                }
              }
            }
            <span class="hljs-keyword">return</span> bool;
          }
        };
        <span class="hljs-keyword">return</span> $animate;

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">queueAnimation</span>(<span class="hljs-params">element, event, initialOptions</span>) </span>{
          <span class="hljs-keyword">var</span> options = copy(initialOptions);
          <span class="hljs-keyword">var</span> node, parent;
          element = stripCommentsFromElement(element);
          <span class="hljs-keyword">if</span> (element) {
            node = getDomNode(element);
            parent = element.parent();
          }
          options = prepareAnimationOptions(options);
          <span class="hljs-keyword">var</span> runner = <span class="hljs-keyword">new</span> $$AnimateRunner();
          <span class="hljs-keyword">var</span> runInNextPostDigestOrNow = postDigestTaskFactory();
          <span class="hljs-keyword">if</span> (isArray(options.addClass)) {
            options.addClass = options.addClass.join(<span class="hljs-string">' '</span>);
          }
          <span class="hljs-keyword">if</span> (options.addClass &amp;&amp; !isString(options.addClass)) {
            options.addClass = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">if</span> (isArray(options.removeClass)) {
            options.removeClass = options.removeClass.join(<span class="hljs-string">' '</span>);
          }
          <span class="hljs-keyword">if</span> (options.removeClass &amp;&amp; !isString(options.removeClass)) {
            options.removeClass = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">if</span> (options.from &amp;&amp; !isObject(options.from)) {
            options.from = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">if</span> (options.to &amp;&amp; !isObject(options.to)) {
            options.to = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">if</span> (!node) {
            close();
            <span class="hljs-keyword">return</span> runner;
          }
          <span class="hljs-keyword">var</span> className = [node.className, options.addClass, options.removeClass].join(<span class="hljs-string">' '</span>);
          <span class="hljs-keyword">if</span> (!isAnimatableClassName(className)) {
            close();
            <span class="hljs-keyword">return</span> runner;
          }
          <span class="hljs-keyword">var</span> isStructural = [<span class="hljs-string">'enter'</span>, <span class="hljs-string">'move'</span>, <span class="hljs-string">'leave'</span>].indexOf(event) &gt;= <span class="hljs-number">0</span>;
          <span class="hljs-keyword">var</span> documentHidden = $<span class="hljs-built_in">document</span>[<span class="hljs-number">0</span>].hidden;
          <span class="hljs-keyword">var</span> skipAnimations = !animationsEnabled || documentHidden || disabledElementsLookup.get(node);
          <span class="hljs-keyword">var</span> existingAnimation = (!skipAnimations &amp;&amp; activeAnimationsLookup.get(node)) || {};
          <span class="hljs-keyword">var</span> hasExistingAnimation = !!existingAnimation.state;
          <span class="hljs-keyword">if</span> (!skipAnimations &amp;&amp; (!hasExistingAnimation || existingAnimation.state != PRE_DIGEST_STATE)) {
            skipAnimations = !areAnimationsAllowed(element, parent, event);
          }
          <span class="hljs-keyword">if</span> (skipAnimations) {
            <span class="hljs-keyword">if</span> (documentHidden) notifyProgress(runner, event, <span class="hljs-string">'start'</span>);
            close();
            <span class="hljs-keyword">if</span> (documentHidden) notifyProgress(runner, event, <span class="hljs-string">'close'</span>);
            <span class="hljs-keyword">return</span> runner;
          }
          <span class="hljs-keyword">if</span> (isStructural) {
            closeChildAnimations(element);
          }
          <span class="hljs-keyword">var</span> newAnimation = {
            <span class="hljs-attr">structural</span>: isStructural,
            <span class="hljs-attr">element</span>: element,
            <span class="hljs-attr">event</span>: event,
            <span class="hljs-attr">addClass</span>: options.addClass,
            <span class="hljs-attr">removeClass</span>: options.removeClass,
            <span class="hljs-attr">close</span>: close,
            <span class="hljs-attr">options</span>: options,
            <span class="hljs-attr">runner</span>: runner
          };
          <span class="hljs-keyword">if</span> (hasExistingAnimation) {
            <span class="hljs-keyword">var</span> skipAnimationFlag = isAllowed(<span class="hljs-string">'skip'</span>, element, newAnimation, existingAnimation);
            <span class="hljs-keyword">if</span> (skipAnimationFlag) {
              <span class="hljs-keyword">if</span> (existingAnimation.state === RUNNING_STATE) {
                close();
                <span class="hljs-keyword">return</span> runner;
              } <span class="hljs-keyword">else</span> {
                mergeAnimationDetails(element, existingAnimation, newAnimation);
                <span class="hljs-keyword">return</span> existingAnimation.runner;
              }
            }
            <span class="hljs-keyword">var</span> cancelAnimationFlag = isAllowed(<span class="hljs-string">'cancel'</span>, element, newAnimation, existingAnimation);
            <span class="hljs-keyword">if</span> (cancelAnimationFlag) {
              <span class="hljs-keyword">if</span> (existingAnimation.state === RUNNING_STATE) {
                existingAnimation.runner.end();
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (existingAnimation.structural) {
                existingAnimation.close();
              } <span class="hljs-keyword">else</span> {
                mergeAnimationDetails(element, existingAnimation, newAnimation);
                <span class="hljs-keyword">return</span> existingAnimation.runner;
              }
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-keyword">var</span> joinAnimationFlag = isAllowed(<span class="hljs-string">'join'</span>, element, newAnimation, existingAnimation);
              <span class="hljs-keyword">if</span> (joinAnimationFlag) {
                <span class="hljs-keyword">if</span> (existingAnimation.state === RUNNING_STATE) {
                  normalizeAnimationDetails(element, newAnimation);
                } <span class="hljs-keyword">else</span> {
                  applyGeneratedPreparationClasses(element, isStructural ? event : <span class="hljs-literal">null</span>, options);
                  event = newAnimation.event = existingAnimation.event;
                  options = mergeAnimationDetails(element, existingAnimation, newAnimation);
                  <span class="hljs-keyword">return</span> existingAnimation.runner;
                }
              }
            }
          } <span class="hljs-keyword">else</span> {
            normalizeAnimationDetails(element, newAnimation);
          }
          <span class="hljs-keyword">var</span> isValidAnimation = newAnimation.structural;
          <span class="hljs-keyword">if</span> (!isValidAnimation) {
            isValidAnimation = (newAnimation.event === <span class="hljs-string">'animate'</span> &amp;&amp; <span class="hljs-built_in">Object</span>.keys(newAnimation.options.to || {}).length &gt; <span class="hljs-number">0</span>) ||
              hasAnimationClasses(newAnimation);
          }
          <span class="hljs-keyword">if</span> (!isValidAnimation) {
            close();
            clearElementAnimationState(element);
            <span class="hljs-keyword">return</span> runner;
          }
          <span class="hljs-keyword">var</span> counter = (existingAnimation.counter || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
          newAnimation.counter = counter;
          markElementAnimationState(element, PRE_DIGEST_STATE, newAnimation);
          $rootScope.$$postDigest(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> animationDetails = activeAnimationsLookup.get(node);
            <span class="hljs-keyword">var</span> animationCancelled = !animationDetails;
            animationDetails = animationDetails || {};
            <span class="hljs-keyword">var</span> parentElement = element.parent() || [];
            <span class="hljs-keyword">var</span> isValidAnimation = parentElement.length &gt; <span class="hljs-number">0</span> &amp;&amp;
              (animationDetails.event === <span class="hljs-string">'animate'</span> ||
                animationDetails.structural ||
                hasAnimationClasses(animationDetails));
            <span class="hljs-keyword">if</span> (animationCancelled || animationDetails.counter !== counter || !isValidAnimation) {
              <span class="hljs-keyword">if</span> (animationCancelled) {
                applyAnimationClasses(element, options);
                applyAnimationStyles(element, options);
              }
              <span class="hljs-keyword">if</span> (animationCancelled || (isStructural &amp;&amp; animationDetails.event !== event)) {
                options.domOperation();
                runner.end();
              }
              <span class="hljs-keyword">if</span> (!isValidAnimation) {
                clearElementAnimationState(element);
              }
              <span class="hljs-keyword">return</span>;
            }
            event = !animationDetails.structural &amp;&amp; hasAnimationClasses(animationDetails, <span class="hljs-literal">true</span>) ?
              <span class="hljs-string">'setClass'</span> :
              animationDetails.event;
            markElementAnimationState(element, RUNNING_STATE);
            <span class="hljs-keyword">var</span> realRunner = $$animation(element, event, animationDetails.options);
            runner.setHost(realRunner);
            notifyProgress(runner, event, <span class="hljs-string">'start'</span>, {});
            realRunner.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
              close(!status);
              <span class="hljs-keyword">var</span> animationDetails = activeAnimationsLookup.get(node);
              <span class="hljs-keyword">if</span> (animationDetails &amp;&amp; animationDetails.counter === counter) {
                clearElementAnimationState(getDomNode(element));
              }
              notifyProgress(runner, event, <span class="hljs-string">'close'</span>, {});
            });
          });
          <span class="hljs-keyword">return</span> runner;

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">notifyProgress</span>(<span class="hljs-params">runner, event, phase, data</span>) </span>{
            runInNextPostDigestOrNow(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              <span class="hljs-keyword">var</span> callbacks = findCallbacks(parent, element, event);
              <span class="hljs-keyword">if</span> (callbacks.length) {
                $$rAF(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                  forEach(callbacks, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">callback</span>) </span>{
                    callback(element, phase, data);
                  });
                  cleanupEventListeners(phase, element);
                });
              } <span class="hljs-keyword">else</span> {
                cleanupEventListeners(phase, element);
              }
            });
            runner.progress(event, phase, data);
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span>(<span class="hljs-params">reject</span>) </span>{
            clearGeneratedClasses(element, options);
            applyAnimationClasses(element, options);
            applyAnimationStyles(element, options);
            options.domOperation();
            runner.complete(!reject);
          }
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeChildAnimations</span>(<span class="hljs-params">element</span>) </span>{
          <span class="hljs-keyword">var</span> node = getDomNode(element);
          <span class="hljs-keyword">var</span> children = node.querySelectorAll(<span class="hljs-string">'['</span> + NG_ANIMATE_ATTR_NAME + <span class="hljs-string">']'</span>);
          forEach(children, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">child</span>) </span>{
            <span class="hljs-keyword">var</span> state = <span class="hljs-built_in">parseInt</span>(child.getAttribute(NG_ANIMATE_ATTR_NAME));
            <span class="hljs-keyword">var</span> animationDetails = activeAnimationsLookup.get(child);
            <span class="hljs-keyword">if</span> (animationDetails) {
              <span class="hljs-keyword">switch</span> (state) {
                <span class="hljs-keyword">case</span> RUNNING_STATE:
                  animationDetails.runner.end();
                <span class="hljs-keyword">case</span> PRE_DIGEST_STATE:
                  activeAnimationsLookup.remove(child);
                  <span class="hljs-keyword">break</span>;
              }
            }
          });
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearElementAnimationState</span>(<span class="hljs-params">element</span>) </span>{
          <span class="hljs-keyword">var</span> node = getDomNode(element);
          node.removeAttribute(NG_ANIMATE_ATTR_NAME);
          activeAnimationsLookup.remove(node);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isMatchingElement</span>(<span class="hljs-params">nodeOrElmA, nodeOrElmB</span>) </span>{
          <span class="hljs-keyword">return</span> getDomNode(nodeOrElmA) === getDomNode(nodeOrElmB);
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">areAnimationsAllowed</span>(<span class="hljs-params">element, parentElement, event</span>) </span>{
          <span class="hljs-keyword">var</span> bodyElement = jqLite($<span class="hljs-built_in">document</span>[<span class="hljs-number">0</span>].body);
          <span class="hljs-keyword">var</span> bodyElementDetected = isMatchingElement(element, bodyElement) || element[<span class="hljs-number">0</span>].nodeName === <span class="hljs-string">'HTML'</span>;
          <span class="hljs-keyword">var</span> rootElementDetected = isMatchingElement(element, $rootElement);
          <span class="hljs-keyword">var</span> parentAnimationDetected = <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">var</span> animateChildren;
          <span class="hljs-keyword">var</span> elementDisabled = disabledElementsLookup.get(getDomNode(element));
          <span class="hljs-keyword">var</span> parentHost = jqLite.data(element[<span class="hljs-number">0</span>], NG_ANIMATE_PIN_DATA);
          <span class="hljs-keyword">if</span> (parentHost) {
            parentElement = parentHost;
          }
          parentElement = getDomNode(parentElement);
          <span class="hljs-keyword">while</span> (parentElement) {
            <span class="hljs-keyword">if</span> (!rootElementDetected) {
              rootElementDetected = isMatchingElement(parentElement, $rootElement);
            }
            <span class="hljs-keyword">if</span> (parentElement.nodeType !== ELEMENT_NODE) {
              <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">var</span> details = activeAnimationsLookup.get(parentElement) || {};
            <span class="hljs-keyword">if</span> (!parentAnimationDetected) {
              <span class="hljs-keyword">var</span> parentElementDisabled = disabledElementsLookup.get(parentElement);
              <span class="hljs-keyword">if</span> (parentElementDisabled === <span class="hljs-literal">true</span> &amp;&amp; elementDisabled !== <span class="hljs-literal">false</span>) {
                elementDisabled = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
              } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (parentElementDisabled === <span class="hljs-literal">false</span>) {
                elementDisabled = <span class="hljs-literal">false</span>;
              }
              parentAnimationDetected = details.structural;
            }
            <span class="hljs-keyword">if</span> (isUndefined(animateChildren) || animateChildren === <span class="hljs-literal">true</span>) {
              <span class="hljs-keyword">var</span> value = jqLite.data(parentElement, NG_ANIMATE_CHILDREN_DATA);
              <span class="hljs-keyword">if</span> (isDefined(value)) {
                animateChildren = value;
              }
            }
            <span class="hljs-keyword">if</span> (parentAnimationDetected &amp;&amp; animateChildren === <span class="hljs-literal">false</span>) <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">if</span> (!bodyElementDetected) {
              bodyElementDetected = isMatchingElement(parentElement, bodyElement);
            }
            <span class="hljs-keyword">if</span> (bodyElementDetected &amp;&amp; rootElementDetected) {
              <span class="hljs-keyword">break</span>;
            }
            <span class="hljs-keyword">if</span> (!rootElementDetected) {
              parentHost = jqLite.data(parentElement, NG_ANIMATE_PIN_DATA);
              <span class="hljs-keyword">if</span> (parentHost) {
                parentElement = getDomNode(parentHost);
                <span class="hljs-keyword">continue</span>;
              }
            }
            parentElement = parentElement.parentNode;
          }
          <span class="hljs-keyword">var</span> allowAnimation = (!parentAnimationDetected || animateChildren) &amp;&amp; elementDisabled !== <span class="hljs-literal">true</span>;
          <span class="hljs-keyword">return</span> allowAnimation &amp;&amp; rootElementDetected &amp;&amp; bodyElementDetected;
        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">markElementAnimationState</span>(<span class="hljs-params">element, state, details</span>) </span>{
          details = details || {};
          details.state = state;
          <span class="hljs-keyword">var</span> node = getDomNode(element);
          node.setAttribute(NG_ANIMATE_ATTR_NAME, state);
          <span class="hljs-keyword">var</span> oldValue = activeAnimationsLookup.get(node);
          <span class="hljs-keyword">var</span> newValue = oldValue ?
            extend(oldValue, details) :
            details;
          activeAnimationsLookup.put(node, newValue);
        }
      }
    ];
  }];
  <span class="hljs-keyword">var</span> $$AnimationProvider = [<span class="hljs-string">'$animateProvider'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animateProvider</span>) </span>{
    <span class="hljs-keyword">var</span> NG_ANIMATE_REF_ATTR = <span class="hljs-string">'ng-animate-ref'</span>;
    <span class="hljs-keyword">var</span> drivers = <span class="hljs-keyword">this</span>.drivers = [];
    <span class="hljs-keyword">var</span> RUNNER_STORAGE_KEY = <span class="hljs-string">'$$animationRunner'</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setRunner</span>(<span class="hljs-params">element, runner</span>) </span>{
      element.data(RUNNER_STORAGE_KEY, runner);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeRunner</span>(<span class="hljs-params">element</span>) </span>{
      element.removeData(RUNNER_STORAGE_KEY);
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRunner</span>(<span class="hljs-params">element</span>) </span>{
      <span class="hljs-keyword">return</span> element.data(RUNNER_STORAGE_KEY);
    }
    <span class="hljs-keyword">this</span>.$get = [<span class="hljs-string">'$$jqLite'</span>, <span class="hljs-string">'$rootScope'</span>, <span class="hljs-string">'$injector'</span>, <span class="hljs-string">'$$AnimateRunner'</span>, <span class="hljs-string">'$$HashMap'</span>, <span class="hljs-string">'$$rAFScheduler'</span>,
      <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$$jqLite, $rootScope, $injector, $$AnimateRunner, $$HashMap, $$rAFScheduler</span>) </span>{
        <span class="hljs-keyword">var</span> animationQueue = [];
        <span class="hljs-keyword">var</span> applyAnimationClasses = applyAnimationClassesFactory($$jqLite);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sortAnimations</span>(<span class="hljs-params">animations</span>) </span>{
          <span class="hljs-keyword">var</span> tree = {
            <span class="hljs-attr">children</span>: []
          };
          <span class="hljs-keyword">var</span> i, lookup = <span class="hljs-keyword">new</span> $$HashMap();
          <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; animations.length; i++) {
            <span class="hljs-keyword">var</span> animation = animations[i];
            lookup.put(animation.domNode, animations[i] = {
              <span class="hljs-attr">domNode</span>: animation.domNode,
              <span class="hljs-attr">fn</span>: animation.fn,
              <span class="hljs-attr">children</span>: []
            });
          }
          <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; animations.length; i++) {
            processNode(animations[i]);
          }
          <span class="hljs-keyword">return</span> flatten(tree);

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processNode</span>(<span class="hljs-params">entry</span>) </span>{
            <span class="hljs-keyword">if</span> (entry.processed) <span class="hljs-keyword">return</span> entry;
            entry.processed = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> elementNode = entry.domNode;
            <span class="hljs-keyword">var</span> parentNode = elementNode.parentNode;
            lookup.put(elementNode, entry);
            <span class="hljs-keyword">var</span> parentEntry;
            <span class="hljs-keyword">while</span> (parentNode) {
              parentEntry = lookup.get(parentNode);
              <span class="hljs-keyword">if</span> (parentEntry) {
                <span class="hljs-keyword">if</span> (!parentEntry.processed) {
                  parentEntry = processNode(parentEntry);
                }
                <span class="hljs-keyword">break</span>;
              }
              parentNode = parentNode.parentNode;
            }
            (parentEntry || tree).children.push(entry);
            <span class="hljs-keyword">return</span> entry;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">flatten</span>(<span class="hljs-params">tree</span>) </span>{
            <span class="hljs-keyword">var</span> result = [];
            <span class="hljs-keyword">var</span> queue = [];
            <span class="hljs-keyword">var</span> i;
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; tree.children.length; i++) {
              queue.push(tree.children[i]);
            }
            <span class="hljs-keyword">var</span> remainingLevelEntries = queue.length;
            <span class="hljs-keyword">var</span> nextLevelEntries = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> row = [];
            <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; queue.length; i++) {
              <span class="hljs-keyword">var</span> entry = queue[i];
              <span class="hljs-keyword">if</span> (remainingLevelEntries &lt;= <span class="hljs-number">0</span>) {
                remainingLevelEntries = nextLevelEntries;
                nextLevelEntries = <span class="hljs-number">0</span>;
                result.push(row);
                row = [];
              }
              row.push(entry.fn);
              entry.children.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">childEntry</span>) </span>{
                nextLevelEntries++;
                queue.push(childEntry);
              });
              remainingLevelEntries--;
            }
            <span class="hljs-keyword">if</span> (row.length) {
              result.push(row);
            }
            <span class="hljs-keyword">return</span> result;
          }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, event, options</span>) </span>{
          options = prepareAnimationOptions(options);
          <span class="hljs-keyword">var</span> isStructural = [<span class="hljs-string">'enter'</span>, <span class="hljs-string">'move'</span>, <span class="hljs-string">'leave'</span>].indexOf(event) &gt;= <span class="hljs-number">0</span>;
          <span class="hljs-keyword">var</span> runner = <span class="hljs-keyword">new</span> $$AnimateRunner({
            <span class="hljs-attr">end</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              close();
            },
            <span class="hljs-attr">cancel</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
              close(<span class="hljs-literal">true</span>);
            }
          });
          <span class="hljs-keyword">if</span> (!drivers.length) {
            close();
            <span class="hljs-keyword">return</span> runner;
          }
          setRunner(element, runner);
          <span class="hljs-keyword">var</span> classes = mergeClasses(element.attr(<span class="hljs-string">'class'</span>), mergeClasses(options.addClass, options.removeClass));
          <span class="hljs-keyword">var</span> tempClasses = options.tempClasses;
          <span class="hljs-keyword">if</span> (tempClasses) {
            classes += <span class="hljs-string">' '</span> + tempClasses;
            options.tempClasses = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">var</span> prepareClassName;
          <span class="hljs-keyword">if</span> (isStructural) {
            prepareClassName = <span class="hljs-string">'ng-'</span> + event + PREPARE_CLASS_SUFFIX;
            $$jqLite.addClass(element, prepareClassName);
          }
          animationQueue.push({
            <span class="hljs-attr">element</span>: element,
            <span class="hljs-attr">classes</span>: classes,
            <span class="hljs-attr">event</span>: event,
            <span class="hljs-attr">structural</span>: isStructural,
            <span class="hljs-attr">options</span>: options,
            <span class="hljs-attr">beforeStart</span>: beforeStart,
            <span class="hljs-attr">close</span>: close
          });
          element.on(<span class="hljs-string">'$destroy'</span>, handleDestroyedElement);
          <span class="hljs-keyword">if</span> (animationQueue.length &gt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> runner;
          $rootScope.$$postDigest(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> animations = [];
            forEach(animationQueue, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">entry</span>) </span>{
              <span class="hljs-keyword">if</span> (getRunner(entry.element)) {
                animations.push(entry);
              } <span class="hljs-keyword">else</span> {
                entry.close();
              }
            });
            animationQueue.length = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> groupedAnimations = groupAnimations(animations);
            <span class="hljs-keyword">var</span> toBeSortedAnimations = [];
            forEach(groupedAnimations, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">animationEntry</span>) </span>{
              toBeSortedAnimations.push({
                <span class="hljs-attr">domNode</span>: getDomNode(animationEntry.from ? animationEntry.from.element : animationEntry.element),
                <span class="hljs-attr">fn</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">triggerAnimationStart</span>(<span class="hljs-params"></span>) </span>{
                  animationEntry.beforeStart();
                  <span class="hljs-keyword">var</span> startAnimationFn, closeFn = animationEntry.close;
                  <span class="hljs-keyword">var</span> targetElement = animationEntry.anchors ?
                    (animationEntry.from.element || animationEntry.to.element) :
                    animationEntry.element;
                  <span class="hljs-keyword">if</span> (getRunner(targetElement)) {
                    <span class="hljs-keyword">var</span> operation = invokeFirstDriver(animationEntry);
                    <span class="hljs-keyword">if</span> (operation) {
                      startAnimationFn = operation.start;
                    }
                  }
                  <span class="hljs-keyword">if</span> (!startAnimationFn) {
                    closeFn();
                  } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> animationRunner = startAnimationFn();
                    animationRunner.done(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
                      closeFn(!status);
                    });
                    updateAnimationRunners(animationEntry, animationRunner);
                  }
                }
              });
            });
            $$rAFScheduler(sortAnimations(toBeSortedAnimations));
          });
          <span class="hljs-keyword">return</span> runner;

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getAnchorNodes</span>(<span class="hljs-params">node</span>) </span>{
            <span class="hljs-keyword">var</span> SELECTOR = <span class="hljs-string">'['</span> + NG_ANIMATE_REF_ATTR + <span class="hljs-string">']'</span>;
            <span class="hljs-keyword">var</span> items = node.hasAttribute(NG_ANIMATE_REF_ATTR) ?
              [node] :
              node.querySelectorAll(SELECTOR);
            <span class="hljs-keyword">var</span> anchors = [];
            forEach(items, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">node</span>) </span>{
              <span class="hljs-keyword">var</span> attr = node.getAttribute(NG_ANIMATE_REF_ATTR);
              <span class="hljs-keyword">if</span> (attr &amp;&amp; attr.length) {
                anchors.push(node);
              }
            });
            <span class="hljs-keyword">return</span> anchors;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">groupAnimations</span>(<span class="hljs-params">animations</span>) </span>{
            <span class="hljs-keyword">var</span> preparedAnimations = [];
            <span class="hljs-keyword">var</span> refLookup = {};
            forEach(animations, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">animation, index</span>) </span>{
              <span class="hljs-keyword">var</span> element = animation.element;
              <span class="hljs-keyword">var</span> node = getDomNode(element);
              <span class="hljs-keyword">var</span> event = animation.event;
              <span class="hljs-keyword">var</span> enterOrMove = [<span class="hljs-string">'enter'</span>, <span class="hljs-string">'move'</span>].indexOf(event) &gt;= <span class="hljs-number">0</span>;
              <span class="hljs-keyword">var</span> anchorNodes = animation.structural ? getAnchorNodes(node) : [];
              <span class="hljs-keyword">if</span> (anchorNodes.length) {
                <span class="hljs-keyword">var</span> direction = enterOrMove ? <span class="hljs-string">'to'</span> : <span class="hljs-string">'from'</span>;
                forEach(anchorNodes, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">anchor</span>) </span>{
                  <span class="hljs-keyword">var</span> key = anchor.getAttribute(NG_ANIMATE_REF_ATTR);
                  refLookup[key] = refLookup[key] || {};
                  refLookup[key][direction] = {
                    <span class="hljs-attr">animationID</span>: index,
                    <span class="hljs-attr">element</span>: jqLite(anchor)
                  };
                });
              } <span class="hljs-keyword">else</span> {
                preparedAnimations.push(animation);
              }
            });
            <span class="hljs-keyword">var</span> usedIndicesLookup = {};
            <span class="hljs-keyword">var</span> anchorGroups = {};
            forEach(refLookup, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">operations, key</span>) </span>{
              <span class="hljs-keyword">var</span> <span class="hljs-keyword">from</span> = operations.from;
              <span class="hljs-keyword">var</span> to = operations.to;
              <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">from</span> || !to) {
                <span class="hljs-keyword">var</span> index = <span class="hljs-keyword">from</span> ? <span class="hljs-keyword">from</span>.animationID : to.animationID;
                <span class="hljs-keyword">var</span> indexKey = index.toString();
                <span class="hljs-keyword">if</span> (!usedIndicesLookup[indexKey]) {
                  usedIndicesLookup[indexKey] = <span class="hljs-literal">true</span>;
                  preparedAnimations.push(animations[index]);
                }
                <span class="hljs-keyword">return</span>;
              }
              <span class="hljs-keyword">var</span> fromAnimation = animations[<span class="hljs-keyword">from</span>.animationID];
              <span class="hljs-keyword">var</span> toAnimation = animations[to.animationID];
              <span class="hljs-keyword">var</span> lookupKey = <span class="hljs-keyword">from</span>.animationID.toString();
              <span class="hljs-keyword">if</span> (!anchorGroups[lookupKey]) {
                <span class="hljs-keyword">var</span> group = anchorGroups[lookupKey] = {
                  <span class="hljs-attr">structural</span>: <span class="hljs-literal">true</span>,
                  <span class="hljs-attr">beforeStart</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    fromAnimation.beforeStart();
                    toAnimation.beforeStart();
                  },
                  <span class="hljs-attr">close</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                    fromAnimation.close();
                    toAnimation.close();
                  },
                  <span class="hljs-attr">classes</span>: cssClassesIntersection(fromAnimation.classes, toAnimation.classes),
                  <span class="hljs-attr">from</span>: fromAnimation,
                  <span class="hljs-attr">to</span>: toAnimation,
                  <span class="hljs-attr">anchors</span>: []
                };
                <span class="hljs-keyword">if</span> (group.classes.length) {
                  preparedAnimations.push(group);
                } <span class="hljs-keyword">else</span> {
                  preparedAnimations.push(fromAnimation);
                  preparedAnimations.push(toAnimation);
                }
              }
              anchorGroups[lookupKey].anchors.push({
                <span class="hljs-string">'out'</span>: <span class="hljs-keyword">from</span>.element,
                <span class="hljs-string">'in'</span>: to.element
              });
            });
            <span class="hljs-keyword">return</span> preparedAnimations;
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cssClassesIntersection</span>(<span class="hljs-params">a, b</span>) </span>{
            a = a.split(<span class="hljs-string">' '</span>);
            b = b.split(<span class="hljs-string">' '</span>);
            <span class="hljs-keyword">var</span> matches = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; a.length; i++) {
              <span class="hljs-keyword">var</span> aa = a[i];
              <span class="hljs-keyword">if</span> (aa.substring(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>) === <span class="hljs-string">'ng-'</span>) <span class="hljs-keyword">continue</span>;
              <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; b.length; j++) {
                <span class="hljs-keyword">if</span> (aa === b[j]) {
                  matches.push(aa);
                  <span class="hljs-keyword">break</span>;
                }
              }
            }
            <span class="hljs-keyword">return</span> matches.join(<span class="hljs-string">' '</span>);
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invokeFirstDriver</span>(<span class="hljs-params">animationDetails</span>) </span>{
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = drivers.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
              <span class="hljs-keyword">var</span> driverName = drivers[i];
              <span class="hljs-keyword">var</span> factory = $injector.get(driverName);
              <span class="hljs-keyword">var</span> driver = factory(animationDetails);
              <span class="hljs-keyword">if</span> (driver) {
                <span class="hljs-keyword">return</span> driver;
              }
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">beforeStart</span>(<span class="hljs-params"></span>) </span>{
            element.addClass(NG_ANIMATE_CLASSNAME);
            <span class="hljs-keyword">if</span> (tempClasses) {
              $$jqLite.addClass(element, tempClasses);
            }
            <span class="hljs-keyword">if</span> (prepareClassName) {
              $$jqLite.removeClass(element, prepareClassName);
              prepareClassName = <span class="hljs-literal">null</span>;
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateAnimationRunners</span>(<span class="hljs-params">animation, newRunner</span>) </span>{
            <span class="hljs-keyword">if</span> (animation.from &amp;&amp; animation.to) {
              update(animation.from.element);
              update(animation.to.element);
            } <span class="hljs-keyword">else</span> {
              update(animation.element);
            }

            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">update</span>(<span class="hljs-params">element</span>) </span>{
              <span class="hljs-keyword">var</span> runner = getRunner(element);
              <span class="hljs-keyword">if</span> (runner) runner.setHost(newRunner);
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleDestroyedElement</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> runner = getRunner(element);
            <span class="hljs-keyword">if</span> (runner &amp;&amp; (event !== <span class="hljs-string">'leave'</span> || !options.$$domOperationFired)) {
              runner.end();
            }
          }

          <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">close</span>(<span class="hljs-params">rejected</span>) </span>{
            element.off(<span class="hljs-string">'$destroy'</span>, handleDestroyedElement);
            removeRunner(element);
            applyAnimationClasses(element, options);
            applyAnimationStyles(element, options);
            options.domOperation();
            <span class="hljs-keyword">if</span> (tempClasses) {
              $$jqLite.removeClass(element, tempClasses);
            }
            element.removeClass(NG_ANIMATE_CLASSNAME);
            runner.complete(!rejected);
          }
        };
      }
    ];
  }];
  <span class="hljs-keyword">var</span> ngAnimateSwapDirective = [<span class="hljs-string">'$animate'</span>, <span class="hljs-string">'$rootScope'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$animate, $rootScope</span>) </span>{
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">restrict</span>: <span class="hljs-string">'A'</span>,
      <span class="hljs-attr">transclude</span>: <span class="hljs-string">'element'</span>,
      <span class="hljs-attr">terminal</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">priority</span>: <span class="hljs-number">600</span>,
      <span class="hljs-attr">link</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">scope, $element, attrs, ctrl, $transclude</span>) </span>{
        <span class="hljs-keyword">var</span> previousElement, previousScope;
        scope.$watchCollection(attrs.ngAnimateSwap || attrs[<span class="hljs-string">'for'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
          <span class="hljs-keyword">if</span> (previousElement) {
            $animate.leave(previousElement);
          }
          <span class="hljs-keyword">if</span> (previousScope) {
            previousScope.$destroy();
            previousScope = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-keyword">if</span> (value || value === <span class="hljs-number">0</span>) {
            previousScope = scope.$<span class="hljs-keyword">new</span>();
            $transclude(previousScope, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element</span>) </span>{
              previousElement = element;
              $animate.enter(element, <span class="hljs-literal">null</span>, $element);
            });
          }
        });
      }
    };
  }];
  <span class="hljs-keyword">var</span> copy;
  <span class="hljs-keyword">var</span> extend;
  <span class="hljs-keyword">var</span> forEach;
  <span class="hljs-keyword">var</span> isArray;
  <span class="hljs-keyword">var</span> isDefined;
  <span class="hljs-keyword">var</span> isElement;
  <span class="hljs-keyword">var</span> isFunction;
  <span class="hljs-keyword">var</span> isObject;
  <span class="hljs-keyword">var</span> isString;
  <span class="hljs-keyword">var</span> isUndefined;
  <span class="hljs-keyword">var</span> jqLite;
  <span class="hljs-keyword">var</span> noop;
  angular.module(<span class="hljs-string">'ngAnimate'</span>, [], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initAngularHelpers</span>(<span class="hljs-params"></span>) </span>{
      noop = angular.noop;
      copy = angular.copy;
      extend = angular.extend;
      jqLite = angular.element;
      forEach = angular.forEach;
      isArray = angular.isArray;
      isString = angular.isString;
      isObject = angular.isObject;
      isUndefined = angular.isUndefined;
      isDefined = angular.isDefined;
      isFunction = angular.isFunction;
      isElement = angular.isElement;
    })
    .directive(<span class="hljs-string">'ngAnimateSwap'</span>, ngAnimateSwapDirective)
    .directive(<span class="hljs-string">'ngAnimateChildren'</span>, $$AnimateChildrenDirective)
    .factory(<span class="hljs-string">'$$rAFScheduler'</span>, $$rAFSchedulerFactory)
    .provider(<span class="hljs-string">'$$animateQueue'</span>, $$AnimateQueueProvider)
    .provider(<span class="hljs-string">'$$animation'</span>, $$AnimationProvider)
    .provider(<span class="hljs-string">'$animateCss'</span>, $AnimateCssProvider)
    .provider(<span class="hljs-string">'$$animateCssDriver'</span>, $$AnimateCssDriverProvider)
    .provider(<span class="hljs-string">'$$animateJs'</span>, $$AnimateJsProvider)
    .provider(<span class="hljs-string">'$$animateJsDriver'</span>, $$AnimateJsDriverProvider);
})(<span class="hljs-built_in">window</span>, <span class="hljs-built_in">window</span>.angular);;</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
